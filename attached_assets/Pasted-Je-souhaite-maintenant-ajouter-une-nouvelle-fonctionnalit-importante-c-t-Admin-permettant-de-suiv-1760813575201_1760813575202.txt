Je souhaite maintenant ajouter une nouvelle fonctionnalitÃ© importante cÃ´tÃ© Admin, permettant de suivre et gÃ©rer les contrats gÃ©nÃ©rÃ©s automatiquement lorsquâ€™un client choisit un transporteur.

ğŸ“œ 1ï¸âƒ£ â€“ GÃ©nÃ©ration automatique dâ€™un contrat
ğŸ”¹ Objectif :

Lorsquâ€™un client X accepte la proposition dâ€™un transporteur Y, cela doit automatiquement gÃ©nÃ©rer une ligne dans une nouvelle rubrique appelÃ©e â€œContratsâ€ au niveau Admin.

ğŸ”¹ DonnÃ©es Ã  enregistrer pour chaque contrat :

RÃ©fÃ©rence de la commande (CMD-XXXX)

Nom et numÃ©ro de tÃ©lÃ©phone du client

Nom et numÃ©ro de tÃ©lÃ©phone du transporteur

Date de crÃ©ation du contrat (date dâ€™acceptation de lâ€™offre)

Montant convenu (prix proposÃ© et acceptÃ©)

Statut du contrat (voir section suivante)

âš™ï¸ 2ï¸âƒ£ â€“ Statuts du contrat

Chaque ligne doit afficher le statut actuel du contrat parmi les statuts suivants :

En cours dâ€™exÃ©cution â€“ dÃ¨s quâ€™un client choisit un transporteur.

MarquÃ© comme payÃ© cÃ´tÃ© transporteur â€“ quand le transporteur signale â€œÃ€ facturerâ€ ou â€œPayÃ©â€.

MarquÃ© comme payÃ© cÃ´tÃ© client â€“ lorsque le client ajoute le reÃ§u de paiement.

TerminÃ© â€“ une fois le paiement validÃ© par CamionBack (admin).

Le statut doit se mettre Ã  jour automatiquement selon les actions effectuÃ©es par le client, le transporteur ou lâ€™admin.

ğŸ§¾ 3ï¸âƒ£ â€“ Nouvelle rubrique Admin : â€œContratsâ€

CrÃ©er une nouvelle section dans le panneau dâ€™administration intitulÃ©e :

Contrats

ğŸ”¹ Affichage :

Chaque ligne de contrat doit contenir :

RÃ©fÃ©rence de la commande (CMD-XXXX)

Nom et tÃ©lÃ©phone du client

Nom et tÃ©lÃ©phone du transporteur

Montant convenu (en MAD)

Date de crÃ©ation

Statut actuel

Un bouton dâ€™action sous forme dâ€™icÃ´ne â€œÅ“ilâ€ ğŸ‘ï¸ Ã  droite

ğŸ‘ï¸ 4ï¸âƒ£ â€“ Fonction du bouton â€œÅ“ilâ€ (popup de dÃ©tails du contrat)

Lorsquâ€™on clique sur lâ€™icÃ´ne ğŸ‘ï¸ :

Ouvrir une popup complÃ¨te affichant toutes les informations liÃ©es Ã  ce contrat, notamment :

Informations du client et du transporteur (nom, tÃ©lÃ©phone, ville, etc.)

DÃ©tails complets du formulaire de commande :

Ville de dÃ©part / dâ€™arrivÃ©e

Description

Date souhaitÃ©e

Cases cochÃ©es (date flexible, facture TTC)

Photos jointes Ã  la commande (affichage en galerie)

Type de chargement choisi (Retour / Groupage)

Prix convenu (offre acceptÃ©e)

ğŸ”¹ ContrÃ´le administratif :

Dans cette popup, ajouter un menu dÃ©roulant ou boutons permettant Ã  lâ€™administrateur de changer manuellement le statut du contrat, avec toutes les options disponibles :

En cours dâ€™exÃ©cution

MarquÃ© payÃ© cÃ´tÃ© transporteur

MarquÃ© payÃ© cÃ´tÃ© client

TerminÃ©

DÃ¨s que lâ€™admin change le statut, la ligne principale du tableau â€œContratsâ€ doit se mettre Ã  jour en temps rÃ©el.

ğŸ§© 5ï¸âƒ£ â€“ Comportement automatique attendu

Quand le client accepte une offre â†’ un contrat est crÃ©Ã© automatiquement.

Le contrat apparaÃ®t dans la rubrique â€œContratsâ€ avec le statut â€œEn cours dâ€™exÃ©cutionâ€.

Les actions des utilisateurs changent le statut automatiquement :

Transporteur â†’ â€œMarquÃ© payÃ© cÃ´tÃ© transporteurâ€

Client â†’ â€œMarquÃ© payÃ© cÃ´tÃ© clientâ€

Admin â†’ â€œTerminÃ©â€ (aprÃ¨s validation du paiement).

Lâ€™admin peut modifier le statut manuellement depuis la popup de dÃ©tails si nÃ©cessaire.

ğŸ¨ 6ï¸âƒ£ â€“ Design & Interface

Rubrique au mÃªme style que â€œOffres transporteursâ€ :

fond clair, lignes bien espacÃ©es,

titres en gras,

boutons dâ€™action Ã  droite (icÃ´ne Å“il ğŸ‘ï¸ en bleu clair #3498db).

La popup doit avoir un fond blanc avec scroll vertical, affichant toutes les infos lisiblement.

Ajouter un compteur en haut de la page :

â€œContrats actifs : 7 | TerminÃ©s : 12â€