Jâ€™aimerais ajouter une nouvelle fonctionnalitÃ© cÃ´tÃ© transporteur, accessible depuis le header, permettant aux transporteurs dâ€™annoncer leurs retours Ã  vide afin que lâ€™Ã©quipe admin puisse en tirer parti et affecter des commandes correspondantes.

ğŸš› 1ï¸âƒ£ â€“ Nouveau bouton dans le header (cÃ´tÃ© transporteur)
ğŸ”¹ Objectif :

Permettre aux transporteurs de signaler quâ€™ils prÃ©voient un trajet retour Ã  vide pour que lâ€™administration puisse leur proposer des missions sur ce trajet.

ğŸ”¹ DÃ©tails :

Le bouton doit Ãªtre placÃ© au mÃªme endroit que le bouton â€œ+ Nouveauâ€ cÃ´tÃ© client.

Titre du bouton :

â€œğŸ“¢ Annoncer un retourâ€
(clair, attractif, simple et visible)

Style : bouton arrondi, couleur turquoise (#00d4b2), texte blanc, lÃ©gÃ¨rement plus petit que â€œ+ Nouveauâ€ pour diffÃ©renciation.

ğŸ—“ï¸ 2ï¸âƒ£ â€“ Contenu de la popup

Quand le transporteur clique sur â€œğŸ“¢ Annoncer un retourâ€, afficher une popup de saisie avec les champs suivants :

Ville de dÃ©part du retour (liste ou champ texte)

Ville dâ€™arrivÃ©e prÃ©vue

Date du trajet retour (J/M/A)

Bouton Valider

Une fois validÃ© :

Un message de confirmation sâ€™affiche (â€œVotre retour a Ã©tÃ© annoncÃ© âœ…â€).

Les donnÃ©es sont enregistrÃ©es dans la base et transmises cÃ´tÃ© admin.

ğŸ§¾ 3ï¸âƒ£ â€“ Nouvelle rubrique cÃ´tÃ© Admin : â€œRetours annoncÃ©sâ€

CrÃ©er une nouvelle section dans le tableau de bord Admin intitulÃ©e :

â€œRetours annoncÃ©sâ€

Chaque ligne doit afficher :

Nom du transporteur

NumÃ©ro de tÃ©lÃ©phone du transporteur

Ville de dÃ©part

Ville dâ€™arrivÃ©e

Date du trajet retour

Un bouton dâ€™action : â€œAffecter une commandeâ€

âš™ï¸ 4ï¸âƒ£ â€“ Fonctionnement du bouton â€œAffecter une commandeâ€ (Admin)

Lorsquâ€™un admin clique sur â€œAffecter une commandeâ€ :

Une petite fenÃªtre modale sâ€™ouvre avec :

Un champ de recherche par rÃ©fÃ©rence de commande (CMD-XXXX).

Un champ Montant proposÃ© (en MAD).

Un bouton Valider lâ€™affectation.

Une fois validÃ©e :

Une proposition automatique est crÃ©Ã©e pour le client correspondant :

Elle sâ€™affiche sur le tableau de bord du client comme une offre reÃ§ue (avec le montant proposÃ©).

Elle sâ€™affiche Ã©galement sur le tableau de bord du transporteur dans â€œMes offresâ€, comme si le transporteur avait soumis lui-mÃªme cette offre.

La commande garde le comportement normal (le client peut accepter ou refuser).

ğŸ•“ 5ï¸âƒ£ â€“ Gestion automatique des retours expirÃ©s

Chaque ligne dans la rubrique â€œRetours annoncÃ©sâ€ doit disparaÃ®tre automatiquement le lendemain (J+1) de la date indiquÃ©e dans le formulaire.

Cela Ã©vite dâ€™avoir des retours obsolÃ¨tes dans la base.

ğŸ¨ 6ï¸âƒ£ â€“ DÃ©tails design

Rubrique admin â€œRetours annoncÃ©sâ€ :

fond clair, lignes sÃ©parÃ©es avec ombre lÃ©gÃ¨re,

boutons dâ€™action colorÃ©s :

â€œAffecter une commandeâ€ â†’ couleur bleu clair (#1abc9c).

En haut de la page : compteur des retours actifs

â€œ3 retours annoncÃ©s actuellement.â€

Popup cÃ´tÃ© transporteur : fond blanc, texte sombre, boutons turquoise.