Nous allons mettre Ã  jour le systÃ¨me de gestion des offres, paiements et commissions sur CamionBack pour correspondre Ã  la logique rÃ©elle de fonctionnement.

Merci dâ€™implÃ©menter les points suivants dans lâ€™ordre :

ğŸ’° 1ï¸âƒ£ Gestion de la commission invisible (markup automatique)

Lorsquâ€™un transporteur soumet une offre (ex : 400 MAD), le client doit voir le montant incluant la commission automatiquement calculÃ©e selon le taux paramÃ©trÃ© (par dÃ©faut 10%).

Exemple :

Transporteur propose 400 MAD â†’ le client voit 440 MAD.

Le mot â€œcommissionâ€ ne doit jamais apparaÃ®tre dans lâ€™interface client ni dans les messages.

Le transporteur continue Ã  voir uniquement sa proposition nette (sans majoration).

Ce taux de commission doit pouvoir Ãªtre modifiÃ© dans les paramÃ¨tres Admin (commissionRate).

ğŸšš 2ï¸âƒ£ Nouvelle file â€œÃ€ traiterâ€ cÃ´tÃ© transporteur

Une fois que le client accepte une offre, la commande doit apparaÃ®tre dans une nouvelle section cÃ´tÃ© transporteur, intitulÃ©e â€œÃ€ traiterâ€.

Chaque commande dans cette file doit afficher :

NumÃ©ro de commande

DÃ©tails (trajet, poids, date, etc.)

CoordonnÃ©es du client (visibles uniquement aprÃ¨s acceptation)

Un bouton â€œVoir les dÃ©tailsâ€ qui ouvre la popup avec les informations de contact du client.

Ajouter un bouton â€œMarquer comme Ã  facturerâ€, permettant au transporteur de signaler que la mission est terminÃ©e et prÃªte Ã  Ãªtre payÃ©e.

ğŸ§¾ 3ï¸âƒ£ File de gestion cÃ´tÃ© Admin

Ajouter une nouvelle rubrique cÃ´tÃ© Admin : â€œPaiements transporteursâ€.

Elle doit afficher toutes les commandes marquÃ©es â€œÃ  facturerâ€ par les transporteurs, avec :

Nom du transporteur

Montant Ã  verser (prix net sans commission)

Date de la commande

Statut du paiement (en attente / payÃ©)

Lâ€™admin doit pouvoir changer le statut via un bouton â€œMarquer comme payÃ©â€.

Une fois marquÃ© comme payÃ© :

Le statut cÃ´tÃ© client et transporteur passe Ã  â€œPayÃ©â€.

ğŸ’³ 4ï¸âƒ£ Paiement cÃ´tÃ© client

Sur la rubrique â€œCommandes terminÃ©esâ€ cÃ´tÃ© client, ajouter un bouton â€œPayer cette factureâ€.

En cliquant dessus, une popup sâ€™ouvre avec les Ã©lÃ©ments suivants :

Texte dâ€™instructions :

â€œMerci dâ€™effectuer le virement sur le compte suivant :
RIB : 011815000005210001099713
Ã€ lâ€™ordre de : CamionBack.â€

Un champ pour ajouter le reÃ§u de paiement (upload photo).

Lâ€™administrateur doit pouvoir consulter le reÃ§u uploadÃ©, le vÃ©rifier et ensuite valider le paiement (changement de statut vers â€œPayÃ©â€).

ğŸ“‚ 5ï¸âƒ£ Nouvelle rubrique â€œMes facturesâ€ cÃ´tÃ© transporteur

Ajouter une section â€œMes facturesâ€ dans le menu transporteur.

Chaque ligne doit afficher :

NumÃ©ro de commande

Montant

Statut (En attente / PayÃ©e)

Date de paiement (si disponible).

Permettre au transporteur de filtrer ou trier ses factures.

â­ 6ï¸âƒ£ Rubrique â€œMes avis clientsâ€ cÃ´tÃ© transporteur

Ajouter une nouvelle rubrique dans le menu transporteur, nommÃ©e â€œMes avis clientsâ€.

Cette section doit lister :

Le numÃ©ro de commande

La note (Ã©toiles) laissÃ©e par le client

Un rÃ©sumÃ© du trajet (ville dÃ©part â†’ arrivÃ©e).

Ces notes doivent correspondre Ã  celles attribuÃ©es par le client Ã  la fin de chaque commande terminÃ©e.

En haut de la page, afficher un rÃ©sumÃ© global du type :

â€œâ­ Moyenne : 4.7 / 5 â€” sur 23 livraisons.â€

ğŸ” 7ï¸âƒ£ Synchronisation des statuts

Lorsquâ€™une commande change de statut :

Client : voit â€œAcceptÃ©eâ€ â†’ â€œTerminÃ©eâ€ â†’ â€œPayÃ©eâ€.

Transporteur : voit â€œÃ€ traiterâ€ â†’ â€œÃ€ facturerâ€ â†’ â€œPayÃ©eâ€.

Admin : gÃ¨re la transition â€œÃ€ facturerâ€ â†’ â€œPayÃ©eâ€.

Les transitions doivent Ãªtre synchronisÃ©es dans toutes les interfaces.

Merci de garder une interface claire et moderne pour chaque nouvelle rubrique ajoutÃ©e, avec un design cohÃ©rent avec CamionBack (bleu #0a2540, blanc, gris clair).