var Gg = e => {
    throw TypeError(e)
}
;
var Jf = (e, t, n) => t.has(e) || Gg("Cannot " + n);
var P = (e, t, n) => (Jf(e, t, "read from private field"),
n ? n.call(e) : t.get(e))
  , Pe = (e, t, n) => t.has(e) ? Gg("Cannot add the same private member more than once") : t instanceof WeakSet ? t.add(e) : t.set(e, n)
  , fe = (e, t, n, s) => (Jf(e, t, "write to private field"),
s ? s.call(e, n) : t.set(e, n),
n)
  , Qe = (e, t, n) => (Jf(e, t, "access private method"),
n);
var ad = (e, t, n, s) => ({
    set _(a) {
        fe(e, t, a, n)
    },
    get _() {
        return P(e, t, s)
    }
});
function A2(e, t) {
    for (var n = 0; n < t.length; n++) {
        const s = t[n];
        if (typeof s != "string" && !Array.isArray(s)) {
            for (const a in s)
                if (a !== "default" && !(a in e)) {
                    const i = Object.getOwnPropertyDescriptor(s, a);
                    i && Object.defineProperty(e, a, i.get ? i : {
                        enumerable: !0,
                        get: () => s[a]
                    })
                }
        }
    }
    return Object.freeze(Object.defineProperty(e, Symbol.toStringTag, {
        value: "Module"
    }))
}
(function() {
    const t = document.createElement("link").relList;
    if (t && t.supports && t.supports("modulepreload"))
        return;
    for (const a of document.querySelectorAll('link[rel="modulepreload"]'))
        s(a);
    new MutationObserver(a => {
        for (const i of a)
            if (i.type === "childList")
                for (const o of i.addedNodes)
                    o.tagName === "LINK" && o.rel === "modulepreload" && s(o)
    }
    ).observe(document, {
        childList: !0,
        subtree: !0
    });
    function n(a) {
        const i = {};
        return a.integrity && (i.integrity = a.integrity),
        a.referrerPolicy && (i.referrerPolicy = a.referrerPolicy),
        a.crossOrigin === "use-credentials" ? i.credentials = "include" : a.crossOrigin === "anonymous" ? i.credentials = "omit" : i.credentials = "same-origin",
        i
    }
    function s(a) {
        if (a.ep)
            return;
        a.ep = !0;
        const i = n(a);
        fetch(a.href, i)
    }
}
)();
function Pj(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
}
var Rj = {
    exports: {}
}
  , Xu = {}
  , Aj = {
    exports: {}
}
  , tt = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var $c = Symbol.for("react.element")
  , M2 = Symbol.for("react.portal")
  , I2 = Symbol.for("react.fragment")
  , D2 = Symbol.for("react.strict_mode")
  , O2 = Symbol.for("react.profiler")
  , L2 = Symbol.for("react.provider")
  , F2 = Symbol.for("react.context")
  , $2 = Symbol.for("react.forward_ref")
  , z2 = Symbol.for("react.suspense")
  , V2 = Symbol.for("react.memo")
  , U2 = Symbol.for("react.lazy")
  , Zg = Symbol.iterator;
function W2(e) {
    return e === null || typeof e != "object" ? null : (e = Zg && e[Zg] || e["@@iterator"],
    typeof e == "function" ? e : null)
}
var Mj = {
    isMounted: function() {
        return !1
    },
    enqueueForceUpdate: function() {},
    enqueueReplaceState: function() {},
    enqueueSetState: function() {}
}
  , Ij = Object.assign
  , Dj = {};
function Xo(e, t, n) {
    this.props = e,
    this.context = t,
    this.refs = Dj,
    this.updater = n || Mj
}
Xo.prototype.isReactComponent = {};
Xo.prototype.setState = function(e, t) {
    if (typeof e != "object" && typeof e != "function" && e != null)
        throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
    this.updater.enqueueSetState(this, e, t, "setState")
}
;
Xo.prototype.forceUpdate = function(e) {
    this.updater.enqueueForceUpdate(this, e, "forceUpdate")
}
;
function Oj() {}
Oj.prototype = Xo.prototype;
function Pp(e, t, n) {
    this.props = e,
    this.context = t,
    this.refs = Dj,
    this.updater = n || Mj
}
var Rp = Pp.prototype = new Oj;
Rp.constructor = Pp;
Ij(Rp, Xo.prototype);
Rp.isPureReactComponent = !0;
var Yg = Array.isArray
  , Lj = Object.prototype.hasOwnProperty
  , Ap = {
    current: null
}
  , Fj = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function $j(e, t, n) {
    var s, a = {}, i = null, o = null;
    if (t != null)
        for (s in t.ref !== void 0 && (o = t.ref),
        t.key !== void 0 && (i = "" + t.key),
        t)
            Lj.call(t, s) && !Fj.hasOwnProperty(s) && (a[s] = t[s]);
    var l = arguments.length - 2;
    if (l === 1)
        a.children = n;
    else if (1 < l) {
        for (var c = Array(l), d = 0; d < l; d++)
            c[d] = arguments[d + 2];
        a.children = c
    }
    if (e && e.defaultProps)
        for (s in l = e.defaultProps,
        l)
            a[s] === void 0 && (a[s] = l[s]);
    return {
        $$typeof: $c,
        type: e,
        key: i,
        ref: o,
        props: a,
        _owner: Ap.current
    }
}
function B2(e, t) {
    return {
        $$typeof: $c,
        type: e.type,
        key: t,
        ref: e.ref,
        props: e.props,
        _owner: e._owner
    }
}
function Mp(e) {
    return typeof e == "object" && e !== null && e.$$typeof === $c
}
function H2(e) {
    var t = {
        "=": "=0",
        ":": "=2"
    };
    return "$" + e.replace(/[=:]/g, function(n) {
        return t[n]
    })
}
var Xg = /\/+/g;
function em(e, t) {
    return typeof e == "object" && e !== null && e.key != null ? H2("" + e.key) : t.toString(36)
}
function Md(e, t, n, s, a) {
    var i = typeof e;
    (i === "undefined" || i === "boolean") && (e = null);
    var o = !1;
    if (e === null)
        o = !0;
    else
        switch (i) {
        case "string":
        case "number":
            o = !0;
            break;
        case "object":
            switch (e.$$typeof) {
            case $c:
            case M2:
                o = !0
            }
        }
    if (o)
        return o = e,
        a = a(o),
        e = s === "" ? "." + em(o, 0) : s,
        Yg(a) ? (n = "",
        e != null && (n = e.replace(Xg, "$&/") + "/"),
        Md(a, t, n, "", function(d) {
            return d
        })) : a != null && (Mp(a) && (a = B2(a, n + (!a.key || o && o.key === a.key ? "" : ("" + a.key).replace(Xg, "$&/") + "/") + e)),
        t.push(a)),
        1;
    if (o = 0,
    s = s === "" ? "." : s + ":",
    Yg(e))
        for (var l = 0; l < e.length; l++) {
            i = e[l];
            var c = s + em(i, l);
            o += Md(i, t, n, c, a)
        }
    else if (c = W2(e),
    typeof c == "function")
        for (e = c.call(e),
        l = 0; !(i = e.next()).done; )
            i = i.value,
            c = s + em(i, l++),
            o += Md(i, t, n, c, a);
    else if (i === "object")
        throw t = String(e),
        Error("Objects are not valid as a React child (found: " + (t === "[object Object]" ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead.");
    return o
}
function id(e, t, n) {
    if (e == null)
        return e;
    var s = []
      , a = 0;
    return Md(e, s, "", "", function(i) {
        return t.call(n, i, a++)
    }),
    s
}
function q2(e) {
    if (e._status === -1) {
        var t = e._result;
        t = t(),
        t.then(function(n) {
            (e._status === 0 || e._status === -1) && (e._status = 1,
            e._result = n)
        }, function(n) {
            (e._status === 0 || e._status === -1) && (e._status = 2,
            e._result = n)
        }),
        e._status === -1 && (e._status = 0,
        e._result = t)
    }
    if (e._status === 1)
        return e._result.default;
    throw e._result
}
var Dn = {
    current: null
}
  , Id = {
    transition: null
}
  , K2 = {
    ReactCurrentDispatcher: Dn,
    ReactCurrentBatchConfig: Id,
    ReactCurrentOwner: Ap
};
function zj() {
    throw Error("act(...) is not supported in production builds of React.")
}
tt.Children = {
    map: id,
    forEach: function(e, t, n) {
        id(e, function() {
            t.apply(this, arguments)
        }, n)
    },
    count: function(e) {
        var t = 0;
        return id(e, function() {
            t++
        }),
        t
    },
    toArray: function(e) {
        return id(e, function(t) {
            return t
        }) || []
    },
    only: function(e) {
        if (!Mp(e))
            throw Error("React.Children.only expected to receive a single React element child.");
        return e
    }
};
tt.Component = Xo;
tt.Fragment = I2;
tt.Profiler = O2;
tt.PureComponent = Pp;
tt.StrictMode = D2;
tt.Suspense = z2;
tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = K2;
tt.act = zj;
tt.cloneElement = function(e, t, n) {
    if (e == null)
        throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + ".");
    var s = Ij({}, e.props)
      , a = e.key
      , i = e.ref
      , o = e._owner;
    if (t != null) {
        if (t.ref !== void 0 && (i = t.ref,
        o = Ap.current),
        t.key !== void 0 && (a = "" + t.key),
        e.type && e.type.defaultProps)
            var l = e.type.defaultProps;
        for (c in t)
            Lj.call(t, c) && !Fj.hasOwnProperty(c) && (s[c] = t[c] === void 0 && l !== void 0 ? l[c] : t[c])
    }
    var c = arguments.length - 2;
    if (c === 1)
        s.children = n;
    else if (1 < c) {
        l = Array(c);
        for (var d = 0; d < c; d++)
            l[d] = arguments[d + 2];
        s.children = l
    }
    return {
        $$typeof: $c,
        type: e.type,
        key: a,
        ref: i,
        props: s,
        _owner: o
    }
}
;
tt.createContext = function(e) {
    return e = {
        $$typeof: F2,
        _currentValue: e,
        _currentValue2: e,
        _threadCount: 0,
        Provider: null,
        Consumer: null,
        _defaultValue: null,
        _globalName: null
    },
    e.Provider = {
        $$typeof: L2,
        _context: e
    },
    e.Consumer = e
}
;
tt.createElement = $j;
tt.createFactory = function(e) {
    var t = $j.bind(null, e);
    return t.type = e,
    t
}
;
tt.createRef = function() {
    return {
        current: null
    }
}
;
tt.forwardRef = function(e) {
    return {
        $$typeof: $2,
        render: e
    }
}
;
tt.isValidElement = Mp;
tt.lazy = function(e) {
    return {
        $$typeof: U2,
        _payload: {
            _status: -1,
            _result: e
        },
        _init: q2
    }
}
;
tt.memo = function(e, t) {
    return {
        $$typeof: V2,
        type: e,
        compare: t === void 0 ? null : t
    }
}
;
tt.startTransition = function(e) {
    var t = Id.transition;
    Id.transition = {};
    try {
        e()
    } finally {
        Id.transition = t
    }
}
;
tt.unstable_act = zj;
tt.useCallback = function(e, t) {
    return Dn.current.useCallback(e, t)
}
;
tt.useContext = function(e) {
    return Dn.current.useContext(e)
}
;
tt.useDebugValue = function() {}
;
tt.useDeferredValue = function(e) {
    return Dn.current.useDeferredValue(e)
}
;
tt.useEffect = function(e, t) {
    return Dn.current.useEffect(e, t)
}
;
tt.useId = function() {
    return Dn.current.useId()
}
;
tt.useImperativeHandle = function(e, t, n) {
    return Dn.current.useImperativeHandle(e, t, n)
}
;
tt.useInsertionEffect = function(e, t) {
    return Dn.current.useInsertionEffect(e, t)
}
;
tt.useLayoutEffect = function(e, t) {
    return Dn.current.useLayoutEffect(e, t)
}
;
tt.useMemo = function(e, t) {
    return Dn.current.useMemo(e, t)
}
;
tt.useReducer = function(e, t, n) {
    return Dn.current.useReducer(e, t, n)
}
;
tt.useRef = function(e) {
    return Dn.current.useRef(e)
}
;
tt.useState = function(e) {
    return Dn.current.useState(e)
}
;
tt.useSyncExternalStore = function(e, t, n) {
    return Dn.current.useSyncExternalStore(e, t, n)
}
;
tt.useTransition = function() {
    return Dn.current.useTransition()
}
;
tt.version = "18.3.1";
Aj.exports = tt;
var u = Aj.exports;
const Ue = Pj(u)
  , Vj = A2({
    __proto__: null,
    default: Ue
}, [u]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Q2 = u
  , G2 = Symbol.for("react.element")
  , Z2 = Symbol.for("react.fragment")
  , Y2 = Object.prototype.hasOwnProperty
  , X2 = Q2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner
  , J2 = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function Uj(e, t, n) {
    var s, a = {}, i = null, o = null;
    n !== void 0 && (i = "" + n),
    t.key !== void 0 && (i = "" + t.key),
    t.ref !== void 0 && (o = t.ref);
    for (s in t)
        Y2.call(t, s) && !J2.hasOwnProperty(s) && (a[s] = t[s]);
    if (e && e.defaultProps)
        for (s in t = e.defaultProps,
        t)
            a[s] === void 0 && (a[s] = t[s]);
    return {
        $$typeof: G2,
        type: e,
        key: i,
        ref: o,
        props: a,
        _owner: X2.current
    }
}
Xu.Fragment = Z2;
Xu.jsx = Uj;
Xu.jsxs = Uj;
Rj.exports = Xu;
var r = Rj.exports
  , Wj = {
    exports: {}
}
  , or = {}
  , Bj = {
    exports: {}
}
  , Hj = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(e) {
    function t(D, V) {
        var W = D.length;
        D.push(V);
        e: for (; 0 < W; ) {
            var de = W - 1 >>> 1
              , ke = D[de];
            if (0 < a(ke, V))
                D[de] = V,
                D[W] = ke,
                W = de;
            else
                break e
        }
    }
    function n(D) {
        return D.length === 0 ? null : D[0]
    }
    function s(D) {
        if (D.length === 0)
            return null;
        var V = D[0]
          , W = D.pop();
        if (W !== V) {
            D[0] = W;
            e: for (var de = 0, ke = D.length, Ye = ke >>> 1; de < Ye; ) {
                var at = 2 * (de + 1) - 1
                  , ut = D[at]
                  , we = at + 1
                  , $ = D[we];
                if (0 > a(ut, W))
                    we < ke && 0 > a($, ut) ? (D[de] = $,
                    D[we] = W,
                    de = we) : (D[de] = ut,
                    D[at] = W,
                    de = at);
                else if (we < ke && 0 > a($, W))
                    D[de] = $,
                    D[we] = W,
                    de = we;
                else
                    break e
            }
        }
        return V
    }
    function a(D, V) {
        var W = D.sortIndex - V.sortIndex;
        return W !== 0 ? W : D.id - V.id
    }
    if (typeof performance == "object" && typeof performance.now == "function") {
        var i = performance;
        e.unstable_now = function() {
            return i.now()
        }
    } else {
        var o = Date
          , l = o.now();
        e.unstable_now = function() {
            return o.now() - l
        }
    }
    var c = []
      , d = []
      , f = 1
      , m = null
      , h = 3
      , g = !1
      , w = !1
      , x = !1
      , y = typeof setTimeout == "function" ? setTimeout : null
      , v = typeof clearTimeout == "function" ? clearTimeout : null
      , p = typeof setImmediate < "u" ? setImmediate : null;
    typeof navigator < "u" && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function j(D) {
        for (var V = n(d); V !== null; ) {
            if (V.callback === null)
                s(d);
            else if (V.startTime <= D)
                s(d),
                V.sortIndex = V.expirationTime,
                t(c, V);
            else
                break;
            V = n(d)
        }
    }
    function N(D) {
        if (x = !1,
        j(D),
        !w)
            if (n(c) !== null)
                w = !0,
                q(S);
            else {
                var V = n(d);
                V !== null && pe(N, V.startTime - D)
            }
    }
    function S(D, V) {
        w = !1,
        x && (x = !1,
        v(E),
        E = -1),
        g = !0;
        var W = h;
        try {
            for (j(V),
            m = n(c); m !== null && (!(m.expirationTime > V) || D && !G()); ) {
                var de = m.callback;
                if (typeof de == "function") {
                    m.callback = null,
                    h = m.priorityLevel;
                    var ke = de(m.expirationTime <= V);
                    V = e.unstable_now(),
                    typeof ke == "function" ? m.callback = ke : m === n(c) && s(c),
                    j(V)
                } else
                    s(c);
                m = n(c)
            }
            if (m !== null)
                var Ye = !0;
            else {
                var at = n(d);
                at !== null && pe(N, at.startTime - V),
                Ye = !1
            }
            return Ye
        } finally {
            m = null,
            h = W,
            g = !1
        }
    }
    var k = !1
      , C = null
      , E = -1
      , A = 5
      , z = -1;
    function G() {
        return !(e.unstable_now() - z < A)
    }
    function R() {
        if (C !== null) {
            var D = e.unstable_now();
            z = D;
            var V = !0;
            try {
                V = C(!0, D)
            } finally {
                V ? B() : (k = !1,
                C = null)
            }
        } else
            k = !1
    }
    var B;
    if (typeof p == "function")
        B = function() {
            p(R)
        }
        ;
    else if (typeof MessageChannel < "u") {
        var U = new MessageChannel
          , J = U.port2;
        U.port1.onmessage = R,
        B = function() {
            J.postMessage(null)
        }
    } else
        B = function() {
            y(R, 0)
        }
        ;
    function q(D) {
        C = D,
        k || (k = !0,
        B())
    }
    function pe(D, V) {
        E = y(function() {
            D(e.unstable_now())
        }, V)
    }
    e.unstable_IdlePriority = 5,
    e.unstable_ImmediatePriority = 1,
    e.unstable_LowPriority = 4,
    e.unstable_NormalPriority = 3,
    e.unstable_Profiling = null,
    e.unstable_UserBlockingPriority = 2,
    e.unstable_cancelCallback = function(D) {
        D.callback = null
    }
    ,
    e.unstable_continueExecution = function() {
        w || g || (w = !0,
        q(S))
    }
    ,
    e.unstable_forceFrameRate = function(D) {
        0 > D || 125 < D ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : A = 0 < D ? Math.floor(1e3 / D) : 5
    }
    ,
    e.unstable_getCurrentPriorityLevel = function() {
        return h
    }
    ,
    e.unstable_getFirstCallbackNode = function() {
        return n(c)
    }
    ,
    e.unstable_next = function(D) {
        switch (h) {
        case 1:
        case 2:
        case 3:
            var V = 3;
            break;
        default:
            V = h
        }
        var W = h;
        h = V;
        try {
            return D()
        } finally {
            h = W
        }
    }
    ,
    e.unstable_pauseExecution = function() {}
    ,
    e.unstable_requestPaint = function() {}
    ,
    e.unstable_runWithPriority = function(D, V) {
        switch (D) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
            break;
        default:
            D = 3
        }
        var W = h;
        h = D;
        try {
            return V()
        } finally {
            h = W
        }
    }
    ,
    e.unstable_scheduleCallback = function(D, V, W) {
        var de = e.unstable_now();
        switch (typeof W == "object" && W !== null ? (W = W.delay,
        W = typeof W == "number" && 0 < W ? de + W : de) : W = de,
        D) {
        case 1:
            var ke = -1;
            break;
        case 2:
            ke = 250;
            break;
        case 5:
            ke = 1073741823;
            break;
        case 4:
            ke = 1e4;
            break;
        default:
            ke = 5e3
        }
        return ke = W + ke,
        D = {
            id: f++,
            callback: V,
            priorityLevel: D,
            startTime: W,
            expirationTime: ke,
            sortIndex: -1
        },
        W > de ? (D.sortIndex = W,
        t(d, D),
        n(c) === null && D === n(d) && (x ? (v(E),
        E = -1) : x = !0,
        pe(N, W - de))) : (D.sortIndex = ke,
        t(c, D),
        w || g || (w = !0,
        q(S))),
        D
    }
    ,
    e.unstable_shouldYield = G,
    e.unstable_wrapCallback = function(D) {
        var V = h;
        return function() {
            var W = h;
            h = V;
            try {
                return D.apply(this, arguments)
            } finally {
                h = W
            }
        }
    }
}
)(Hj);
Bj.exports = Hj;
var eE = Bj.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var tE = u
  , ir = eE;
function X(e) {
    for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)
        t += "&args[]=" + encodeURIComponent(arguments[n]);
    return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
}
var qj = new Set
  , Gl = {};
function Oi(e, t) {
    Lo(e, t),
    Lo(e + "Capture", t)
}
function Lo(e, t) {
    for (Gl[e] = t,
    e = 0; e < t.length; e++)
        qj.add(t[e])
}
var zs = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u")
  , qm = Object.prototype.hasOwnProperty
  , nE = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
  , Jg = {}
  , ev = {};
function rE(e) {
    return qm.call(ev, e) ? !0 : qm.call(Jg, e) ? !1 : nE.test(e) ? ev[e] = !0 : (Jg[e] = !0,
    !1)
}
function sE(e, t, n, s) {
    if (n !== null && n.type === 0)
        return !1;
    switch (typeof t) {
    case "function":
    case "symbol":
        return !0;
    case "boolean":
        return s ? !1 : n !== null ? !n.acceptsBooleans : (e = e.toLowerCase().slice(0, 5),
        e !== "data-" && e !== "aria-");
    default:
        return !1
    }
}
function aE(e, t, n, s) {
    if (t === null || typeof t > "u" || sE(e, t, n, s))
        return !0;
    if (s)
        return !1;
    if (n !== null)
        switch (n.type) {
        case 3:
            return !t;
        case 4:
            return t === !1;
        case 5:
            return isNaN(t);
        case 6:
            return isNaN(t) || 1 > t
        }
    return !1
}
function On(e, t, n, s, a, i, o) {
    this.acceptsBooleans = t === 2 || t === 3 || t === 4,
    this.attributeName = s,
    this.attributeNamespace = a,
    this.mustUseProperty = n,
    this.propertyName = e,
    this.type = t,
    this.sanitizeURL = i,
    this.removeEmptyString = o
}
var xn = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e) {
    xn[e] = new On(e,0,!1,e,null,!1,!1)
});
[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(e) {
    var t = e[0];
    xn[t] = new On(t,1,!1,e[1],null,!1,!1)
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function(e) {
    xn[e] = new On(e,2,!1,e.toLowerCase(),null,!1,!1)
});
["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(e) {
    xn[e] = new On(e,2,!1,e,null,!1,!1)
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e) {
    xn[e] = new On(e,3,!1,e.toLowerCase(),null,!1,!1)
});
["checked", "multiple", "muted", "selected"].forEach(function(e) {
    xn[e] = new On(e,3,!0,e,null,!1,!1)
});
["capture", "download"].forEach(function(e) {
    xn[e] = new On(e,4,!1,e,null,!1,!1)
});
["cols", "rows", "size", "span"].forEach(function(e) {
    xn[e] = new On(e,6,!1,e,null,!1,!1)
});
["rowSpan", "start"].forEach(function(e) {
    xn[e] = new On(e,5,!1,e.toLowerCase(),null,!1,!1)
});
var Ip = /[\-:]([a-z])/g;
function Dp(e) {
    return e[1].toUpperCase()
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e) {
    var t = e.replace(Ip, Dp);
    xn[t] = new On(t,1,!1,e,null,!1,!1)
});
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e) {
    var t = e.replace(Ip, Dp);
    xn[t] = new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)
});
["xml:base", "xml:lang", "xml:space"].forEach(function(e) {
    var t = e.replace(Ip, Dp);
    xn[t] = new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)
});
["tabIndex", "crossOrigin"].forEach(function(e) {
    xn[e] = new On(e,1,!1,e.toLowerCase(),null,!1,!1)
});
xn.xlinkHref = new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);
["src", "href", "action", "formAction"].forEach(function(e) {
    xn[e] = new On(e,1,!1,e.toLowerCase(),null,!0,!0)
});
function Op(e, t, n, s) {
    var a = xn.hasOwnProperty(t) ? xn[t] : null;
    (a !== null ? a.type !== 0 : s || !(2 < t.length) || t[0] !== "o" && t[0] !== "O" || t[1] !== "n" && t[1] !== "N") && (aE(t, n, a, s) && (n = null),
    s || a === null ? rE(t) && (n === null ? e.removeAttribute(t) : e.setAttribute(t, "" + n)) : a.mustUseProperty ? e[a.propertyName] = n === null ? a.type === 3 ? !1 : "" : n : (t = a.attributeName,
    s = a.attributeNamespace,
    n === null ? e.removeAttribute(t) : (a = a.type,
    n = a === 3 || a === 4 && n === !0 ? "" : "" + n,
    s ? e.setAttributeNS(s, t, n) : e.setAttribute(t, n))))
}
var Qs = tE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED
  , od = Symbol.for("react.element")
  , Zi = Symbol.for("react.portal")
  , Yi = Symbol.for("react.fragment")
  , Lp = Symbol.for("react.strict_mode")
  , Km = Symbol.for("react.profiler")
  , Kj = Symbol.for("react.provider")
  , Qj = Symbol.for("react.context")
  , Fp = Symbol.for("react.forward_ref")
  , Qm = Symbol.for("react.suspense")
  , Gm = Symbol.for("react.suspense_list")
  , $p = Symbol.for("react.memo")
  , sa = Symbol.for("react.lazy")
  , Gj = Symbol.for("react.offscreen")
  , tv = Symbol.iterator;
function hl(e) {
    return e === null || typeof e != "object" ? null : (e = tv && e[tv] || e["@@iterator"],
    typeof e == "function" ? e : null)
}
var Dt = Object.assign, tm;
function kl(e) {
    if (tm === void 0)
        try {
            throw Error()
        } catch (n) {
            var t = n.stack.trim().match(/\n( *(at )?)/);
            tm = t && t[1] || ""
        }
    return `
` + tm + e
}
var nm = !1;
function rm(e, t) {
    if (!e || nm)
        return "";
    nm = !0;
    var n = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
        if (t)
            if (t = function() {
                throw Error()
            }
            ,
            Object.defineProperty(t.prototype, "props", {
                set: function() {
                    throw Error()
                }
            }),
            typeof Reflect == "object" && Reflect.construct) {
                try {
                    Reflect.construct(t, [])
                } catch (d) {
                    var s = d
                }
                Reflect.construct(e, [], t)
            } else {
                try {
                    t.call()
                } catch (d) {
                    s = d
                }
                e.call(t.prototype)
            }
        else {
            try {
                throw Error()
            } catch (d) {
                s = d
            }
            e()
        }
    } catch (d) {
        if (d && s && typeof d.stack == "string") {
            for (var a = d.stack.split(`
`), i = s.stack.split(`
`), o = a.length - 1, l = i.length - 1; 1 <= o && 0 <= l && a[o] !== i[l]; )
                l--;
            for (; 1 <= o && 0 <= l; o--,
            l--)
                if (a[o] !== i[l]) {
                    if (o !== 1 || l !== 1)
                        do
                            if (o--,
                            l--,
                            0 > l || a[o] !== i[l]) {
                                var c = `
` + a[o].replace(" at new ", " at ");
                                return e.displayName && c.includes("<anonymous>") && (c = c.replace("<anonymous>", e.displayName)),
                                c
                            }
                        while (1 <= o && 0 <= l);
                    break
                }
        }
    } finally {
        nm = !1,
        Error.prepareStackTrace = n
    }
    return (e = e ? e.displayName || e.name : "") ? kl(e) : ""
}
function iE(e) {
    switch (e.tag) {
    case 5:
        return kl(e.type);
    case 16:
        return kl("Lazy");
    case 13:
        return kl("Suspense");
    case 19:
        return kl("SuspenseList");
    case 0:
    case 2:
    case 15:
        return e = rm(e.type, !1),
        e;
    case 11:
        return e = rm(e.type.render, !1),
        e;
    case 1:
        return e = rm(e.type, !0),
        e;
    default:
        return ""
    }
}
function Zm(e) {
    if (e == null)
        return null;
    if (typeof e == "function")
        return e.displayName || e.name || null;
    if (typeof e == "string")
        return e;
    switch (e) {
    case Yi:
        return "Fragment";
    case Zi:
        return "Portal";
    case Km:
        return "Profiler";
    case Lp:
        return "StrictMode";
    case Qm:
        return "Suspense";
    case Gm:
        return "SuspenseList"
    }
    if (typeof e == "object")
        switch (e.$$typeof) {
        case Qj:
            return (e.displayName || "Context") + ".Consumer";
        case Kj:
            return (e._context.displayName || "Context") + ".Provider";
        case Fp:
            var t = e.render;
            return e = e.displayName,
            e || (e = t.displayName || t.name || "",
            e = e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef"),
            e;
        case $p:
            return t = e.displayName || null,
            t !== null ? t : Zm(e.type) || "Memo";
        case sa:
            t = e._payload,
            e = e._init;
            try {
                return Zm(e(t))
            } catch {}
        }
    return null
}
function oE(e) {
    var t = e.type;
    switch (e.tag) {
    case 24:
        return "Cache";
    case 9:
        return (t.displayName || "Context") + ".Consumer";
    case 10:
        return (t._context.displayName || "Context") + ".Provider";
    case 18:
        return "DehydratedFragment";
    case 11:
        return e = t.render,
        e = e.displayName || e.name || "",
        t.displayName || (e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef");
    case 7:
        return "Fragment";
    case 5:
        return t;
    case 4:
        return "Portal";
    case 3:
        return "Root";
    case 6:
        return "Text";
    case 16:
        return Zm(t);
    case 8:
        return t === Lp ? "StrictMode" : "Mode";
    case 22:
        return "Offscreen";
    case 12:
        return "Profiler";
    case 21:
        return "Scope";
    case 13:
        return "Suspense";
    case 19:
        return "SuspenseList";
    case 25:
        return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
        if (typeof t == "function")
            return t.displayName || t.name || null;
        if (typeof t == "string")
            return t
    }
    return null
}
function Pa(e) {
    switch (typeof e) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
        return e;
    case "object":
        return e;
    default:
        return ""
    }
}
function Zj(e) {
    var t = e.type;
    return (e = e.nodeName) && e.toLowerCase() === "input" && (t === "checkbox" || t === "radio")
}
function lE(e) {
    var t = Zj(e) ? "checked" : "value"
      , n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t)
      , s = "" + e[t];
    if (!e.hasOwnProperty(t) && typeof n < "u" && typeof n.get == "function" && typeof n.set == "function") {
        var a = n.get
          , i = n.set;
        return Object.defineProperty(e, t, {
            configurable: !0,
            get: function() {
                return a.call(this)
            },
            set: function(o) {
                s = "" + o,
                i.call(this, o)
            }
        }),
        Object.defineProperty(e, t, {
            enumerable: n.enumerable
        }),
        {
            getValue: function() {
                return s
            },
            setValue: function(o) {
                s = "" + o
            },
            stopTracking: function() {
                e._valueTracker = null,
                delete e[t]
            }
        }
    }
}
function ld(e) {
    e._valueTracker || (e._valueTracker = lE(e))
}
function Yj(e) {
    if (!e)
        return !1;
    var t = e._valueTracker;
    if (!t)
        return !0;
    var n = t.getValue()
      , s = "";
    return e && (s = Zj(e) ? e.checked ? "true" : "false" : e.value),
    e = s,
    e !== n ? (t.setValue(e),
    !0) : !1
}
function Jd(e) {
    if (e = e || (typeof document < "u" ? document : void 0),
    typeof e > "u")
        return null;
    try {
        return e.activeElement || e.body
    } catch {
        return e.body
    }
}
function Ym(e, t) {
    var n = t.checked;
    return Dt({}, t, {
        defaultChecked: void 0,
        defaultValue: void 0,
        value: void 0,
        checked: n ?? e._wrapperState.initialChecked
    })
}
function nv(e, t) {
    var n = t.defaultValue == null ? "" : t.defaultValue
      , s = t.checked != null ? t.checked : t.defaultChecked;
    n = Pa(t.value != null ? t.value : n),
    e._wrapperState = {
        initialChecked: s,
        initialValue: n,
        controlled: t.type === "checkbox" || t.type === "radio" ? t.checked != null : t.value != null
    }
}
function Xj(e, t) {
    t = t.checked,
    t != null && Op(e, "checked", t, !1)
}
function Xm(e, t) {
    Xj(e, t);
    var n = Pa(t.value)
      , s = t.type;
    if (n != null)
        s === "number" ? (n === 0 && e.value === "" || e.value != n) && (e.value = "" + n) : e.value !== "" + n && (e.value = "" + n);
    else if (s === "submit" || s === "reset") {
        e.removeAttribute("value");
        return
    }
    t.hasOwnProperty("value") ? Jm(e, t.type, n) : t.hasOwnProperty("defaultValue") && Jm(e, t.type, Pa(t.defaultValue)),
    t.checked == null && t.defaultChecked != null && (e.defaultChecked = !!t.defaultChecked)
}
function rv(e, t, n) {
    if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) {
        var s = t.type;
        if (!(s !== "submit" && s !== "reset" || t.value !== void 0 && t.value !== null))
            return;
        t = "" + e._wrapperState.initialValue,
        n || t === e.value || (e.value = t),
        e.defaultValue = t
    }
    n = e.name,
    n !== "" && (e.name = ""),
    e.defaultChecked = !!e._wrapperState.initialChecked,
    n !== "" && (e.name = n)
}
function Jm(e, t, n) {
    (t !== "number" || Jd(e.ownerDocument) !== e) && (n == null ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + n && (e.defaultValue = "" + n))
}
var El = Array.isArray;
function co(e, t, n, s) {
    if (e = e.options,
    t) {
        t = {};
        for (var a = 0; a < n.length; a++)
            t["$" + n[a]] = !0;
        for (n = 0; n < e.length; n++)
            a = t.hasOwnProperty("$" + e[n].value),
            e[n].selected !== a && (e[n].selected = a),
            a && s && (e[n].defaultSelected = !0)
    } else {
        for (n = "" + Pa(n),
        t = null,
        a = 0; a < e.length; a++) {
            if (e[a].value === n) {
                e[a].selected = !0,
                s && (e[a].defaultSelected = !0);
                return
            }
            t !== null || e[a].disabled || (t = e[a])
        }
        t !== null && (t.selected = !0)
    }
}
function eh(e, t) {
    if (t.dangerouslySetInnerHTML != null)
        throw Error(X(91));
    return Dt({}, t, {
        value: void 0,
        defaultValue: void 0,
        children: "" + e._wrapperState.initialValue
    })
}
function sv(e, t) {
    var n = t.value;
    if (n == null) {
        if (n = t.children,
        t = t.defaultValue,
        n != null) {
            if (t != null)
                throw Error(X(92));
            if (El(n)) {
                if (1 < n.length)
                    throw Error(X(93));
                n = n[0]
            }
            t = n
        }
        t == null && (t = ""),
        n = t
    }
    e._wrapperState = {
        initialValue: Pa(n)
    }
}
function Jj(e, t) {
    var n = Pa(t.value)
      , s = Pa(t.defaultValue);
    n != null && (n = "" + n,
    n !== e.value && (e.value = n),
    t.defaultValue == null && e.defaultValue !== n && (e.defaultValue = n)),
    s != null && (e.defaultValue = "" + s)
}
function av(e) {
    var t = e.textContent;
    t === e._wrapperState.initialValue && t !== "" && t !== null && (e.value = t)
}
function ew(e) {
    switch (e) {
    case "svg":
        return "http://www.w3.org/2000/svg";
    case "math":
        return "http://www.w3.org/1998/Math/MathML";
    default:
        return "http://www.w3.org/1999/xhtml"
    }
}
function th(e, t) {
    return e == null || e === "http://www.w3.org/1999/xhtml" ? ew(t) : e === "http://www.w3.org/2000/svg" && t === "foreignObject" ? "http://www.w3.org/1999/xhtml" : e
}
var cd, tw = function(e) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction ? function(t, n, s, a) {
        MSApp.execUnsafeLocalFunction(function() {
            return e(t, n, s, a)
        })
    }
    : e
}(function(e, t) {
    if (e.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML"in e)
        e.innerHTML = t;
    else {
        for (cd = cd || document.createElement("div"),
        cd.innerHTML = "<svg>" + t.valueOf().toString() + "</svg>",
        t = cd.firstChild; e.firstChild; )
            e.removeChild(e.firstChild);
        for (; t.firstChild; )
            e.appendChild(t.firstChild)
    }
});
function Zl(e, t) {
    if (t) {
        var n = e.firstChild;
        if (n && n === e.lastChild && n.nodeType === 3) {
            n.nodeValue = t;
            return
        }
    }
    e.textContent = t
}
var Dl = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0
}
  , cE = ["Webkit", "ms", "Moz", "O"];
Object.keys(Dl).forEach(function(e) {
    cE.forEach(function(t) {
        t = t + e.charAt(0).toUpperCase() + e.substring(1),
        Dl[t] = Dl[e]
    })
});
function nw(e, t, n) {
    return t == null || typeof t == "boolean" || t === "" ? "" : n || typeof t != "number" || t === 0 || Dl.hasOwnProperty(e) && Dl[e] ? ("" + t).trim() : t + "px"
}
function rw(e, t) {
    e = e.style;
    for (var n in t)
        if (t.hasOwnProperty(n)) {
            var s = n.indexOf("--") === 0
              , a = nw(n, t[n], s);
            n === "float" && (n = "cssFloat"),
            s ? e.setProperty(n, a) : e[n] = a
        }
}
var dE = Dt({
    menuitem: !0
}, {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0
});
function nh(e, t) {
    if (t) {
        if (dE[e] && (t.children != null || t.dangerouslySetInnerHTML != null))
            throw Error(X(137, e));
        if (t.dangerouslySetInnerHTML != null) {
            if (t.children != null)
                throw Error(X(60));
            if (typeof t.dangerouslySetInnerHTML != "object" || !("__html"in t.dangerouslySetInnerHTML))
                throw Error(X(61))
        }
        if (t.style != null && typeof t.style != "object")
            throw Error(X(62))
    }
}
function rh(e, t) {
    if (e.indexOf("-") === -1)
        return typeof t.is == "string";
    switch (e) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
        return !1;
    default:
        return !0
    }
}
var sh = null;
function zp(e) {
    return e = e.target || e.srcElement || window,
    e.correspondingUseElement && (e = e.correspondingUseElement),
    e.nodeType === 3 ? e.parentNode : e
}
var ah = null
  , uo = null
  , fo = null;
function iv(e) {
    if (e = Uc(e)) {
        if (typeof ah != "function")
            throw Error(X(280));
        var t = e.stateNode;
        t && (t = rf(t),
        ah(e.stateNode, e.type, t))
    }
}
function sw(e) {
    uo ? fo ? fo.push(e) : fo = [e] : uo = e
}
function aw() {
    if (uo) {
        var e = uo
          , t = fo;
        if (fo = uo = null,
        iv(e),
        t)
            for (e = 0; e < t.length; e++)
                iv(t[e])
    }
}
function iw(e, t) {
    return e(t)
}
function ow() {}
var sm = !1;
function lw(e, t, n) {
    if (sm)
        return e(t, n);
    sm = !0;
    try {
        return iw(e, t, n)
    } finally {
        sm = !1,
        (uo !== null || fo !== null) && (ow(),
        aw())
    }
}
function Yl(e, t) {
    var n = e.stateNode;
    if (n === null)
        return null;
    var s = rf(n);
    if (s === null)
        return null;
    n = s[t];
    e: switch (t) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
        (s = !s.disabled) || (e = e.type,
        s = !(e === "button" || e === "input" || e === "select" || e === "textarea")),
        e = !s;
        break e;
    default:
        e = !1
    }
    if (e)
        return null;
    if (n && typeof n != "function")
        throw Error(X(231, t, typeof n));
    return n
}
var ih = !1;
if (zs)
    try {
        var pl = {};
        Object.defineProperty(pl, "passive", {
            get: function() {
                ih = !0
            }
        }),
        window.addEventListener("test", pl, pl),
        window.removeEventListener("test", pl, pl)
    } catch {
        ih = !1
    }
function uE(e, t, n, s, a, i, o, l, c) {
    var d = Array.prototype.slice.call(arguments, 3);
    try {
        t.apply(n, d)
    } catch (f) {
        this.onError(f)
    }
}
var Ol = !1
  , eu = null
  , tu = !1
  , oh = null
  , fE = {
    onError: function(e) {
        Ol = !0,
        eu = e
    }
};
function mE(e, t, n, s, a, i, o, l, c) {
    Ol = !1,
    eu = null,
    uE.apply(fE, arguments)
}
function hE(e, t, n, s, a, i, o, l, c) {
    if (mE.apply(this, arguments),
    Ol) {
        if (Ol) {
            var d = eu;
            Ol = !1,
            eu = null
        } else
            throw Error(X(198));
        tu || (tu = !0,
        oh = d)
    }
}
function Li(e) {
    var t = e
      , n = e;
    if (e.alternate)
        for (; t.return; )
            t = t.return;
    else {
        e = t;
        do
            t = e,
            t.flags & 4098 && (n = t.return),
            e = t.return;
        while (e)
    }
    return t.tag === 3 ? n : null
}
function cw(e) {
    if (e.tag === 13) {
        var t = e.memoizedState;
        if (t === null && (e = e.alternate,
        e !== null && (t = e.memoizedState)),
        t !== null)
            return t.dehydrated
    }
    return null
}
function ov(e) {
    if (Li(e) !== e)
        throw Error(X(188))
}
function pE(e) {
    var t = e.alternate;
    if (!t) {
        if (t = Li(e),
        t === null)
            throw Error(X(188));
        return t !== e ? null : e
    }
    for (var n = e, s = t; ; ) {
        var a = n.return;
        if (a === null)
            break;
        var i = a.alternate;
        if (i === null) {
            if (s = a.return,
            s !== null) {
                n = s;
                continue
            }
            break
        }
        if (a.child === i.child) {
            for (i = a.child; i; ) {
                if (i === n)
                    return ov(a),
                    e;
                if (i === s)
                    return ov(a),
                    t;
                i = i.sibling
            }
            throw Error(X(188))
        }
        if (n.return !== s.return)
            n = a,
            s = i;
        else {
            for (var o = !1, l = a.child; l; ) {
                if (l === n) {
                    o = !0,
                    n = a,
                    s = i;
                    break
                }
                if (l === s) {
                    o = !0,
                    s = a,
                    n = i;
                    break
                }
                l = l.sibling
            }
            if (!o) {
                for (l = i.child; l; ) {
                    if (l === n) {
                        o = !0,
                        n = i,
                        s = a;
                        break
                    }
                    if (l === s) {
                        o = !0,
                        s = i,
                        n = a;
                        break
                    }
                    l = l.sibling
                }
                if (!o)
                    throw Error(X(189))
            }
        }
        if (n.alternate !== s)
            throw Error(X(190))
    }
    if (n.tag !== 3)
        throw Error(X(188));
    return n.stateNode.current === n ? e : t
}
function dw(e) {
    return e = pE(e),
    e !== null ? uw(e) : null
}
function uw(e) {
    if (e.tag === 5 || e.tag === 6)
        return e;
    for (e = e.child; e !== null; ) {
        var t = uw(e);
        if (t !== null)
            return t;
        e = e.sibling
    }
    return null
}
var fw = ir.unstable_scheduleCallback
  , lv = ir.unstable_cancelCallback
  , xE = ir.unstable_shouldYield
  , gE = ir.unstable_requestPaint
  , Bt = ir.unstable_now
  , vE = ir.unstable_getCurrentPriorityLevel
  , Vp = ir.unstable_ImmediatePriority
  , mw = ir.unstable_UserBlockingPriority
  , nu = ir.unstable_NormalPriority
  , yE = ir.unstable_LowPriority
  , hw = ir.unstable_IdlePriority
  , Ju = null
  , fs = null;
function jE(e) {
    if (fs && typeof fs.onCommitFiberRoot == "function")
        try {
            fs.onCommitFiberRoot(Ju, e, void 0, (e.current.flags & 128) === 128)
        } catch {}
}
var Lr = Math.clz32 ? Math.clz32 : NE
  , wE = Math.log
  , bE = Math.LN2;
function NE(e) {
    return e >>>= 0,
    e === 0 ? 32 : 31 - (wE(e) / bE | 0) | 0
}
var dd = 64
  , ud = 4194304;
function Tl(e) {
    switch (e & -e) {
    case 1:
        return 1;
    case 2:
        return 2;
    case 4:
        return 4;
    case 8:
        return 8;
    case 16:
        return 16;
    case 32:
        return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return e & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return e & 130023424;
    case 134217728:
        return 134217728;
    case 268435456:
        return 268435456;
    case 536870912:
        return 536870912;
    case 1073741824:
        return 1073741824;
    default:
        return e
    }
}
function ru(e, t) {
    var n = e.pendingLanes;
    if (n === 0)
        return 0;
    var s = 0
      , a = e.suspendedLanes
      , i = e.pingedLanes
      , o = n & 268435455;
    if (o !== 0) {
        var l = o & ~a;
        l !== 0 ? s = Tl(l) : (i &= o,
        i !== 0 && (s = Tl(i)))
    } else
        o = n & ~a,
        o !== 0 ? s = Tl(o) : i !== 0 && (s = Tl(i));
    if (s === 0)
        return 0;
    if (t !== 0 && t !== s && !(t & a) && (a = s & -s,
    i = t & -t,
    a >= i || a === 16 && (i & 4194240) !== 0))
        return t;
    if (s & 4 && (s |= n & 16),
    t = e.entangledLanes,
    t !== 0)
        for (e = e.entanglements,
        t &= s; 0 < t; )
            n = 31 - Lr(t),
            a = 1 << n,
            s |= e[n],
            t &= ~a;
    return s
}
function SE(e, t) {
    switch (e) {
    case 1:
    case 2:
    case 4:
        return t + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return t + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
        return -1;
    default:
        return -1
    }
}
function CE(e, t) {
    for (var n = e.suspendedLanes, s = e.pingedLanes, a = e.expirationTimes, i = e.pendingLanes; 0 < i; ) {
        var o = 31 - Lr(i)
          , l = 1 << o
          , c = a[o];
        c === -1 ? (!(l & n) || l & s) && (a[o] = SE(l, t)) : c <= t && (e.expiredLanes |= l),
        i &= ~l
    }
}
function lh(e) {
    return e = e.pendingLanes & -1073741825,
    e !== 0 ? e : e & 1073741824 ? 1073741824 : 0
}
function pw() {
    var e = dd;
    return dd <<= 1,
    !(dd & 4194240) && (dd = 64),
    e
}
function am(e) {
    for (var t = [], n = 0; 31 > n; n++)
        t.push(e);
    return t
}
function zc(e, t, n) {
    e.pendingLanes |= t,
    t !== 536870912 && (e.suspendedLanes = 0,
    e.pingedLanes = 0),
    e = e.eventTimes,
    t = 31 - Lr(t),
    e[t] = n
}
function kE(e, t) {
    var n = e.pendingLanes & ~t;
    e.pendingLanes = t,
    e.suspendedLanes = 0,
    e.pingedLanes = 0,
    e.expiredLanes &= t,
    e.mutableReadLanes &= t,
    e.entangledLanes &= t,
    t = e.entanglements;
    var s = e.eventTimes;
    for (e = e.expirationTimes; 0 < n; ) {
        var a = 31 - Lr(n)
          , i = 1 << a;
        t[a] = 0,
        s[a] = -1,
        e[a] = -1,
        n &= ~i
    }
}
function Up(e, t) {
    var n = e.entangledLanes |= t;
    for (e = e.entanglements; n; ) {
        var s = 31 - Lr(n)
          , a = 1 << s;
        a & t | e[s] & t && (e[s] |= t),
        n &= ~a
    }
}
var vt = 0;
function xw(e) {
    return e &= -e,
    1 < e ? 4 < e ? e & 268435455 ? 16 : 536870912 : 4 : 1
}
var gw, Wp, vw, yw, jw, ch = !1, fd = [], wa = null, ba = null, Na = null, Xl = new Map, Jl = new Map, oa = [], EE = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function cv(e, t) {
    switch (e) {
    case "focusin":
    case "focusout":
        wa = null;
        break;
    case "dragenter":
    case "dragleave":
        ba = null;
        break;
    case "mouseover":
    case "mouseout":
        Na = null;
        break;
    case "pointerover":
    case "pointerout":
        Xl.delete(t.pointerId);
        break;
    case "gotpointercapture":
    case "lostpointercapture":
        Jl.delete(t.pointerId)
    }
}
function xl(e, t, n, s, a, i) {
    return e === null || e.nativeEvent !== i ? (e = {
        blockedOn: t,
        domEventName: n,
        eventSystemFlags: s,
        nativeEvent: i,
        targetContainers: [a]
    },
    t !== null && (t = Uc(t),
    t !== null && Wp(t)),
    e) : (e.eventSystemFlags |= s,
    t = e.targetContainers,
    a !== null && t.indexOf(a) === -1 && t.push(a),
    e)
}
function TE(e, t, n, s, a) {
    switch (t) {
    case "focusin":
        return wa = xl(wa, e, t, n, s, a),
        !0;
    case "dragenter":
        return ba = xl(ba, e, t, n, s, a),
        !0;
    case "mouseover":
        return Na = xl(Na, e, t, n, s, a),
        !0;
    case "pointerover":
        var i = a.pointerId;
        return Xl.set(i, xl(Xl.get(i) || null, e, t, n, s, a)),
        !0;
    case "gotpointercapture":
        return i = a.pointerId,
        Jl.set(i, xl(Jl.get(i) || null, e, t, n, s, a)),
        !0
    }
    return !1
}
function ww(e) {
    var t = Ja(e.target);
    if (t !== null) {
        var n = Li(t);
        if (n !== null) {
            if (t = n.tag,
            t === 13) {
                if (t = cw(n),
                t !== null) {
                    e.blockedOn = t,
                    jw(e.priority, function() {
                        vw(n)
                    });
                    return
                }
            } else if (t === 3 && n.stateNode.current.memoizedState.isDehydrated) {
                e.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
                return
            }
        }
    }
    e.blockedOn = null
}
function Dd(e) {
    if (e.blockedOn !== null)
        return !1;
    for (var t = e.targetContainers; 0 < t.length; ) {
        var n = dh(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
        if (n === null) {
            n = e.nativeEvent;
            var s = new n.constructor(n.type,n);
            sh = s,
            n.target.dispatchEvent(s),
            sh = null
        } else
            return t = Uc(n),
            t !== null && Wp(t),
            e.blockedOn = n,
            !1;
        t.shift()
    }
    return !0
}
function dv(e, t, n) {
    Dd(e) && n.delete(t)
}
function _E() {
    ch = !1,
    wa !== null && Dd(wa) && (wa = null),
    ba !== null && Dd(ba) && (ba = null),
    Na !== null && Dd(Na) && (Na = null),
    Xl.forEach(dv),
    Jl.forEach(dv)
}
function gl(e, t) {
    e.blockedOn === t && (e.blockedOn = null,
    ch || (ch = !0,
    ir.unstable_scheduleCallback(ir.unstable_NormalPriority, _E)))
}
function ec(e) {
    function t(a) {
        return gl(a, e)
    }
    if (0 < fd.length) {
        gl(fd[0], e);
        for (var n = 1; n < fd.length; n++) {
            var s = fd[n];
            s.blockedOn === e && (s.blockedOn = null)
        }
    }
    for (wa !== null && gl(wa, e),
    ba !== null && gl(ba, e),
    Na !== null && gl(Na, e),
    Xl.forEach(t),
    Jl.forEach(t),
    n = 0; n < oa.length; n++)
        s = oa[n],
        s.blockedOn === e && (s.blockedOn = null);
    for (; 0 < oa.length && (n = oa[0],
    n.blockedOn === null); )
        ww(n),
        n.blockedOn === null && oa.shift()
}
var mo = Qs.ReactCurrentBatchConfig
  , su = !0;
function PE(e, t, n, s) {
    var a = vt
      , i = mo.transition;
    mo.transition = null;
    try {
        vt = 1,
        Bp(e, t, n, s)
    } finally {
        vt = a,
        mo.transition = i
    }
}
function RE(e, t, n, s) {
    var a = vt
      , i = mo.transition;
    mo.transition = null;
    try {
        vt = 4,
        Bp(e, t, n, s)
    } finally {
        vt = a,
        mo.transition = i
    }
}
function Bp(e, t, n, s) {
    if (su) {
        var a = dh(e, t, n, s);
        if (a === null)
            pm(e, t, s, au, n),
            cv(e, s);
        else if (TE(a, e, t, n, s))
            s.stopPropagation();
        else if (cv(e, s),
        t & 4 && -1 < EE.indexOf(e)) {
            for (; a !== null; ) {
                var i = Uc(a);
                if (i !== null && gw(i),
                i = dh(e, t, n, s),
                i === null && pm(e, t, s, au, n),
                i === a)
                    break;
                a = i
            }
            a !== null && s.stopPropagation()
        } else
            pm(e, t, s, null, n)
    }
}
var au = null;
function dh(e, t, n, s) {
    if (au = null,
    e = zp(s),
    e = Ja(e),
    e !== null)
        if (t = Li(e),
        t === null)
            e = null;
        else if (n = t.tag,
        n === 13) {
            if (e = cw(t),
            e !== null)
                return e;
            e = null
        } else if (n === 3) {
            if (t.stateNode.current.memoizedState.isDehydrated)
                return t.tag === 3 ? t.stateNode.containerInfo : null;
            e = null
        } else
            t !== e && (e = null);
    return au = e,
    null
}
function bw(e) {
    switch (e) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
        return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
        return 4;
    case "message":
        switch (vE()) {
        case Vp:
            return 1;
        case mw:
            return 4;
        case nu:
        case yE:
            return 16;
        case hw:
            return 536870912;
        default:
            return 16
        }
    default:
        return 16
    }
}
var ya = null
  , Hp = null
  , Od = null;
function Nw() {
    if (Od)
        return Od;
    var e, t = Hp, n = t.length, s, a = "value"in ya ? ya.value : ya.textContent, i = a.length;
    for (e = 0; e < n && t[e] === a[e]; e++)
        ;
    var o = n - e;
    for (s = 1; s <= o && t[n - s] === a[i - s]; s++)
        ;
    return Od = a.slice(e, 1 < s ? 1 - s : void 0)
}
function Ld(e) {
    var t = e.keyCode;
    return "charCode"in e ? (e = e.charCode,
    e === 0 && t === 13 && (e = 13)) : e = t,
    e === 10 && (e = 13),
    32 <= e || e === 13 ? e : 0
}
function md() {
    return !0
}
function uv() {
    return !1
}
function lr(e) {
    function t(n, s, a, i, o) {
        this._reactName = n,
        this._targetInst = a,
        this.type = s,
        this.nativeEvent = i,
        this.target = o,
        this.currentTarget = null;
        for (var l in e)
            e.hasOwnProperty(l) && (n = e[l],
            this[l] = n ? n(i) : i[l]);
        return this.isDefaultPrevented = (i.defaultPrevented != null ? i.defaultPrevented : i.returnValue === !1) ? md : uv,
        this.isPropagationStopped = uv,
        this
    }
    return Dt(t.prototype, {
        preventDefault: function() {
            this.defaultPrevented = !0;
            var n = this.nativeEvent;
            n && (n.preventDefault ? n.preventDefault() : typeof n.returnValue != "unknown" && (n.returnValue = !1),
            this.isDefaultPrevented = md)
        },
        stopPropagation: function() {
            var n = this.nativeEvent;
            n && (n.stopPropagation ? n.stopPropagation() : typeof n.cancelBubble != "unknown" && (n.cancelBubble = !0),
            this.isPropagationStopped = md)
        },
        persist: function() {},
        isPersistent: md
    }),
    t
}
var Jo = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function(e) {
        return e.timeStamp || Date.now()
    },
    defaultPrevented: 0,
    isTrusted: 0
}, qp = lr(Jo), Vc = Dt({}, Jo, {
    view: 0,
    detail: 0
}), AE = lr(Vc), im, om, vl, ef = Dt({}, Vc, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: Kp,
    button: 0,
    buttons: 0,
    relatedTarget: function(e) {
        return e.relatedTarget === void 0 ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget
    },
    movementX: function(e) {
        return "movementX"in e ? e.movementX : (e !== vl && (vl && e.type === "mousemove" ? (im = e.screenX - vl.screenX,
        om = e.screenY - vl.screenY) : om = im = 0,
        vl = e),
        im)
    },
    movementY: function(e) {
        return "movementY"in e ? e.movementY : om
    }
}), fv = lr(ef), ME = Dt({}, ef, {
    dataTransfer: 0
}), IE = lr(ME), DE = Dt({}, Vc, {
    relatedTarget: 0
}), lm = lr(DE), OE = Dt({}, Jo, {
    animationName: 0,
    elapsedTime: 0,
    pseudoElement: 0
}), LE = lr(OE), FE = Dt({}, Jo, {
    clipboardData: function(e) {
        return "clipboardData"in e ? e.clipboardData : window.clipboardData
    }
}), $E = lr(FE), zE = Dt({}, Jo, {
    data: 0
}), mv = lr(zE), VE = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified"
}, UE = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta"
}, WE = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey"
};
function BE(e) {
    var t = this.nativeEvent;
    return t.getModifierState ? t.getModifierState(e) : (e = WE[e]) ? !!t[e] : !1
}
function Kp() {
    return BE
}
var HE = Dt({}, Vc, {
    key: function(e) {
        if (e.key) {
            var t = VE[e.key] || e.key;
            if (t !== "Unidentified")
                return t
        }
        return e.type === "keypress" ? (e = Ld(e),
        e === 13 ? "Enter" : String.fromCharCode(e)) : e.type === "keydown" || e.type === "keyup" ? UE[e.keyCode] || "Unidentified" : ""
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: Kp,
    charCode: function(e) {
        return e.type === "keypress" ? Ld(e) : 0
    },
    keyCode: function(e) {
        return e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0
    },
    which: function(e) {
        return e.type === "keypress" ? Ld(e) : e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0
    }
})
  , qE = lr(HE)
  , KE = Dt({}, ef, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0
})
  , hv = lr(KE)
  , QE = Dt({}, Vc, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: Kp
})
  , GE = lr(QE)
  , ZE = Dt({}, Jo, {
    propertyName: 0,
    elapsedTime: 0,
    pseudoElement: 0
})
  , YE = lr(ZE)
  , XE = Dt({}, ef, {
    deltaX: function(e) {
        return "deltaX"in e ? e.deltaX : "wheelDeltaX"in e ? -e.wheelDeltaX : 0
    },
    deltaY: function(e) {
        return "deltaY"in e ? e.deltaY : "wheelDeltaY"in e ? -e.wheelDeltaY : "wheelDelta"in e ? -e.wheelDelta : 0
    },
    deltaZ: 0,
    deltaMode: 0
})
  , JE = lr(XE)
  , eT = [9, 13, 27, 32]
  , Qp = zs && "CompositionEvent"in window
  , Ll = null;
zs && "documentMode"in document && (Ll = document.documentMode);
var tT = zs && "TextEvent"in window && !Ll
  , Sw = zs && (!Qp || Ll && 8 < Ll && 11 >= Ll)
  , pv = " "
  , xv = !1;
function Cw(e, t) {
    switch (e) {
    case "keyup":
        return eT.indexOf(t.keyCode) !== -1;
    case "keydown":
        return t.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
        return !0;
    default:
        return !1
    }
}
function kw(e) {
    return e = e.detail,
    typeof e == "object" && "data"in e ? e.data : null
}
var Xi = !1;
function nT(e, t) {
    switch (e) {
    case "compositionend":
        return kw(t);
    case "keypress":
        return t.which !== 32 ? null : (xv = !0,
        pv);
    case "textInput":
        return e = t.data,
        e === pv && xv ? null : e;
    default:
        return null
    }
}
function rT(e, t) {
    if (Xi)
        return e === "compositionend" || !Qp && Cw(e, t) ? (e = Nw(),
        Od = Hp = ya = null,
        Xi = !1,
        e) : null;
    switch (e) {
    case "paste":
        return null;
    case "keypress":
        if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) {
            if (t.char && 1 < t.char.length)
                return t.char;
            if (t.which)
                return String.fromCharCode(t.which)
        }
        return null;
    case "compositionend":
        return Sw && t.locale !== "ko" ? null : t.data;
    default:
        return null
    }
}
var sT = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0
};
function gv(e) {
    var t = e && e.nodeName && e.nodeName.toLowerCase();
    return t === "input" ? !!sT[e.type] : t === "textarea"
}
function Ew(e, t, n, s) {
    sw(s),
    t = iu(t, "onChange"),
    0 < t.length && (n = new qp("onChange","change",null,n,s),
    e.push({
        event: n,
        listeners: t
    }))
}
var Fl = null
  , tc = null;
function aT(e) {
    Fw(e, 0)
}
function tf(e) {
    var t = to(e);
    if (Yj(t))
        return e
}
function iT(e, t) {
    if (e === "change")
        return t
}
var Tw = !1;
if (zs) {
    var cm;
    if (zs) {
        var dm = "oninput"in document;
        if (!dm) {
            var vv = document.createElement("div");
            vv.setAttribute("oninput", "return;"),
            dm = typeof vv.oninput == "function"
        }
        cm = dm
    } else
        cm = !1;
    Tw = cm && (!document.documentMode || 9 < document.documentMode)
}
function yv() {
    Fl && (Fl.detachEvent("onpropertychange", _w),
    tc = Fl = null)
}
function _w(e) {
    if (e.propertyName === "value" && tf(tc)) {
        var t = [];
        Ew(t, tc, e, zp(e)),
        lw(aT, t)
    }
}
function oT(e, t, n) {
    e === "focusin" ? (yv(),
    Fl = t,
    tc = n,
    Fl.attachEvent("onpropertychange", _w)) : e === "focusout" && yv()
}
function lT(e) {
    if (e === "selectionchange" || e === "keyup" || e === "keydown")
        return tf(tc)
}
function cT(e, t) {
    if (e === "click")
        return tf(t)
}
function dT(e, t) {
    if (e === "input" || e === "change")
        return tf(t)
}
function uT(e, t) {
    return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t
}
var Br = typeof Object.is == "function" ? Object.is : uT;
function nc(e, t) {
    if (Br(e, t))
        return !0;
    if (typeof e != "object" || e === null || typeof t != "object" || t === null)
        return !1;
    var n = Object.keys(e)
      , s = Object.keys(t);
    if (n.length !== s.length)
        return !1;
    for (s = 0; s < n.length; s++) {
        var a = n[s];
        if (!qm.call(t, a) || !Br(e[a], t[a]))
            return !1
    }
    return !0
}
function jv(e) {
    for (; e && e.firstChild; )
        e = e.firstChild;
    return e
}
function wv(e, t) {
    var n = jv(e);
    e = 0;
    for (var s; n; ) {
        if (n.nodeType === 3) {
            if (s = e + n.textContent.length,
            e <= t && s >= t)
                return {
                    node: n,
                    offset: t - e
                };
            e = s
        }
        e: {
            for (; n; ) {
                if (n.nextSibling) {
                    n = n.nextSibling;
                    break e
                }
                n = n.parentNode
            }
            n = void 0
        }
        n = jv(n)
    }
}
function Pw(e, t) {
    return e && t ? e === t ? !0 : e && e.nodeType === 3 ? !1 : t && t.nodeType === 3 ? Pw(e, t.parentNode) : "contains"in e ? e.contains(t) : e.compareDocumentPosition ? !!(e.compareDocumentPosition(t) & 16) : !1 : !1
}
function Rw() {
    for (var e = window, t = Jd(); t instanceof e.HTMLIFrameElement; ) {
        try {
            var n = typeof t.contentWindow.location.href == "string"
        } catch {
            n = !1
        }
        if (n)
            e = t.contentWindow;
        else
            break;
        t = Jd(e.document)
    }
    return t
}
function Gp(e) {
    var t = e && e.nodeName && e.nodeName.toLowerCase();
    return t && (t === "input" && (e.type === "text" || e.type === "search" || e.type === "tel" || e.type === "url" || e.type === "password") || t === "textarea" || e.contentEditable === "true")
}
function fT(e) {
    var t = Rw()
      , n = e.focusedElem
      , s = e.selectionRange;
    if (t !== n && n && n.ownerDocument && Pw(n.ownerDocument.documentElement, n)) {
        if (s !== null && Gp(n)) {
            if (t = s.start,
            e = s.end,
            e === void 0 && (e = t),
            "selectionStart"in n)
                n.selectionStart = t,
                n.selectionEnd = Math.min(e, n.value.length);
            else if (e = (t = n.ownerDocument || document) && t.defaultView || window,
            e.getSelection) {
                e = e.getSelection();
                var a = n.textContent.length
                  , i = Math.min(s.start, a);
                s = s.end === void 0 ? i : Math.min(s.end, a),
                !e.extend && i > s && (a = s,
                s = i,
                i = a),
                a = wv(n, i);
                var o = wv(n, s);
                a && o && (e.rangeCount !== 1 || e.anchorNode !== a.node || e.anchorOffset !== a.offset || e.focusNode !== o.node || e.focusOffset !== o.offset) && (t = t.createRange(),
                t.setStart(a.node, a.offset),
                e.removeAllRanges(),
                i > s ? (e.addRange(t),
                e.extend(o.node, o.offset)) : (t.setEnd(o.node, o.offset),
                e.addRange(t)))
            }
        }
        for (t = [],
        e = n; e = e.parentNode; )
            e.nodeType === 1 && t.push({
                element: e,
                left: e.scrollLeft,
                top: e.scrollTop
            });
        for (typeof n.focus == "function" && n.focus(),
        n = 0; n < t.length; n++)
            e = t[n],
            e.element.scrollLeft = e.left,
            e.element.scrollTop = e.top
    }
}
var mT = zs && "documentMode"in document && 11 >= document.documentMode
  , Ji = null
  , uh = null
  , $l = null
  , fh = !1;
function bv(e, t, n) {
    var s = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
    fh || Ji == null || Ji !== Jd(s) || (s = Ji,
    "selectionStart"in s && Gp(s) ? s = {
        start: s.selectionStart,
        end: s.selectionEnd
    } : (s = (s.ownerDocument && s.ownerDocument.defaultView || window).getSelection(),
    s = {
        anchorNode: s.anchorNode,
        anchorOffset: s.anchorOffset,
        focusNode: s.focusNode,
        focusOffset: s.focusOffset
    }),
    $l && nc($l, s) || ($l = s,
    s = iu(uh, "onSelect"),
    0 < s.length && (t = new qp("onSelect","select",null,t,n),
    e.push({
        event: t,
        listeners: s
    }),
    t.target = Ji)))
}
function hd(e, t) {
    var n = {};
    return n[e.toLowerCase()] = t.toLowerCase(),
    n["Webkit" + e] = "webkit" + t,
    n["Moz" + e] = "moz" + t,
    n
}
var eo = {
    animationend: hd("Animation", "AnimationEnd"),
    animationiteration: hd("Animation", "AnimationIteration"),
    animationstart: hd("Animation", "AnimationStart"),
    transitionend: hd("Transition", "TransitionEnd")
}
  , um = {}
  , Aw = {};
zs && (Aw = document.createElement("div").style,
"AnimationEvent"in window || (delete eo.animationend.animation,
delete eo.animationiteration.animation,
delete eo.animationstart.animation),
"TransitionEvent"in window || delete eo.transitionend.transition);
function nf(e) {
    if (um[e])
        return um[e];
    if (!eo[e])
        return e;
    var t = eo[e], n;
    for (n in t)
        if (t.hasOwnProperty(n) && n in Aw)
            return um[e] = t[n];
    return e
}
var Mw = nf("animationend")
  , Iw = nf("animationiteration")
  , Dw = nf("animationstart")
  , Ow = nf("transitionend")
  , Lw = new Map
  , Nv = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
function Wa(e, t) {
    Lw.set(e, t),
    Oi(t, [e])
}
for (var fm = 0; fm < Nv.length; fm++) {
    var mm = Nv[fm]
      , hT = mm.toLowerCase()
      , pT = mm[0].toUpperCase() + mm.slice(1);
    Wa(hT, "on" + pT)
}
Wa(Mw, "onAnimationEnd");
Wa(Iw, "onAnimationIteration");
Wa(Dw, "onAnimationStart");
Wa("dblclick", "onDoubleClick");
Wa("focusin", "onFocus");
Wa("focusout", "onBlur");
Wa(Ow, "onTransitionEnd");
Lo("onMouseEnter", ["mouseout", "mouseover"]);
Lo("onMouseLeave", ["mouseout", "mouseover"]);
Lo("onPointerEnter", ["pointerout", "pointerover"]);
Lo("onPointerLeave", ["pointerout", "pointerover"]);
Oi("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
Oi("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
Oi("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
Oi("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
Oi("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
Oi("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
var _l = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ")
  , xT = new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));
function Sv(e, t, n) {
    var s = e.type || "unknown-event";
    e.currentTarget = n,
    hE(s, t, void 0, e),
    e.currentTarget = null
}
function Fw(e, t) {
    t = (t & 4) !== 0;
    for (var n = 0; n < e.length; n++) {
        var s = e[n]
          , a = s.event;
        s = s.listeners;
        e: {
            var i = void 0;
            if (t)
                for (var o = s.length - 1; 0 <= o; o--) {
                    var l = s[o]
                      , c = l.instance
                      , d = l.currentTarget;
                    if (l = l.listener,
                    c !== i && a.isPropagationStopped())
                        break e;
                    Sv(a, l, d),
                    i = c
                }
            else
                for (o = 0; o < s.length; o++) {
                    if (l = s[o],
                    c = l.instance,
                    d = l.currentTarget,
                    l = l.listener,
                    c !== i && a.isPropagationStopped())
                        break e;
                    Sv(a, l, d),
                    i = c
                }
        }
    }
    if (tu)
        throw e = oh,
        tu = !1,
        oh = null,
        e
}
function Et(e, t) {
    var n = t[gh];
    n === void 0 && (n = t[gh] = new Set);
    var s = e + "__bubble";
    n.has(s) || ($w(t, e, 2, !1),
    n.add(s))
}
function hm(e, t, n) {
    var s = 0;
    t && (s |= 4),
    $w(n, e, s, t)
}
var pd = "_reactListening" + Math.random().toString(36).slice(2);
function rc(e) {
    if (!e[pd]) {
        e[pd] = !0,
        qj.forEach(function(n) {
            n !== "selectionchange" && (xT.has(n) || hm(n, !1, e),
            hm(n, !0, e))
        });
        var t = e.nodeType === 9 ? e : e.ownerDocument;
        t === null || t[pd] || (t[pd] = !0,
        hm("selectionchange", !1, t))
    }
}
function $w(e, t, n, s) {
    switch (bw(t)) {
    case 1:
        var a = PE;
        break;
    case 4:
        a = RE;
        break;
    default:
        a = Bp
    }
    n = a.bind(null, t, n, e),
    a = void 0,
    !ih || t !== "touchstart" && t !== "touchmove" && t !== "wheel" || (a = !0),
    s ? a !== void 0 ? e.addEventListener(t, n, {
        capture: !0,
        passive: a
    }) : e.addEventListener(t, n, !0) : a !== void 0 ? e.addEventListener(t, n, {
        passive: a
    }) : e.addEventListener(t, n, !1)
}
function pm(e, t, n, s, a) {
    var i = s;
    if (!(t & 1) && !(t & 2) && s !== null)
        e: for (; ; ) {
            if (s === null)
                return;
            var o = s.tag;
            if (o === 3 || o === 4) {
                var l = s.stateNode.containerInfo;
                if (l === a || l.nodeType === 8 && l.parentNode === a)
                    break;
                if (o === 4)
                    for (o = s.return; o !== null; ) {
                        var c = o.tag;
                        if ((c === 3 || c === 4) && (c = o.stateNode.containerInfo,
                        c === a || c.nodeType === 8 && c.parentNode === a))
                            return;
                        o = o.return
                    }
                for (; l !== null; ) {
                    if (o = Ja(l),
                    o === null)
                        return;
                    if (c = o.tag,
                    c === 5 || c === 6) {
                        s = i = o;
                        continue e
                    }
                    l = l.parentNode
                }
            }
            s = s.return
        }
    lw(function() {
        var d = i
          , f = zp(n)
          , m = [];
        e: {
            var h = Lw.get(e);
            if (h !== void 0) {
                var g = qp
                  , w = e;
                switch (e) {
                case "keypress":
                    if (Ld(n) === 0)
                        break e;
                case "keydown":
                case "keyup":
                    g = qE;
                    break;
                case "focusin":
                    w = "focus",
                    g = lm;
                    break;
                case "focusout":
                    w = "blur",
                    g = lm;
                    break;
                case "beforeblur":
                case "afterblur":
                    g = lm;
                    break;
                case "click":
                    if (n.button === 2)
                        break e;
                case "auxclick":
                case "dblclick":
                case "mousedown":
                case "mousemove":
                case "mouseup":
                case "mouseout":
                case "mouseover":
                case "contextmenu":
                    g = fv;
                    break;
                case "drag":
                case "dragend":
                case "dragenter":
                case "dragexit":
                case "dragleave":
                case "dragover":
                case "dragstart":
                case "drop":
                    g = IE;
                    break;
                case "touchcancel":
                case "touchend":
                case "touchmove":
                case "touchstart":
                    g = GE;
                    break;
                case Mw:
                case Iw:
                case Dw:
                    g = LE;
                    break;
                case Ow:
                    g = YE;
                    break;
                case "scroll":
                    g = AE;
                    break;
                case "wheel":
                    g = JE;
                    break;
                case "copy":
                case "cut":
                case "paste":
                    g = $E;
                    break;
                case "gotpointercapture":
                case "lostpointercapture":
                case "pointercancel":
                case "pointerdown":
                case "pointermove":
                case "pointerout":
                case "pointerover":
                case "pointerup":
                    g = hv
                }
                var x = (t & 4) !== 0
                  , y = !x && e === "scroll"
                  , v = x ? h !== null ? h + "Capture" : null : h;
                x = [];
                for (var p = d, j; p !== null; ) {
                    j = p;
                    var N = j.stateNode;
                    if (j.tag === 5 && N !== null && (j = N,
                    v !== null && (N = Yl(p, v),
                    N != null && x.push(sc(p, N, j)))),
                    y)
                        break;
                    p = p.return
                }
                0 < x.length && (h = new g(h,w,null,n,f),
                m.push({
                    event: h,
                    listeners: x
                }))
            }
        }
        if (!(t & 7)) {
            e: {
                if (h = e === "mouseover" || e === "pointerover",
                g = e === "mouseout" || e === "pointerout",
                h && n !== sh && (w = n.relatedTarget || n.fromElement) && (Ja(w) || w[Vs]))
                    break e;
                if ((g || h) && (h = f.window === f ? f : (h = f.ownerDocument) ? h.defaultView || h.parentWindow : window,
                g ? (w = n.relatedTarget || n.toElement,
                g = d,
                w = w ? Ja(w) : null,
                w !== null && (y = Li(w),
                w !== y || w.tag !== 5 && w.tag !== 6) && (w = null)) : (g = null,
                w = d),
                g !== w)) {
                    if (x = fv,
                    N = "onMouseLeave",
                    v = "onMouseEnter",
                    p = "mouse",
                    (e === "pointerout" || e === "pointerover") && (x = hv,
                    N = "onPointerLeave",
                    v = "onPointerEnter",
                    p = "pointer"),
                    y = g == null ? h : to(g),
                    j = w == null ? h : to(w),
                    h = new x(N,p + "leave",g,n,f),
                    h.target = y,
                    h.relatedTarget = j,
                    N = null,
                    Ja(f) === d && (x = new x(v,p + "enter",w,n,f),
                    x.target = j,
                    x.relatedTarget = y,
                    N = x),
                    y = N,
                    g && w)
                        t: {
                            for (x = g,
                            v = w,
                            p = 0,
                            j = x; j; j = Wi(j))
                                p++;
                            for (j = 0,
                            N = v; N; N = Wi(N))
                                j++;
                            for (; 0 < p - j; )
                                x = Wi(x),
                                p--;
                            for (; 0 < j - p; )
                                v = Wi(v),
                                j--;
                            for (; p--; ) {
                                if (x === v || v !== null && x === v.alternate)
                                    break t;
                                x = Wi(x),
                                v = Wi(v)
                            }
                            x = null
                        }
                    else
                        x = null;
                    g !== null && Cv(m, h, g, x, !1),
                    w !== null && y !== null && Cv(m, y, w, x, !0)
                }
            }
            e: {
                if (h = d ? to(d) : window,
                g = h.nodeName && h.nodeName.toLowerCase(),
                g === "select" || g === "input" && h.type === "file")
                    var S = iT;
                else if (gv(h))
                    if (Tw)
                        S = dT;
                    else {
                        S = lT;
                        var k = oT
                    }
                else
                    (g = h.nodeName) && g.toLowerCase() === "input" && (h.type === "checkbox" || h.type === "radio") && (S = cT);
                if (S && (S = S(e, d))) {
                    Ew(m, S, n, f);
                    break e
                }
                k && k(e, h, d),
                e === "focusout" && (k = h._wrapperState) && k.controlled && h.type === "number" && Jm(h, "number", h.value)
            }
            switch (k = d ? to(d) : window,
            e) {
            case "focusin":
                (gv(k) || k.contentEditable === "true") && (Ji = k,
                uh = d,
                $l = null);
                break;
            case "focusout":
                $l = uh = Ji = null;
                break;
            case "mousedown":
                fh = !0;
                break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
                fh = !1,
                bv(m, n, f);
                break;
            case "selectionchange":
                if (mT)
                    break;
            case "keydown":
            case "keyup":
                bv(m, n, f)
            }
            var C;
            if (Qp)
                e: {
                    switch (e) {
                    case "compositionstart":
                        var E = "onCompositionStart";
                        break e;
                    case "compositionend":
                        E = "onCompositionEnd";
                        break e;
                    case "compositionupdate":
                        E = "onCompositionUpdate";
                        break e
                    }
                    E = void 0
                }
            else
                Xi ? Cw(e, n) && (E = "onCompositionEnd") : e === "keydown" && n.keyCode === 229 && (E = "onCompositionStart");
            E && (Sw && n.locale !== "ko" && (Xi || E !== "onCompositionStart" ? E === "onCompositionEnd" && Xi && (C = Nw()) : (ya = f,
            Hp = "value"in ya ? ya.value : ya.textContent,
            Xi = !0)),
            k = iu(d, E),
            0 < k.length && (E = new mv(E,e,null,n,f),
            m.push({
                event: E,
                listeners: k
            }),
            C ? E.data = C : (C = kw(n),
            C !== null && (E.data = C)))),
            (C = tT ? nT(e, n) : rT(e, n)) && (d = iu(d, "onBeforeInput"),
            0 < d.length && (f = new mv("onBeforeInput","beforeinput",null,n,f),
            m.push({
                event: f,
                listeners: d
            }),
            f.data = C))
        }
        Fw(m, t)
    })
}
function sc(e, t, n) {
    return {
        instance: e,
        listener: t,
        currentTarget: n
    }
}
function iu(e, t) {
    for (var n = t + "Capture", s = []; e !== null; ) {
        var a = e
          , i = a.stateNode;
        a.tag === 5 && i !== null && (a = i,
        i = Yl(e, n),
        i != null && s.unshift(sc(e, i, a)),
        i = Yl(e, t),
        i != null && s.push(sc(e, i, a))),
        e = e.return
    }
    return s
}
function Wi(e) {
    if (e === null)
        return null;
    do
        e = e.return;
    while (e && e.tag !== 5);
    return e || null
}
function Cv(e, t, n, s, a) {
    for (var i = t._reactName, o = []; n !== null && n !== s; ) {
        var l = n
          , c = l.alternate
          , d = l.stateNode;
        if (c !== null && c === s)
            break;
        l.tag === 5 && d !== null && (l = d,
        a ? (c = Yl(n, i),
        c != null && o.unshift(sc(n, c, l))) : a || (c = Yl(n, i),
        c != null && o.push(sc(n, c, l)))),
        n = n.return
    }
    o.length !== 0 && e.push({
        event: t,
        listeners: o
    })
}
var gT = /\r\n?/g
  , vT = /\u0000|\uFFFD/g;
function kv(e) {
    return (typeof e == "string" ? e : "" + e).replace(gT, `
`).replace(vT, "")
}
function xd(e, t, n) {
    if (t = kv(t),
    kv(e) !== t && n)
        throw Error(X(425))
}
function ou() {}
var mh = null
  , hh = null;
function ph(e, t) {
    return e === "textarea" || e === "noscript" || typeof t.children == "string" || typeof t.children == "number" || typeof t.dangerouslySetInnerHTML == "object" && t.dangerouslySetInnerHTML !== null && t.dangerouslySetInnerHTML.__html != null
}
var xh = typeof setTimeout == "function" ? setTimeout : void 0
  , yT = typeof clearTimeout == "function" ? clearTimeout : void 0
  , Ev = typeof Promise == "function" ? Promise : void 0
  , jT = typeof queueMicrotask == "function" ? queueMicrotask : typeof Ev < "u" ? function(e) {
    return Ev.resolve(null).then(e).catch(wT)
}
: xh;
function wT(e) {
    setTimeout(function() {
        throw e
    })
}
function xm(e, t) {
    var n = t
      , s = 0;
    do {
        var a = n.nextSibling;
        if (e.removeChild(n),
        a && a.nodeType === 8)
            if (n = a.data,
            n === "/$") {
                if (s === 0) {
                    e.removeChild(a),
                    ec(t);
                    return
                }
                s--
            } else
                n !== "$" && n !== "$?" && n !== "$!" || s++;
        n = a
    } while (n);
    ec(t)
}
function Sa(e) {
    for (; e != null; e = e.nextSibling) {
        var t = e.nodeType;
        if (t === 1 || t === 3)
            break;
        if (t === 8) {
            if (t = e.data,
            t === "$" || t === "$!" || t === "$?")
                break;
            if (t === "/$")
                return null
        }
    }
    return e
}
function Tv(e) {
    e = e.previousSibling;
    for (var t = 0; e; ) {
        if (e.nodeType === 8) {
            var n = e.data;
            if (n === "$" || n === "$!" || n === "$?") {
                if (t === 0)
                    return e;
                t--
            } else
                n === "/$" && t++
        }
        e = e.previousSibling
    }
    return null
}
var el = Math.random().toString(36).slice(2)
  , os = "__reactFiber$" + el
  , ac = "__reactProps$" + el
  , Vs = "__reactContainer$" + el
  , gh = "__reactEvents$" + el
  , bT = "__reactListeners$" + el
  , NT = "__reactHandles$" + el;
function Ja(e) {
    var t = e[os];
    if (t)
        return t;
    for (var n = e.parentNode; n; ) {
        if (t = n[Vs] || n[os]) {
            if (n = t.alternate,
            t.child !== null || n !== null && n.child !== null)
                for (e = Tv(e); e !== null; ) {
                    if (n = e[os])
                        return n;
                    e = Tv(e)
                }
            return t
        }
        e = n,
        n = e.parentNode
    }
    return null
}
function Uc(e) {
    return e = e[os] || e[Vs],
    !e || e.tag !== 5 && e.tag !== 6 && e.tag !== 13 && e.tag !== 3 ? null : e
}
function to(e) {
    if (e.tag === 5 || e.tag === 6)
        return e.stateNode;
    throw Error(X(33))
}
function rf(e) {
    return e[ac] || null
}
var vh = []
  , no = -1;
function Ba(e) {
    return {
        current: e
    }
}
function Tt(e) {
    0 > no || (e.current = vh[no],
    vh[no] = null,
    no--)
}
function St(e, t) {
    no++,
    vh[no] = e.current,
    e.current = t
}
var Ra = {}
  , Cn = Ba(Ra)
  , Kn = Ba(!1)
  , wi = Ra;
function Fo(e, t) {
    var n = e.type.contextTypes;
    if (!n)
        return Ra;
    var s = e.stateNode;
    if (s && s.__reactInternalMemoizedUnmaskedChildContext === t)
        return s.__reactInternalMemoizedMaskedChildContext;
    var a = {}, i;
    for (i in n)
        a[i] = t[i];
    return s && (e = e.stateNode,
    e.__reactInternalMemoizedUnmaskedChildContext = t,
    e.__reactInternalMemoizedMaskedChildContext = a),
    a
}
function Qn(e) {
    return e = e.childContextTypes,
    e != null
}
function lu() {
    Tt(Kn),
    Tt(Cn)
}
function _v(e, t, n) {
    if (Cn.current !== Ra)
        throw Error(X(168));
    St(Cn, t),
    St(Kn, n)
}
function zw(e, t, n) {
    var s = e.stateNode;
    if (t = t.childContextTypes,
    typeof s.getChildContext != "function")
        return n;
    s = s.getChildContext();
    for (var a in s)
        if (!(a in t))
            throw Error(X(108, oE(e) || "Unknown", a));
    return Dt({}, n, s)
}
function cu(e) {
    return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || Ra,
    wi = Cn.current,
    St(Cn, e),
    St(Kn, Kn.current),
    !0
}
function Pv(e, t, n) {
    var s = e.stateNode;
    if (!s)
        throw Error(X(169));
    n ? (e = zw(e, t, wi),
    s.__reactInternalMemoizedMergedChildContext = e,
    Tt(Kn),
    Tt(Cn),
    St(Cn, e)) : Tt(Kn),
    St(Kn, n)
}
var Rs = null
  , sf = !1
  , gm = !1;
function Vw(e) {
    Rs === null ? Rs = [e] : Rs.push(e)
}
function ST(e) {
    sf = !0,
    Vw(e)
}
function Ha() {
    if (!gm && Rs !== null) {
        gm = !0;
        var e = 0
          , t = vt;
        try {
            var n = Rs;
            for (vt = 1; e < n.length; e++) {
                var s = n[e];
                do
                    s = s(!0);
                while (s !== null)
            }
            Rs = null,
            sf = !1
        } catch (a) {
            throw Rs !== null && (Rs = Rs.slice(e + 1)),
            fw(Vp, Ha),
            a
        } finally {
            vt = t,
            gm = !1
        }
    }
    return null
}
var ro = []
  , so = 0
  , du = null
  , uu = 0
  , pr = []
  , xr = 0
  , bi = null
  , Is = 1
  , Ds = "";
function Ga(e, t) {
    ro[so++] = uu,
    ro[so++] = du,
    du = e,
    uu = t
}
function Uw(e, t, n) {
    pr[xr++] = Is,
    pr[xr++] = Ds,
    pr[xr++] = bi,
    bi = e;
    var s = Is;
    e = Ds;
    var a = 32 - Lr(s) - 1;
    s &= ~(1 << a),
    n += 1;
    var i = 32 - Lr(t) + a;
    if (30 < i) {
        var o = a - a % 5;
        i = (s & (1 << o) - 1).toString(32),
        s >>= o,
        a -= o,
        Is = 1 << 32 - Lr(t) + a | n << a | s,
        Ds = i + e
    } else
        Is = 1 << i | n << a | s,
        Ds = e
}
function Zp(e) {
    e.return !== null && (Ga(e, 1),
    Uw(e, 1, 0))
}
function Yp(e) {
    for (; e === du; )
        du = ro[--so],
        ro[so] = null,
        uu = ro[--so],
        ro[so] = null;
    for (; e === bi; )
        bi = pr[--xr],
        pr[xr] = null,
        Ds = pr[--xr],
        pr[xr] = null,
        Is = pr[--xr],
        pr[xr] = null
}
var nr = null
  , tr = null
  , _t = !1
  , Rr = null;
function Ww(e, t) {
    var n = gr(5, null, null, 0);
    n.elementType = "DELETED",
    n.stateNode = t,
    n.return = e,
    t = e.deletions,
    t === null ? (e.deletions = [n],
    e.flags |= 16) : t.push(n)
}
function Rv(e, t) {
    switch (e.tag) {
    case 5:
        var n = e.type;
        return t = t.nodeType !== 1 || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t,
        t !== null ? (e.stateNode = t,
        nr = e,
        tr = Sa(t.firstChild),
        !0) : !1;
    case 6:
        return t = e.pendingProps === "" || t.nodeType !== 3 ? null : t,
        t !== null ? (e.stateNode = t,
        nr = e,
        tr = null,
        !0) : !1;
    case 13:
        return t = t.nodeType !== 8 ? null : t,
        t !== null ? (n = bi !== null ? {
            id: Is,
            overflow: Ds
        } : null,
        e.memoizedState = {
            dehydrated: t,
            treeContext: n,
            retryLane: 1073741824
        },
        n = gr(18, null, null, 0),
        n.stateNode = t,
        n.return = e,
        e.child = n,
        nr = e,
        tr = null,
        !0) : !1;
    default:
        return !1
    }
}
function yh(e) {
    return (e.mode & 1) !== 0 && (e.flags & 128) === 0
}
function jh(e) {
    if (_t) {
        var t = tr;
        if (t) {
            var n = t;
            if (!Rv(e, t)) {
                if (yh(e))
                    throw Error(X(418));
                t = Sa(n.nextSibling);
                var s = nr;
                t && Rv(e, t) ? Ww(s, n) : (e.flags = e.flags & -4097 | 2,
                _t = !1,
                nr = e)
            }
        } else {
            if (yh(e))
                throw Error(X(418));
            e.flags = e.flags & -4097 | 2,
            _t = !1,
            nr = e
        }
    }
}
function Av(e) {
    for (e = e.return; e !== null && e.tag !== 5 && e.tag !== 3 && e.tag !== 13; )
        e = e.return;
    nr = e
}
function gd(e) {
    if (e !== nr)
        return !1;
    if (!_t)
        return Av(e),
        _t = !0,
        !1;
    var t;
    if ((t = e.tag !== 3) && !(t = e.tag !== 5) && (t = e.type,
    t = t !== "head" && t !== "body" && !ph(e.type, e.memoizedProps)),
    t && (t = tr)) {
        if (yh(e))
            throw Bw(),
            Error(X(418));
        for (; t; )
            Ww(e, t),
            t = Sa(t.nextSibling)
    }
    if (Av(e),
    e.tag === 13) {
        if (e = e.memoizedState,
        e = e !== null ? e.dehydrated : null,
        !e)
            throw Error(X(317));
        e: {
            for (e = e.nextSibling,
            t = 0; e; ) {
                if (e.nodeType === 8) {
                    var n = e.data;
                    if (n === "/$") {
                        if (t === 0) {
                            tr = Sa(e.nextSibling);
                            break e
                        }
                        t--
                    } else
                        n !== "$" && n !== "$!" && n !== "$?" || t++
                }
                e = e.nextSibling
            }
            tr = null
        }
    } else
        tr = nr ? Sa(e.stateNode.nextSibling) : null;
    return !0
}
function Bw() {
    for (var e = tr; e; )
        e = Sa(e.nextSibling)
}
function $o() {
    tr = nr = null,
    _t = !1
}
function Xp(e) {
    Rr === null ? Rr = [e] : Rr.push(e)
}
var CT = Qs.ReactCurrentBatchConfig;
function yl(e, t, n) {
    if (e = n.ref,
    e !== null && typeof e != "function" && typeof e != "object") {
        if (n._owner) {
            if (n = n._owner,
            n) {
                if (n.tag !== 1)
                    throw Error(X(309));
                var s = n.stateNode
            }
            if (!s)
                throw Error(X(147, e));
            var a = s
              , i = "" + e;
            return t !== null && t.ref !== null && typeof t.ref == "function" && t.ref._stringRef === i ? t.ref : (t = function(o) {
                var l = a.refs;
                o === null ? delete l[i] : l[i] = o
            }
            ,
            t._stringRef = i,
            t)
        }
        if (typeof e != "string")
            throw Error(X(284));
        if (!n._owner)
            throw Error(X(290, e))
    }
    return e
}
function vd(e, t) {
    throw e = Object.prototype.toString.call(t),
    Error(X(31, e === "[object Object]" ? "object with keys {" + Object.keys(t).join(", ") + "}" : e))
}
function Mv(e) {
    var t = e._init;
    return t(e._payload)
}
function Hw(e) {
    function t(v, p) {
        if (e) {
            var j = v.deletions;
            j === null ? (v.deletions = [p],
            v.flags |= 16) : j.push(p)
        }
    }
    function n(v, p) {
        if (!e)
            return null;
        for (; p !== null; )
            t(v, p),
            p = p.sibling;
        return null
    }
    function s(v, p) {
        for (v = new Map; p !== null; )
            p.key !== null ? v.set(p.key, p) : v.set(p.index, p),
            p = p.sibling;
        return v
    }
    function a(v, p) {
        return v = Ta(v, p),
        v.index = 0,
        v.sibling = null,
        v
    }
    function i(v, p, j) {
        return v.index = j,
        e ? (j = v.alternate,
        j !== null ? (j = j.index,
        j < p ? (v.flags |= 2,
        p) : j) : (v.flags |= 2,
        p)) : (v.flags |= 1048576,
        p)
    }
    function o(v) {
        return e && v.alternate === null && (v.flags |= 2),
        v
    }
    function l(v, p, j, N) {
        return p === null || p.tag !== 6 ? (p = Sm(j, v.mode, N),
        p.return = v,
        p) : (p = a(p, j),
        p.return = v,
        p)
    }
    function c(v, p, j, N) {
        var S = j.type;
        return S === Yi ? f(v, p, j.props.children, N, j.key) : p !== null && (p.elementType === S || typeof S == "object" && S !== null && S.$$typeof === sa && Mv(S) === p.type) ? (N = a(p, j.props),
        N.ref = yl(v, p, j),
        N.return = v,
        N) : (N = Bd(j.type, j.key, j.props, null, v.mode, N),
        N.ref = yl(v, p, j),
        N.return = v,
        N)
    }
    function d(v, p, j, N) {
        return p === null || p.tag !== 4 || p.stateNode.containerInfo !== j.containerInfo || p.stateNode.implementation !== j.implementation ? (p = Cm(j, v.mode, N),
        p.return = v,
        p) : (p = a(p, j.children || []),
        p.return = v,
        p)
    }
    function f(v, p, j, N, S) {
        return p === null || p.tag !== 7 ? (p = fi(j, v.mode, N, S),
        p.return = v,
        p) : (p = a(p, j),
        p.return = v,
        p)
    }
    function m(v, p, j) {
        if (typeof p == "string" && p !== "" || typeof p == "number")
            return p = Sm("" + p, v.mode, j),
            p.return = v,
            p;
        if (typeof p == "object" && p !== null) {
            switch (p.$$typeof) {
            case od:
                return j = Bd(p.type, p.key, p.props, null, v.mode, j),
                j.ref = yl(v, null, p),
                j.return = v,
                j;
            case Zi:
                return p = Cm(p, v.mode, j),
                p.return = v,
                p;
            case sa:
                var N = p._init;
                return m(v, N(p._payload), j)
            }
            if (El(p) || hl(p))
                return p = fi(p, v.mode, j, null),
                p.return = v,
                p;
            vd(v, p)
        }
        return null
    }
    function h(v, p, j, N) {
        var S = p !== null ? p.key : null;
        if (typeof j == "string" && j !== "" || typeof j == "number")
            return S !== null ? null : l(v, p, "" + j, N);
        if (typeof j == "object" && j !== null) {
            switch (j.$$typeof) {
            case od:
                return j.key === S ? c(v, p, j, N) : null;
            case Zi:
                return j.key === S ? d(v, p, j, N) : null;
            case sa:
                return S = j._init,
                h(v, p, S(j._payload), N)
            }
            if (El(j) || hl(j))
                return S !== null ? null : f(v, p, j, N, null);
            vd(v, j)
        }
        return null
    }
    function g(v, p, j, N, S) {
        if (typeof N == "string" && N !== "" || typeof N == "number")
            return v = v.get(j) || null,
            l(p, v, "" + N, S);
        if (typeof N == "object" && N !== null) {
            switch (N.$$typeof) {
            case od:
                return v = v.get(N.key === null ? j : N.key) || null,
                c(p, v, N, S);
            case Zi:
                return v = v.get(N.key === null ? j : N.key) || null,
                d(p, v, N, S);
            case sa:
                var k = N._init;
                return g(v, p, j, k(N._payload), S)
            }
            if (El(N) || hl(N))
                return v = v.get(j) || null,
                f(p, v, N, S, null);
            vd(p, N)
        }
        return null
    }
    function w(v, p, j, N) {
        for (var S = null, k = null, C = p, E = p = 0, A = null; C !== null && E < j.length; E++) {
            C.index > E ? (A = C,
            C = null) : A = C.sibling;
            var z = h(v, C, j[E], N);
            if (z === null) {
                C === null && (C = A);
                break
            }
            e && C && z.alternate === null && t(v, C),
            p = i(z, p, E),
            k === null ? S = z : k.sibling = z,
            k = z,
            C = A
        }
        if (E === j.length)
            return n(v, C),
            _t && Ga(v, E),
            S;
        if (C === null) {
            for (; E < j.length; E++)
                C = m(v, j[E], N),
                C !== null && (p = i(C, p, E),
                k === null ? S = C : k.sibling = C,
                k = C);
            return _t && Ga(v, E),
            S
        }
        for (C = s(v, C); E < j.length; E++)
            A = g(C, v, E, j[E], N),
            A !== null && (e && A.alternate !== null && C.delete(A.key === null ? E : A.key),
            p = i(A, p, E),
            k === null ? S = A : k.sibling = A,
            k = A);
        return e && C.forEach(function(G) {
            return t(v, G)
        }),
        _t && Ga(v, E),
        S
    }
    function x(v, p, j, N) {
        var S = hl(j);
        if (typeof S != "function")
            throw Error(X(150));
        if (j = S.call(j),
        j == null)
            throw Error(X(151));
        for (var k = S = null, C = p, E = p = 0, A = null, z = j.next(); C !== null && !z.done; E++,
        z = j.next()) {
            C.index > E ? (A = C,
            C = null) : A = C.sibling;
            var G = h(v, C, z.value, N);
            if (G === null) {
                C === null && (C = A);
                break
            }
            e && C && G.alternate === null && t(v, C),
            p = i(G, p, E),
            k === null ? S = G : k.sibling = G,
            k = G,
            C = A
        }
        if (z.done)
            return n(v, C),
            _t && Ga(v, E),
            S;
        if (C === null) {
            for (; !z.done; E++,
            z = j.next())
                z = m(v, z.value, N),
                z !== null && (p = i(z, p, E),
                k === null ? S = z : k.sibling = z,
                k = z);
            return _t && Ga(v, E),
            S
        }
        for (C = s(v, C); !z.done; E++,
        z = j.next())
            z = g(C, v, E, z.value, N),
            z !== null && (e && z.alternate !== null && C.delete(z.key === null ? E : z.key),
            p = i(z, p, E),
            k === null ? S = z : k.sibling = z,
            k = z);
        return e && C.forEach(function(R) {
            return t(v, R)
        }),
        _t && Ga(v, E),
        S
    }
    function y(v, p, j, N) {
        if (typeof j == "object" && j !== null && j.type === Yi && j.key === null && (j = j.props.children),
        typeof j == "object" && j !== null) {
            switch (j.$$typeof) {
            case od:
                e: {
                    for (var S = j.key, k = p; k !== null; ) {
                        if (k.key === S) {
                            if (S = j.type,
                            S === Yi) {
                                if (k.tag === 7) {
                                    n(v, k.sibling),
                                    p = a(k, j.props.children),
                                    p.return = v,
                                    v = p;
                                    break e
                                }
                            } else if (k.elementType === S || typeof S == "object" && S !== null && S.$$typeof === sa && Mv(S) === k.type) {
                                n(v, k.sibling),
                                p = a(k, j.props),
                                p.ref = yl(v, k, j),
                                p.return = v,
                                v = p;
                                break e
                            }
                            n(v, k);
                            break
                        } else
                            t(v, k);
                        k = k.sibling
                    }
                    j.type === Yi ? (p = fi(j.props.children, v.mode, N, j.key),
                    p.return = v,
                    v = p) : (N = Bd(j.type, j.key, j.props, null, v.mode, N),
                    N.ref = yl(v, p, j),
                    N.return = v,
                    v = N)
                }
                return o(v);
            case Zi:
                e: {
                    for (k = j.key; p !== null; ) {
                        if (p.key === k)
                            if (p.tag === 4 && p.stateNode.containerInfo === j.containerInfo && p.stateNode.implementation === j.implementation) {
                                n(v, p.sibling),
                                p = a(p, j.children || []),
                                p.return = v,
                                v = p;
                                break e
                            } else {
                                n(v, p);
                                break
                            }
                        else
                            t(v, p);
                        p = p.sibling
                    }
                    p = Cm(j, v.mode, N),
                    p.return = v,
                    v = p
                }
                return o(v);
            case sa:
                return k = j._init,
                y(v, p, k(j._payload), N)
            }
            if (El(j))
                return w(v, p, j, N);
            if (hl(j))
                return x(v, p, j, N);
            vd(v, j)
        }
        return typeof j == "string" && j !== "" || typeof j == "number" ? (j = "" + j,
        p !== null && p.tag === 6 ? (n(v, p.sibling),
        p = a(p, j),
        p.return = v,
        v = p) : (n(v, p),
        p = Sm(j, v.mode, N),
        p.return = v,
        v = p),
        o(v)) : n(v, p)
    }
    return y
}
var zo = Hw(!0)
  , qw = Hw(!1)
  , fu = Ba(null)
  , mu = null
  , ao = null
  , Jp = null;
function ex() {
    Jp = ao = mu = null
}
function tx(e) {
    var t = fu.current;
    Tt(fu),
    e._currentValue = t
}
function wh(e, t, n) {
    for (; e !== null; ) {
        var s = e.alternate;
        if ((e.childLanes & t) !== t ? (e.childLanes |= t,
        s !== null && (s.childLanes |= t)) : s !== null && (s.childLanes & t) !== t && (s.childLanes |= t),
        e === n)
            break;
        e = e.return
    }
}
function ho(e, t) {
    mu = e,
    Jp = ao = null,
    e = e.dependencies,
    e !== null && e.firstContext !== null && (e.lanes & t && (qn = !0),
    e.firstContext = null)
}
function jr(e) {
    var t = e._currentValue;
    if (Jp !== e)
        if (e = {
            context: e,
            memoizedValue: t,
            next: null
        },
        ao === null) {
            if (mu === null)
                throw Error(X(308));
            ao = e,
            mu.dependencies = {
                lanes: 0,
                firstContext: e
            }
        } else
            ao = ao.next = e;
    return t
}
var ei = null;
function nx(e) {
    ei === null ? ei = [e] : ei.push(e)
}
function Kw(e, t, n, s) {
    var a = t.interleaved;
    return a === null ? (n.next = n,
    nx(t)) : (n.next = a.next,
    a.next = n),
    t.interleaved = n,
    Us(e, s)
}
function Us(e, t) {
    e.lanes |= t;
    var n = e.alternate;
    for (n !== null && (n.lanes |= t),
    n = e,
    e = e.return; e !== null; )
        e.childLanes |= t,
        n = e.alternate,
        n !== null && (n.childLanes |= t),
        n = e,
        e = e.return;
    return n.tag === 3 ? n.stateNode : null
}
var aa = !1;
function rx(e) {
    e.updateQueue = {
        baseState: e.memoizedState,
        firstBaseUpdate: null,
        lastBaseUpdate: null,
        shared: {
            pending: null,
            interleaved: null,
            lanes: 0
        },
        effects: null
    }
}
function Qw(e, t) {
    e = e.updateQueue,
    t.updateQueue === e && (t.updateQueue = {
        baseState: e.baseState,
        firstBaseUpdate: e.firstBaseUpdate,
        lastBaseUpdate: e.lastBaseUpdate,
        shared: e.shared,
        effects: e.effects
    })
}
function Os(e, t) {
    return {
        eventTime: e,
        lane: t,
        tag: 0,
        payload: null,
        callback: null,
        next: null
    }
}
function Ca(e, t, n) {
    var s = e.updateQueue;
    if (s === null)
        return null;
    if (s = s.shared,
    ct & 2) {
        var a = s.pending;
        return a === null ? t.next = t : (t.next = a.next,
        a.next = t),
        s.pending = t,
        Us(e, n)
    }
    return a = s.interleaved,
    a === null ? (t.next = t,
    nx(s)) : (t.next = a.next,
    a.next = t),
    s.interleaved = t,
    Us(e, n)
}
function Fd(e, t, n) {
    if (t = t.updateQueue,
    t !== null && (t = t.shared,
    (n & 4194240) !== 0)) {
        var s = t.lanes;
        s &= e.pendingLanes,
        n |= s,
        t.lanes = n,
        Up(e, n)
    }
}
function Iv(e, t) {
    var n = e.updateQueue
      , s = e.alternate;
    if (s !== null && (s = s.updateQueue,
    n === s)) {
        var a = null
          , i = null;
        if (n = n.firstBaseUpdate,
        n !== null) {
            do {
                var o = {
                    eventTime: n.eventTime,
                    lane: n.lane,
                    tag: n.tag,
                    payload: n.payload,
                    callback: n.callback,
                    next: null
                };
                i === null ? a = i = o : i = i.next = o,
                n = n.next
            } while (n !== null);
            i === null ? a = i = t : i = i.next = t
        } else
            a = i = t;
        n = {
            baseState: s.baseState,
            firstBaseUpdate: a,
            lastBaseUpdate: i,
            shared: s.shared,
            effects: s.effects
        },
        e.updateQueue = n;
        return
    }
    e = n.lastBaseUpdate,
    e === null ? n.firstBaseUpdate = t : e.next = t,
    n.lastBaseUpdate = t
}
function hu(e, t, n, s) {
    var a = e.updateQueue;
    aa = !1;
    var i = a.firstBaseUpdate
      , o = a.lastBaseUpdate
      , l = a.shared.pending;
    if (l !== null) {
        a.shared.pending = null;
        var c = l
          , d = c.next;
        c.next = null,
        o === null ? i = d : o.next = d,
        o = c;
        var f = e.alternate;
        f !== null && (f = f.updateQueue,
        l = f.lastBaseUpdate,
        l !== o && (l === null ? f.firstBaseUpdate = d : l.next = d,
        f.lastBaseUpdate = c))
    }
    if (i !== null) {
        var m = a.baseState;
        o = 0,
        f = d = c = null,
        l = i;
        do {
            var h = l.lane
              , g = l.eventTime;
            if ((s & h) === h) {
                f !== null && (f = f.next = {
                    eventTime: g,
                    lane: 0,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                });
                e: {
                    var w = e
                      , x = l;
                    switch (h = t,
                    g = n,
                    x.tag) {
                    case 1:
                        if (w = x.payload,
                        typeof w == "function") {
                            m = w.call(g, m, h);
                            break e
                        }
                        m = w;
                        break e;
                    case 3:
                        w.flags = w.flags & -65537 | 128;
                    case 0:
                        if (w = x.payload,
                        h = typeof w == "function" ? w.call(g, m, h) : w,
                        h == null)
                            break e;
                        m = Dt({}, m, h);
                        break e;
                    case 2:
                        aa = !0
                    }
                }
                l.callback !== null && l.lane !== 0 && (e.flags |= 64,
                h = a.effects,
                h === null ? a.effects = [l] : h.push(l))
            } else
                g = {
                    eventTime: g,
                    lane: h,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                },
                f === null ? (d = f = g,
                c = m) : f = f.next = g,
                o |= h;
            if (l = l.next,
            l === null) {
                if (l = a.shared.pending,
                l === null)
                    break;
                h = l,
                l = h.next,
                h.next = null,
                a.lastBaseUpdate = h,
                a.shared.pending = null
            }
        } while (!0);
        if (f === null && (c = m),
        a.baseState = c,
        a.firstBaseUpdate = d,
        a.lastBaseUpdate = f,
        t = a.shared.interleaved,
        t !== null) {
            a = t;
            do
                o |= a.lane,
                a = a.next;
            while (a !== t)
        } else
            i === null && (a.shared.lanes = 0);
        Si |= o,
        e.lanes = o,
        e.memoizedState = m
    }
}
function Dv(e, t, n) {
    if (e = t.effects,
    t.effects = null,
    e !== null)
        for (t = 0; t < e.length; t++) {
            var s = e[t]
              , a = s.callback;
            if (a !== null) {
                if (s.callback = null,
                s = n,
                typeof a != "function")
                    throw Error(X(191, a));
                a.call(s)
            }
        }
}
var Wc = {}
  , ms = Ba(Wc)
  , ic = Ba(Wc)
  , oc = Ba(Wc);
function ti(e) {
    if (e === Wc)
        throw Error(X(174));
    return e
}
function sx(e, t) {
    switch (St(oc, t),
    St(ic, e),
    St(ms, Wc),
    e = t.nodeType,
    e) {
    case 9:
    case 11:
        t = (t = t.documentElement) ? t.namespaceURI : th(null, "");
        break;
    default:
        e = e === 8 ? t.parentNode : t,
        t = e.namespaceURI || null,
        e = e.tagName,
        t = th(t, e)
    }
    Tt(ms),
    St(ms, t)
}
function Vo() {
    Tt(ms),
    Tt(ic),
    Tt(oc)
}
function Gw(e) {
    ti(oc.current);
    var t = ti(ms.current)
      , n = th(t, e.type);
    t !== n && (St(ic, e),
    St(ms, n))
}
function ax(e) {
    ic.current === e && (Tt(ms),
    Tt(ic))
}
var Mt = Ba(0);
function pu(e) {
    for (var t = e; t !== null; ) {
        if (t.tag === 13) {
            var n = t.memoizedState;
            if (n !== null && (n = n.dehydrated,
            n === null || n.data === "$?" || n.data === "$!"))
                return t
        } else if (t.tag === 19 && t.memoizedProps.revealOrder !== void 0) {
            if (t.flags & 128)
                return t
        } else if (t.child !== null) {
            t.child.return = t,
            t = t.child;
            continue
        }
        if (t === e)
            break;
        for (; t.sibling === null; ) {
            if (t.return === null || t.return === e)
                return null;
            t = t.return
        }
        t.sibling.return = t.return,
        t = t.sibling
    }
    return null
}
var vm = [];
function ix() {
    for (var e = 0; e < vm.length; e++)
        vm[e]._workInProgressVersionPrimary = null;
    vm.length = 0
}
var $d = Qs.ReactCurrentDispatcher
  , ym = Qs.ReactCurrentBatchConfig
  , Ni = 0
  , It = null
  , rn = null
  , cn = null
  , xu = !1
  , zl = !1
  , lc = 0
  , kT = 0;
function yn() {
    throw Error(X(321))
}
function ox(e, t) {
    if (t === null)
        return !1;
    for (var n = 0; n < t.length && n < e.length; n++)
        if (!Br(e[n], t[n]))
            return !1;
    return !0
}
function lx(e, t, n, s, a, i) {
    if (Ni = i,
    It = t,
    t.memoizedState = null,
    t.updateQueue = null,
    t.lanes = 0,
    $d.current = e === null || e.memoizedState === null ? PT : RT,
    e = n(s, a),
    zl) {
        i = 0;
        do {
            if (zl = !1,
            lc = 0,
            25 <= i)
                throw Error(X(301));
            i += 1,
            cn = rn = null,
            t.updateQueue = null,
            $d.current = AT,
            e = n(s, a)
        } while (zl)
    }
    if ($d.current = gu,
    t = rn !== null && rn.next !== null,
    Ni = 0,
    cn = rn = It = null,
    xu = !1,
    t)
        throw Error(X(300));
    return e
}
function cx() {
    var e = lc !== 0;
    return lc = 0,
    e
}
function es() {
    var e = {
        memoizedState: null,
        baseState: null,
        baseQueue: null,
        queue: null,
        next: null
    };
    return cn === null ? It.memoizedState = cn = e : cn = cn.next = e,
    cn
}
function wr() {
    if (rn === null) {
        var e = It.alternate;
        e = e !== null ? e.memoizedState : null
    } else
        e = rn.next;
    var t = cn === null ? It.memoizedState : cn.next;
    if (t !== null)
        cn = t,
        rn = e;
    else {
        if (e === null)
            throw Error(X(310));
        rn = e,
        e = {
            memoizedState: rn.memoizedState,
            baseState: rn.baseState,
            baseQueue: rn.baseQueue,
            queue: rn.queue,
            next: null
        },
        cn === null ? It.memoizedState = cn = e : cn = cn.next = e
    }
    return cn
}
function cc(e, t) {
    return typeof t == "function" ? t(e) : t
}
function jm(e) {
    var t = wr()
      , n = t.queue;
    if (n === null)
        throw Error(X(311));
    n.lastRenderedReducer = e;
    var s = rn
      , a = s.baseQueue
      , i = n.pending;
    if (i !== null) {
        if (a !== null) {
            var o = a.next;
            a.next = i.next,
            i.next = o
        }
        s.baseQueue = a = i,
        n.pending = null
    }
    if (a !== null) {
        i = a.next,
        s = s.baseState;
        var l = o = null
          , c = null
          , d = i;
        do {
            var f = d.lane;
            if ((Ni & f) === f)
                c !== null && (c = c.next = {
                    lane: 0,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                }),
                s = d.hasEagerState ? d.eagerState : e(s, d.action);
            else {
                var m = {
                    lane: f,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                };
                c === null ? (l = c = m,
                o = s) : c = c.next = m,
                It.lanes |= f,
                Si |= f
            }
            d = d.next
        } while (d !== null && d !== i);
        c === null ? o = s : c.next = l,
        Br(s, t.memoizedState) || (qn = !0),
        t.memoizedState = s,
        t.baseState = o,
        t.baseQueue = c,
        n.lastRenderedState = s
    }
    if (e = n.interleaved,
    e !== null) {
        a = e;
        do
            i = a.lane,
            It.lanes |= i,
            Si |= i,
            a = a.next;
        while (a !== e)
    } else
        a === null && (n.lanes = 0);
    return [t.memoizedState, n.dispatch]
}
function wm(e) {
    var t = wr()
      , n = t.queue;
    if (n === null)
        throw Error(X(311));
    n.lastRenderedReducer = e;
    var s = n.dispatch
      , a = n.pending
      , i = t.memoizedState;
    if (a !== null) {
        n.pending = null;
        var o = a = a.next;
        do
            i = e(i, o.action),
            o = o.next;
        while (o !== a);
        Br(i, t.memoizedState) || (qn = !0),
        t.memoizedState = i,
        t.baseQueue === null && (t.baseState = i),
        n.lastRenderedState = i
    }
    return [i, s]
}
function Zw() {}
function Yw(e, t) {
    var n = It
      , s = wr()
      , a = t()
      , i = !Br(s.memoizedState, a);
    if (i && (s.memoizedState = a,
    qn = !0),
    s = s.queue,
    dx(e0.bind(null, n, s, e), [e]),
    s.getSnapshot !== t || i || cn !== null && cn.memoizedState.tag & 1) {
        if (n.flags |= 2048,
        dc(9, Jw.bind(null, n, s, a, t), void 0, null),
        dn === null)
            throw Error(X(349));
        Ni & 30 || Xw(n, t, a)
    }
    return a
}
function Xw(e, t, n) {
    e.flags |= 16384,
    e = {
        getSnapshot: t,
        value: n
    },
    t = It.updateQueue,
    t === null ? (t = {
        lastEffect: null,
        stores: null
    },
    It.updateQueue = t,
    t.stores = [e]) : (n = t.stores,
    n === null ? t.stores = [e] : n.push(e))
}
function Jw(e, t, n, s) {
    t.value = n,
    t.getSnapshot = s,
    t0(t) && n0(e)
}
function e0(e, t, n) {
    return n(function() {
        t0(t) && n0(e)
    })
}
function t0(e) {
    var t = e.getSnapshot;
    e = e.value;
    try {
        var n = t();
        return !Br(e, n)
    } catch {
        return !0
    }
}
function n0(e) {
    var t = Us(e, 1);
    t !== null && Fr(t, e, 1, -1)
}
function Ov(e) {
    var t = es();
    return typeof e == "function" && (e = e()),
    t.memoizedState = t.baseState = e,
    e = {
        pending: null,
        interleaved: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: cc,
        lastRenderedState: e
    },
    t.queue = e,
    e = e.dispatch = _T.bind(null, It, e),
    [t.memoizedState, e]
}
function dc(e, t, n, s) {
    return e = {
        tag: e,
        create: t,
        destroy: n,
        deps: s,
        next: null
    },
    t = It.updateQueue,
    t === null ? (t = {
        lastEffect: null,
        stores: null
    },
    It.updateQueue = t,
    t.lastEffect = e.next = e) : (n = t.lastEffect,
    n === null ? t.lastEffect = e.next = e : (s = n.next,
    n.next = e,
    e.next = s,
    t.lastEffect = e)),
    e
}
function r0() {
    return wr().memoizedState
}
function zd(e, t, n, s) {
    var a = es();
    It.flags |= e,
    a.memoizedState = dc(1 | t, n, void 0, s === void 0 ? null : s)
}
function af(e, t, n, s) {
    var a = wr();
    s = s === void 0 ? null : s;
    var i = void 0;
    if (rn !== null) {
        var o = rn.memoizedState;
        if (i = o.destroy,
        s !== null && ox(s, o.deps)) {
            a.memoizedState = dc(t, n, i, s);
            return
        }
    }
    It.flags |= e,
    a.memoizedState = dc(1 | t, n, i, s)
}
function Lv(e, t) {
    return zd(8390656, 8, e, t)
}
function dx(e, t) {
    return af(2048, 8, e, t)
}
function s0(e, t) {
    return af(4, 2, e, t)
}
function a0(e, t) {
    return af(4, 4, e, t)
}
function i0(e, t) {
    if (typeof t == "function")
        return e = e(),
        t(e),
        function() {
            t(null)
        }
        ;
    if (t != null)
        return e = e(),
        t.current = e,
        function() {
            t.current = null
        }
}
function o0(e, t, n) {
    return n = n != null ? n.concat([e]) : null,
    af(4, 4, i0.bind(null, t, e), n)
}
function ux() {}
function l0(e, t) {
    var n = wr();
    t = t === void 0 ? null : t;
    var s = n.memoizedState;
    return s !== null && t !== null && ox(t, s[1]) ? s[0] : (n.memoizedState = [e, t],
    e)
}
function c0(e, t) {
    var n = wr();
    t = t === void 0 ? null : t;
    var s = n.memoizedState;
    return s !== null && t !== null && ox(t, s[1]) ? s[0] : (e = e(),
    n.memoizedState = [e, t],
    e)
}
function d0(e, t, n) {
    return Ni & 21 ? (Br(n, t) || (n = pw(),
    It.lanes |= n,
    Si |= n,
    e.baseState = !0),
    t) : (e.baseState && (e.baseState = !1,
    qn = !0),
    e.memoizedState = n)
}
function ET(e, t) {
    var n = vt;
    vt = n !== 0 && 4 > n ? n : 4,
    e(!0);
    var s = ym.transition;
    ym.transition = {};
    try {
        e(!1),
        t()
    } finally {
        vt = n,
        ym.transition = s
    }
}
function u0() {
    return wr().memoizedState
}
function TT(e, t, n) {
    var s = Ea(e);
    if (n = {
        lane: s,
        action: n,
        hasEagerState: !1,
        eagerState: null,
        next: null
    },
    f0(e))
        m0(t, n);
    else if (n = Kw(e, t, n, s),
    n !== null) {
        var a = Mn();
        Fr(n, e, s, a),
        h0(n, t, s)
    }
}
function _T(e, t, n) {
    var s = Ea(e)
      , a = {
        lane: s,
        action: n,
        hasEagerState: !1,
        eagerState: null,
        next: null
    };
    if (f0(e))
        m0(t, a);
    else {
        var i = e.alternate;
        if (e.lanes === 0 && (i === null || i.lanes === 0) && (i = t.lastRenderedReducer,
        i !== null))
            try {
                var o = t.lastRenderedState
                  , l = i(o, n);
                if (a.hasEagerState = !0,
                a.eagerState = l,
                Br(l, o)) {
                    var c = t.interleaved;
                    c === null ? (a.next = a,
                    nx(t)) : (a.next = c.next,
                    c.next = a),
                    t.interleaved = a;
                    return
                }
            } catch {} finally {}
        n = Kw(e, t, a, s),
        n !== null && (a = Mn(),
        Fr(n, e, s, a),
        h0(n, t, s))
    }
}
function f0(e) {
    var t = e.alternate;
    return e === It || t !== null && t === It
}
function m0(e, t) {
    zl = xu = !0;
    var n = e.pending;
    n === null ? t.next = t : (t.next = n.next,
    n.next = t),
    e.pending = t
}
function h0(e, t, n) {
    if (n & 4194240) {
        var s = t.lanes;
        s &= e.pendingLanes,
        n |= s,
        t.lanes = n,
        Up(e, n)
    }
}
var gu = {
    readContext: jr,
    useCallback: yn,
    useContext: yn,
    useEffect: yn,
    useImperativeHandle: yn,
    useInsertionEffect: yn,
    useLayoutEffect: yn,
    useMemo: yn,
    useReducer: yn,
    useRef: yn,
    useState: yn,
    useDebugValue: yn,
    useDeferredValue: yn,
    useTransition: yn,
    useMutableSource: yn,
    useSyncExternalStore: yn,
    useId: yn,
    unstable_isNewReconciler: !1
}
  , PT = {
    readContext: jr,
    useCallback: function(e, t) {
        return es().memoizedState = [e, t === void 0 ? null : t],
        e
    },
    useContext: jr,
    useEffect: Lv,
    useImperativeHandle: function(e, t, n) {
        return n = n != null ? n.concat([e]) : null,
        zd(4194308, 4, i0.bind(null, t, e), n)
    },
    useLayoutEffect: function(e, t) {
        return zd(4194308, 4, e, t)
    },
    useInsertionEffect: function(e, t) {
        return zd(4, 2, e, t)
    },
    useMemo: function(e, t) {
        var n = es();
        return t = t === void 0 ? null : t,
        e = e(),
        n.memoizedState = [e, t],
        e
    },
    useReducer: function(e, t, n) {
        var s = es();
        return t = n !== void 0 ? n(t) : t,
        s.memoizedState = s.baseState = t,
        e = {
            pending: null,
            interleaved: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: e,
            lastRenderedState: t
        },
        s.queue = e,
        e = e.dispatch = TT.bind(null, It, e),
        [s.memoizedState, e]
    },
    useRef: function(e) {
        var t = es();
        return e = {
            current: e
        },
        t.memoizedState = e
    },
    useState: Ov,
    useDebugValue: ux,
    useDeferredValue: function(e) {
        return es().memoizedState = e
    },
    useTransition: function() {
        var e = Ov(!1)
          , t = e[0];
        return e = ET.bind(null, e[1]),
        es().memoizedState = e,
        [t, e]
    },
    useMutableSource: function() {},
    useSyncExternalStore: function(e, t, n) {
        var s = It
          , a = es();
        if (_t) {
            if (n === void 0)
                throw Error(X(407));
            n = n()
        } else {
            if (n = t(),
            dn === null)
                throw Error(X(349));
            Ni & 30 || Xw(s, t, n)
        }
        a.memoizedState = n;
        var i = {
            value: n,
            getSnapshot: t
        };
        return a.queue = i,
        Lv(e0.bind(null, s, i, e), [e]),
        s.flags |= 2048,
        dc(9, Jw.bind(null, s, i, n, t), void 0, null),
        n
    },
    useId: function() {
        var e = es()
          , t = dn.identifierPrefix;
        if (_t) {
            var n = Ds
              , s = Is;
            n = (s & ~(1 << 32 - Lr(s) - 1)).toString(32) + n,
            t = ":" + t + "R" + n,
            n = lc++,
            0 < n && (t += "H" + n.toString(32)),
            t += ":"
        } else
            n = kT++,
            t = ":" + t + "r" + n.toString(32) + ":";
        return e.memoizedState = t
    },
    unstable_isNewReconciler: !1
}
  , RT = {
    readContext: jr,
    useCallback: l0,
    useContext: jr,
    useEffect: dx,
    useImperativeHandle: o0,
    useInsertionEffect: s0,
    useLayoutEffect: a0,
    useMemo: c0,
    useReducer: jm,
    useRef: r0,
    useState: function() {
        return jm(cc)
    },
    useDebugValue: ux,
    useDeferredValue: function(e) {
        var t = wr();
        return d0(t, rn.memoizedState, e)
    },
    useTransition: function() {
        var e = jm(cc)[0]
          , t = wr().memoizedState;
        return [e, t]
    },
    useMutableSource: Zw,
    useSyncExternalStore: Yw,
    useId: u0,
    unstable_isNewReconciler: !1
}
  , AT = {
    readContext: jr,
    useCallback: l0,
    useContext: jr,
    useEffect: dx,
    useImperativeHandle: o0,
    useInsertionEffect: s0,
    useLayoutEffect: a0,
    useMemo: c0,
    useReducer: wm,
    useRef: r0,
    useState: function() {
        return wm(cc)
    },
    useDebugValue: ux,
    useDeferredValue: function(e) {
        var t = wr();
        return rn === null ? t.memoizedState = e : d0(t, rn.memoizedState, e)
    },
    useTransition: function() {
        var e = wm(cc)[0]
          , t = wr().memoizedState;
        return [e, t]
    },
    useMutableSource: Zw,
    useSyncExternalStore: Yw,
    useId: u0,
    unstable_isNewReconciler: !1
};
function Tr(e, t) {
    if (e && e.defaultProps) {
        t = Dt({}, t),
        e = e.defaultProps;
        for (var n in e)
            t[n] === void 0 && (t[n] = e[n]);
        return t
    }
    return t
}
function bh(e, t, n, s) {
    t = e.memoizedState,
    n = n(s, t),
    n = n == null ? t : Dt({}, t, n),
    e.memoizedState = n,
    e.lanes === 0 && (e.updateQueue.baseState = n)
}
var of = {
    isMounted: function(e) {
        return (e = e._reactInternals) ? Li(e) === e : !1
    },
    enqueueSetState: function(e, t, n) {
        e = e._reactInternals;
        var s = Mn()
          , a = Ea(e)
          , i = Os(s, a);
        i.payload = t,
        n != null && (i.callback = n),
        t = Ca(e, i, a),
        t !== null && (Fr(t, e, a, s),
        Fd(t, e, a))
    },
    enqueueReplaceState: function(e, t, n) {
        e = e._reactInternals;
        var s = Mn()
          , a = Ea(e)
          , i = Os(s, a);
        i.tag = 1,
        i.payload = t,
        n != null && (i.callback = n),
        t = Ca(e, i, a),
        t !== null && (Fr(t, e, a, s),
        Fd(t, e, a))
    },
    enqueueForceUpdate: function(e, t) {
        e = e._reactInternals;
        var n = Mn()
          , s = Ea(e)
          , a = Os(n, s);
        a.tag = 2,
        t != null && (a.callback = t),
        t = Ca(e, a, s),
        t !== null && (Fr(t, e, s, n),
        Fd(t, e, s))
    }
};
function Fv(e, t, n, s, a, i, o) {
    return e = e.stateNode,
    typeof e.shouldComponentUpdate == "function" ? e.shouldComponentUpdate(s, i, o) : t.prototype && t.prototype.isPureReactComponent ? !nc(n, s) || !nc(a, i) : !0
}
function p0(e, t, n) {
    var s = !1
      , a = Ra
      , i = t.contextType;
    return typeof i == "object" && i !== null ? i = jr(i) : (a = Qn(t) ? wi : Cn.current,
    s = t.contextTypes,
    i = (s = s != null) ? Fo(e, a) : Ra),
    t = new t(n,i),
    e.memoizedState = t.state !== null && t.state !== void 0 ? t.state : null,
    t.updater = of,
    e.stateNode = t,
    t._reactInternals = e,
    s && (e = e.stateNode,
    e.__reactInternalMemoizedUnmaskedChildContext = a,
    e.__reactInternalMemoizedMaskedChildContext = i),
    t
}
function $v(e, t, n, s) {
    e = t.state,
    typeof t.componentWillReceiveProps == "function" && t.componentWillReceiveProps(n, s),
    typeof t.UNSAFE_componentWillReceiveProps == "function" && t.UNSAFE_componentWillReceiveProps(n, s),
    t.state !== e && of.enqueueReplaceState(t, t.state, null)
}
function Nh(e, t, n, s) {
    var a = e.stateNode;
    a.props = n,
    a.state = e.memoizedState,
    a.refs = {},
    rx(e);
    var i = t.contextType;
    typeof i == "object" && i !== null ? a.context = jr(i) : (i = Qn(t) ? wi : Cn.current,
    a.context = Fo(e, i)),
    a.state = e.memoizedState,
    i = t.getDerivedStateFromProps,
    typeof i == "function" && (bh(e, t, i, n),
    a.state = e.memoizedState),
    typeof t.getDerivedStateFromProps == "function" || typeof a.getSnapshotBeforeUpdate == "function" || typeof a.UNSAFE_componentWillMount != "function" && typeof a.componentWillMount != "function" || (t = a.state,
    typeof a.componentWillMount == "function" && a.componentWillMount(),
    typeof a.UNSAFE_componentWillMount == "function" && a.UNSAFE_componentWillMount(),
    t !== a.state && of.enqueueReplaceState(a, a.state, null),
    hu(e, n, a, s),
    a.state = e.memoizedState),
    typeof a.componentDidMount == "function" && (e.flags |= 4194308)
}
function Uo(e, t) {
    try {
        var n = ""
          , s = t;
        do
            n += iE(s),
            s = s.return;
        while (s);
        var a = n
    } catch (i) {
        a = `
Error generating stack: ` + i.message + `
` + i.stack
    }
    return {
        value: e,
        source: t,
        stack: a,
        digest: null
    }
}
function bm(e, t, n) {
    return {
        value: e,
        source: null,
        stack: n ?? null,
        digest: t ?? null
    }
}
function Sh(e, t) {
    try {
        console.error(t.value)
    } catch (n) {
        setTimeout(function() {
            throw n
        })
    }
}
var MT = typeof WeakMap == "function" ? WeakMap : Map;
function x0(e, t, n) {
    n = Os(-1, n),
    n.tag = 3,
    n.payload = {
        element: null
    };
    var s = t.value;
    return n.callback = function() {
        yu || (yu = !0,
        Ih = s),
        Sh(e, t)
    }
    ,
    n
}
function g0(e, t, n) {
    n = Os(-1, n),
    n.tag = 3;
    var s = e.type.getDerivedStateFromError;
    if (typeof s == "function") {
        var a = t.value;
        n.payload = function() {
            return s(a)
        }
        ,
        n.callback = function() {
            Sh(e, t)
        }
    }
    var i = e.stateNode;
    return i !== null && typeof i.componentDidCatch == "function" && (n.callback = function() {
        Sh(e, t),
        typeof s != "function" && (ka === null ? ka = new Set([this]) : ka.add(this));
        var o = t.stack;
        this.componentDidCatch(t.value, {
            componentStack: o !== null ? o : ""
        })
    }
    ),
    n
}
function zv(e, t, n) {
    var s = e.pingCache;
    if (s === null) {
        s = e.pingCache = new MT;
        var a = new Set;
        s.set(t, a)
    } else
        a = s.get(t),
        a === void 0 && (a = new Set,
        s.set(t, a));
    a.has(n) || (a.add(n),
    e = KT.bind(null, e, t, n),
    t.then(e, e))
}
function Vv(e) {
    do {
        var t;
        if ((t = e.tag === 13) && (t = e.memoizedState,
        t = t !== null ? t.dehydrated !== null : !0),
        t)
            return e;
        e = e.return
    } while (e !== null);
    return null
}
function Uv(e, t, n, s, a) {
    return e.mode & 1 ? (e.flags |= 65536,
    e.lanes = a,
    e) : (e === t ? e.flags |= 65536 : (e.flags |= 128,
    n.flags |= 131072,
    n.flags &= -52805,
    n.tag === 1 && (n.alternate === null ? n.tag = 17 : (t = Os(-1, 1),
    t.tag = 2,
    Ca(n, t, 1))),
    n.lanes |= 1),
    e)
}
var IT = Qs.ReactCurrentOwner
  , qn = !1;
function Rn(e, t, n, s) {
    t.child = e === null ? qw(t, null, n, s) : zo(t, e.child, n, s)
}
function Wv(e, t, n, s, a) {
    n = n.render;
    var i = t.ref;
    return ho(t, a),
    s = lx(e, t, n, s, i, a),
    n = cx(),
    e !== null && !qn ? (t.updateQueue = e.updateQueue,
    t.flags &= -2053,
    e.lanes &= ~a,
    Ws(e, t, a)) : (_t && n && Zp(t),
    t.flags |= 1,
    Rn(e, t, s, a),
    t.child)
}
function Bv(e, t, n, s, a) {
    if (e === null) {
        var i = n.type;
        return typeof i == "function" && !yx(i) && i.defaultProps === void 0 && n.compare === null && n.defaultProps === void 0 ? (t.tag = 15,
        t.type = i,
        v0(e, t, i, s, a)) : (e = Bd(n.type, null, s, t, t.mode, a),
        e.ref = t.ref,
        e.return = t,
        t.child = e)
    }
    if (i = e.child,
    !(e.lanes & a)) {
        var o = i.memoizedProps;
        if (n = n.compare,
        n = n !== null ? n : nc,
        n(o, s) && e.ref === t.ref)
            return Ws(e, t, a)
    }
    return t.flags |= 1,
    e = Ta(i, s),
    e.ref = t.ref,
    e.return = t,
    t.child = e
}
function v0(e, t, n, s, a) {
    if (e !== null) {
        var i = e.memoizedProps;
        if (nc(i, s) && e.ref === t.ref)
            if (qn = !1,
            t.pendingProps = s = i,
            (e.lanes & a) !== 0)
                e.flags & 131072 && (qn = !0);
            else
                return t.lanes = e.lanes,
                Ws(e, t, a)
    }
    return Ch(e, t, n, s, a)
}
function y0(e, t, n) {
    var s = t.pendingProps
      , a = s.children
      , i = e !== null ? e.memoizedState : null;
    if (s.mode === "hidden")
        if (!(t.mode & 1))
            t.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            St(oo, Xn),
            Xn |= n;
        else {
            if (!(n & 1073741824))
                return e = i !== null ? i.baseLanes | n : n,
                t.lanes = t.childLanes = 1073741824,
                t.memoizedState = {
                    baseLanes: e,
                    cachePool: null,
                    transitions: null
                },
                t.updateQueue = null,
                St(oo, Xn),
                Xn |= e,
                null;
            t.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            s = i !== null ? i.baseLanes : n,
            St(oo, Xn),
            Xn |= s
        }
    else
        i !== null ? (s = i.baseLanes | n,
        t.memoizedState = null) : s = n,
        St(oo, Xn),
        Xn |= s;
    return Rn(e, t, a, n),
    t.child
}
function j0(e, t) {
    var n = t.ref;
    (e === null && n !== null || e !== null && e.ref !== n) && (t.flags |= 512,
    t.flags |= 2097152)
}
function Ch(e, t, n, s, a) {
    var i = Qn(n) ? wi : Cn.current;
    return i = Fo(t, i),
    ho(t, a),
    n = lx(e, t, n, s, i, a),
    s = cx(),
    e !== null && !qn ? (t.updateQueue = e.updateQueue,
    t.flags &= -2053,
    e.lanes &= ~a,
    Ws(e, t, a)) : (_t && s && Zp(t),
    t.flags |= 1,
    Rn(e, t, n, a),
    t.child)
}
function Hv(e, t, n, s, a) {
    if (Qn(n)) {
        var i = !0;
        cu(t)
    } else
        i = !1;
    if (ho(t, a),
    t.stateNode === null)
        Vd(e, t),
        p0(t, n, s),
        Nh(t, n, s, a),
        s = !0;
    else if (e === null) {
        var o = t.stateNode
          , l = t.memoizedProps;
        o.props = l;
        var c = o.context
          , d = n.contextType;
        typeof d == "object" && d !== null ? d = jr(d) : (d = Qn(n) ? wi : Cn.current,
        d = Fo(t, d));
        var f = n.getDerivedStateFromProps
          , m = typeof f == "function" || typeof o.getSnapshotBeforeUpdate == "function";
        m || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== s || c !== d) && $v(t, o, s, d),
        aa = !1;
        var h = t.memoizedState;
        o.state = h,
        hu(t, s, o, a),
        c = t.memoizedState,
        l !== s || h !== c || Kn.current || aa ? (typeof f == "function" && (bh(t, n, f, s),
        c = t.memoizedState),
        (l = aa || Fv(t, n, l, s, h, c, d)) ? (m || typeof o.UNSAFE_componentWillMount != "function" && typeof o.componentWillMount != "function" || (typeof o.componentWillMount == "function" && o.componentWillMount(),
        typeof o.UNSAFE_componentWillMount == "function" && o.UNSAFE_componentWillMount()),
        typeof o.componentDidMount == "function" && (t.flags |= 4194308)) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308),
        t.memoizedProps = s,
        t.memoizedState = c),
        o.props = s,
        o.state = c,
        o.context = d,
        s = l) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308),
        s = !1)
    } else {
        o = t.stateNode,
        Qw(e, t),
        l = t.memoizedProps,
        d = t.type === t.elementType ? l : Tr(t.type, l),
        o.props = d,
        m = t.pendingProps,
        h = o.context,
        c = n.contextType,
        typeof c == "object" && c !== null ? c = jr(c) : (c = Qn(n) ? wi : Cn.current,
        c = Fo(t, c));
        var g = n.getDerivedStateFromProps;
        (f = typeof g == "function" || typeof o.getSnapshotBeforeUpdate == "function") || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== m || h !== c) && $v(t, o, s, c),
        aa = !1,
        h = t.memoizedState,
        o.state = h,
        hu(t, s, o, a);
        var w = t.memoizedState;
        l !== m || h !== w || Kn.current || aa ? (typeof g == "function" && (bh(t, n, g, s),
        w = t.memoizedState),
        (d = aa || Fv(t, n, d, s, h, w, c) || !1) ? (f || typeof o.UNSAFE_componentWillUpdate != "function" && typeof o.componentWillUpdate != "function" || (typeof o.componentWillUpdate == "function" && o.componentWillUpdate(s, w, c),
        typeof o.UNSAFE_componentWillUpdate == "function" && o.UNSAFE_componentWillUpdate(s, w, c)),
        typeof o.componentDidUpdate == "function" && (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate == "function" && (t.flags |= 1024)) : (typeof o.componentDidUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 1024),
        t.memoizedProps = s,
        t.memoizedState = w),
        o.props = s,
        o.state = w,
        o.context = c,
        s = d) : (typeof o.componentDidUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 1024),
        s = !1)
    }
    return kh(e, t, n, s, i, a)
}
function kh(e, t, n, s, a, i) {
    j0(e, t);
    var o = (t.flags & 128) !== 0;
    if (!s && !o)
        return a && Pv(t, n, !1),
        Ws(e, t, i);
    s = t.stateNode,
    IT.current = t;
    var l = o && typeof n.getDerivedStateFromError != "function" ? null : s.render();
    return t.flags |= 1,
    e !== null && o ? (t.child = zo(t, e.child, null, i),
    t.child = zo(t, null, l, i)) : Rn(e, t, l, i),
    t.memoizedState = s.state,
    a && Pv(t, n, !0),
    t.child
}
function w0(e) {
    var t = e.stateNode;
    t.pendingContext ? _v(e, t.pendingContext, t.pendingContext !== t.context) : t.context && _v(e, t.context, !1),
    sx(e, t.containerInfo)
}
function qv(e, t, n, s, a) {
    return $o(),
    Xp(a),
    t.flags |= 256,
    Rn(e, t, n, s),
    t.child
}
var Eh = {
    dehydrated: null,
    treeContext: null,
    retryLane: 0
};
function Th(e) {
    return {
        baseLanes: e,
        cachePool: null,
        transitions: null
    }
}
function b0(e, t, n) {
    var s = t.pendingProps, a = Mt.current, i = !1, o = (t.flags & 128) !== 0, l;
    if ((l = o) || (l = e !== null && e.memoizedState === null ? !1 : (a & 2) !== 0),
    l ? (i = !0,
    t.flags &= -129) : (e === null || e.memoizedState !== null) && (a |= 1),
    St(Mt, a & 1),
    e === null)
        return jh(t),
        e = t.memoizedState,
        e !== null && (e = e.dehydrated,
        e !== null) ? (t.mode & 1 ? e.data === "$!" ? t.lanes = 8 : t.lanes = 1073741824 : t.lanes = 1,
        null) : (o = s.children,
        e = s.fallback,
        i ? (s = t.mode,
        i = t.child,
        o = {
            mode: "hidden",
            children: o
        },
        !(s & 1) && i !== null ? (i.childLanes = 0,
        i.pendingProps = o) : i = df(o, s, 0, null),
        e = fi(e, s, n, null),
        i.return = t,
        e.return = t,
        i.sibling = e,
        t.child = i,
        t.child.memoizedState = Th(n),
        t.memoizedState = Eh,
        e) : fx(t, o));
    if (a = e.memoizedState,
    a !== null && (l = a.dehydrated,
    l !== null))
        return DT(e, t, o, s, l, a, n);
    if (i) {
        i = s.fallback,
        o = t.mode,
        a = e.child,
        l = a.sibling;
        var c = {
            mode: "hidden",
            children: s.children
        };
        return !(o & 1) && t.child !== a ? (s = t.child,
        s.childLanes = 0,
        s.pendingProps = c,
        t.deletions = null) : (s = Ta(a, c),
        s.subtreeFlags = a.subtreeFlags & 14680064),
        l !== null ? i = Ta(l, i) : (i = fi(i, o, n, null),
        i.flags |= 2),
        i.return = t,
        s.return = t,
        s.sibling = i,
        t.child = s,
        s = i,
        i = t.child,
        o = e.child.memoizedState,
        o = o === null ? Th(n) : {
            baseLanes: o.baseLanes | n,
            cachePool: null,
            transitions: o.transitions
        },
        i.memoizedState = o,
        i.childLanes = e.childLanes & ~n,
        t.memoizedState = Eh,
        s
    }
    return i = e.child,
    e = i.sibling,
    s = Ta(i, {
        mode: "visible",
        children: s.children
    }),
    !(t.mode & 1) && (s.lanes = n),
    s.return = t,
    s.sibling = null,
    e !== null && (n = t.deletions,
    n === null ? (t.deletions = [e],
    t.flags |= 16) : n.push(e)),
    t.child = s,
    t.memoizedState = null,
    s
}
function fx(e, t) {
    return t = df({
        mode: "visible",
        children: t
    }, e.mode, 0, null),
    t.return = e,
    e.child = t
}
function yd(e, t, n, s) {
    return s !== null && Xp(s),
    zo(t, e.child, null, n),
    e = fx(t, t.pendingProps.children),
    e.flags |= 2,
    t.memoizedState = null,
    e
}
function DT(e, t, n, s, a, i, o) {
    if (n)
        return t.flags & 256 ? (t.flags &= -257,
        s = bm(Error(X(422))),
        yd(e, t, o, s)) : t.memoizedState !== null ? (t.child = e.child,
        t.flags |= 128,
        null) : (i = s.fallback,
        a = t.mode,
        s = df({
            mode: "visible",
            children: s.children
        }, a, 0, null),
        i = fi(i, a, o, null),
        i.flags |= 2,
        s.return = t,
        i.return = t,
        s.sibling = i,
        t.child = s,
        t.mode & 1 && zo(t, e.child, null, o),
        t.child.memoizedState = Th(o),
        t.memoizedState = Eh,
        i);
    if (!(t.mode & 1))
        return yd(e, t, o, null);
    if (a.data === "$!") {
        if (s = a.nextSibling && a.nextSibling.dataset,
        s)
            var l = s.dgst;
        return s = l,
        i = Error(X(419)),
        s = bm(i, s, void 0),
        yd(e, t, o, s)
    }
    if (l = (o & e.childLanes) !== 0,
    qn || l) {
        if (s = dn,
        s !== null) {
            switch (o & -o) {
            case 4:
                a = 2;
                break;
            case 16:
                a = 8;
                break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
                a = 32;
                break;
            case 536870912:
                a = 268435456;
                break;
            default:
                a = 0
            }
            a = a & (s.suspendedLanes | o) ? 0 : a,
            a !== 0 && a !== i.retryLane && (i.retryLane = a,
            Us(e, a),
            Fr(s, e, a, -1))
        }
        return vx(),
        s = bm(Error(X(421))),
        yd(e, t, o, s)
    }
    return a.data === "$?" ? (t.flags |= 128,
    t.child = e.child,
    t = QT.bind(null, e),
    a._reactRetry = t,
    null) : (e = i.treeContext,
    tr = Sa(a.nextSibling),
    nr = t,
    _t = !0,
    Rr = null,
    e !== null && (pr[xr++] = Is,
    pr[xr++] = Ds,
    pr[xr++] = bi,
    Is = e.id,
    Ds = e.overflow,
    bi = t),
    t = fx(t, s.children),
    t.flags |= 4096,
    t)
}
function Kv(e, t, n) {
    e.lanes |= t;
    var s = e.alternate;
    s !== null && (s.lanes |= t),
    wh(e.return, t, n)
}
function Nm(e, t, n, s, a) {
    var i = e.memoizedState;
    i === null ? e.memoizedState = {
        isBackwards: t,
        rendering: null,
        renderingStartTime: 0,
        last: s,
        tail: n,
        tailMode: a
    } : (i.isBackwards = t,
    i.rendering = null,
    i.renderingStartTime = 0,
    i.last = s,
    i.tail = n,
    i.tailMode = a)
}
function N0(e, t, n) {
    var s = t.pendingProps
      , a = s.revealOrder
      , i = s.tail;
    if (Rn(e, t, s.children, n),
    s = Mt.current,
    s & 2)
        s = s & 1 | 2,
        t.flags |= 128;
    else {
        if (e !== null && e.flags & 128)
            e: for (e = t.child; e !== null; ) {
                if (e.tag === 13)
                    e.memoizedState !== null && Kv(e, n, t);
                else if (e.tag === 19)
                    Kv(e, n, t);
                else if (e.child !== null) {
                    e.child.return = e,
                    e = e.child;
                    continue
                }
                if (e === t)
                    break e;
                for (; e.sibling === null; ) {
                    if (e.return === null || e.return === t)
                        break e;
                    e = e.return
                }
                e.sibling.return = e.return,
                e = e.sibling
            }
        s &= 1
    }
    if (St(Mt, s),
    !(t.mode & 1))
        t.memoizedState = null;
    else
        switch (a) {
        case "forwards":
            for (n = t.child,
            a = null; n !== null; )
                e = n.alternate,
                e !== null && pu(e) === null && (a = n),
                n = n.sibling;
            n = a,
            n === null ? (a = t.child,
            t.child = null) : (a = n.sibling,
            n.sibling = null),
            Nm(t, !1, a, n, i);
            break;
        case "backwards":
            for (n = null,
            a = t.child,
            t.child = null; a !== null; ) {
                if (e = a.alternate,
                e !== null && pu(e) === null) {
                    t.child = a;
                    break
                }
                e = a.sibling,
                a.sibling = n,
                n = a,
                a = e
            }
            Nm(t, !0, n, null, i);
            break;
        case "together":
            Nm(t, !1, null, null, void 0);
            break;
        default:
            t.memoizedState = null
        }
    return t.child
}
function Vd(e, t) {
    !(t.mode & 1) && e !== null && (e.alternate = null,
    t.alternate = null,
    t.flags |= 2)
}
function Ws(e, t, n) {
    if (e !== null && (t.dependencies = e.dependencies),
    Si |= t.lanes,
    !(n & t.childLanes))
        return null;
    if (e !== null && t.child !== e.child)
        throw Error(X(153));
    if (t.child !== null) {
        for (e = t.child,
        n = Ta(e, e.pendingProps),
        t.child = n,
        n.return = t; e.sibling !== null; )
            e = e.sibling,
            n = n.sibling = Ta(e, e.pendingProps),
            n.return = t;
        n.sibling = null
    }
    return t.child
}
function OT(e, t, n) {
    switch (t.tag) {
    case 3:
        w0(t),
        $o();
        break;
    case 5:
        Gw(t);
        break;
    case 1:
        Qn(t.type) && cu(t);
        break;
    case 4:
        sx(t, t.stateNode.containerInfo);
        break;
    case 10:
        var s = t.type._context
          , a = t.memoizedProps.value;
        St(fu, s._currentValue),
        s._currentValue = a;
        break;
    case 13:
        if (s = t.memoizedState,
        s !== null)
            return s.dehydrated !== null ? (St(Mt, Mt.current & 1),
            t.flags |= 128,
            null) : n & t.child.childLanes ? b0(e, t, n) : (St(Mt, Mt.current & 1),
            e = Ws(e, t, n),
            e !== null ? e.sibling : null);
        St(Mt, Mt.current & 1);
        break;
    case 19:
        if (s = (n & t.childLanes) !== 0,
        e.flags & 128) {
            if (s)
                return N0(e, t, n);
            t.flags |= 128
        }
        if (a = t.memoizedState,
        a !== null && (a.rendering = null,
        a.tail = null,
        a.lastEffect = null),
        St(Mt, Mt.current),
        s)
            break;
        return null;
    case 22:
    case 23:
        return t.lanes = 0,
        y0(e, t, n)
    }
    return Ws(e, t, n)
}
var S0, _h, C0, k0;
S0 = function(e, t) {
    for (var n = t.child; n !== null; ) {
        if (n.tag === 5 || n.tag === 6)
            e.appendChild(n.stateNode);
        else if (n.tag !== 4 && n.child !== null) {
            n.child.return = n,
            n = n.child;
            continue
        }
        if (n === t)
            break;
        for (; n.sibling === null; ) {
            if (n.return === null || n.return === t)
                return;
            n = n.return
        }
        n.sibling.return = n.return,
        n = n.sibling
    }
}
;
_h = function() {}
;
C0 = function(e, t, n, s) {
    var a = e.memoizedProps;
    if (a !== s) {
        e = t.stateNode,
        ti(ms.current);
        var i = null;
        switch (n) {
        case "input":
            a = Ym(e, a),
            s = Ym(e, s),
            i = [];
            break;
        case "select":
            a = Dt({}, a, {
                value: void 0
            }),
            s = Dt({}, s, {
                value: void 0
            }),
            i = [];
            break;
        case "textarea":
            a = eh(e, a),
            s = eh(e, s),
            i = [];
            break;
        default:
            typeof a.onClick != "function" && typeof s.onClick == "function" && (e.onclick = ou)
        }
        nh(n, s);
        var o;
        n = null;
        for (d in a)
            if (!s.hasOwnProperty(d) && a.hasOwnProperty(d) && a[d] != null)
                if (d === "style") {
                    var l = a[d];
                    for (o in l)
                        l.hasOwnProperty(o) && (n || (n = {}),
                        n[o] = "")
                } else
                    d !== "dangerouslySetInnerHTML" && d !== "children" && d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && d !== "autoFocus" && (Gl.hasOwnProperty(d) ? i || (i = []) : (i = i || []).push(d, null));
        for (d in s) {
            var c = s[d];
            if (l = a != null ? a[d] : void 0,
            s.hasOwnProperty(d) && c !== l && (c != null || l != null))
                if (d === "style")
                    if (l) {
                        for (o in l)
                            !l.hasOwnProperty(o) || c && c.hasOwnProperty(o) || (n || (n = {}),
                            n[o] = "");
                        for (o in c)
                            c.hasOwnProperty(o) && l[o] !== c[o] && (n || (n = {}),
                            n[o] = c[o])
                    } else
                        n || (i || (i = []),
                        i.push(d, n)),
                        n = c;
                else
                    d === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0,
                    l = l ? l.__html : void 0,
                    c != null && l !== c && (i = i || []).push(d, c)) : d === "children" ? typeof c != "string" && typeof c != "number" || (i = i || []).push(d, "" + c) : d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && (Gl.hasOwnProperty(d) ? (c != null && d === "onScroll" && Et("scroll", e),
                    i || l === c || (i = [])) : (i = i || []).push(d, c))
        }
        n && (i = i || []).push("style", n);
        var d = i;
        (t.updateQueue = d) && (t.flags |= 4)
    }
}
;
k0 = function(e, t, n, s) {
    n !== s && (t.flags |= 4)
}
;
function jl(e, t) {
    if (!_t)
        switch (e.tailMode) {
        case "hidden":
            t = e.tail;
            for (var n = null; t !== null; )
                t.alternate !== null && (n = t),
                t = t.sibling;
            n === null ? e.tail = null : n.sibling = null;
            break;
        case "collapsed":
            n = e.tail;
            for (var s = null; n !== null; )
                n.alternate !== null && (s = n),
                n = n.sibling;
            s === null ? t || e.tail === null ? e.tail = null : e.tail.sibling = null : s.sibling = null
        }
}
function jn(e) {
    var t = e.alternate !== null && e.alternate.child === e.child
      , n = 0
      , s = 0;
    if (t)
        for (var a = e.child; a !== null; )
            n |= a.lanes | a.childLanes,
            s |= a.subtreeFlags & 14680064,
            s |= a.flags & 14680064,
            a.return = e,
            a = a.sibling;
    else
        for (a = e.child; a !== null; )
            n |= a.lanes | a.childLanes,
            s |= a.subtreeFlags,
            s |= a.flags,
            a.return = e,
            a = a.sibling;
    return e.subtreeFlags |= s,
    e.childLanes = n,
    t
}
function LT(e, t, n) {
    var s = t.pendingProps;
    switch (Yp(t),
    t.tag) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
        return jn(t),
        null;
    case 1:
        return Qn(t.type) && lu(),
        jn(t),
        null;
    case 3:
        return s = t.stateNode,
        Vo(),
        Tt(Kn),
        Tt(Cn),
        ix(),
        s.pendingContext && (s.context = s.pendingContext,
        s.pendingContext = null),
        (e === null || e.child === null) && (gd(t) ? t.flags |= 4 : e === null || e.memoizedState.isDehydrated && !(t.flags & 256) || (t.flags |= 1024,
        Rr !== null && (Lh(Rr),
        Rr = null))),
        _h(e, t),
        jn(t),
        null;
    case 5:
        ax(t);
        var a = ti(oc.current);
        if (n = t.type,
        e !== null && t.stateNode != null)
            C0(e, t, n, s, a),
            e.ref !== t.ref && (t.flags |= 512,
            t.flags |= 2097152);
        else {
            if (!s) {
                if (t.stateNode === null)
                    throw Error(X(166));
                return jn(t),
                null
            }
            if (e = ti(ms.current),
            gd(t)) {
                s = t.stateNode,
                n = t.type;
                var i = t.memoizedProps;
                switch (s[os] = t,
                s[ac] = i,
                e = (t.mode & 1) !== 0,
                n) {
                case "dialog":
                    Et("cancel", s),
                    Et("close", s);
                    break;
                case "iframe":
                case "object":
                case "embed":
                    Et("load", s);
                    break;
                case "video":
                case "audio":
                    for (a = 0; a < _l.length; a++)
                        Et(_l[a], s);
                    break;
                case "source":
                    Et("error", s);
                    break;
                case "img":
                case "image":
                case "link":
                    Et("error", s),
                    Et("load", s);
                    break;
                case "details":
                    Et("toggle", s);
                    break;
                case "input":
                    nv(s, i),
                    Et("invalid", s);
                    break;
                case "select":
                    s._wrapperState = {
                        wasMultiple: !!i.multiple
                    },
                    Et("invalid", s);
                    break;
                case "textarea":
                    sv(s, i),
                    Et("invalid", s)
                }
                nh(n, i),
                a = null;
                for (var o in i)
                    if (i.hasOwnProperty(o)) {
                        var l = i[o];
                        o === "children" ? typeof l == "string" ? s.textContent !== l && (i.suppressHydrationWarning !== !0 && xd(s.textContent, l, e),
                        a = ["children", l]) : typeof l == "number" && s.textContent !== "" + l && (i.suppressHydrationWarning !== !0 && xd(s.textContent, l, e),
                        a = ["children", "" + l]) : Gl.hasOwnProperty(o) && l != null && o === "onScroll" && Et("scroll", s)
                    }
                switch (n) {
                case "input":
                    ld(s),
                    rv(s, i, !0);
                    break;
                case "textarea":
                    ld(s),
                    av(s);
                    break;
                case "select":
                case "option":
                    break;
                default:
                    typeof i.onClick == "function" && (s.onclick = ou)
                }
                s = a,
                t.updateQueue = s,
                s !== null && (t.flags |= 4)
            } else {
                o = a.nodeType === 9 ? a : a.ownerDocument,
                e === "http://www.w3.org/1999/xhtml" && (e = ew(n)),
                e === "http://www.w3.org/1999/xhtml" ? n === "script" ? (e = o.createElement("div"),
                e.innerHTML = "<script><\/script>",
                e = e.removeChild(e.firstChild)) : typeof s.is == "string" ? e = o.createElement(n, {
                    is: s.is
                }) : (e = o.createElement(n),
                n === "select" && (o = e,
                s.multiple ? o.multiple = !0 : s.size && (o.size = s.size))) : e = o.createElementNS(e, n),
                e[os] = t,
                e[ac] = s,
                S0(e, t, !1, !1),
                t.stateNode = e;
                e: {
                    switch (o = rh(n, s),
                    n) {
                    case "dialog":
                        Et("cancel", e),
                        Et("close", e),
                        a = s;
                        break;
                    case "iframe":
                    case "object":
                    case "embed":
                        Et("load", e),
                        a = s;
                        break;
                    case "video":
                    case "audio":
                        for (a = 0; a < _l.length; a++)
                            Et(_l[a], e);
                        a = s;
                        break;
                    case "source":
                        Et("error", e),
                        a = s;
                        break;
                    case "img":
                    case "image":
                    case "link":
                        Et("error", e),
                        Et("load", e),
                        a = s;
                        break;
                    case "details":
                        Et("toggle", e),
                        a = s;
                        break;
                    case "input":
                        nv(e, s),
                        a = Ym(e, s),
                        Et("invalid", e);
                        break;
                    case "option":
                        a = s;
                        break;
                    case "select":
                        e._wrapperState = {
                            wasMultiple: !!s.multiple
                        },
                        a = Dt({}, s, {
                            value: void 0
                        }),
                        Et("invalid", e);
                        break;
                    case "textarea":
                        sv(e, s),
                        a = eh(e, s),
                        Et("invalid", e);
                        break;
                    default:
                        a = s
                    }
                    nh(n, a),
                    l = a;
                    for (i in l)
                        if (l.hasOwnProperty(i)) {
                            var c = l[i];
                            i === "style" ? rw(e, c) : i === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0,
                            c != null && tw(e, c)) : i === "children" ? typeof c == "string" ? (n !== "textarea" || c !== "") && Zl(e, c) : typeof c == "number" && Zl(e, "" + c) : i !== "suppressContentEditableWarning" && i !== "suppressHydrationWarning" && i !== "autoFocus" && (Gl.hasOwnProperty(i) ? c != null && i === "onScroll" && Et("scroll", e) : c != null && Op(e, i, c, o))
                        }
                    switch (n) {
                    case "input":
                        ld(e),
                        rv(e, s, !1);
                        break;
                    case "textarea":
                        ld(e),
                        av(e);
                        break;
                    case "option":
                        s.value != null && e.setAttribute("value", "" + Pa(s.value));
                        break;
                    case "select":
                        e.multiple = !!s.multiple,
                        i = s.value,
                        i != null ? co(e, !!s.multiple, i, !1) : s.defaultValue != null && co(e, !!s.multiple, s.defaultValue, !0);
                        break;
                    default:
                        typeof a.onClick == "function" && (e.onclick = ou)
                    }
                    switch (n) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                        s = !!s.autoFocus;
                        break e;
                    case "img":
                        s = !0;
                        break e;
                    default:
                        s = !1
                    }
                }
                s && (t.flags |= 4)
            }
            t.ref !== null && (t.flags |= 512,
            t.flags |= 2097152)
        }
        return jn(t),
        null;
    case 6:
        if (e && t.stateNode != null)
            k0(e, t, e.memoizedProps, s);
        else {
            if (typeof s != "string" && t.stateNode === null)
                throw Error(X(166));
            if (n = ti(oc.current),
            ti(ms.current),
            gd(t)) {
                if (s = t.stateNode,
                n = t.memoizedProps,
                s[os] = t,
                (i = s.nodeValue !== n) && (e = nr,
                e !== null))
                    switch (e.tag) {
                    case 3:
                        xd(s.nodeValue, n, (e.mode & 1) !== 0);
                        break;
                    case 5:
                        e.memoizedProps.suppressHydrationWarning !== !0 && xd(s.nodeValue, n, (e.mode & 1) !== 0)
                    }
                i && (t.flags |= 4)
            } else
                s = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(s),
                s[os] = t,
                t.stateNode = s
        }
        return jn(t),
        null;
    case 13:
        if (Tt(Mt),
        s = t.memoizedState,
        e === null || e.memoizedState !== null && e.memoizedState.dehydrated !== null) {
            if (_t && tr !== null && t.mode & 1 && !(t.flags & 128))
                Bw(),
                $o(),
                t.flags |= 98560,
                i = !1;
            else if (i = gd(t),
            s !== null && s.dehydrated !== null) {
                if (e === null) {
                    if (!i)
                        throw Error(X(318));
                    if (i = t.memoizedState,
                    i = i !== null ? i.dehydrated : null,
                    !i)
                        throw Error(X(317));
                    i[os] = t
                } else
                    $o(),
                    !(t.flags & 128) && (t.memoizedState = null),
                    t.flags |= 4;
                jn(t),
                i = !1
            } else
                Rr !== null && (Lh(Rr),
                Rr = null),
                i = !0;
            if (!i)
                return t.flags & 65536 ? t : null
        }
        return t.flags & 128 ? (t.lanes = n,
        t) : (s = s !== null,
        s !== (e !== null && e.memoizedState !== null) && s && (t.child.flags |= 8192,
        t.mode & 1 && (e === null || Mt.current & 1 ? an === 0 && (an = 3) : vx())),
        t.updateQueue !== null && (t.flags |= 4),
        jn(t),
        null);
    case 4:
        return Vo(),
        _h(e, t),
        e === null && rc(t.stateNode.containerInfo),
        jn(t),
        null;
    case 10:
        return tx(t.type._context),
        jn(t),
        null;
    case 17:
        return Qn(t.type) && lu(),
        jn(t),
        null;
    case 19:
        if (Tt(Mt),
        i = t.memoizedState,
        i === null)
            return jn(t),
            null;
        if (s = (t.flags & 128) !== 0,
        o = i.rendering,
        o === null)
            if (s)
                jl(i, !1);
            else {
                if (an !== 0 || e !== null && e.flags & 128)
                    for (e = t.child; e !== null; ) {
                        if (o = pu(e),
                        o !== null) {
                            for (t.flags |= 128,
                            jl(i, !1),
                            s = o.updateQueue,
                            s !== null && (t.updateQueue = s,
                            t.flags |= 4),
                            t.subtreeFlags = 0,
                            s = n,
                            n = t.child; n !== null; )
                                i = n,
                                e = s,
                                i.flags &= 14680066,
                                o = i.alternate,
                                o === null ? (i.childLanes = 0,
                                i.lanes = e,
                                i.child = null,
                                i.subtreeFlags = 0,
                                i.memoizedProps = null,
                                i.memoizedState = null,
                                i.updateQueue = null,
                                i.dependencies = null,
                                i.stateNode = null) : (i.childLanes = o.childLanes,
                                i.lanes = o.lanes,
                                i.child = o.child,
                                i.subtreeFlags = 0,
                                i.deletions = null,
                                i.memoizedProps = o.memoizedProps,
                                i.memoizedState = o.memoizedState,
                                i.updateQueue = o.updateQueue,
                                i.type = o.type,
                                e = o.dependencies,
                                i.dependencies = e === null ? null : {
                                    lanes: e.lanes,
                                    firstContext: e.firstContext
                                }),
                                n = n.sibling;
                            return St(Mt, Mt.current & 1 | 2),
                            t.child
                        }
                        e = e.sibling
                    }
                i.tail !== null && Bt() > Wo && (t.flags |= 128,
                s = !0,
                jl(i, !1),
                t.lanes = 4194304)
            }
        else {
            if (!s)
                if (e = pu(o),
                e !== null) {
                    if (t.flags |= 128,
                    s = !0,
                    n = e.updateQueue,
                    n !== null && (t.updateQueue = n,
                    t.flags |= 4),
                    jl(i, !0),
                    i.tail === null && i.tailMode === "hidden" && !o.alternate && !_t)
                        return jn(t),
                        null
                } else
                    2 * Bt() - i.renderingStartTime > Wo && n !== 1073741824 && (t.flags |= 128,
                    s = !0,
                    jl(i, !1),
                    t.lanes = 4194304);
            i.isBackwards ? (o.sibling = t.child,
            t.child = o) : (n = i.last,
            n !== null ? n.sibling = o : t.child = o,
            i.last = o)
        }
        return i.tail !== null ? (t = i.tail,
        i.rendering = t,
        i.tail = t.sibling,
        i.renderingStartTime = Bt(),
        t.sibling = null,
        n = Mt.current,
        St(Mt, s ? n & 1 | 2 : n & 1),
        t) : (jn(t),
        null);
    case 22:
    case 23:
        return gx(),
        s = t.memoizedState !== null,
        e !== null && e.memoizedState !== null !== s && (t.flags |= 8192),
        s && t.mode & 1 ? Xn & 1073741824 && (jn(t),
        t.subtreeFlags & 6 && (t.flags |= 8192)) : jn(t),
        null;
    case 24:
        return null;
    case 25:
        return null
    }
    throw Error(X(156, t.tag))
}
function FT(e, t) {
    switch (Yp(t),
    t.tag) {
    case 1:
        return Qn(t.type) && lu(),
        e = t.flags,
        e & 65536 ? (t.flags = e & -65537 | 128,
        t) : null;
    case 3:
        return Vo(),
        Tt(Kn),
        Tt(Cn),
        ix(),
        e = t.flags,
        e & 65536 && !(e & 128) ? (t.flags = e & -65537 | 128,
        t) : null;
    case 5:
        return ax(t),
        null;
    case 13:
        if (Tt(Mt),
        e = t.memoizedState,
        e !== null && e.dehydrated !== null) {
            if (t.alternate === null)
                throw Error(X(340));
            $o()
        }
        return e = t.flags,
        e & 65536 ? (t.flags = e & -65537 | 128,
        t) : null;
    case 19:
        return Tt(Mt),
        null;
    case 4:
        return Vo(),
        null;
    case 10:
        return tx(t.type._context),
        null;
    case 22:
    case 23:
        return gx(),
        null;
    case 24:
        return null;
    default:
        return null
    }
}
var jd = !1
  , Nn = !1
  , $T = typeof WeakSet == "function" ? WeakSet : Set
  , xe = null;
function io(e, t) {
    var n = e.ref;
    if (n !== null)
        if (typeof n == "function")
            try {
                n(null)
            } catch (s) {
                Vt(e, t, s)
            }
        else
            n.current = null
}
function Ph(e, t, n) {
    try {
        n()
    } catch (s) {
        Vt(e, t, s)
    }
}
var Qv = !1;
function zT(e, t) {
    if (mh = su,
    e = Rw(),
    Gp(e)) {
        if ("selectionStart"in e)
            var n = {
                start: e.selectionStart,
                end: e.selectionEnd
            };
        else
            e: {
                n = (n = e.ownerDocument) && n.defaultView || window;
                var s = n.getSelection && n.getSelection();
                if (s && s.rangeCount !== 0) {
                    n = s.anchorNode;
                    var a = s.anchorOffset
                      , i = s.focusNode;
                    s = s.focusOffset;
                    try {
                        n.nodeType,
                        i.nodeType
                    } catch {
                        n = null;
                        break e
                    }
                    var o = 0
                      , l = -1
                      , c = -1
                      , d = 0
                      , f = 0
                      , m = e
                      , h = null;
                    t: for (; ; ) {
                        for (var g; m !== n || a !== 0 && m.nodeType !== 3 || (l = o + a),
                        m !== i || s !== 0 && m.nodeType !== 3 || (c = o + s),
                        m.nodeType === 3 && (o += m.nodeValue.length),
                        (g = m.firstChild) !== null; )
                            h = m,
                            m = g;
                        for (; ; ) {
                            if (m === e)
                                break t;
                            if (h === n && ++d === a && (l = o),
                            h === i && ++f === s && (c = o),
                            (g = m.nextSibling) !== null)
                                break;
                            m = h,
                            h = m.parentNode
                        }
                        m = g
                    }
                    n = l === -1 || c === -1 ? null : {
                        start: l,
                        end: c
                    }
                } else
                    n = null
            }
        n = n || {
            start: 0,
            end: 0
        }
    } else
        n = null;
    for (hh = {
        focusedElem: e,
        selectionRange: n
    },
    su = !1,
    xe = t; xe !== null; )
        if (t = xe,
        e = t.child,
        (t.subtreeFlags & 1028) !== 0 && e !== null)
            e.return = t,
            xe = e;
        else
            for (; xe !== null; ) {
                t = xe;
                try {
                    var w = t.alternate;
                    if (t.flags & 1024)
                        switch (t.tag) {
                        case 0:
                        case 11:
                        case 15:
                            break;
                        case 1:
                            if (w !== null) {
                                var x = w.memoizedProps
                                  , y = w.memoizedState
                                  , v = t.stateNode
                                  , p = v.getSnapshotBeforeUpdate(t.elementType === t.type ? x : Tr(t.type, x), y);
                                v.__reactInternalSnapshotBeforeUpdate = p
                            }
                            break;
                        case 3:
                            var j = t.stateNode.containerInfo;
                            j.nodeType === 1 ? j.textContent = "" : j.nodeType === 9 && j.documentElement && j.removeChild(j.documentElement);
                            break;
                        case 5:
                        case 6:
                        case 4:
                        case 17:
                            break;
                        default:
                            throw Error(X(163))
                        }
                } catch (N) {
                    Vt(t, t.return, N)
                }
                if (e = t.sibling,
                e !== null) {
                    e.return = t.return,
                    xe = e;
                    break
                }
                xe = t.return
            }
    return w = Qv,
    Qv = !1,
    w
}
function Vl(e, t, n) {
    var s = t.updateQueue;
    if (s = s !== null ? s.lastEffect : null,
    s !== null) {
        var a = s = s.next;
        do {
            if ((a.tag & e) === e) {
                var i = a.destroy;
                a.destroy = void 0,
                i !== void 0 && Ph(t, n, i)
            }
            a = a.next
        } while (a !== s)
    }
}
function lf(e, t) {
    if (t = t.updateQueue,
    t = t !== null ? t.lastEffect : null,
    t !== null) {
        var n = t = t.next;
        do {
            if ((n.tag & e) === e) {
                var s = n.create;
                n.destroy = s()
            }
            n = n.next
        } while (n !== t)
    }
}
function Rh(e) {
    var t = e.ref;
    if (t !== null) {
        var n = e.stateNode;
        switch (e.tag) {
        case 5:
            e = n;
            break;
        default:
            e = n
        }
        typeof t == "function" ? t(e) : t.current = e
    }
}
function E0(e) {
    var t = e.alternate;
    t !== null && (e.alternate = null,
    E0(t)),
    e.child = null,
    e.deletions = null,
    e.sibling = null,
    e.tag === 5 && (t = e.stateNode,
    t !== null && (delete t[os],
    delete t[ac],
    delete t[gh],
    delete t[bT],
    delete t[NT])),
    e.stateNode = null,
    e.return = null,
    e.dependencies = null,
    e.memoizedProps = null,
    e.memoizedState = null,
    e.pendingProps = null,
    e.stateNode = null,
    e.updateQueue = null
}
function T0(e) {
    return e.tag === 5 || e.tag === 3 || e.tag === 4
}
function Gv(e) {
    e: for (; ; ) {
        for (; e.sibling === null; ) {
            if (e.return === null || T0(e.return))
                return null;
            e = e.return
        }
        for (e.sibling.return = e.return,
        e = e.sibling; e.tag !== 5 && e.tag !== 6 && e.tag !== 18; ) {
            if (e.flags & 2 || e.child === null || e.tag === 4)
                continue e;
            e.child.return = e,
            e = e.child
        }
        if (!(e.flags & 2))
            return e.stateNode
    }
}
function Ah(e, t, n) {
    var s = e.tag;
    if (s === 5 || s === 6)
        e = e.stateNode,
        t ? n.nodeType === 8 ? n.parentNode.insertBefore(e, t) : n.insertBefore(e, t) : (n.nodeType === 8 ? (t = n.parentNode,
        t.insertBefore(e, n)) : (t = n,
        t.appendChild(e)),
        n = n._reactRootContainer,
        n != null || t.onclick !== null || (t.onclick = ou));
    else if (s !== 4 && (e = e.child,
    e !== null))
        for (Ah(e, t, n),
        e = e.sibling; e !== null; )
            Ah(e, t, n),
            e = e.sibling
}
function Mh(e, t, n) {
    var s = e.tag;
    if (s === 5 || s === 6)
        e = e.stateNode,
        t ? n.insertBefore(e, t) : n.appendChild(e);
    else if (s !== 4 && (e = e.child,
    e !== null))
        for (Mh(e, t, n),
        e = e.sibling; e !== null; )
            Mh(e, t, n),
            e = e.sibling
}
var hn = null
  , Pr = !1;
function Xs(e, t, n) {
    for (n = n.child; n !== null; )
        _0(e, t, n),
        n = n.sibling
}
function _0(e, t, n) {
    if (fs && typeof fs.onCommitFiberUnmount == "function")
        try {
            fs.onCommitFiberUnmount(Ju, n)
        } catch {}
    switch (n.tag) {
    case 5:
        Nn || io(n, t);
    case 6:
        var s = hn
          , a = Pr;
        hn = null,
        Xs(e, t, n),
        hn = s,
        Pr = a,
        hn !== null && (Pr ? (e = hn,
        n = n.stateNode,
        e.nodeType === 8 ? e.parentNode.removeChild(n) : e.removeChild(n)) : hn.removeChild(n.stateNode));
        break;
    case 18:
        hn !== null && (Pr ? (e = hn,
        n = n.stateNode,
        e.nodeType === 8 ? xm(e.parentNode, n) : e.nodeType === 1 && xm(e, n),
        ec(e)) : xm(hn, n.stateNode));
        break;
    case 4:
        s = hn,
        a = Pr,
        hn = n.stateNode.containerInfo,
        Pr = !0,
        Xs(e, t, n),
        hn = s,
        Pr = a;
        break;
    case 0:
    case 11:
    case 14:
    case 15:
        if (!Nn && (s = n.updateQueue,
        s !== null && (s = s.lastEffect,
        s !== null))) {
            a = s = s.next;
            do {
                var i = a
                  , o = i.destroy;
                i = i.tag,
                o !== void 0 && (i & 2 || i & 4) && Ph(n, t, o),
                a = a.next
            } while (a !== s)
        }
        Xs(e, t, n);
        break;
    case 1:
        if (!Nn && (io(n, t),
        s = n.stateNode,
        typeof s.componentWillUnmount == "function"))
            try {
                s.props = n.memoizedProps,
                s.state = n.memoizedState,
                s.componentWillUnmount()
            } catch (l) {
                Vt(n, t, l)
            }
        Xs(e, t, n);
        break;
    case 21:
        Xs(e, t, n);
        break;
    case 22:
        n.mode & 1 ? (Nn = (s = Nn) || n.memoizedState !== null,
        Xs(e, t, n),
        Nn = s) : Xs(e, t, n);
        break;
    default:
        Xs(e, t, n)
    }
}
function Zv(e) {
    var t = e.updateQueue;
    if (t !== null) {
        e.updateQueue = null;
        var n = e.stateNode;
        n === null && (n = e.stateNode = new $T),
        t.forEach(function(s) {
            var a = GT.bind(null, e, s);
            n.has(s) || (n.add(s),
            s.then(a, a))
        })
    }
}
function kr(e, t) {
    var n = t.deletions;
    if (n !== null)
        for (var s = 0; s < n.length; s++) {
            var a = n[s];
            try {
                var i = e
                  , o = t
                  , l = o;
                e: for (; l !== null; ) {
                    switch (l.tag) {
                    case 5:
                        hn = l.stateNode,
                        Pr = !1;
                        break e;
                    case 3:
                        hn = l.stateNode.containerInfo,
                        Pr = !0;
                        break e;
                    case 4:
                        hn = l.stateNode.containerInfo,
                        Pr = !0;
                        break e
                    }
                    l = l.return
                }
                if (hn === null)
                    throw Error(X(160));
                _0(i, o, a),
                hn = null,
                Pr = !1;
                var c = a.alternate;
                c !== null && (c.return = null),
                a.return = null
            } catch (d) {
                Vt(a, t, d)
            }
        }
    if (t.subtreeFlags & 12854)
        for (t = t.child; t !== null; )
            P0(t, e),
            t = t.sibling
}
function P0(e, t) {
    var n = e.alternate
      , s = e.flags;
    switch (e.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
        if (kr(t, e),
        Jr(e),
        s & 4) {
            try {
                Vl(3, e, e.return),
                lf(3, e)
            } catch (x) {
                Vt(e, e.return, x)
            }
            try {
                Vl(5, e, e.return)
            } catch (x) {
                Vt(e, e.return, x)
            }
        }
        break;
    case 1:
        kr(t, e),
        Jr(e),
        s & 512 && n !== null && io(n, n.return);
        break;
    case 5:
        if (kr(t, e),
        Jr(e),
        s & 512 && n !== null && io(n, n.return),
        e.flags & 32) {
            var a = e.stateNode;
            try {
                Zl(a, "")
            } catch (x) {
                Vt(e, e.return, x)
            }
        }
        if (s & 4 && (a = e.stateNode,
        a != null)) {
            var i = e.memoizedProps
              , o = n !== null ? n.memoizedProps : i
              , l = e.type
              , c = e.updateQueue;
            if (e.updateQueue = null,
            c !== null)
                try {
                    l === "input" && i.type === "radio" && i.name != null && Xj(a, i),
                    rh(l, o);
                    var d = rh(l, i);
                    for (o = 0; o < c.length; o += 2) {
                        var f = c[o]
                          , m = c[o + 1];
                        f === "style" ? rw(a, m) : f === "dangerouslySetInnerHTML" ? tw(a, m) : f === "children" ? Zl(a, m) : Op(a, f, m, d)
                    }
                    switch (l) {
                    case "input":
                        Xm(a, i);
                        break;
                    case "textarea":
                        Jj(a, i);
                        break;
                    case "select":
                        var h = a._wrapperState.wasMultiple;
                        a._wrapperState.wasMultiple = !!i.multiple;
                        var g = i.value;
                        g != null ? co(a, !!i.multiple, g, !1) : h !== !!i.multiple && (i.defaultValue != null ? co(a, !!i.multiple, i.defaultValue, !0) : co(a, !!i.multiple, i.multiple ? [] : "", !1))
                    }
                    a[ac] = i
                } catch (x) {
                    Vt(e, e.return, x)
                }
        }
        break;
    case 6:
        if (kr(t, e),
        Jr(e),
        s & 4) {
            if (e.stateNode === null)
                throw Error(X(162));
            a = e.stateNode,
            i = e.memoizedProps;
            try {
                a.nodeValue = i
            } catch (x) {
                Vt(e, e.return, x)
            }
        }
        break;
    case 3:
        if (kr(t, e),
        Jr(e),
        s & 4 && n !== null && n.memoizedState.isDehydrated)
            try {
                ec(t.containerInfo)
            } catch (x) {
                Vt(e, e.return, x)
            }
        break;
    case 4:
        kr(t, e),
        Jr(e);
        break;
    case 13:
        kr(t, e),
        Jr(e),
        a = e.child,
        a.flags & 8192 && (i = a.memoizedState !== null,
        a.stateNode.isHidden = i,
        !i || a.alternate !== null && a.alternate.memoizedState !== null || (px = Bt())),
        s & 4 && Zv(e);
        break;
    case 22:
        if (f = n !== null && n.memoizedState !== null,
        e.mode & 1 ? (Nn = (d = Nn) || f,
        kr(t, e),
        Nn = d) : kr(t, e),
        Jr(e),
        s & 8192) {
            if (d = e.memoizedState !== null,
            (e.stateNode.isHidden = d) && !f && e.mode & 1)
                for (xe = e,
                f = e.child; f !== null; ) {
                    for (m = xe = f; xe !== null; ) {
                        switch (h = xe,
                        g = h.child,
                        h.tag) {
                        case 0:
                        case 11:
                        case 14:
                        case 15:
                            Vl(4, h, h.return);
                            break;
                        case 1:
                            io(h, h.return);
                            var w = h.stateNode;
                            if (typeof w.componentWillUnmount == "function") {
                                s = h,
                                n = h.return;
                                try {
                                    t = s,
                                    w.props = t.memoizedProps,
                                    w.state = t.memoizedState,
                                    w.componentWillUnmount()
                                } catch (x) {
                                    Vt(s, n, x)
                                }
                            }
                            break;
                        case 5:
                            io(h, h.return);
                            break;
                        case 22:
                            if (h.memoizedState !== null) {
                                Xv(m);
                                continue
                            }
                        }
                        g !== null ? (g.return = h,
                        xe = g) : Xv(m)
                    }
                    f = f.sibling
                }
            e: for (f = null,
            m = e; ; ) {
                if (m.tag === 5) {
                    if (f === null) {
                        f = m;
                        try {
                            a = m.stateNode,
                            d ? (i = a.style,
                            typeof i.setProperty == "function" ? i.setProperty("display", "none", "important") : i.display = "none") : (l = m.stateNode,
                            c = m.memoizedProps.style,
                            o = c != null && c.hasOwnProperty("display") ? c.display : null,
                            l.style.display = nw("display", o))
                        } catch (x) {
                            Vt(e, e.return, x)
                        }
                    }
                } else if (m.tag === 6) {
                    if (f === null)
                        try {
                            m.stateNode.nodeValue = d ? "" : m.memoizedProps
                        } catch (x) {
                            Vt(e, e.return, x)
                        }
                } else if ((m.tag !== 22 && m.tag !== 23 || m.memoizedState === null || m === e) && m.child !== null) {
                    m.child.return = m,
                    m = m.child;
                    continue
                }
                if (m === e)
                    break e;
                for (; m.sibling === null; ) {
                    if (m.return === null || m.return === e)
                        break e;
                    f === m && (f = null),
                    m = m.return
                }
                f === m && (f = null),
                m.sibling.return = m.return,
                m = m.sibling
            }
        }
        break;
    case 19:
        kr(t, e),
        Jr(e),
        s & 4 && Zv(e);
        break;
    case 21:
        break;
    default:
        kr(t, e),
        Jr(e)
    }
}
function Jr(e) {
    var t = e.flags;
    if (t & 2) {
        try {
            e: {
                for (var n = e.return; n !== null; ) {
                    if (T0(n)) {
                        var s = n;
                        break e
                    }
                    n = n.return
                }
                throw Error(X(160))
            }
            switch (s.tag) {
            case 5:
                var a = s.stateNode;
                s.flags & 32 && (Zl(a, ""),
                s.flags &= -33);
                var i = Gv(e);
                Mh(e, i, a);
                break;
            case 3:
            case 4:
                var o = s.stateNode.containerInfo
                  , l = Gv(e);
                Ah(e, l, o);
                break;
            default:
                throw Error(X(161))
            }
        } catch (c) {
            Vt(e, e.return, c)
        }
        e.flags &= -3
    }
    t & 4096 && (e.flags &= -4097)
}
function VT(e, t, n) {
    xe = e,
    R0(e)
}
function R0(e, t, n) {
    for (var s = (e.mode & 1) !== 0; xe !== null; ) {
        var a = xe
          , i = a.child;
        if (a.tag === 22 && s) {
            var o = a.memoizedState !== null || jd;
            if (!o) {
                var l = a.alternate
                  , c = l !== null && l.memoizedState !== null || Nn;
                l = jd;
                var d = Nn;
                if (jd = o,
                (Nn = c) && !d)
                    for (xe = a; xe !== null; )
                        o = xe,
                        c = o.child,
                        o.tag === 22 && o.memoizedState !== null ? Jv(a) : c !== null ? (c.return = o,
                        xe = c) : Jv(a);
                for (; i !== null; )
                    xe = i,
                    R0(i),
                    i = i.sibling;
                xe = a,
                jd = l,
                Nn = d
            }
            Yv(e)
        } else
            a.subtreeFlags & 8772 && i !== null ? (i.return = a,
            xe = i) : Yv(e)
    }
}
function Yv(e) {
    for (; xe !== null; ) {
        var t = xe;
        if (t.flags & 8772) {
            var n = t.alternate;
            try {
                if (t.flags & 8772)
                    switch (t.tag) {
                    case 0:
                    case 11:
                    case 15:
                        Nn || lf(5, t);
                        break;
                    case 1:
                        var s = t.stateNode;
                        if (t.flags & 4 && !Nn)
                            if (n === null)
                                s.componentDidMount();
                            else {
                                var a = t.elementType === t.type ? n.memoizedProps : Tr(t.type, n.memoizedProps);
                                s.componentDidUpdate(a, n.memoizedState, s.__reactInternalSnapshotBeforeUpdate)
                            }
                        var i = t.updateQueue;
                        i !== null && Dv(t, i, s);
                        break;
                    case 3:
                        var o = t.updateQueue;
                        if (o !== null) {
                            if (n = null,
                            t.child !== null)
                                switch (t.child.tag) {
                                case 5:
                                    n = t.child.stateNode;
                                    break;
                                case 1:
                                    n = t.child.stateNode
                                }
                            Dv(t, o, n)
                        }
                        break;
                    case 5:
                        var l = t.stateNode;
                        if (n === null && t.flags & 4) {
                            n = l;
                            var c = t.memoizedProps;
                            switch (t.type) {
                            case "button":
                            case "input":
                            case "select":
                            case "textarea":
                                c.autoFocus && n.focus();
                                break;
                            case "img":
                                c.src && (n.src = c.src)
                            }
                        }
                        break;
                    case 6:
                        break;
                    case 4:
                        break;
                    case 12:
                        break;
                    case 13:
                        if (t.memoizedState === null) {
                            var d = t.alternate;
                            if (d !== null) {
                                var f = d.memoizedState;
                                if (f !== null) {
                                    var m = f.dehydrated;
                                    m !== null && ec(m)
                                }
                            }
                        }
                        break;
                    case 19:
                    case 17:
                    case 21:
                    case 22:
                    case 23:
                    case 25:
                        break;
                    default:
                        throw Error(X(163))
                    }
                Nn || t.flags & 512 && Rh(t)
            } catch (h) {
                Vt(t, t.return, h)
            }
        }
        if (t === e) {
            xe = null;
            break
        }
        if (n = t.sibling,
        n !== null) {
            n.return = t.return,
            xe = n;
            break
        }
        xe = t.return
    }
}
function Xv(e) {
    for (; xe !== null; ) {
        var t = xe;
        if (t === e) {
            xe = null;
            break
        }
        var n = t.sibling;
        if (n !== null) {
            n.return = t.return,
            xe = n;
            break
        }
        xe = t.return
    }
}
function Jv(e) {
    for (; xe !== null; ) {
        var t = xe;
        try {
            switch (t.tag) {
            case 0:
            case 11:
            case 15:
                var n = t.return;
                try {
                    lf(4, t)
                } catch (c) {
                    Vt(t, n, c)
                }
                break;
            case 1:
                var s = t.stateNode;
                if (typeof s.componentDidMount == "function") {
                    var a = t.return;
                    try {
                        s.componentDidMount()
                    } catch (c) {
                        Vt(t, a, c)
                    }
                }
                var i = t.return;
                try {
                    Rh(t)
                } catch (c) {
                    Vt(t, i, c)
                }
                break;
            case 5:
                var o = t.return;
                try {
                    Rh(t)
                } catch (c) {
                    Vt(t, o, c)
                }
            }
        } catch (c) {
            Vt(t, t.return, c)
        }
        if (t === e) {
            xe = null;
            break
        }
        var l = t.sibling;
        if (l !== null) {
            l.return = t.return,
            xe = l;
            break
        }
        xe = t.return
    }
}
var UT = Math.ceil
  , vu = Qs.ReactCurrentDispatcher
  , mx = Qs.ReactCurrentOwner
  , vr = Qs.ReactCurrentBatchConfig
  , ct = 0
  , dn = null
  , Yt = null
  , pn = 0
  , Xn = 0
  , oo = Ba(0)
  , an = 0
  , uc = null
  , Si = 0
  , cf = 0
  , hx = 0
  , Ul = null
  , Bn = null
  , px = 0
  , Wo = 1 / 0
  , Ps = null
  , yu = !1
  , Ih = null
  , ka = null
  , wd = !1
  , ja = null
  , ju = 0
  , Wl = 0
  , Dh = null
  , Ud = -1
  , Wd = 0;
function Mn() {
    return ct & 6 ? Bt() : Ud !== -1 ? Ud : Ud = Bt()
}
function Ea(e) {
    return e.mode & 1 ? ct & 2 && pn !== 0 ? pn & -pn : CT.transition !== null ? (Wd === 0 && (Wd = pw()),
    Wd) : (e = vt,
    e !== 0 || (e = window.event,
    e = e === void 0 ? 16 : bw(e.type)),
    e) : 1
}
function Fr(e, t, n, s) {
    if (50 < Wl)
        throw Wl = 0,
        Dh = null,
        Error(X(185));
    zc(e, n, s),
    (!(ct & 2) || e !== dn) && (e === dn && (!(ct & 2) && (cf |= n),
    an === 4 && la(e, pn)),
    Gn(e, s),
    n === 1 && ct === 0 && !(t.mode & 1) && (Wo = Bt() + 500,
    sf && Ha()))
}
function Gn(e, t) {
    var n = e.callbackNode;
    CE(e, t);
    var s = ru(e, e === dn ? pn : 0);
    if (s === 0)
        n !== null && lv(n),
        e.callbackNode = null,
        e.callbackPriority = 0;
    else if (t = s & -s,
    e.callbackPriority !== t) {
        if (n != null && lv(n),
        t === 1)
            e.tag === 0 ? ST(ey.bind(null, e)) : Vw(ey.bind(null, e)),
            jT(function() {
                !(ct & 6) && Ha()
            }),
            n = null;
        else {
            switch (xw(s)) {
            case 1:
                n = Vp;
                break;
            case 4:
                n = mw;
                break;
            case 16:
                n = nu;
                break;
            case 536870912:
                n = hw;
                break;
            default:
                n = nu
            }
            n = $0(n, A0.bind(null, e))
        }
        e.callbackPriority = t,
        e.callbackNode = n
    }
}
function A0(e, t) {
    if (Ud = -1,
    Wd = 0,
    ct & 6)
        throw Error(X(327));
    var n = e.callbackNode;
    if (po() && e.callbackNode !== n)
        return null;
    var s = ru(e, e === dn ? pn : 0);
    if (s === 0)
        return null;
    if (s & 30 || s & e.expiredLanes || t)
        t = wu(e, s);
    else {
        t = s;
        var a = ct;
        ct |= 2;
        var i = I0();
        (dn !== e || pn !== t) && (Ps = null,
        Wo = Bt() + 500,
        ui(e, t));
        do
            try {
                HT();
                break
            } catch (l) {
                M0(e, l)
            }
        while (!0);
        ex(),
        vu.current = i,
        ct = a,
        Yt !== null ? t = 0 : (dn = null,
        pn = 0,
        t = an)
    }
    if (t !== 0) {
        if (t === 2 && (a = lh(e),
        a !== 0 && (s = a,
        t = Oh(e, a))),
        t === 1)
            throw n = uc,
            ui(e, 0),
            la(e, s),
            Gn(e, Bt()),
            n;
        if (t === 6)
            la(e, s);
        else {
            if (a = e.current.alternate,
            !(s & 30) && !WT(a) && (t = wu(e, s),
            t === 2 && (i = lh(e),
            i !== 0 && (s = i,
            t = Oh(e, i))),
            t === 1))
                throw n = uc,
                ui(e, 0),
                la(e, s),
                Gn(e, Bt()),
                n;
            switch (e.finishedWork = a,
            e.finishedLanes = s,
            t) {
            case 0:
            case 1:
                throw Error(X(345));
            case 2:
                Za(e, Bn, Ps);
                break;
            case 3:
                if (la(e, s),
                (s & 130023424) === s && (t = px + 500 - Bt(),
                10 < t)) {
                    if (ru(e, 0) !== 0)
                        break;
                    if (a = e.suspendedLanes,
                    (a & s) !== s) {
                        Mn(),
                        e.pingedLanes |= e.suspendedLanes & a;
                        break
                    }
                    e.timeoutHandle = xh(Za.bind(null, e, Bn, Ps), t);
                    break
                }
                Za(e, Bn, Ps);
                break;
            case 4:
                if (la(e, s),
                (s & 4194240) === s)
                    break;
                for (t = e.eventTimes,
                a = -1; 0 < s; ) {
                    var o = 31 - Lr(s);
                    i = 1 << o,
                    o = t[o],
                    o > a && (a = o),
                    s &= ~i
                }
                if (s = a,
                s = Bt() - s,
                s = (120 > s ? 120 : 480 > s ? 480 : 1080 > s ? 1080 : 1920 > s ? 1920 : 3e3 > s ? 3e3 : 4320 > s ? 4320 : 1960 * UT(s / 1960)) - s,
                10 < s) {
                    e.timeoutHandle = xh(Za.bind(null, e, Bn, Ps), s);
                    break
                }
                Za(e, Bn, Ps);
                break;
            case 5:
                Za(e, Bn, Ps);
                break;
            default:
                throw Error(X(329))
            }
        }
    }
    return Gn(e, Bt()),
    e.callbackNode === n ? A0.bind(null, e) : null
}
function Oh(e, t) {
    var n = Ul;
    return e.current.memoizedState.isDehydrated && (ui(e, t).flags |= 256),
    e = wu(e, t),
    e !== 2 && (t = Bn,
    Bn = n,
    t !== null && Lh(t)),
    e
}
function Lh(e) {
    Bn === null ? Bn = e : Bn.push.apply(Bn, e)
}
function WT(e) {
    for (var t = e; ; ) {
        if (t.flags & 16384) {
            var n = t.updateQueue;
            if (n !== null && (n = n.stores,
            n !== null))
                for (var s = 0; s < n.length; s++) {
                    var a = n[s]
                      , i = a.getSnapshot;
                    a = a.value;
                    try {
                        if (!Br(i(), a))
                            return !1
                    } catch {
                        return !1
                    }
                }
        }
        if (n = t.child,
        t.subtreeFlags & 16384 && n !== null)
            n.return = t,
            t = n;
        else {
            if (t === e)
                break;
            for (; t.sibling === null; ) {
                if (t.return === null || t.return === e)
                    return !0;
                t = t.return
            }
            t.sibling.return = t.return,
            t = t.sibling
        }
    }
    return !0
}
function la(e, t) {
    for (t &= ~hx,
    t &= ~cf,
    e.suspendedLanes |= t,
    e.pingedLanes &= ~t,
    e = e.expirationTimes; 0 < t; ) {
        var n = 31 - Lr(t)
          , s = 1 << n;
        e[n] = -1,
        t &= ~s
    }
}
function ey(e) {
    if (ct & 6)
        throw Error(X(327));
    po();
    var t = ru(e, 0);
    if (!(t & 1))
        return Gn(e, Bt()),
        null;
    var n = wu(e, t);
    if (e.tag !== 0 && n === 2) {
        var s = lh(e);
        s !== 0 && (t = s,
        n = Oh(e, s))
    }
    if (n === 1)
        throw n = uc,
        ui(e, 0),
        la(e, t),
        Gn(e, Bt()),
        n;
    if (n === 6)
        throw Error(X(345));
    return e.finishedWork = e.current.alternate,
    e.finishedLanes = t,
    Za(e, Bn, Ps),
    Gn(e, Bt()),
    null
}
function xx(e, t) {
    var n = ct;
    ct |= 1;
    try {
        return e(t)
    } finally {
        ct = n,
        ct === 0 && (Wo = Bt() + 500,
        sf && Ha())
    }
}
function Ci(e) {
    ja !== null && ja.tag === 0 && !(ct & 6) && po();
    var t = ct;
    ct |= 1;
    var n = vr.transition
      , s = vt;
    try {
        if (vr.transition = null,
        vt = 1,
        e)
            return e()
    } finally {
        vt = s,
        vr.transition = n,
        ct = t,
        !(ct & 6) && Ha()
    }
}
function gx() {
    Xn = oo.current,
    Tt(oo)
}
function ui(e, t) {
    e.finishedWork = null,
    e.finishedLanes = 0;
    var n = e.timeoutHandle;
    if (n !== -1 && (e.timeoutHandle = -1,
    yT(n)),
    Yt !== null)
        for (n = Yt.return; n !== null; ) {
            var s = n;
            switch (Yp(s),
            s.tag) {
            case 1:
                s = s.type.childContextTypes,
                s != null && lu();
                break;
            case 3:
                Vo(),
                Tt(Kn),
                Tt(Cn),
                ix();
                break;
            case 5:
                ax(s);
                break;
            case 4:
                Vo();
                break;
            case 13:
                Tt(Mt);
                break;
            case 19:
                Tt(Mt);
                break;
            case 10:
                tx(s.type._context);
                break;
            case 22:
            case 23:
                gx()
            }
            n = n.return
        }
    if (dn = e,
    Yt = e = Ta(e.current, null),
    pn = Xn = t,
    an = 0,
    uc = null,
    hx = cf = Si = 0,
    Bn = Ul = null,
    ei !== null) {
        for (t = 0; t < ei.length; t++)
            if (n = ei[t],
            s = n.interleaved,
            s !== null) {
                n.interleaved = null;
                var a = s.next
                  , i = n.pending;
                if (i !== null) {
                    var o = i.next;
                    i.next = a,
                    s.next = o
                }
                n.pending = s
            }
        ei = null
    }
    return e
}
function M0(e, t) {
    do {
        var n = Yt;
        try {
            if (ex(),
            $d.current = gu,
            xu) {
                for (var s = It.memoizedState; s !== null; ) {
                    var a = s.queue;
                    a !== null && (a.pending = null),
                    s = s.next
                }
                xu = !1
            }
            if (Ni = 0,
            cn = rn = It = null,
            zl = !1,
            lc = 0,
            mx.current = null,
            n === null || n.return === null) {
                an = 1,
                uc = t,
                Yt = null;
                break
            }
            e: {
                var i = e
                  , o = n.return
                  , l = n
                  , c = t;
                if (t = pn,
                l.flags |= 32768,
                c !== null && typeof c == "object" && typeof c.then == "function") {
                    var d = c
                      , f = l
                      , m = f.tag;
                    if (!(f.mode & 1) && (m === 0 || m === 11 || m === 15)) {
                        var h = f.alternate;
                        h ? (f.updateQueue = h.updateQueue,
                        f.memoizedState = h.memoizedState,
                        f.lanes = h.lanes) : (f.updateQueue = null,
                        f.memoizedState = null)
                    }
                    var g = Vv(o);
                    if (g !== null) {
                        g.flags &= -257,
                        Uv(g, o, l, i, t),
                        g.mode & 1 && zv(i, d, t),
                        t = g,
                        c = d;
                        var w = t.updateQueue;
                        if (w === null) {
                            var x = new Set;
                            x.add(c),
                            t.updateQueue = x
                        } else
                            w.add(c);
                        break e
                    } else {
                        if (!(t & 1)) {
                            zv(i, d, t),
                            vx();
                            break e
                        }
                        c = Error(X(426))
                    }
                } else if (_t && l.mode & 1) {
                    var y = Vv(o);
                    if (y !== null) {
                        !(y.flags & 65536) && (y.flags |= 256),
                        Uv(y, o, l, i, t),
                        Xp(Uo(c, l));
                        break e
                    }
                }
                i = c = Uo(c, l),
                an !== 4 && (an = 2),
                Ul === null ? Ul = [i] : Ul.push(i),
                i = o;
                do {
                    switch (i.tag) {
                    case 3:
                        i.flags |= 65536,
                        t &= -t,
                        i.lanes |= t;
                        var v = x0(i, c, t);
                        Iv(i, v);
                        break e;
                    case 1:
                        l = c;
                        var p = i.type
                          , j = i.stateNode;
                        if (!(i.flags & 128) && (typeof p.getDerivedStateFromError == "function" || j !== null && typeof j.componentDidCatch == "function" && (ka === null || !ka.has(j)))) {
                            i.flags |= 65536,
                            t &= -t,
                            i.lanes |= t;
                            var N = g0(i, l, t);
                            Iv(i, N);
                            break e
                        }
                    }
                    i = i.return
                } while (i !== null)
            }
            O0(n)
        } catch (S) {
            t = S,
            Yt === n && n !== null && (Yt = n = n.return);
            continue
        }
        break
    } while (!0)
}
function I0() {
    var e = vu.current;
    return vu.current = gu,
    e === null ? gu : e
}
function vx() {
    (an === 0 || an === 3 || an === 2) && (an = 4),
    dn === null || !(Si & 268435455) && !(cf & 268435455) || la(dn, pn)
}
function wu(e, t) {
    var n = ct;
    ct |= 2;
    var s = I0();
    (dn !== e || pn !== t) && (Ps = null,
    ui(e, t));
    do
        try {
            BT();
            break
        } catch (a) {
            M0(e, a)
        }
    while (!0);
    if (ex(),
    ct = n,
    vu.current = s,
    Yt !== null)
        throw Error(X(261));
    return dn = null,
    pn = 0,
    an
}
function BT() {
    for (; Yt !== null; )
        D0(Yt)
}
function HT() {
    for (; Yt !== null && !xE(); )
        D0(Yt)
}
function D0(e) {
    var t = F0(e.alternate, e, Xn);
    e.memoizedProps = e.pendingProps,
    t === null ? O0(e) : Yt = t,
    mx.current = null
}
function O0(e) {
    var t = e;
    do {
        var n = t.alternate;
        if (e = t.return,
        t.flags & 32768) {
            if (n = FT(n, t),
            n !== null) {
                n.flags &= 32767,
                Yt = n;
                return
            }
            if (e !== null)
                e.flags |= 32768,
                e.subtreeFlags = 0,
                e.deletions = null;
            else {
                an = 6,
                Yt = null;
                return
            }
        } else if (n = LT(n, t, Xn),
        n !== null) {
            Yt = n;
            return
        }
        if (t = t.sibling,
        t !== null) {
            Yt = t;
            return
        }
        Yt = t = e
    } while (t !== null);
    an === 0 && (an = 5)
}
function Za(e, t, n) {
    var s = vt
      , a = vr.transition;
    try {
        vr.transition = null,
        vt = 1,
        qT(e, t, n, s)
    } finally {
        vr.transition = a,
        vt = s
    }
    return null
}
function qT(e, t, n, s) {
    do
        po();
    while (ja !== null);
    if (ct & 6)
        throw Error(X(327));
    n = e.finishedWork;
    var a = e.finishedLanes;
    if (n === null)
        return null;
    if (e.finishedWork = null,
    e.finishedLanes = 0,
    n === e.current)
        throw Error(X(177));
    e.callbackNode = null,
    e.callbackPriority = 0;
    var i = n.lanes | n.childLanes;
    if (kE(e, i),
    e === dn && (Yt = dn = null,
    pn = 0),
    !(n.subtreeFlags & 2064) && !(n.flags & 2064) || wd || (wd = !0,
    $0(nu, function() {
        return po(),
        null
    })),
    i = (n.flags & 15990) !== 0,
    n.subtreeFlags & 15990 || i) {
        i = vr.transition,
        vr.transition = null;
        var o = vt;
        vt = 1;
        var l = ct;
        ct |= 4,
        mx.current = null,
        zT(e, n),
        P0(n, e),
        fT(hh),
        su = !!mh,
        hh = mh = null,
        e.current = n,
        VT(n),
        gE(),
        ct = l,
        vt = o,
        vr.transition = i
    } else
        e.current = n;
    if (wd && (wd = !1,
    ja = e,
    ju = a),
    i = e.pendingLanes,
    i === 0 && (ka = null),
    jE(n.stateNode),
    Gn(e, Bt()),
    t !== null)
        for (s = e.onRecoverableError,
        n = 0; n < t.length; n++)
            a = t[n],
            s(a.value, {
                componentStack: a.stack,
                digest: a.digest
            });
    if (yu)
        throw yu = !1,
        e = Ih,
        Ih = null,
        e;
    return ju & 1 && e.tag !== 0 && po(),
    i = e.pendingLanes,
    i & 1 ? e === Dh ? Wl++ : (Wl = 0,
    Dh = e) : Wl = 0,
    Ha(),
    null
}
function po() {
    if (ja !== null) {
        var e = xw(ju)
          , t = vr.transition
          , n = vt;
        try {
            if (vr.transition = null,
            vt = 16 > e ? 16 : e,
            ja === null)
                var s = !1;
            else {
                if (e = ja,
                ja = null,
                ju = 0,
                ct & 6)
                    throw Error(X(331));
                var a = ct;
                for (ct |= 4,
                xe = e.current; xe !== null; ) {
                    var i = xe
                      , o = i.child;
                    if (xe.flags & 16) {
                        var l = i.deletions;
                        if (l !== null) {
                            for (var c = 0; c < l.length; c++) {
                                var d = l[c];
                                for (xe = d; xe !== null; ) {
                                    var f = xe;
                                    switch (f.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        Vl(8, f, i)
                                    }
                                    var m = f.child;
                                    if (m !== null)
                                        m.return = f,
                                        xe = m;
                                    else
                                        for (; xe !== null; ) {
                                            f = xe;
                                            var h = f.sibling
                                              , g = f.return;
                                            if (E0(f),
                                            f === d) {
                                                xe = null;
                                                break
                                            }
                                            if (h !== null) {
                                                h.return = g,
                                                xe = h;
                                                break
                                            }
                                            xe = g
                                        }
                                }
                            }
                            var w = i.alternate;
                            if (w !== null) {
                                var x = w.child;
                                if (x !== null) {
                                    w.child = null;
                                    do {
                                        var y = x.sibling;
                                        x.sibling = null,
                                        x = y
                                    } while (x !== null)
                                }
                            }
                            xe = i
                        }
                    }
                    if (i.subtreeFlags & 2064 && o !== null)
                        o.return = i,
                        xe = o;
                    else
                        e: for (; xe !== null; ) {
                            if (i = xe,
                            i.flags & 2048)
                                switch (i.tag) {
                                case 0:
                                case 11:
                                case 15:
                                    Vl(9, i, i.return)
                                }
                            var v = i.sibling;
                            if (v !== null) {
                                v.return = i.return,
                                xe = v;
                                break e
                            }
                            xe = i.return
                        }
                }
                var p = e.current;
                for (xe = p; xe !== null; ) {
                    o = xe;
                    var j = o.child;
                    if (o.subtreeFlags & 2064 && j !== null)
                        j.return = o,
                        xe = j;
                    else
                        e: for (o = p; xe !== null; ) {
                            if (l = xe,
                            l.flags & 2048)
                                try {
                                    switch (l.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        lf(9, l)
                                    }
                                } catch (S) {
                                    Vt(l, l.return, S)
                                }
                            if (l === o) {
                                xe = null;
                                break e
                            }
                            var N = l.sibling;
                            if (N !== null) {
                                N.return = l.return,
                                xe = N;
                                break e
                            }
                            xe = l.return
                        }
                }
                if (ct = a,
                Ha(),
                fs && typeof fs.onPostCommitFiberRoot == "function")
                    try {
                        fs.onPostCommitFiberRoot(Ju, e)
                    } catch {}
                s = !0
            }
            return s
        } finally {
            vt = n,
            vr.transition = t
        }
    }
    return !1
}
function ty(e, t, n) {
    t = Uo(n, t),
    t = x0(e, t, 1),
    e = Ca(e, t, 1),
    t = Mn(),
    e !== null && (zc(e, 1, t),
    Gn(e, t))
}
function Vt(e, t, n) {
    if (e.tag === 3)
        ty(e, e, n);
    else
        for (; t !== null; ) {
            if (t.tag === 3) {
                ty(t, e, n);
                break
            } else if (t.tag === 1) {
                var s = t.stateNode;
                if (typeof t.type.getDerivedStateFromError == "function" || typeof s.componentDidCatch == "function" && (ka === null || !ka.has(s))) {
                    e = Uo(n, e),
                    e = g0(t, e, 1),
                    t = Ca(t, e, 1),
                    e = Mn(),
                    t !== null && (zc(t, 1, e),
                    Gn(t, e));
                    break
                }
            }
            t = t.return
        }
}
function KT(e, t, n) {
    var s = e.pingCache;
    s !== null && s.delete(t),
    t = Mn(),
    e.pingedLanes |= e.suspendedLanes & n,
    dn === e && (pn & n) === n && (an === 4 || an === 3 && (pn & 130023424) === pn && 500 > Bt() - px ? ui(e, 0) : hx |= n),
    Gn(e, t)
}
function L0(e, t) {
    t === 0 && (e.mode & 1 ? (t = ud,
    ud <<= 1,
    !(ud & 130023424) && (ud = 4194304)) : t = 1);
    var n = Mn();
    e = Us(e, t),
    e !== null && (zc(e, t, n),
    Gn(e, n))
}
function QT(e) {
    var t = e.memoizedState
      , n = 0;
    t !== null && (n = t.retryLane),
    L0(e, n)
}
function GT(e, t) {
    var n = 0;
    switch (e.tag) {
    case 13:
        var s = e.stateNode
          , a = e.memoizedState;
        a !== null && (n = a.retryLane);
        break;
    case 19:
        s = e.stateNode;
        break;
    default:
        throw Error(X(314))
    }
    s !== null && s.delete(t),
    L0(e, n)
}
var F0;
F0 = function(e, t, n) {
    if (e !== null)
        if (e.memoizedProps !== t.pendingProps || Kn.current)
            qn = !0;
        else {
            if (!(e.lanes & n) && !(t.flags & 128))
                return qn = !1,
                OT(e, t, n);
            qn = !!(e.flags & 131072)
        }
    else
        qn = !1,
        _t && t.flags & 1048576 && Uw(t, uu, t.index);
    switch (t.lanes = 0,
    t.tag) {
    case 2:
        var s = t.type;
        Vd(e, t),
        e = t.pendingProps;
        var a = Fo(t, Cn.current);
        ho(t, n),
        a = lx(null, t, s, e, a, n);
        var i = cx();
        return t.flags |= 1,
        typeof a == "object" && a !== null && typeof a.render == "function" && a.$$typeof === void 0 ? (t.tag = 1,
        t.memoizedState = null,
        t.updateQueue = null,
        Qn(s) ? (i = !0,
        cu(t)) : i = !1,
        t.memoizedState = a.state !== null && a.state !== void 0 ? a.state : null,
        rx(t),
        a.updater = of,
        t.stateNode = a,
        a._reactInternals = t,
        Nh(t, s, e, n),
        t = kh(null, t, s, !0, i, n)) : (t.tag = 0,
        _t && i && Zp(t),
        Rn(null, t, a, n),
        t = t.child),
        t;
    case 16:
        s = t.elementType;
        e: {
            switch (Vd(e, t),
            e = t.pendingProps,
            a = s._init,
            s = a(s._payload),
            t.type = s,
            a = t.tag = YT(s),
            e = Tr(s, e),
            a) {
            case 0:
                t = Ch(null, t, s, e, n);
                break e;
            case 1:
                t = Hv(null, t, s, e, n);
                break e;
            case 11:
                t = Wv(null, t, s, e, n);
                break e;
            case 14:
                t = Bv(null, t, s, Tr(s.type, e), n);
                break e
            }
            throw Error(X(306, s, ""))
        }
        return t;
    case 0:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : Tr(s, a),
        Ch(e, t, s, a, n);
    case 1:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : Tr(s, a),
        Hv(e, t, s, a, n);
    case 3:
        e: {
            if (w0(t),
            e === null)
                throw Error(X(387));
            s = t.pendingProps,
            i = t.memoizedState,
            a = i.element,
            Qw(e, t),
            hu(t, s, null, n);
            var o = t.memoizedState;
            if (s = o.element,
            i.isDehydrated)
                if (i = {
                    element: s,
                    isDehydrated: !1,
                    cache: o.cache,
                    pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
                    transitions: o.transitions
                },
                t.updateQueue.baseState = i,
                t.memoizedState = i,
                t.flags & 256) {
                    a = Uo(Error(X(423)), t),
                    t = qv(e, t, s, n, a);
                    break e
                } else if (s !== a) {
                    a = Uo(Error(X(424)), t),
                    t = qv(e, t, s, n, a);
                    break e
                } else
                    for (tr = Sa(t.stateNode.containerInfo.firstChild),
                    nr = t,
                    _t = !0,
                    Rr = null,
                    n = qw(t, null, s, n),
                    t.child = n; n; )
                        n.flags = n.flags & -3 | 4096,
                        n = n.sibling;
            else {
                if ($o(),
                s === a) {
                    t = Ws(e, t, n);
                    break e
                }
                Rn(e, t, s, n)
            }
            t = t.child
        }
        return t;
    case 5:
        return Gw(t),
        e === null && jh(t),
        s = t.type,
        a = t.pendingProps,
        i = e !== null ? e.memoizedProps : null,
        o = a.children,
        ph(s, a) ? o = null : i !== null && ph(s, i) && (t.flags |= 32),
        j0(e, t),
        Rn(e, t, o, n),
        t.child;
    case 6:
        return e === null && jh(t),
        null;
    case 13:
        return b0(e, t, n);
    case 4:
        return sx(t, t.stateNode.containerInfo),
        s = t.pendingProps,
        e === null ? t.child = zo(t, null, s, n) : Rn(e, t, s, n),
        t.child;
    case 11:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : Tr(s, a),
        Wv(e, t, s, a, n);
    case 7:
        return Rn(e, t, t.pendingProps, n),
        t.child;
    case 8:
        return Rn(e, t, t.pendingProps.children, n),
        t.child;
    case 12:
        return Rn(e, t, t.pendingProps.children, n),
        t.child;
    case 10:
        e: {
            if (s = t.type._context,
            a = t.pendingProps,
            i = t.memoizedProps,
            o = a.value,
            St(fu, s._currentValue),
            s._currentValue = o,
            i !== null)
                if (Br(i.value, o)) {
                    if (i.children === a.children && !Kn.current) {
                        t = Ws(e, t, n);
                        break e
                    }
                } else
                    for (i = t.child,
                    i !== null && (i.return = t); i !== null; ) {
                        var l = i.dependencies;
                        if (l !== null) {
                            o = i.child;
                            for (var c = l.firstContext; c !== null; ) {
                                if (c.context === s) {
                                    if (i.tag === 1) {
                                        c = Os(-1, n & -n),
                                        c.tag = 2;
                                        var d = i.updateQueue;
                                        if (d !== null) {
                                            d = d.shared;
                                            var f = d.pending;
                                            f === null ? c.next = c : (c.next = f.next,
                                            f.next = c),
                                            d.pending = c
                                        }
                                    }
                                    i.lanes |= n,
                                    c = i.alternate,
                                    c !== null && (c.lanes |= n),
                                    wh(i.return, n, t),
                                    l.lanes |= n;
                                    break
                                }
                                c = c.next
                            }
                        } else if (i.tag === 10)
                            o = i.type === t.type ? null : i.child;
                        else if (i.tag === 18) {
                            if (o = i.return,
                            o === null)
                                throw Error(X(341));
                            o.lanes |= n,
                            l = o.alternate,
                            l !== null && (l.lanes |= n),
                            wh(o, n, t),
                            o = i.sibling
                        } else
                            o = i.child;
                        if (o !== null)
                            o.return = i;
                        else
                            for (o = i; o !== null; ) {
                                if (o === t) {
                                    o = null;
                                    break
                                }
                                if (i = o.sibling,
                                i !== null) {
                                    i.return = o.return,
                                    o = i;
                                    break
                                }
                                o = o.return
                            }
                        i = o
                    }
            Rn(e, t, a.children, n),
            t = t.child
        }
        return t;
    case 9:
        return a = t.type,
        s = t.pendingProps.children,
        ho(t, n),
        a = jr(a),
        s = s(a),
        t.flags |= 1,
        Rn(e, t, s, n),
        t.child;
    case 14:
        return s = t.type,
        a = Tr(s, t.pendingProps),
        a = Tr(s.type, a),
        Bv(e, t, s, a, n);
    case 15:
        return v0(e, t, t.type, t.pendingProps, n);
    case 17:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : Tr(s, a),
        Vd(e, t),
        t.tag = 1,
        Qn(s) ? (e = !0,
        cu(t)) : e = !1,
        ho(t, n),
        p0(t, s, a),
        Nh(t, s, a, n),
        kh(null, t, s, !0, e, n);
    case 19:
        return N0(e, t, n);
    case 22:
        return y0(e, t, n)
    }
    throw Error(X(156, t.tag))
}
;
function $0(e, t) {
    return fw(e, t)
}
function ZT(e, t, n, s) {
    this.tag = e,
    this.key = n,
    this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
    this.index = 0,
    this.ref = null,
    this.pendingProps = t,
    this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
    this.mode = s,
    this.subtreeFlags = this.flags = 0,
    this.deletions = null,
    this.childLanes = this.lanes = 0,
    this.alternate = null
}
function gr(e, t, n, s) {
    return new ZT(e,t,n,s)
}
function yx(e) {
    return e = e.prototype,
    !(!e || !e.isReactComponent)
}
function YT(e) {
    if (typeof e == "function")
        return yx(e) ? 1 : 0;
    if (e != null) {
        if (e = e.$$typeof,
        e === Fp)
            return 11;
        if (e === $p)
            return 14
    }
    return 2
}
function Ta(e, t) {
    var n = e.alternate;
    return n === null ? (n = gr(e.tag, t, e.key, e.mode),
    n.elementType = e.elementType,
    n.type = e.type,
    n.stateNode = e.stateNode,
    n.alternate = e,
    e.alternate = n) : (n.pendingProps = t,
    n.type = e.type,
    n.flags = 0,
    n.subtreeFlags = 0,
    n.deletions = null),
    n.flags = e.flags & 14680064,
    n.childLanes = e.childLanes,
    n.lanes = e.lanes,
    n.child = e.child,
    n.memoizedProps = e.memoizedProps,
    n.memoizedState = e.memoizedState,
    n.updateQueue = e.updateQueue,
    t = e.dependencies,
    n.dependencies = t === null ? null : {
        lanes: t.lanes,
        firstContext: t.firstContext
    },
    n.sibling = e.sibling,
    n.index = e.index,
    n.ref = e.ref,
    n
}
function Bd(e, t, n, s, a, i) {
    var o = 2;
    if (s = e,
    typeof e == "function")
        yx(e) && (o = 1);
    else if (typeof e == "string")
        o = 5;
    else
        e: switch (e) {
        case Yi:
            return fi(n.children, a, i, t);
        case Lp:
            o = 8,
            a |= 8;
            break;
        case Km:
            return e = gr(12, n, t, a | 2),
            e.elementType = Km,
            e.lanes = i,
            e;
        case Qm:
            return e = gr(13, n, t, a),
            e.elementType = Qm,
            e.lanes = i,
            e;
        case Gm:
            return e = gr(19, n, t, a),
            e.elementType = Gm,
            e.lanes = i,
            e;
        case Gj:
            return df(n, a, i, t);
        default:
            if (typeof e == "object" && e !== null)
                switch (e.$$typeof) {
                case Kj:
                    o = 10;
                    break e;
                case Qj:
                    o = 9;
                    break e;
                case Fp:
                    o = 11;
                    break e;
                case $p:
                    o = 14;
                    break e;
                case sa:
                    o = 16,
                    s = null;
                    break e
                }
            throw Error(X(130, e == null ? e : typeof e, ""))
        }
    return t = gr(o, n, t, a),
    t.elementType = e,
    t.type = s,
    t.lanes = i,
    t
}
function fi(e, t, n, s) {
    return e = gr(7, e, s, t),
    e.lanes = n,
    e
}
function df(e, t, n, s) {
    return e = gr(22, e, s, t),
    e.elementType = Gj,
    e.lanes = n,
    e.stateNode = {
        isHidden: !1
    },
    e
}
function Sm(e, t, n) {
    return e = gr(6, e, null, t),
    e.lanes = n,
    e
}
function Cm(e, t, n) {
    return t = gr(4, e.children !== null ? e.children : [], e.key, t),
    t.lanes = n,
    t.stateNode = {
        containerInfo: e.containerInfo,
        pendingChildren: null,
        implementation: e.implementation
    },
    t
}
function XT(e, t, n, s, a) {
    this.tag = t,
    this.containerInfo = e,
    this.finishedWork = this.pingCache = this.current = this.pendingChildren = null,
    this.timeoutHandle = -1,
    this.callbackNode = this.pendingContext = this.context = null,
    this.callbackPriority = 0,
    this.eventTimes = am(0),
    this.expirationTimes = am(-1),
    this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
    this.entanglements = am(0),
    this.identifierPrefix = s,
    this.onRecoverableError = a,
    this.mutableSourceEagerHydrationData = null
}
function jx(e, t, n, s, a, i, o, l, c) {
    return e = new XT(e,t,n,l,c),
    t === 1 ? (t = 1,
    i === !0 && (t |= 8)) : t = 0,
    i = gr(3, null, null, t),
    e.current = i,
    i.stateNode = e,
    i.memoizedState = {
        element: s,
        isDehydrated: n,
        cache: null,
        transitions: null,
        pendingSuspenseBoundaries: null
    },
    rx(i),
    e
}
function JT(e, t, n) {
    var s = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
        $$typeof: Zi,
        key: s == null ? null : "" + s,
        children: e,
        containerInfo: t,
        implementation: n
    }
}
function z0(e) {
    if (!e)
        return Ra;
    e = e._reactInternals;
    e: {
        if (Li(e) !== e || e.tag !== 1)
            throw Error(X(170));
        var t = e;
        do {
            switch (t.tag) {
            case 3:
                t = t.stateNode.context;
                break e;
            case 1:
                if (Qn(t.type)) {
                    t = t.stateNode.__reactInternalMemoizedMergedChildContext;
                    break e
                }
            }
            t = t.return
        } while (t !== null);
        throw Error(X(171))
    }
    if (e.tag === 1) {
        var n = e.type;
        if (Qn(n))
            return zw(e, n, t)
    }
    return t
}
function V0(e, t, n, s, a, i, o, l, c) {
    return e = jx(n, s, !0, e, a, i, o, l, c),
    e.context = z0(null),
    n = e.current,
    s = Mn(),
    a = Ea(n),
    i = Os(s, a),
    i.callback = t ?? null,
    Ca(n, i, a),
    e.current.lanes = a,
    zc(e, a, s),
    Gn(e, s),
    e
}
function uf(e, t, n, s) {
    var a = t.current
      , i = Mn()
      , o = Ea(a);
    return n = z0(n),
    t.context === null ? t.context = n : t.pendingContext = n,
    t = Os(i, o),
    t.payload = {
        element: e
    },
    s = s === void 0 ? null : s,
    s !== null && (t.callback = s),
    e = Ca(a, t, o),
    e !== null && (Fr(e, a, o, i),
    Fd(e, a, o)),
    o
}
function bu(e) {
    if (e = e.current,
    !e.child)
        return null;
    switch (e.child.tag) {
    case 5:
        return e.child.stateNode;
    default:
        return e.child.stateNode
    }
}
function ny(e, t) {
    if (e = e.memoizedState,
    e !== null && e.dehydrated !== null) {
        var n = e.retryLane;
        e.retryLane = n !== 0 && n < t ? n : t
    }
}
function wx(e, t) {
    ny(e, t),
    (e = e.alternate) && ny(e, t)
}
function e_() {
    return null
}
var U0 = typeof reportError == "function" ? reportError : function(e) {
    console.error(e)
}
;
function bx(e) {
    this._internalRoot = e
}
ff.prototype.render = bx.prototype.render = function(e) {
    var t = this._internalRoot;
    if (t === null)
        throw Error(X(409));
    uf(e, t, null, null)
}
;
ff.prototype.unmount = bx.prototype.unmount = function() {
    var e = this._internalRoot;
    if (e !== null) {
        this._internalRoot = null;
        var t = e.containerInfo;
        Ci(function() {
            uf(null, e, null, null)
        }),
        t[Vs] = null
    }
}
;
function ff(e) {
    this._internalRoot = e
}
ff.prototype.unstable_scheduleHydration = function(e) {
    if (e) {
        var t = yw();
        e = {
            blockedOn: null,
            target: e,
            priority: t
        };
        for (var n = 0; n < oa.length && t !== 0 && t < oa[n].priority; n++)
            ;
        oa.splice(n, 0, e),
        n === 0 && ww(e)
    }
}
;
function Nx(e) {
    return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11)
}
function mf(e) {
    return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11 && (e.nodeType !== 8 || e.nodeValue !== " react-mount-point-unstable "))
}
function ry() {}
function t_(e, t, n, s, a) {
    if (a) {
        if (typeof s == "function") {
            var i = s;
            s = function() {
                var d = bu(o);
                i.call(d)
            }
        }
        var o = V0(t, s, e, 0, null, !1, !1, "", ry);
        return e._reactRootContainer = o,
        e[Vs] = o.current,
        rc(e.nodeType === 8 ? e.parentNode : e),
        Ci(),
        o
    }
    for (; a = e.lastChild; )
        e.removeChild(a);
    if (typeof s == "function") {
        var l = s;
        s = function() {
            var d = bu(c);
            l.call(d)
        }
    }
    var c = jx(e, 0, !1, null, null, !1, !1, "", ry);
    return e._reactRootContainer = c,
    e[Vs] = c.current,
    rc(e.nodeType === 8 ? e.parentNode : e),
    Ci(function() {
        uf(t, c, n, s)
    }),
    c
}
function hf(e, t, n, s, a) {
    var i = n._reactRootContainer;
    if (i) {
        var o = i;
        if (typeof a == "function") {
            var l = a;
            a = function() {
                var c = bu(o);
                l.call(c)
            }
        }
        uf(t, o, e, a)
    } else
        o = t_(n, t, e, a, s);
    return bu(o)
}
gw = function(e) {
    switch (e.tag) {
    case 3:
        var t = e.stateNode;
        if (t.current.memoizedState.isDehydrated) {
            var n = Tl(t.pendingLanes);
            n !== 0 && (Up(t, n | 1),
            Gn(t, Bt()),
            !(ct & 6) && (Wo = Bt() + 500,
            Ha()))
        }
        break;
    case 13:
        Ci(function() {
            var s = Us(e, 1);
            if (s !== null) {
                var a = Mn();
                Fr(s, e, 1, a)
            }
        }),
        wx(e, 1)
    }
}
;
Wp = function(e) {
    if (e.tag === 13) {
        var t = Us(e, 134217728);
        if (t !== null) {
            var n = Mn();
            Fr(t, e, 134217728, n)
        }
        wx(e, 134217728)
    }
}
;
vw = function(e) {
    if (e.tag === 13) {
        var t = Ea(e)
          , n = Us(e, t);
        if (n !== null) {
            var s = Mn();
            Fr(n, e, t, s)
        }
        wx(e, t)
    }
}
;
yw = function() {
    return vt
}
;
jw = function(e, t) {
    var n = vt;
    try {
        return vt = e,
        t()
    } finally {
        vt = n
    }
}
;
ah = function(e, t, n) {
    switch (t) {
    case "input":
        if (Xm(e, n),
        t = n.name,
        n.type === "radio" && t != null) {
            for (n = e; n.parentNode; )
                n = n.parentNode;
            for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'),
            t = 0; t < n.length; t++) {
                var s = n[t];
                if (s !== e && s.form === e.form) {
                    var a = rf(s);
                    if (!a)
                        throw Error(X(90));
                    Yj(s),
                    Xm(s, a)
                }
            }
        }
        break;
    case "textarea":
        Jj(e, n);
        break;
    case "select":
        t = n.value,
        t != null && co(e, !!n.multiple, t, !1)
    }
}
;
iw = xx;
ow = Ci;
var n_ = {
    usingClientEntryPoint: !1,
    Events: [Uc, to, rf, sw, aw, xx]
}
  , wl = {
    findFiberByHostInstance: Ja,
    bundleType: 0,
    version: "18.3.1",
    rendererPackageName: "react-dom"
}
  , r_ = {
    bundleType: wl.bundleType,
    version: wl.version,
    rendererPackageName: wl.rendererPackageName,
    rendererConfig: wl.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: Qs.ReactCurrentDispatcher,
    findHostInstanceByFiber: function(e) {
        return e = dw(e),
        e === null ? null : e.stateNode
    },
    findFiberByHostInstance: wl.findFiberByHostInstance || e_,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.3.1-next-f1338f8080-20240426"
};
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var bd = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!bd.isDisabled && bd.supportsFiber)
        try {
            Ju = bd.inject(r_),
            fs = bd
        } catch {}
}
or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = n_;
or.createPortal = function(e, t) {
    var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
    if (!Nx(t))
        throw Error(X(200));
    return JT(e, t, null, n)
}
;
or.createRoot = function(e, t) {
    if (!Nx(e))
        throw Error(X(299));
    var n = !1
      , s = ""
      , a = U0;
    return t != null && (t.unstable_strictMode === !0 && (n = !0),
    t.identifierPrefix !== void 0 && (s = t.identifierPrefix),
    t.onRecoverableError !== void 0 && (a = t.onRecoverableError)),
    t = jx(e, 1, !1, null, null, n, !1, s, a),
    e[Vs] = t.current,
    rc(e.nodeType === 8 ? e.parentNode : e),
    new bx(t)
}
;
or.findDOMNode = function(e) {
    if (e == null)
        return null;
    if (e.nodeType === 1)
        return e;
    var t = e._reactInternals;
    if (t === void 0)
        throw typeof e.render == "function" ? Error(X(188)) : (e = Object.keys(e).join(","),
        Error(X(268, e)));
    return e = dw(t),
    e = e === null ? null : e.stateNode,
    e
}
;
or.flushSync = function(e) {
    return Ci(e)
}
;
or.hydrate = function(e, t, n) {
    if (!mf(t))
        throw Error(X(200));
    return hf(null, e, t, !0, n)
}
;
or.hydrateRoot = function(e, t, n) {
    if (!Nx(e))
        throw Error(X(405));
    var s = n != null && n.hydratedSources || null
      , a = !1
      , i = ""
      , o = U0;
    if (n != null && (n.unstable_strictMode === !0 && (a = !0),
    n.identifierPrefix !== void 0 && (i = n.identifierPrefix),
    n.onRecoverableError !== void 0 && (o = n.onRecoverableError)),
    t = V0(t, null, e, 1, n ?? null, a, !1, i, o),
    e[Vs] = t.current,
    rc(e),
    s)
        for (e = 0; e < s.length; e++)
            n = s[e],
            a = n._getVersion,
            a = a(n._source),
            t.mutableSourceEagerHydrationData == null ? t.mutableSourceEagerHydrationData = [n, a] : t.mutableSourceEagerHydrationData.push(n, a);
    return new ff(t)
}
;
or.render = function(e, t, n) {
    if (!mf(t))
        throw Error(X(200));
    return hf(null, e, t, !1, n)
}
;
or.unmountComponentAtNode = function(e) {
    if (!mf(e))
        throw Error(X(40));
    return e._reactRootContainer ? (Ci(function() {
        hf(null, null, e, !1, function() {
            e._reactRootContainer = null,
            e[Vs] = null
        })
    }),
    !0) : !1
}
;
or.unstable_batchedUpdates = xx;
or.unstable_renderSubtreeIntoContainer = function(e, t, n, s) {
    if (!mf(n))
        throw Error(X(200));
    if (e == null || e._reactInternals === void 0)
        throw Error(X(38));
    return hf(e, t, n, !1, s)
}
;
or.version = "18.3.1-next-f1338f8080-20240426";
function W0() {
    if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
        try {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)
        } catch (e) {
            console.error(e)
        }
}
W0(),
Wj.exports = or;
var Fi = Wj.exports;
const s_ = Pj(Fi);
var B0, sy = Fi;
B0 = sy.createRoot,
sy.hydrateRoot;
function a_(e, t) {
    if (e instanceof RegExp)
        return {
            keys: !1,
            pattern: e
        };
    var n, s, a, i, o = [], l = "", c = e.split("/");
    for (c[0] || c.shift(); a = c.shift(); )
        n = a[0],
        n === "*" ? (o.push(n),
        l += a[1] === "?" ? "(?:/(.*))?" : "/(.*)") : n === ":" ? (s = a.indexOf("?", 1),
        i = a.indexOf(".", 1),
        o.push(a.substring(1, ~s ? s : ~i ? i : a.length)),
        l += ~s && !~i ? "(?:/([^/]+?))?" : "/([^/]+?)",
        ~i && (l += (~s ? "?" : "") + "\\" + a.substring(i))) : l += "/" + a;
    return {
        keys: o,
        pattern: new RegExp("^" + l + (t ? "(?=$|/)" : "/?$"),"i")
    }
}
var H0 = {
    exports: {}
}
  , q0 = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Bo = u;
function i_(e, t) {
    return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t
}
var o_ = typeof Object.is == "function" ? Object.is : i_
  , l_ = Bo.useState
  , c_ = Bo.useEffect
  , d_ = Bo.useLayoutEffect
  , u_ = Bo.useDebugValue;
function f_(e, t) {
    var n = t()
      , s = l_({
        inst: {
            value: n,
            getSnapshot: t
        }
    })
      , a = s[0].inst
      , i = s[1];
    return d_(function() {
        a.value = n,
        a.getSnapshot = t,
        km(a) && i({
            inst: a
        })
    }, [e, n, t]),
    c_(function() {
        return km(a) && i({
            inst: a
        }),
        e(function() {
            km(a) && i({
                inst: a
            })
        })
    }, [e]),
    u_(n),
    n
}
function km(e) {
    var t = e.getSnapshot;
    e = e.value;
    try {
        var n = t();
        return !o_(e, n)
    } catch {
        return !0
    }
}
function m_(e, t) {
    return t()
}
var h_ = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? m_ : f_;
q0.useSyncExternalStore = Bo.useSyncExternalStore !== void 0 ? Bo.useSyncExternalStore : h_;
H0.exports = q0;
var p_ = H0.exports;
const x_ = Vj.useInsertionEffect
  , g_ = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u"
  , v_ = g_ ? u.useLayoutEffect : u.useEffect
  , y_ = x_ || v_
  , K0 = e => {
    const t = u.useRef([e, (...n) => t[0](...n)]).current;
    return y_( () => {
        t[0] = e
    }
    ),
    t[1]
}
  , j_ = "popstate"
  , Sx = "pushState"
  , Cx = "replaceState"
  , w_ = "hashchange"
  , ay = [j_, Sx, Cx, w_]
  , b_ = e => {
    for (const t of ay)
        addEventListener(t, e);
    return () => {
        for (const t of ay)
            removeEventListener(t, e)
    }
}
  , Q0 = (e, t) => p_.useSyncExternalStore(b_, e, t)
  , N_ = () => location.search
  , S_ = ({ssrSearch: e=""}={}) => Q0(N_, () => e)
  , iy = () => location.pathname
  , C_ = ({ssrPath: e}={}) => Q0(iy, e ? () => e : iy)
  , k_ = (e, {replace: t=!1, state: n=null}={}) => history[t ? Cx : Sx](n, "", e)
  , E_ = (e={}) => [C_(e), k_]
  , oy = Symbol.for("wouter_v3");
if (typeof history < "u" && typeof window[oy] > "u") {
    for (const e of [Sx, Cx]) {
        const t = history[e];
        history[e] = function() {
            const n = t.apply(this, arguments)
              , s = new Event(e);
            return s.arguments = arguments,
            dispatchEvent(s),
            n
        }
    }
    Object.defineProperty(window, oy, {
        value: !0
    })
}
const T_ = (e, t) => t.toLowerCase().indexOf(e.toLowerCase()) ? "~" + t : t.slice(e.length) || "/"
  , G0 = (e="") => e === "/" ? "" : e
  , __ = (e, t) => e[0] === "~" ? e.slice(1) : G0(t) + e
  , P_ = (e="", t) => T_(ly(G0(e)), ly(t))
  , ly = e => {
    try {
        return decodeURI(e)
    } catch {
        return e
    }
}
  , Z0 = {
    hook: E_,
    searchHook: S_,
    parser: a_,
    base: "",
    ssrPath: void 0,
    ssrSearch: void 0,
    hrefs: e => e
}
  , Y0 = u.createContext(Z0)
  , Bc = () => u.useContext(Y0)
  , X0 = {}
  , J0 = u.createContext(X0)
  , R_ = () => u.useContext(J0)
  , pf = e => {
    const [t,n] = e.hook(e);
    return [P_(e.base, t), K0( (s, a) => n(__(s, e.base), a))]
}
  , Zn = () => pf(Bc())
  , eb = (e, t, n, s) => {
    const {pattern: a, keys: i} = t instanceof RegExp ? {
        keys: !1,
        pattern: t
    } : e(t || "*", s)
      , o = a.exec(n) || []
      , [l,...c] = o;
    return l !== void 0 ? [!0, ( () => {
        const d = i !== !1 ? Object.fromEntries(i.map( (m, h) => [m, c[h]])) : o.groups;
        let f = {
            ...c
        };
        return d && Object.assign(f, d),
        f
    }
    )(), ...s ? [l] : []] : [!1, null]
}
  , A_ = ({children: e, ...t}) => {
    var f, m;
    const n = Bc()
      , s = t.hook ? Z0 : n;
    let a = s;
    const [i,o] = ((f = t.ssrPath) == null ? void 0 : f.split("?")) ?? [];
    o && (t.ssrSearch = o,
    t.ssrPath = i),
    t.hrefs = t.hrefs ?? ((m = t.hook) == null ? void 0 : m.hrefs);
    let l = u.useRef({})
      , c = l.current
      , d = c;
    for (let h in s) {
        const g = h === "base" ? s[h] + (t[h] || "") : t[h] || s[h];
        c === d && g !== d[h] && (l.current = d = {
            ...d
        }),
        d[h] = g,
        g !== s[h] && (a = d)
    }
    return u.createElement(Y0.Provider, {
        value: a,
        children: e
    })
}
  , cy = ({children: e, component: t}, n) => t ? u.createElement(t, {
    params: n
}) : typeof e == "function" ? e(n) : e
  , M_ = e => {
    let t = u.useRef(X0)
      , n = t.current;
    for (const s in e)
        e[s] !== n[s] && (n = e);
    return Object.keys(e).length === 0 && (n = e),
    t.current = n
}
  , fn = ({path: e, nest: t, match: n, ...s}) => {
    const a = Bc()
      , [i] = pf(a)
      , [o,l,c] = n ?? eb(a.parser, e, i, t)
      , d = M_({
        ...R_(),
        ...l
    });
    if (!o)
        return null;
    const f = c ? u.createElement(A_, {
        base: c
    }, cy(s, d)) : cy(s, d);
    return u.createElement(J0.Provider, {
        value: d,
        children: f
    })
}
  , Ho = u.forwardRef( (e, t) => {
    const n = Bc()
      , [s,a] = pf(n)
      , {to: i="", href: o=i, onClick: l, asChild: c, children: d, className: f, replace: m, state: h, ...g} = e
      , w = K0(y => {
        y.ctrlKey || y.metaKey || y.altKey || y.shiftKey || y.button !== 0 || (l == null || l(y),
        y.defaultPrevented || (y.preventDefault(),
        a(o, e)))
    }
    )
      , x = n.hrefs(o[0] === "~" ? o.slice(1) : n.base + o, n);
    return c && u.isValidElement(d) ? u.cloneElement(d, {
        onClick: w,
        href: x
    }) : u.createElement("a", {
        ...g,
        onClick: w,
        href: x,
        className: f != null && f.call ? f(s === o) : f,
        children: d,
        ref: t
    })
}
)
  , tb = e => Array.isArray(e) ? e.flatMap(t => tb(t && t.type === u.Fragment ? t.props.children : t)) : [e]
  , I_ = ({children: e, location: t}) => {
    const n = Bc()
      , [s] = pf(n);
    for (const a of tb(e)) {
        let i = 0;
        if (u.isValidElement(a) && (i = eb(n.parser, a.props.path, t || s, a.props.nest))[0])
            return u.cloneElement(a, {
                match: i
            })
    }
    return null
}
;
var tl = class {
    constructor() {
        this.listeners = new Set,
        this.subscribe = this.subscribe.bind(this)
    }
    subscribe(e) {
        return this.listeners.add(e),
        this.onSubscribe(),
        () => {
            this.listeners.delete(e),
            this.onUnsubscribe()
        }
    }
    hasListeners() {
        return this.listeners.size > 0
    }
    onSubscribe() {}
    onUnsubscribe() {}
}
  , ki = typeof window > "u" || "Deno"in globalThis;
function mr() {}
function D_(e, t) {
    return typeof e == "function" ? e(t) : e
}
function Fh(e) {
    return typeof e == "number" && e >= 0 && e !== 1 / 0
}
function nb(e, t) {
    return Math.max(e + (t || 0) - Date.now(), 0)
}
function xo(e, t) {
    return typeof e == "function" ? e(t) : e
}
function Ar(e, t) {
    return typeof e == "function" ? e(t) : e
}
function dy(e, t) {
    const {type: n="all", exact: s, fetchStatus: a, predicate: i, queryKey: o, stale: l} = e;
    if (o) {
        if (s) {
            if (t.queryHash !== kx(o, t.options))
                return !1
        } else if (!fc(t.queryKey, o))
            return !1
    }
    if (n !== "all") {
        const c = t.isActive();
        if (n === "active" && !c || n === "inactive" && c)
            return !1
    }
    return !(typeof l == "boolean" && t.isStale() !== l || a && a !== t.state.fetchStatus || i && !i(t))
}
function uy(e, t) {
    const {exact: n, status: s, predicate: a, mutationKey: i} = e;
    if (i) {
        if (!t.options.mutationKey)
            return !1;
        if (n) {
            if (Ei(t.options.mutationKey) !== Ei(i))
                return !1
        } else if (!fc(t.options.mutationKey, i))
            return !1
    }
    return !(s && t.state.status !== s || a && !a(t))
}
function kx(e, t) {
    return ((t == null ? void 0 : t.queryKeyHashFn) || Ei)(e)
}
function Ei(e) {
    return JSON.stringify(e, (t, n) => $h(n) ? Object.keys(n).sort().reduce( (s, a) => (s[a] = n[a],
    s), {}) : n)
}
function fc(e, t) {
    return e === t ? !0 : typeof e != typeof t ? !1 : e && t && typeof e == "object" && typeof t == "object" ? !Object.keys(t).some(n => !fc(e[n], t[n])) : !1
}
function rb(e, t) {
    if (e === t)
        return e;
    const n = fy(e) && fy(t);
    if (n || $h(e) && $h(t)) {
        const s = n ? e : Object.keys(e)
          , a = s.length
          , i = n ? t : Object.keys(t)
          , o = i.length
          , l = n ? [] : {};
        let c = 0;
        for (let d = 0; d < o; d++) {
            const f = n ? d : i[d];
            (!n && s.includes(f) || n) && e[f] === void 0 && t[f] === void 0 ? (l[f] = void 0,
            c++) : (l[f] = rb(e[f], t[f]),
            l[f] === e[f] && e[f] !== void 0 && c++)
        }
        return a === o && c === a ? e : l
    }
    return t
}
function Nu(e, t) {
    if (!t || Object.keys(e).length !== Object.keys(t).length)
        return !1;
    for (const n in e)
        if (e[n] !== t[n])
            return !1;
    return !0
}
function fy(e) {
    return Array.isArray(e) && e.length === Object.keys(e).length
}
function $h(e) {
    if (!my(e))
        return !1;
    const t = e.constructor;
    if (t === void 0)
        return !0;
    const n = t.prototype;
    return !(!my(n) || !n.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(e) !== Object.prototype)
}
function my(e) {
    return Object.prototype.toString.call(e) === "[object Object]"
}
function O_(e) {
    return new Promise(t => {
        setTimeout(t, e)
    }
    )
}
function zh(e, t, n) {
    return typeof n.structuralSharing == "function" ? n.structuralSharing(e, t) : n.structuralSharing !== !1 ? rb(e, t) : t
}
function L_(e, t, n=0) {
    const s = [...e, t];
    return n && s.length > n ? s.slice(1) : s
}
function F_(e, t, n=0) {
    const s = [t, ...e];
    return n && s.length > n ? s.slice(0, -1) : s
}
var Ex = Symbol();
function sb(e, t) {
    return !e.queryFn && (t != null && t.initialPromise) ? () => t.initialPromise : !e.queryFn || e.queryFn === Ex ? () => Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)) : e.queryFn
}
var si, da, So, jj, $_ = (jj = class extends tl {
    constructor() {
        super();
        Pe(this, si);
        Pe(this, da);
        Pe(this, So);
        fe(this, So, t => {
            if (!ki && window.addEventListener) {
                const n = () => t();
                return window.addEventListener("visibilitychange", n, !1),
                () => {
                    window.removeEventListener("visibilitychange", n)
                }
            }
        }
        )
    }
    onSubscribe() {
        P(this, da) || this.setEventListener(P(this, So))
    }
    onUnsubscribe() {
        var t;
        this.hasListeners() || ((t = P(this, da)) == null || t.call(this),
        fe(this, da, void 0))
    }
    setEventListener(t) {
        var n;
        fe(this, So, t),
        (n = P(this, da)) == null || n.call(this),
        fe(this, da, t(s => {
            typeof s == "boolean" ? this.setFocused(s) : this.onFocus()
        }
        ))
    }
    setFocused(t) {
        P(this, si) !== t && (fe(this, si, t),
        this.onFocus())
    }
    onFocus() {
        const t = this.isFocused();
        this.listeners.forEach(n => {
            n(t)
        }
        )
    }
    isFocused() {
        var t;
        return typeof P(this, si) == "boolean" ? P(this, si) : ((t = globalThis.document) == null ? void 0 : t.visibilityState) !== "hidden"
    }
}
,
si = new WeakMap,
da = new WeakMap,
So = new WeakMap,
jj), Tx = new $_, Co, ua, ko, wj, z_ = (wj = class extends tl {
    constructor() {
        super();
        Pe(this, Co, !0);
        Pe(this, ua);
        Pe(this, ko);
        fe(this, ko, t => {
            if (!ki && window.addEventListener) {
                const n = () => t(!0)
                  , s = () => t(!1);
                return window.addEventListener("online", n, !1),
                window.addEventListener("offline", s, !1),
                () => {
                    window.removeEventListener("online", n),
                    window.removeEventListener("offline", s)
                }
            }
        }
        )
    }
    onSubscribe() {
        P(this, ua) || this.setEventListener(P(this, ko))
    }
    onUnsubscribe() {
        var t;
        this.hasListeners() || ((t = P(this, ua)) == null || t.call(this),
        fe(this, ua, void 0))
    }
    setEventListener(t) {
        var n;
        fe(this, ko, t),
        (n = P(this, ua)) == null || n.call(this),
        fe(this, ua, t(this.setOnline.bind(this)))
    }
    setOnline(t) {
        P(this, Co) !== t && (fe(this, Co, t),
        this.listeners.forEach(s => {
            s(t)
        }
        ))
    }
    isOnline() {
        return P(this, Co)
    }
}
,
Co = new WeakMap,
ua = new WeakMap,
ko = new WeakMap,
wj), Su = new z_;
function Vh() {
    let e, t;
    const n = new Promise( (a, i) => {
        e = a,
        t = i
    }
    );
    n.status = "pending",
    n.catch( () => {}
    );
    function s(a) {
        Object.assign(n, a),
        delete n.resolve,
        delete n.reject
    }
    return n.resolve = a => {
        s({
            status: "fulfilled",
            value: a
        }),
        e(a)
    }
    ,
    n.reject = a => {
        s({
            status: "rejected",
            reason: a
        }),
        t(a)
    }
    ,
    n
}
function V_(e) {
    return Math.min(1e3 * 2 ** e, 3e4)
}
function ab(e) {
    return (e ?? "online") === "online" ? Su.isOnline() : !0
}
var ib = class extends Error {
    constructor(e) {
        super("CancelledError"),
        this.revert = e == null ? void 0 : e.revert,
        this.silent = e == null ? void 0 : e.silent
    }
}
;
function Em(e) {
    return e instanceof ib
}
function ob(e) {
    let t = !1, n = 0, s = !1, a;
    const i = Vh()
      , o = x => {
        var y;
        s || (h(new ib(x)),
        (y = e.abort) == null || y.call(e))
    }
      , l = () => {
        t = !0
    }
      , c = () => {
        t = !1
    }
      , d = () => Tx.isFocused() && (e.networkMode === "always" || Su.isOnline()) && e.canRun()
      , f = () => ab(e.networkMode) && e.canRun()
      , m = x => {
        var y;
        s || (s = !0,
        (y = e.onSuccess) == null || y.call(e, x),
        a == null || a(),
        i.resolve(x))
    }
      , h = x => {
        var y;
        s || (s = !0,
        (y = e.onError) == null || y.call(e, x),
        a == null || a(),
        i.reject(x))
    }
      , g = () => new Promise(x => {
        var y;
        a = v => {
            (s || d()) && x(v)
        }
        ,
        (y = e.onPause) == null || y.call(e)
    }
    ).then( () => {
        var x;
        a = void 0,
        s || (x = e.onContinue) == null || x.call(e)
    }
    )
      , w = () => {
        if (s)
            return;
        let x;
        const y = n === 0 ? e.initialPromise : void 0;
        try {
            x = y ?? e.fn()
        } catch (v) {
            x = Promise.reject(v)
        }
        Promise.resolve(x).then(m).catch(v => {
            var k;
            if (s)
                return;
            const p = e.retry ?? (ki ? 0 : 3)
              , j = e.retryDelay ?? V_
              , N = typeof j == "function" ? j(n, v) : j
              , S = p === !0 || typeof p == "number" && n < p || typeof p == "function" && p(n, v);
            if (t || !S) {
                h(v);
                return
            }
            n++,
            (k = e.onFail) == null || k.call(e, n, v),
            O_(N).then( () => d() ? void 0 : g()).then( () => {
                t ? h(v) : w()
            }
            )
        }
        )
    }
    ;
    return {
        promise: i,
        cancel: o,
        continue: () => (a == null || a(),
        i),
        cancelRetry: l,
        continueRetry: c,
        canStart: f,
        start: () => (f() ? w() : g().then(w),
        i)
    }
}
function U_() {
    let e = []
      , t = 0
      , n = l => {
        l()
    }
      , s = l => {
        l()
    }
      , a = l => setTimeout(l, 0);
    const i = l => {
        t ? e.push(l) : a( () => {
            n(l)
        }
        )
    }
      , o = () => {
        const l = e;
        e = [],
        l.length && a( () => {
            s( () => {
                l.forEach(c => {
                    n(c)
                }
                )
            }
            )
        }
        )
    }
    ;
    return {
        batch: l => {
            let c;
            t++;
            try {
                c = l()
            } finally {
                t--,
                t || o()
            }
            return c
        }
        ,
        batchCalls: l => (...c) => {
            i( () => {
                l(...c)
            }
            )
        }
        ,
        schedule: i,
        setNotifyFunction: l => {
            n = l
        }
        ,
        setBatchNotifyFunction: l => {
            s = l
        }
        ,
        setScheduler: l => {
            a = l
        }
    }
}
var sn = U_(), ai, bj, lb = (bj = class {
    constructor() {
        Pe(this, ai)
    }
    destroy() {
        this.clearGcTimeout()
    }
    scheduleGc() {
        this.clearGcTimeout(),
        Fh(this.gcTime) && fe(this, ai, setTimeout( () => {
            this.optionalRemove()
        }
        , this.gcTime))
    }
    updateGcTime(e) {
        this.gcTime = Math.max(this.gcTime || 0, e ?? (ki ? 1 / 0 : 5 * 60 * 1e3))
    }
    clearGcTimeout() {
        P(this, ai) && (clearTimeout(P(this, ai)),
        fe(this, ai, void 0))
    }
}
,
ai = new WeakMap,
bj), Eo, To, fr, wn, Dc, ii, _r, Es, Nj, W_ = (Nj = class extends lb {
    constructor(t) {
        super();
        Pe(this, _r);
        Pe(this, Eo);
        Pe(this, To);
        Pe(this, fr);
        Pe(this, wn);
        Pe(this, Dc);
        Pe(this, ii);
        fe(this, ii, !1),
        fe(this, Dc, t.defaultOptions),
        this.setOptions(t.options),
        this.observers = [],
        fe(this, fr, t.cache),
        this.queryKey = t.queryKey,
        this.queryHash = t.queryHash,
        fe(this, Eo, B_(this.options)),
        this.state = t.state ?? P(this, Eo),
        this.scheduleGc()
    }
    get meta() {
        return this.options.meta
    }
    get promise() {
        var t;
        return (t = P(this, wn)) == null ? void 0 : t.promise
    }
    setOptions(t) {
        this.options = {
            ...P(this, Dc),
            ...t
        },
        this.updateGcTime(this.options.gcTime)
    }
    optionalRemove() {
        !this.observers.length && this.state.fetchStatus === "idle" && P(this, fr).remove(this)
    }
    setData(t, n) {
        const s = zh(this.state.data, t, this.options);
        return Qe(this, _r, Es).call(this, {
            data: s,
            type: "success",
            dataUpdatedAt: n == null ? void 0 : n.updatedAt,
            manual: n == null ? void 0 : n.manual
        }),
        s
    }
    setState(t, n) {
        Qe(this, _r, Es).call(this, {
            type: "setState",
            state: t,
            setStateOptions: n
        })
    }
    cancel(t) {
        var s, a;
        const n = (s = P(this, wn)) == null ? void 0 : s.promise;
        return (a = P(this, wn)) == null || a.cancel(t),
        n ? n.then(mr).catch(mr) : Promise.resolve()
    }
    destroy() {
        super.destroy(),
        this.cancel({
            silent: !0
        })
    }
    reset() {
        this.destroy(),
        this.setState(P(this, Eo))
    }
    isActive() {
        return this.observers.some(t => Ar(t.options.enabled, this) !== !1)
    }
    isDisabled() {
        return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === Ex || this.state.dataUpdateCount + this.state.errorUpdateCount === 0
    }
    isStale() {
        return this.state.isInvalidated ? !0 : this.getObserversCount() > 0 ? this.observers.some(t => t.getCurrentResult().isStale) : this.state.data === void 0
    }
    isStaleByTime(t=0) {
        return this.state.isInvalidated || this.state.data === void 0 || !nb(this.state.dataUpdatedAt, t)
    }
    onFocus() {
        var n;
        const t = this.observers.find(s => s.shouldFetchOnWindowFocus());
        t == null || t.refetch({
            cancelRefetch: !1
        }),
        (n = P(this, wn)) == null || n.continue()
    }
    onOnline() {
        var n;
        const t = this.observers.find(s => s.shouldFetchOnReconnect());
        t == null || t.refetch({
            cancelRefetch: !1
        }),
        (n = P(this, wn)) == null || n.continue()
    }
    addObserver(t) {
        this.observers.includes(t) || (this.observers.push(t),
        this.clearGcTimeout(),
        P(this, fr).notify({
            type: "observerAdded",
            query: this,
            observer: t
        }))
    }
    removeObserver(t) {
        this.observers.includes(t) && (this.observers = this.observers.filter(n => n !== t),
        this.observers.length || (P(this, wn) && (P(this, ii) ? P(this, wn).cancel({
            revert: !0
        }) : P(this, wn).cancelRetry()),
        this.scheduleGc()),
        P(this, fr).notify({
            type: "observerRemoved",
            query: this,
            observer: t
        }))
    }
    getObserversCount() {
        return this.observers.length
    }
    invalidate() {
        this.state.isInvalidated || Qe(this, _r, Es).call(this, {
            type: "invalidate"
        })
    }
    fetch(t, n) {
        var c, d, f;
        if (this.state.fetchStatus !== "idle") {
            if (this.state.data !== void 0 && (n != null && n.cancelRefetch))
                this.cancel({
                    silent: !0
                });
            else if (P(this, wn))
                return P(this, wn).continueRetry(),
                P(this, wn).promise
        }
        if (t && this.setOptions(t),
        !this.options.queryFn) {
            const m = this.observers.find(h => h.options.queryFn);
            m && this.setOptions(m.options)
        }
        const s = new AbortController
          , a = m => {
            Object.defineProperty(m, "signal", {
                enumerable: !0,
                get: () => (fe(this, ii, !0),
                s.signal)
            })
        }
          , i = () => {
            const m = sb(this.options, n)
              , h = {
                queryKey: this.queryKey,
                meta: this.meta
            };
            return a(h),
            fe(this, ii, !1),
            this.options.persister ? this.options.persister(m, h, this) : m(h)
        }
          , o = {
            fetchOptions: n,
            options: this.options,
            queryKey: this.queryKey,
            state: this.state,
            fetchFn: i
        };
        a(o),
        (c = this.options.behavior) == null || c.onFetch(o, this),
        fe(this, To, this.state),
        (this.state.fetchStatus === "idle" || this.state.fetchMeta !== ((d = o.fetchOptions) == null ? void 0 : d.meta)) && Qe(this, _r, Es).call(this, {
            type: "fetch",
            meta: (f = o.fetchOptions) == null ? void 0 : f.meta
        });
        const l = m => {
            var h, g, w, x;
            Em(m) && m.silent || Qe(this, _r, Es).call(this, {
                type: "error",
                error: m
            }),
            Em(m) || ((g = (h = P(this, fr).config).onError) == null || g.call(h, m, this),
            (x = (w = P(this, fr).config).onSettled) == null || x.call(w, this.state.data, m, this)),
            this.scheduleGc()
        }
        ;
        return fe(this, wn, ob({
            initialPromise: n == null ? void 0 : n.initialPromise,
            fn: o.fetchFn,
            abort: s.abort.bind(s),
            onSuccess: m => {
                var h, g, w, x;
                if (m === void 0) {
                    l(new Error(`${this.queryHash} data is undefined`));
                    return
                }
                try {
                    this.setData(m)
                } catch (y) {
                    l(y);
                    return
                }
                (g = (h = P(this, fr).config).onSuccess) == null || g.call(h, m, this),
                (x = (w = P(this, fr).config).onSettled) == null || x.call(w, m, this.state.error, this),
                this.scheduleGc()
            }
            ,
            onError: l,
            onFail: (m, h) => {
                Qe(this, _r, Es).call(this, {
                    type: "failed",
                    failureCount: m,
                    error: h
                })
            }
            ,
            onPause: () => {
                Qe(this, _r, Es).call(this, {
                    type: "pause"
                })
            }
            ,
            onContinue: () => {
                Qe(this, _r, Es).call(this, {
                    type: "continue"
                })
            }
            ,
            retry: o.options.retry,
            retryDelay: o.options.retryDelay,
            networkMode: o.options.networkMode,
            canRun: () => !0
        })),
        P(this, wn).start()
    }
}
,
Eo = new WeakMap,
To = new WeakMap,
fr = new WeakMap,
wn = new WeakMap,
Dc = new WeakMap,
ii = new WeakMap,
_r = new WeakSet,
Es = function(t) {
    const n = s => {
        switch (t.type) {
        case "failed":
            return {
                ...s,
                fetchFailureCount: t.failureCount,
                fetchFailureReason: t.error
            };
        case "pause":
            return {
                ...s,
                fetchStatus: "paused"
            };
        case "continue":
            return {
                ...s,
                fetchStatus: "fetching"
            };
        case "fetch":
            return {
                ...s,
                ...cb(s.data, this.options),
                fetchMeta: t.meta ?? null
            };
        case "success":
            return {
                ...s,
                data: t.data,
                dataUpdateCount: s.dataUpdateCount + 1,
                dataUpdatedAt: t.dataUpdatedAt ?? Date.now(),
                error: null,
                isInvalidated: !1,
                status: "success",
                ...!t.manual && {
                    fetchStatus: "idle",
                    fetchFailureCount: 0,
                    fetchFailureReason: null
                }
            };
        case "error":
            const a = t.error;
            return Em(a) && a.revert && P(this, To) ? {
                ...P(this, To),
                fetchStatus: "idle"
            } : {
                ...s,
                error: a,
                errorUpdateCount: s.errorUpdateCount + 1,
                errorUpdatedAt: Date.now(),
                fetchFailureCount: s.fetchFailureCount + 1,
                fetchFailureReason: a,
                fetchStatus: "idle",
                status: "error"
            };
        case "invalidate":
            return {
                ...s,
                isInvalidated: !0
            };
        case "setState":
            return {
                ...s,
                ...t.state
            }
        }
    }
    ;
    this.state = n(this.state),
    sn.batch( () => {
        this.observers.forEach(s => {
            s.onQueryUpdate()
        }
        ),
        P(this, fr).notify({
            query: this,
            type: "updated",
            action: t
        })
    }
    )
}
,
Nj);
function cb(e, t) {
    return {
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchStatus: ab(t.networkMode) ? "fetching" : "paused",
        ...e === void 0 && {
            error: null,
            status: "pending"
        }
    }
}
function B_(e) {
    const t = typeof e.initialData == "function" ? e.initialData() : e.initialData
      , n = t !== void 0
      , s = n ? typeof e.initialDataUpdatedAt == "function" ? e.initialDataUpdatedAt() : e.initialDataUpdatedAt : 0;
    return {
        data: t,
        dataUpdateCount: 0,
        dataUpdatedAt: n ? s ?? Date.now() : 0,
        error: null,
        errorUpdateCount: 0,
        errorUpdatedAt: 0,
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchMeta: null,
        isInvalidated: !1,
        status: n ? "success" : "pending",
        fetchStatus: "idle"
    }
}
var ns, Sj, H_ = (Sj = class extends tl {
    constructor(t={}) {
        super();
        Pe(this, ns);
        this.config = t,
        fe(this, ns, new Map)
    }
    build(t, n, s) {
        const a = n.queryKey
          , i = n.queryHash ?? kx(a, n);
        let o = this.get(i);
        return o || (o = new W_({
            cache: this,
            queryKey: a,
            queryHash: i,
            options: t.defaultQueryOptions(n),
            state: s,
            defaultOptions: t.getQueryDefaults(a)
        }),
        this.add(o)),
        o
    }
    add(t) {
        P(this, ns).has(t.queryHash) || (P(this, ns).set(t.queryHash, t),
        this.notify({
            type: "added",
            query: t
        }))
    }
    remove(t) {
        const n = P(this, ns).get(t.queryHash);
        n && (t.destroy(),
        n === t && P(this, ns).delete(t.queryHash),
        this.notify({
            type: "removed",
            query: t
        }))
    }
    clear() {
        sn.batch( () => {
            this.getAll().forEach(t => {
                this.remove(t)
            }
            )
        }
        )
    }
    get(t) {
        return P(this, ns).get(t)
    }
    getAll() {
        return [...P(this, ns).values()]
    }
    find(t) {
        const n = {
            exact: !0,
            ...t
        };
        return this.getAll().find(s => dy(n, s))
    }
    findAll(t={}) {
        const n = this.getAll();
        return Object.keys(t).length > 0 ? n.filter(s => dy(t, s)) : n
    }
    notify(t) {
        sn.batch( () => {
            this.listeners.forEach(n => {
                n(t)
            }
            )
        }
        )
    }
    onFocus() {
        sn.batch( () => {
            this.getAll().forEach(t => {
                t.onFocus()
            }
            )
        }
        )
    }
    onOnline() {
        sn.batch( () => {
            this.getAll().forEach(t => {
                t.onOnline()
            }
            )
        }
        )
    }
}
,
ns = new WeakMap,
Sj), rs, Tn, oi, ss, na, Cj, q_ = (Cj = class extends lb {
    constructor(t) {
        super();
        Pe(this, ss);
        Pe(this, rs);
        Pe(this, Tn);
        Pe(this, oi);
        this.mutationId = t.mutationId,
        fe(this, Tn, t.mutationCache),
        fe(this, rs, []),
        this.state = t.state || db(),
        this.setOptions(t.options),
        this.scheduleGc()
    }
    setOptions(t) {
        this.options = t,
        this.updateGcTime(this.options.gcTime)
    }
    get meta() {
        return this.options.meta
    }
    addObserver(t) {
        P(this, rs).includes(t) || (P(this, rs).push(t),
        this.clearGcTimeout(),
        P(this, Tn).notify({
            type: "observerAdded",
            mutation: this,
            observer: t
        }))
    }
    removeObserver(t) {
        fe(this, rs, P(this, rs).filter(n => n !== t)),
        this.scheduleGc(),
        P(this, Tn).notify({
            type: "observerRemoved",
            mutation: this,
            observer: t
        })
    }
    optionalRemove() {
        P(this, rs).length || (this.state.status === "pending" ? this.scheduleGc() : P(this, Tn).remove(this))
    }
    continue() {
        var t;
        return ((t = P(this, oi)) == null ? void 0 : t.continue()) ?? this.execute(this.state.variables)
    }
    async execute(t) {
        var a, i, o, l, c, d, f, m, h, g, w, x, y, v, p, j, N, S, k, C;
        fe(this, oi, ob({
            fn: () => this.options.mutationFn ? this.options.mutationFn(t) : Promise.reject(new Error("No mutationFn found")),
            onFail: (E, A) => {
                Qe(this, ss, na).call(this, {
                    type: "failed",
                    failureCount: E,
                    error: A
                })
            }
            ,
            onPause: () => {
                Qe(this, ss, na).call(this, {
                    type: "pause"
                })
            }
            ,
            onContinue: () => {
                Qe(this, ss, na).call(this, {
                    type: "continue"
                })
            }
            ,
            retry: this.options.retry ?? 0,
            retryDelay: this.options.retryDelay,
            networkMode: this.options.networkMode,
            canRun: () => P(this, Tn).canRun(this)
        }));
        const n = this.state.status === "pending"
          , s = !P(this, oi).canStart();
        try {
            if (!n) {
                Qe(this, ss, na).call(this, {
                    type: "pending",
                    variables: t,
                    isPaused: s
                }),
                await ((i = (a = P(this, Tn).config).onMutate) == null ? void 0 : i.call(a, t, this));
                const A = await ((l = (o = this.options).onMutate) == null ? void 0 : l.call(o, t));
                A !== this.state.context && Qe(this, ss, na).call(this, {
                    type: "pending",
                    context: A,
                    variables: t,
                    isPaused: s
                })
            }
            const E = await P(this, oi).start();
            return await ((d = (c = P(this, Tn).config).onSuccess) == null ? void 0 : d.call(c, E, t, this.state.context, this)),
            await ((m = (f = this.options).onSuccess) == null ? void 0 : m.call(f, E, t, this.state.context)),
            await ((g = (h = P(this, Tn).config).onSettled) == null ? void 0 : g.call(h, E, null, this.state.variables, this.state.context, this)),
            await ((x = (w = this.options).onSettled) == null ? void 0 : x.call(w, E, null, t, this.state.context)),
            Qe(this, ss, na).call(this, {
                type: "success",
                data: E
            }),
            E
        } catch (E) {
            try {
                throw await ((v = (y = P(this, Tn).config).onError) == null ? void 0 : v.call(y, E, t, this.state.context, this)),
                await ((j = (p = this.options).onError) == null ? void 0 : j.call(p, E, t, this.state.context)),
                await ((S = (N = P(this, Tn).config).onSettled) == null ? void 0 : S.call(N, void 0, E, this.state.variables, this.state.context, this)),
                await ((C = (k = this.options).onSettled) == null ? void 0 : C.call(k, void 0, E, t, this.state.context)),
                E
            } finally {
                Qe(this, ss, na).call(this, {
                    type: "error",
                    error: E
                })
            }
        } finally {
            P(this, Tn).runNext(this)
        }
    }
}
,
rs = new WeakMap,
Tn = new WeakMap,
oi = new WeakMap,
ss = new WeakSet,
na = function(t) {
    const n = s => {
        switch (t.type) {
        case "failed":
            return {
                ...s,
                failureCount: t.failureCount,
                failureReason: t.error
            };
        case "pause":
            return {
                ...s,
                isPaused: !0
            };
        case "continue":
            return {
                ...s,
                isPaused: !1
            };
        case "pending":
            return {
                ...s,
                context: t.context,
                data: void 0,
                failureCount: 0,
                failureReason: null,
                error: null,
                isPaused: t.isPaused,
                status: "pending",
                variables: t.variables,
                submittedAt: Date.now()
            };
        case "success":
            return {
                ...s,
                data: t.data,
                failureCount: 0,
                failureReason: null,
                error: null,
                status: "success",
                isPaused: !1
            };
        case "error":
            return {
                ...s,
                data: void 0,
                error: t.error,
                failureCount: s.failureCount + 1,
                failureReason: t.error,
                isPaused: !1,
                status: "error"
            }
        }
    }
    ;
    this.state = n(this.state),
    sn.batch( () => {
        P(this, rs).forEach(s => {
            s.onMutationUpdate(t)
        }
        ),
        P(this, Tn).notify({
            mutation: this,
            type: "updated",
            action: t
        })
    }
    )
}
,
Cj);
function db() {
    return {
        context: void 0,
        data: void 0,
        error: null,
        failureCount: 0,
        failureReason: null,
        isPaused: !1,
        status: "idle",
        variables: void 0,
        submittedAt: 0
    }
}
var Yn, Oc, kj, K_ = (kj = class extends tl {
    constructor(t={}) {
        super();
        Pe(this, Yn);
        Pe(this, Oc);
        this.config = t,
        fe(this, Yn, new Map),
        fe(this, Oc, Date.now())
    }
    build(t, n, s) {
        const a = new q_({
            mutationCache: this,
            mutationId: ++ad(this, Oc)._,
            options: t.defaultMutationOptions(n),
            state: s
        });
        return this.add(a),
        a
    }
    add(t) {
        const n = Nd(t)
          , s = P(this, Yn).get(n) ?? [];
        s.push(t),
        P(this, Yn).set(n, s),
        this.notify({
            type: "added",
            mutation: t
        })
    }
    remove(t) {
        var s;
        const n = Nd(t);
        if (P(this, Yn).has(n)) {
            const a = (s = P(this, Yn).get(n)) == null ? void 0 : s.filter(i => i !== t);
            a && (a.length === 0 ? P(this, Yn).delete(n) : P(this, Yn).set(n, a))
        }
        this.notify({
            type: "removed",
            mutation: t
        })
    }
    canRun(t) {
        var s;
        const n = (s = P(this, Yn).get(Nd(t))) == null ? void 0 : s.find(a => a.state.status === "pending");
        return !n || n === t
    }
    runNext(t) {
        var s;
        const n = (s = P(this, Yn).get(Nd(t))) == null ? void 0 : s.find(a => a !== t && a.state.isPaused);
        return (n == null ? void 0 : n.continue()) ?? Promise.resolve()
    }
    clear() {
        sn.batch( () => {
            this.getAll().forEach(t => {
                this.remove(t)
            }
            )
        }
        )
    }
    getAll() {
        return [...P(this, Yn).values()].flat()
    }
    find(t) {
        const n = {
            exact: !0,
            ...t
        };
        return this.getAll().find(s => uy(n, s))
    }
    findAll(t={}) {
        return this.getAll().filter(n => uy(t, n))
    }
    notify(t) {
        sn.batch( () => {
            this.listeners.forEach(n => {
                n(t)
            }
            )
        }
        )
    }
    resumePausedMutations() {
        const t = this.getAll().filter(n => n.state.isPaused);
        return sn.batch( () => Promise.all(t.map(n => n.continue().catch(mr))))
    }
}
,
Yn = new WeakMap,
Oc = new WeakMap,
kj);
function Nd(e) {
    var t;
    return ((t = e.options.scope) == null ? void 0 : t.id) ?? String(e.mutationId)
}
function hy(e) {
    return {
        onFetch: (t, n) => {
            var f, m, h, g, w;
            const s = t.options
              , a = (h = (m = (f = t.fetchOptions) == null ? void 0 : f.meta) == null ? void 0 : m.fetchMore) == null ? void 0 : h.direction
              , i = ((g = t.state.data) == null ? void 0 : g.pages) || []
              , o = ((w = t.state.data) == null ? void 0 : w.pageParams) || [];
            let l = {
                pages: [],
                pageParams: []
            }
              , c = 0;
            const d = async () => {
                let x = !1;
                const y = j => {
                    Object.defineProperty(j, "signal", {
                        enumerable: !0,
                        get: () => (t.signal.aborted ? x = !0 : t.signal.addEventListener("abort", () => {
                            x = !0
                        }
                        ),
                        t.signal)
                    })
                }
                  , v = sb(t.options, t.fetchOptions)
                  , p = async (j, N, S) => {
                    if (x)
                        return Promise.reject();
                    if (N == null && j.pages.length)
                        return Promise.resolve(j);
                    const k = {
                        queryKey: t.queryKey,
                        pageParam: N,
                        direction: S ? "backward" : "forward",
                        meta: t.options.meta
                    };
                    y(k);
                    const C = await v(k)
                      , {maxPages: E} = t.options
                      , A = S ? F_ : L_;
                    return {
                        pages: A(j.pages, C, E),
                        pageParams: A(j.pageParams, N, E)
                    }
                }
                ;
                if (a && i.length) {
                    const j = a === "backward"
                      , N = j ? Q_ : py
                      , S = {
                        pages: i,
                        pageParams: o
                    }
                      , k = N(s, S);
                    l = await p(S, k, j)
                } else {
                    const j = e ?? i.length;
                    do {
                        const N = c === 0 ? o[0] ?? s.initialPageParam : py(s, l);
                        if (c > 0 && N == null)
                            break;
                        l = await p(l, N),
                        c++
                    } while (c < j)
                }
                return l
            }
            ;
            t.options.persister ? t.fetchFn = () => {
                var x, y;
                return (y = (x = t.options).persister) == null ? void 0 : y.call(x, d, {
                    queryKey: t.queryKey,
                    meta: t.options.meta,
                    signal: t.signal
                }, n)
            }
            : t.fetchFn = d
        }
    }
}
function py(e, {pages: t, pageParams: n}) {
    const s = t.length - 1;
    return t.length > 0 ? e.getNextPageParam(t[s], t, n[s], n) : void 0
}
function Q_(e, {pages: t, pageParams: n}) {
    var s;
    return t.length > 0 ? (s = e.getPreviousPageParam) == null ? void 0 : s.call(e, t[0], t, n[0], n) : void 0
}
var Ft, fa, ma, _o, Po, ha, Ro, Ao, Ej, G_ = (Ej = class {
    constructor(e={}) {
        Pe(this, Ft);
        Pe(this, fa);
        Pe(this, ma);
        Pe(this, _o);
        Pe(this, Po);
        Pe(this, ha);
        Pe(this, Ro);
        Pe(this, Ao);
        fe(this, Ft, e.queryCache || new H_),
        fe(this, fa, e.mutationCache || new K_),
        fe(this, ma, e.defaultOptions || {}),
        fe(this, _o, new Map),
        fe(this, Po, new Map),
        fe(this, ha, 0)
    }
    mount() {
        ad(this, ha)._++,
        P(this, ha) === 1 && (fe(this, Ro, Tx.subscribe(async e => {
            e && (await this.resumePausedMutations(),
            P(this, Ft).onFocus())
        }
        )),
        fe(this, Ao, Su.subscribe(async e => {
            e && (await this.resumePausedMutations(),
            P(this, Ft).onOnline())
        }
        )))
    }
    unmount() {
        var e, t;
        ad(this, ha)._--,
        P(this, ha) === 0 && ((e = P(this, Ro)) == null || e.call(this),
        fe(this, Ro, void 0),
        (t = P(this, Ao)) == null || t.call(this),
        fe(this, Ao, void 0))
    }
    isFetching(e) {
        return P(this, Ft).findAll({
            ...e,
            fetchStatus: "fetching"
        }).length
    }
    isMutating(e) {
        return P(this, fa).findAll({
            ...e,
            status: "pending"
        }).length
    }
    getQueryData(e) {
        var n;
        const t = this.defaultQueryOptions({
            queryKey: e
        });
        return (n = P(this, Ft).get(t.queryHash)) == null ? void 0 : n.state.data
    }
    ensureQueryData(e) {
        const t = this.getQueryData(e.queryKey);
        if (t === void 0)
            return this.fetchQuery(e);
        {
            const n = this.defaultQueryOptions(e)
              , s = P(this, Ft).build(this, n);
            return e.revalidateIfStale && s.isStaleByTime(xo(n.staleTime, s)) && this.prefetchQuery(n),
            Promise.resolve(t)
        }
    }
    getQueriesData(e) {
        return P(this, Ft).findAll(e).map( ({queryKey: t, state: n}) => {
            const s = n.data;
            return [t, s]
        }
        )
    }
    setQueryData(e, t, n) {
        const s = this.defaultQueryOptions({
            queryKey: e
        })
          , a = P(this, Ft).get(s.queryHash)
          , i = a == null ? void 0 : a.state.data
          , o = D_(t, i);
        if (o !== void 0)
            return P(this, Ft).build(this, s).setData(o, {
                ...n,
                manual: !0
            })
    }
    setQueriesData(e, t, n) {
        return sn.batch( () => P(this, Ft).findAll(e).map( ({queryKey: s}) => [s, this.setQueryData(s, t, n)]))
    }
    getQueryState(e) {
        var n;
        const t = this.defaultQueryOptions({
            queryKey: e
        });
        return (n = P(this, Ft).get(t.queryHash)) == null ? void 0 : n.state
    }
    removeQueries(e) {
        const t = P(this, Ft);
        sn.batch( () => {
            t.findAll(e).forEach(n => {
                t.remove(n)
            }
            )
        }
        )
    }
    resetQueries(e, t) {
        const n = P(this, Ft)
          , s = {
            type: "active",
            ...e
        };
        return sn.batch( () => (n.findAll(e).forEach(a => {
            a.reset()
        }
        ),
        this.refetchQueries(s, t)))
    }
    cancelQueries(e={}, t={}) {
        const n = {
            revert: !0,
            ...t
        }
          , s = sn.batch( () => P(this, Ft).findAll(e).map(a => a.cancel(n)));
        return Promise.all(s).then(mr).catch(mr)
    }
    invalidateQueries(e={}, t={}) {
        return sn.batch( () => {
            if (P(this, Ft).findAll(e).forEach(s => {
                s.invalidate()
            }
            ),
            e.refetchType === "none")
                return Promise.resolve();
            const n = {
                ...e,
                type: e.refetchType ?? e.type ?? "active"
            };
            return this.refetchQueries(n, t)
        }
        )
    }
    refetchQueries(e={}, t) {
        const n = {
            ...t,
            cancelRefetch: (t == null ? void 0 : t.cancelRefetch) ?? !0
        }
          , s = sn.batch( () => P(this, Ft).findAll(e).filter(a => !a.isDisabled()).map(a => {
            let i = a.fetch(void 0, n);
            return n.throwOnError || (i = i.catch(mr)),
            a.state.fetchStatus === "paused" ? Promise.resolve() : i
        }
        ));
        return Promise.all(s).then(mr)
    }
    fetchQuery(e) {
        const t = this.defaultQueryOptions(e);
        t.retry === void 0 && (t.retry = !1);
        const n = P(this, Ft).build(this, t);
        return n.isStaleByTime(xo(t.staleTime, n)) ? n.fetch(t) : Promise.resolve(n.state.data)
    }
    prefetchQuery(e) {
        return this.fetchQuery(e).then(mr).catch(mr)
    }
    fetchInfiniteQuery(e) {
        return e.behavior = hy(e.pages),
        this.fetchQuery(e)
    }
    prefetchInfiniteQuery(e) {
        return this.fetchInfiniteQuery(e).then(mr).catch(mr)
    }
    ensureInfiniteQueryData(e) {
        return e.behavior = hy(e.pages),
        this.ensureQueryData(e)
    }
    resumePausedMutations() {
        return Su.isOnline() ? P(this, fa).resumePausedMutations() : Promise.resolve()
    }
    getQueryCache() {
        return P(this, Ft)
    }
    getMutationCache() {
        return P(this, fa)
    }
    getDefaultOptions() {
        return P(this, ma)
    }
    setDefaultOptions(e) {
        fe(this, ma, e)
    }
    setQueryDefaults(e, t) {
        P(this, _o).set(Ei(e), {
            queryKey: e,
            defaultOptions: t
        })
    }
    getQueryDefaults(e) {
        const t = [...P(this, _o).values()];
        let n = {};
        return t.forEach(s => {
            fc(e, s.queryKey) && (n = {
                ...n,
                ...s.defaultOptions
            })
        }
        ),
        n
    }
    setMutationDefaults(e, t) {
        P(this, Po).set(Ei(e), {
            mutationKey: e,
            defaultOptions: t
        })
    }
    getMutationDefaults(e) {
        const t = [...P(this, Po).values()];
        let n = {};
        return t.forEach(s => {
            fc(e, s.mutationKey) && (n = {
                ...n,
                ...s.defaultOptions
            })
        }
        ),
        n
    }
    defaultQueryOptions(e) {
        if (e._defaulted)
            return e;
        const t = {
            ...P(this, ma).queries,
            ...this.getQueryDefaults(e.queryKey),
            ...e,
            _defaulted: !0
        };
        return t.queryHash || (t.queryHash = kx(t.queryKey, t)),
        t.refetchOnReconnect === void 0 && (t.refetchOnReconnect = t.networkMode !== "always"),
        t.throwOnError === void 0 && (t.throwOnError = !!t.suspense),
        !t.networkMode && t.persister && (t.networkMode = "offlineFirst"),
        t.enabled !== !0 && t.queryFn === Ex && (t.enabled = !1),
        t
    }
    defaultMutationOptions(e) {
        return e != null && e._defaulted ? e : {
            ...P(this, ma).mutations,
            ...(e == null ? void 0 : e.mutationKey) && this.getMutationDefaults(e.mutationKey),
            ...e,
            _defaulted: !0
        }
    }
    clear() {
        P(this, Ft).clear(),
        P(this, fa).clear()
    }
}
,
Ft = new WeakMap,
fa = new WeakMap,
ma = new WeakMap,
_o = new WeakMap,
Po = new WeakMap,
ha = new WeakMap,
Ro = new WeakMap,
Ao = new WeakMap,
Ej), Un, it, Lc, _n, li, Mo, pa, as, Fc, Io, Do, ci, di, xa, Oo, mt, Pl, Uh, Wh, Bh, Hh, qh, Kh, Qh, ub, Tj, Z_ = (Tj = class extends tl {
    constructor(t, n) {
        super();
        Pe(this, mt);
        Pe(this, Un);
        Pe(this, it);
        Pe(this, Lc);
        Pe(this, _n);
        Pe(this, li);
        Pe(this, Mo);
        Pe(this, pa);
        Pe(this, as);
        Pe(this, Fc);
        Pe(this, Io);
        Pe(this, Do);
        Pe(this, ci);
        Pe(this, di);
        Pe(this, xa);
        Pe(this, Oo, new Set);
        this.options = n,
        fe(this, Un, t),
        fe(this, as, null),
        fe(this, pa, Vh()),
        this.options.experimental_prefetchInRender || P(this, pa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),
        this.bindMethods(),
        this.setOptions(n)
    }
    bindMethods() {
        this.refetch = this.refetch.bind(this)
    }
    onSubscribe() {
        this.listeners.size === 1 && (P(this, it).addObserver(this),
        xy(P(this, it), this.options) ? Qe(this, mt, Pl).call(this) : this.updateResult(),
        Qe(this, mt, Hh).call(this))
    }
    onUnsubscribe() {
        this.hasListeners() || this.destroy()
    }
    shouldFetchOnReconnect() {
        return Gh(P(this, it), this.options, this.options.refetchOnReconnect)
    }
    shouldFetchOnWindowFocus() {
        return Gh(P(this, it), this.options, this.options.refetchOnWindowFocus)
    }
    destroy() {
        this.listeners = new Set,
        Qe(this, mt, qh).call(this),
        Qe(this, mt, Kh).call(this),
        P(this, it).removeObserver(this)
    }
    setOptions(t, n) {
        const s = this.options
          , a = P(this, it);
        if (this.options = P(this, Un).defaultQueryOptions(t),
        this.options.enabled !== void 0 && typeof this.options.enabled != "boolean" && typeof this.options.enabled != "function" && typeof Ar(this.options.enabled, P(this, it)) != "boolean")
            throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");
        Qe(this, mt, Qh).call(this),
        P(this, it).setOptions(this.options),
        s._defaulted && !Nu(this.options, s) && P(this, Un).getQueryCache().notify({
            type: "observerOptionsUpdated",
            query: P(this, it),
            observer: this
        });
        const i = this.hasListeners();
        i && gy(P(this, it), a, this.options, s) && Qe(this, mt, Pl).call(this),
        this.updateResult(n),
        i && (P(this, it) !== a || Ar(this.options.enabled, P(this, it)) !== Ar(s.enabled, P(this, it)) || xo(this.options.staleTime, P(this, it)) !== xo(s.staleTime, P(this, it))) && Qe(this, mt, Uh).call(this);
        const o = Qe(this, mt, Wh).call(this);
        i && (P(this, it) !== a || Ar(this.options.enabled, P(this, it)) !== Ar(s.enabled, P(this, it)) || o !== P(this, xa)) && Qe(this, mt, Bh).call(this, o)
    }
    getOptimisticResult(t) {
        const n = P(this, Un).getQueryCache().build(P(this, Un), t)
          , s = this.createResult(n, t);
        return X_(this, s) && (fe(this, _n, s),
        fe(this, Mo, this.options),
        fe(this, li, P(this, it).state)),
        s
    }
    getCurrentResult() {
        return P(this, _n)
    }
    trackResult(t, n) {
        const s = {};
        return Object.keys(t).forEach(a => {
            Object.defineProperty(s, a, {
                configurable: !1,
                enumerable: !0,
                get: () => (this.trackProp(a),
                n == null || n(a),
                t[a])
            })
        }
        ),
        s
    }
    trackProp(t) {
        P(this, Oo).add(t)
    }
    getCurrentQuery() {
        return P(this, it)
    }
    refetch({...t}={}) {
        return this.fetch({
            ...t
        })
    }
    fetchOptimistic(t) {
        const n = P(this, Un).defaultQueryOptions(t)
          , s = P(this, Un).getQueryCache().build(P(this, Un), n);
        return s.fetch().then( () => this.createResult(s, n))
    }
    fetch(t) {
        return Qe(this, mt, Pl).call(this, {
            ...t,
            cancelRefetch: t.cancelRefetch ?? !0
        }).then( () => (this.updateResult(),
        P(this, _n)))
    }
    createResult(t, n) {
        var E;
        const s = P(this, it)
          , a = this.options
          , i = P(this, _n)
          , o = P(this, li)
          , l = P(this, Mo)
          , d = t !== s ? t.state : P(this, Lc)
          , {state: f} = t;
        let m = {
            ...f
        }, h = !1, g;
        if (n._optimisticResults) {
            const A = this.hasListeners()
              , z = !A && xy(t, n)
              , G = A && gy(t, s, n, a);
            (z || G) && (m = {
                ...m,
                ...cb(f.data, t.options)
            }),
            n._optimisticResults === "isRestoring" && (m.fetchStatus = "idle")
        }
        let {error: w, errorUpdatedAt: x, status: y} = m;
        if (n.select && m.data !== void 0)
            if (i && m.data === (o == null ? void 0 : o.data) && n.select === P(this, Fc))
                g = P(this, Io);
            else
                try {
                    fe(this, Fc, n.select),
                    g = n.select(m.data),
                    g = zh(i == null ? void 0 : i.data, g, n),
                    fe(this, Io, g),
                    fe(this, as, null)
                } catch (A) {
                    fe(this, as, A)
                }
        else
            g = m.data;
        if (n.placeholderData !== void 0 && g === void 0 && y === "pending") {
            let A;
            if (i != null && i.isPlaceholderData && n.placeholderData === (l == null ? void 0 : l.placeholderData))
                A = i.data;
            else if (A = typeof n.placeholderData == "function" ? n.placeholderData((E = P(this, Do)) == null ? void 0 : E.state.data, P(this, Do)) : n.placeholderData,
            n.select && A !== void 0)
                try {
                    A = n.select(A),
                    fe(this, as, null)
                } catch (z) {
                    fe(this, as, z)
                }
            A !== void 0 && (y = "success",
            g = zh(i == null ? void 0 : i.data, A, n),
            h = !0)
        }
        P(this, as) && (w = P(this, as),
        g = P(this, Io),
        x = Date.now(),
        y = "error");
        const v = m.fetchStatus === "fetching"
          , p = y === "pending"
          , j = y === "error"
          , N = p && v
          , S = g !== void 0
          , C = {
            status: y,
            fetchStatus: m.fetchStatus,
            isPending: p,
            isSuccess: y === "success",
            isError: j,
            isInitialLoading: N,
            isLoading: N,
            data: g,
            dataUpdatedAt: m.dataUpdatedAt,
            error: w,
            errorUpdatedAt: x,
            failureCount: m.fetchFailureCount,
            failureReason: m.fetchFailureReason,
            errorUpdateCount: m.errorUpdateCount,
            isFetched: m.dataUpdateCount > 0 || m.errorUpdateCount > 0,
            isFetchedAfterMount: m.dataUpdateCount > d.dataUpdateCount || m.errorUpdateCount > d.errorUpdateCount,
            isFetching: v,
            isRefetching: v && !p,
            isLoadingError: j && !S,
            isPaused: m.fetchStatus === "paused",
            isPlaceholderData: h,
            isRefetchError: j && S,
            isStale: _x(t, n),
            refetch: this.refetch,
            promise: P(this, pa)
        };
        if (this.options.experimental_prefetchInRender) {
            const A = R => {
                C.status === "error" ? R.reject(C.error) : C.data !== void 0 && R.resolve(C.data)
            }
              , z = () => {
                const R = fe(this, pa, C.promise = Vh());
                A(R)
            }
              , G = P(this, pa);
            switch (G.status) {
            case "pending":
                t.queryHash === s.queryHash && A(G);
                break;
            case "fulfilled":
                (C.status === "error" || C.data !== G.value) && z();
                break;
            case "rejected":
                (C.status !== "error" || C.error !== G.reason) && z();
                break
            }
        }
        return C
    }
    updateResult(t) {
        const n = P(this, _n)
          , s = this.createResult(P(this, it), this.options);
        if (fe(this, li, P(this, it).state),
        fe(this, Mo, this.options),
        P(this, li).data !== void 0 && fe(this, Do, P(this, it)),
        Nu(s, n))
            return;
        fe(this, _n, s);
        const a = {}
          , i = () => {
            if (!n)
                return !0;
            const {notifyOnChangeProps: o} = this.options
              , l = typeof o == "function" ? o() : o;
            if (l === "all" || !l && !P(this, Oo).size)
                return !0;
            const c = new Set(l ?? P(this, Oo));
            return this.options.throwOnError && c.add("error"),
            Object.keys(P(this, _n)).some(d => {
                const f = d;
                return P(this, _n)[f] !== n[f] && c.has(f)
            }
            )
        }
        ;
        (t == null ? void 0 : t.listeners) !== !1 && i() && (a.listeners = !0),
        Qe(this, mt, ub).call(this, {
            ...a,
            ...t
        })
    }
    onQueryUpdate() {
        this.updateResult(),
        this.hasListeners() && Qe(this, mt, Hh).call(this)
    }
}
,
Un = new WeakMap,
it = new WeakMap,
Lc = new WeakMap,
_n = new WeakMap,
li = new WeakMap,
Mo = new WeakMap,
pa = new WeakMap,
as = new WeakMap,
Fc = new WeakMap,
Io = new WeakMap,
Do = new WeakMap,
ci = new WeakMap,
di = new WeakMap,
xa = new WeakMap,
Oo = new WeakMap,
mt = new WeakSet,
Pl = function(t) {
    Qe(this, mt, Qh).call(this);
    let n = P(this, it).fetch(this.options, t);
    return t != null && t.throwOnError || (n = n.catch(mr)),
    n
}
,
Uh = function() {
    Qe(this, mt, qh).call(this);
    const t = xo(this.options.staleTime, P(this, it));
    if (ki || P(this, _n).isStale || !Fh(t))
        return;
    const s = nb(P(this, _n).dataUpdatedAt, t) + 1;
    fe(this, ci, setTimeout( () => {
        P(this, _n).isStale || this.updateResult()
    }
    , s))
}
,
Wh = function() {
    return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(P(this, it)) : this.options.refetchInterval) ?? !1
}
,
Bh = function(t) {
    Qe(this, mt, Kh).call(this),
    fe(this, xa, t),
    !(ki || Ar(this.options.enabled, P(this, it)) === !1 || !Fh(P(this, xa)) || P(this, xa) === 0) && fe(this, di, setInterval( () => {
        (this.options.refetchIntervalInBackground || Tx.isFocused()) && Qe(this, mt, Pl).call(this)
    }
    , P(this, xa)))
}
,
Hh = function() {
    Qe(this, mt, Uh).call(this),
    Qe(this, mt, Bh).call(this, Qe(this, mt, Wh).call(this))
}
,
qh = function() {
    P(this, ci) && (clearTimeout(P(this, ci)),
    fe(this, ci, void 0))
}
,
Kh = function() {
    P(this, di) && (clearInterval(P(this, di)),
    fe(this, di, void 0))
}
,
Qh = function() {
    const t = P(this, Un).getQueryCache().build(P(this, Un), this.options);
    if (t === P(this, it))
        return;
    const n = P(this, it);
    fe(this, it, t),
    fe(this, Lc, t.state),
    this.hasListeners() && (n == null || n.removeObserver(this),
    t.addObserver(this))
}
,
ub = function(t) {
    sn.batch( () => {
        t.listeners && this.listeners.forEach(n => {
            n(P(this, _n))
        }
        ),
        P(this, Un).getQueryCache().notify({
            query: P(this, it),
            type: "observerResultsUpdated"
        })
    }
    )
}
,
Tj);
function Y_(e, t) {
    return Ar(t.enabled, e) !== !1 && e.state.data === void 0 && !(e.state.status === "error" && t.retryOnMount === !1)
}
function xy(e, t) {
    return Y_(e, t) || e.state.data !== void 0 && Gh(e, t, t.refetchOnMount)
}
function Gh(e, t, n) {
    if (Ar(t.enabled, e) !== !1) {
        const s = typeof n == "function" ? n(e) : n;
        return s === "always" || s !== !1 && _x(e, t)
    }
    return !1
}
function gy(e, t, n, s) {
    return (e !== t || Ar(s.enabled, e) === !1) && (!n.suspense || e.state.status !== "error") && _x(e, n)
}
function _x(e, t) {
    return Ar(t.enabled, e) !== !1 && e.isStaleByTime(xo(t.staleTime, e))
}
function X_(e, t) {
    return !Nu(e.getCurrentResult(), t)
}
var ga, va, Wn, Ms, $s, Hd, Zh, _j, J_ = (_j = class extends tl {
    constructor(n, s) {
        super();
        Pe(this, $s);
        Pe(this, ga);
        Pe(this, va);
        Pe(this, Wn);
        Pe(this, Ms);
        fe(this, ga, n),
        this.setOptions(s),
        this.bindMethods(),
        Qe(this, $s, Hd).call(this)
    }
    bindMethods() {
        this.mutate = this.mutate.bind(this),
        this.reset = this.reset.bind(this)
    }
    setOptions(n) {
        var a;
        const s = this.options;
        this.options = P(this, ga).defaultMutationOptions(n),
        Nu(this.options, s) || P(this, ga).getMutationCache().notify({
            type: "observerOptionsUpdated",
            mutation: P(this, Wn),
            observer: this
        }),
        s != null && s.mutationKey && this.options.mutationKey && Ei(s.mutationKey) !== Ei(this.options.mutationKey) ? this.reset() : ((a = P(this, Wn)) == null ? void 0 : a.state.status) === "pending" && P(this, Wn).setOptions(this.options)
    }
    onUnsubscribe() {
        var n;
        this.hasListeners() || (n = P(this, Wn)) == null || n.removeObserver(this)
    }
    onMutationUpdate(n) {
        Qe(this, $s, Hd).call(this),
        Qe(this, $s, Zh).call(this, n)
    }
    getCurrentResult() {
        return P(this, va)
    }
    reset() {
        var n;
        (n = P(this, Wn)) == null || n.removeObserver(this),
        fe(this, Wn, void 0),
        Qe(this, $s, Hd).call(this),
        Qe(this, $s, Zh).call(this)
    }
    mutate(n, s) {
        var a;
        return fe(this, Ms, s),
        (a = P(this, Wn)) == null || a.removeObserver(this),
        fe(this, Wn, P(this, ga).getMutationCache().build(P(this, ga), this.options)),
        P(this, Wn).addObserver(this),
        P(this, Wn).execute(n)
    }
}
,
ga = new WeakMap,
va = new WeakMap,
Wn = new WeakMap,
Ms = new WeakMap,
$s = new WeakSet,
Hd = function() {
    var s;
    const n = ((s = P(this, Wn)) == null ? void 0 : s.state) ?? db();
    fe(this, va, {
        ...n,
        isPending: n.status === "pending",
        isSuccess: n.status === "success",
        isError: n.status === "error",
        isIdle: n.status === "idle",
        mutate: this.mutate,
        reset: this.reset
    })
}
,
Zh = function(n) {
    sn.batch( () => {
        var s, a, i, o, l, c, d, f;
        if (P(this, Ms) && this.hasListeners()) {
            const m = P(this, va).variables
              , h = P(this, va).context;
            (n == null ? void 0 : n.type) === "success" ? ((a = (s = P(this, Ms)).onSuccess) == null || a.call(s, n.data, m, h),
            (o = (i = P(this, Ms)).onSettled) == null || o.call(i, n.data, null, m, h)) : (n == null ? void 0 : n.type) === "error" && ((c = (l = P(this, Ms)).onError) == null || c.call(l, n.error, m, h),
            (f = (d = P(this, Ms)).onSettled) == null || f.call(d, void 0, n.error, m, h))
        }
        this.listeners.forEach(m => {
            m(P(this, va))
        }
        )
    }
    )
}
,
_j), fb = u.createContext(void 0), mb = e => {
    const t = u.useContext(fb);
    if (!t)
        throw new Error("No QueryClient set, use QueryClientProvider to set one");
    return t
}
, eP = ({client: e, children: t}) => (u.useEffect( () => (e.mount(),
() => {
    e.unmount()
}
), [e]),
r.jsx(fb.Provider, {
    value: e,
    children: t
})), hb = u.createContext(!1), tP = () => u.useContext(hb);
hb.Provider;
function nP() {
    let e = !1;
    return {
        clearReset: () => {
            e = !1
        }
        ,
        reset: () => {
            e = !0
        }
        ,
        isReset: () => e
    }
}
var rP = u.createContext(nP())
  , sP = () => u.useContext(rP);
function pb(e, t) {
    return typeof e == "function" ? e(...t) : !!e
}
function Yh() {}
var aP = (e, t) => {
    (e.suspense || e.throwOnError || e.experimental_prefetchInRender) && (t.isReset() || (e.retryOnMount = !1))
}
  , iP = e => {
    u.useEffect( () => {
        e.clearReset()
    }
    , [e])
}
  , oP = ({result: e, errorResetBoundary: t, throwOnError: n, query: s}) => e.isError && !t.isReset() && !e.isFetching && s && pb(n, [e.error, s])
  , lP = e => {
    e.suspense && (e.staleTime === void 0 && (e.staleTime = 1e3),
    typeof e.gcTime == "number" && (e.gcTime = Math.max(e.gcTime, 1e3)))
}
  , cP = (e, t) => e.isLoading && e.isFetching && !t
  , dP = (e, t) => (e == null ? void 0 : e.suspense) && t.isPending
  , vy = (e, t, n) => t.fetchOptimistic(e).catch( () => {
    n.clearReset()
}
);
function uP(e, t, n) {
    var f, m, h, g, w;
    const s = mb()
      , a = tP()
      , i = sP()
      , o = s.defaultQueryOptions(e);
    (m = (f = s.getDefaultOptions().queries) == null ? void 0 : f._experimental_beforeQuery) == null || m.call(f, o),
    o._optimisticResults = a ? "isRestoring" : "optimistic",
    lP(o),
    aP(o, i),
    iP(i);
    const l = !s.getQueryCache().get(o.queryHash)
      , [c] = u.useState( () => new t(s,o))
      , d = c.getOptimisticResult(o);
    if (u.useSyncExternalStore(u.useCallback(x => {
        const y = a ? Yh : c.subscribe(sn.batchCalls(x));
        return c.updateResult(),
        y
    }
    , [c, a]), () => c.getCurrentResult(), () => c.getCurrentResult()),
    u.useEffect( () => {
        c.setOptions(o, {
            listeners: !1
        })
    }
    , [o, c]),
    dP(o, d))
        throw vy(o, c, i);
    if (oP({
        result: d,
        errorResetBoundary: i,
        throwOnError: o.throwOnError,
        query: s.getQueryCache().get(o.queryHash)
    }))
        throw d.error;
    if ((g = (h = s.getDefaultOptions().queries) == null ? void 0 : h._experimental_afterQuery) == null || g.call(h, o, d),
    o.experimental_prefetchInRender && !ki && cP(d, a)) {
        const x = l ? vy(o, c, i) : (w = s.getQueryCache().get(o.queryHash)) == null ? void 0 : w.promise;
        x == null || x.catch(Yh).finally( () => {
            c.updateResult()
        }
        )
    }
    return o.notifyOnChangeProps ? d : c.trackResult(d)
}
function Ge(e, t) {
    return uP(e, Z_)
}
function Xe(e, t) {
    const n = mb()
      , [s] = u.useState( () => new J_(n,e));
    u.useEffect( () => {
        s.setOptions(e)
    }
    , [s, e]);
    const a = u.useSyncExternalStore(u.useCallback(o => s.subscribe(sn.batchCalls(o)), [s]), () => s.getCurrentResult(), () => s.getCurrentResult())
      , i = u.useCallback( (o, l) => {
        s.mutate(o, l).catch(Yh)
    }
    , [s]);
    if (a.error && pb(s.options.throwOnError, [a.error]))
        throw a.error;
    return {
        ...a,
        mutate: i,
        mutateAsync: a.mutate
    }
}
async function xb(e) {
    if (!e.ok) {
        const t = await e.text() || e.statusText;
        throw new Error(`${e.status}: ${t}`)
    }
}
async function ze(e, t, n) {
    const s = await fetch(t, {
        method: e,
        headers: n ? {
            "Content-Type": "application/json"
        } : {},
        body: n ? JSON.stringify(n) : void 0,
        credentials: "include"
    });
    return await xb(s),
    s
}
const fP = ({on401: e}) => async ({queryKey: t}) => {
    const n = await fetch(t.join("/"), {
        credentials: "include"
    });
    return e === "returnNull" && n.status === 401 ? null : (await xb(n),
    await n.json())
}
  , ye = new G_({
    defaultOptions: {
        queries: {
            queryFn: fP({
                on401: "throw"
            }),
            refetchInterval: !1,
            refetchOnWindowFocus: !1,
            staleTime: 1 / 0,
            retry: !1
        },
        mutations: {
            retry: !1
        }
    }
})
  , mP = 1
  , hP = 1e6;
let Tm = 0;
function pP() {
    return Tm = (Tm + 1) % Number.MAX_SAFE_INTEGER,
    Tm.toString()
}
const _m = new Map
  , yy = e => {
    if (_m.has(e))
        return;
    const t = setTimeout( () => {
        _m.delete(e),
        Bl({
            type: "REMOVE_TOAST",
            toastId: e
        })
    }
    , hP);
    _m.set(e, t)
}
  , xP = (e, t) => {
    switch (t.type) {
    case "ADD_TOAST":
        return {
            ...e,
            toasts: [t.toast, ...e.toasts].slice(0, mP)
        };
    case "UPDATE_TOAST":
        return {
            ...e,
            toasts: e.toasts.map(n => n.id === t.toast.id ? {
                ...n,
                ...t.toast
            } : n)
        };
    case "DISMISS_TOAST":
        {
            const {toastId: n} = t;
            return n ? yy(n) : e.toasts.forEach(s => {
                yy(s.id)
            }
            ),
            {
                ...e,
                toasts: e.toasts.map(s => s.id === n || n === void 0 ? {
                    ...s,
                    open: !1
                } : s)
            }
        }
    case "REMOVE_TOAST":
        return t.toastId === void 0 ? {
            ...e,
            toasts: []
        } : {
            ...e,
            toasts: e.toasts.filter(n => n.id !== t.toastId)
        }
    }
}
  , qd = [];
let Kd = {
    toasts: []
};
function Bl(e) {
    Kd = xP(Kd, e),
    qd.forEach(t => {
        t(Kd)
    }
    )
}
function gP({...e}) {
    const t = pP()
      , n = a => Bl({
        type: "UPDATE_TOAST",
        toast: {
            ...a,
            id: t
        }
    })
      , s = () => Bl({
        type: "DISMISS_TOAST",
        toastId: t
    });
    return Bl({
        type: "ADD_TOAST",
        toast: {
            ...e,
            id: t,
            open: !0,
            onOpenChange: a => {
                a || s()
            }
        }
    }),
    {
        id: t,
        dismiss: s,
        update: n
    }
}
function on() {
    const [e,t] = u.useState(Kd);
    return u.useEffect( () => (qd.push(t),
    () => {
        const n = qd.indexOf(t);
        n > -1 && qd.splice(n, 1)
    }
    ), [e]),
    {
        ...e,
        toast: gP,
        dismiss: n => Bl({
            type: "DISMISS_TOAST",
            toastId: n
        })
    }
}
function ne(e, t, {checkForDefaultPrevented: n=!0}={}) {
    return function(a) {
        if (e == null || e(a),
        n === !1 || !a.defaultPrevented)
            return t == null ? void 0 : t(a)
    }
}
function jy(e, t) {
    if (typeof e == "function")
        return e(t);
    e != null && (e.current = t)
}
function xf(...e) {
    return t => {
        let n = !1;
        const s = e.map(a => {
            const i = jy(a, t);
            return !n && typeof i == "function" && (n = !0),
            i
        }
        );
        if (n)
            return () => {
                for (let a = 0; a < s.length; a++) {
                    const i = s[a];
                    typeof i == "function" ? i() : jy(e[a], null)
                }
            }
    }
}
function He(...e) {
    return u.useCallback(xf(...e), e)
}
function vP(e, t) {
    const n = u.createContext(t)
      , s = i => {
        const {children: o, ...l} = i
          , c = u.useMemo( () => l, Object.values(l));
        return r.jsx(n.Provider, {
            value: c,
            children: o
        })
    }
    ;
    s.displayName = e + "Provider";
    function a(i) {
        const o = u.useContext(n);
        if (o)
            return o;
        if (t !== void 0)
            return t;
        throw new Error(`\`${i}\` must be used within \`${e}\``)
    }
    return [s, a]
}
function En(e, t=[]) {
    let n = [];
    function s(i, o) {
        const l = u.createContext(o)
          , c = n.length;
        n = [...n, o];
        const d = m => {
            var v;
            const {scope: h, children: g, ...w} = m
              , x = ((v = h == null ? void 0 : h[e]) == null ? void 0 : v[c]) || l
              , y = u.useMemo( () => w, Object.values(w));
            return r.jsx(x.Provider, {
                value: y,
                children: g
            })
        }
        ;
        d.displayName = i + "Provider";
        function f(m, h) {
            var x;
            const g = ((x = h == null ? void 0 : h[e]) == null ? void 0 : x[c]) || l
              , w = u.useContext(g);
            if (w)
                return w;
            if (o !== void 0)
                return o;
            throw new Error(`\`${m}\` must be used within \`${i}\``)
        }
        return [d, f]
    }
    const a = () => {
        const i = n.map(o => u.createContext(o));
        return function(l) {
            const c = (l == null ? void 0 : l[e]) || i;
            return u.useMemo( () => ({
                [`__scope${e}`]: {
                    ...l,
                    [e]: c
                }
            }), [l, c])
        }
    }
    ;
    return a.scopeName = e,
    [s, yP(a, ...t)]
}
function yP(...e) {
    const t = e[0];
    if (e.length === 1)
        return t;
    const n = () => {
        const s = e.map(a => ({
            useScope: a(),
            scopeName: a.scopeName
        }));
        return function(i) {
            const o = s.reduce( (l, {useScope: c, scopeName: d}) => {
                const m = c(i)[`__scope${d}`];
                return {
                    ...l,
                    ...m
                }
            }
            , {});
            return u.useMemo( () => ({
                [`__scope${t.scopeName}`]: o
            }), [o])
        }
    }
    ;
    return n.scopeName = t.scopeName,
    n
}
function Ti(e) {
    const t = jP(e)
      , n = u.forwardRef( (s, a) => {
        const {children: i, ...o} = s
          , l = u.Children.toArray(i)
          , c = l.find(wP);
        if (c) {
            const d = c.props.children
              , f = l.map(m => m === c ? u.Children.count(d) > 1 ? u.Children.only(null) : u.isValidElement(d) ? d.props.children : null : m);
            return r.jsx(t, {
                ...o,
                ref: a,
                children: u.isValidElement(d) ? u.cloneElement(d, void 0, f) : null
            })
        }
        return r.jsx(t, {
            ...o,
            ref: a,
            children: i
        })
    }
    );
    return n.displayName = `${e}.Slot`,
    n
}
var gb = Ti("Slot");
function jP(e) {
    const t = u.forwardRef( (n, s) => {
        const {children: a, ...i} = n;
        if (u.isValidElement(a)) {
            const o = NP(a)
              , l = bP(i, a.props);
            return a.type !== u.Fragment && (l.ref = s ? xf(s, o) : o),
            u.cloneElement(a, l)
        }
        return u.Children.count(a) > 1 ? u.Children.only(null) : null
    }
    );
    return t.displayName = `${e}.SlotClone`,
    t
}
var vb = Symbol("radix.slottable");
function yb(e) {
    const t = ({children: n}) => r.jsx(r.Fragment, {
        children: n
    });
    return t.displayName = `${e}.Slottable`,
    t.__radixId = vb,
    t
}
function wP(e) {
    return u.isValidElement(e) && typeof e.type == "function" && "__radixId"in e.type && e.type.__radixId === vb
}
function bP(e, t) {
    const n = {
        ...t
    };
    for (const s in t) {
        const a = e[s]
          , i = t[s];
        /^on[A-Z]/.test(s) ? a && i ? n[s] = (...l) => {
            i(...l),
            a(...l)
        }
        : a && (n[s] = a) : s === "style" ? n[s] = {
            ...a,
            ...i
        } : s === "className" && (n[s] = [a, i].filter(Boolean).join(" "))
    }
    return {
        ...e,
        ...n
    }
}
function NP(e) {
    var s, a;
    let t = (s = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : s.get
      , n = t && "isReactWarning"in t && t.isReactWarning;
    return n ? e.ref : (t = (a = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : a.get,
    n = t && "isReactWarning"in t && t.isReactWarning,
    n ? e.props.ref : e.props.ref || e.ref)
}
function gf(e) {
    const t = e + "CollectionProvider"
      , [n,s] = En(t)
      , [a,i] = n(t, {
        collectionRef: {
            current: null
        },
        itemMap: new Map
    })
      , o = x => {
        const {scope: y, children: v} = x
          , p = Ue.useRef(null)
          , j = Ue.useRef(new Map).current;
        return r.jsx(a, {
            scope: y,
            itemMap: j,
            collectionRef: p,
            children: v
        })
    }
    ;
    o.displayName = t;
    const l = e + "CollectionSlot"
      , c = Ti(l)
      , d = Ue.forwardRef( (x, y) => {
        const {scope: v, children: p} = x
          , j = i(l, v)
          , N = He(y, j.collectionRef);
        return r.jsx(c, {
            ref: N,
            children: p
        })
    }
    );
    d.displayName = l;
    const f = e + "CollectionItemSlot"
      , m = "data-radix-collection-item"
      , h = Ti(f)
      , g = Ue.forwardRef( (x, y) => {
        const {scope: v, children: p, ...j} = x
          , N = Ue.useRef(null)
          , S = He(y, N)
          , k = i(f, v);
        return Ue.useEffect( () => (k.itemMap.set(N, {
            ref: N,
            ...j
        }),
        () => void k.itemMap.delete(N))),
        r.jsx(h, {
            [m]: "",
            ref: S,
            children: p
        })
    }
    );
    g.displayName = f;
    function w(x) {
        const y = i(e + "CollectionConsumer", x);
        return Ue.useCallback( () => {
            const p = y.collectionRef.current;
            if (!p)
                return [];
            const j = Array.from(p.querySelectorAll(`[${m}]`));
            return Array.from(y.itemMap.values()).sort( (k, C) => j.indexOf(k.ref.current) - j.indexOf(C.ref.current))
        }
        , [y.collectionRef, y.itemMap])
    }
    return [{
        Provider: o,
        Slot: d,
        ItemSlot: g
    }, w, s]
}
var SP = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "span", "svg", "ul"]
  , Ce = SP.reduce( (e, t) => {
    const n = Ti(`Primitive.${t}`)
      , s = u.forwardRef( (a, i) => {
        const {asChild: o, ...l} = a
          , c = o ? n : t;
        return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0),
        r.jsx(c, {
            ...l,
            ref: i
        })
    }
    );
    return s.displayName = `Primitive.${t}`,
    {
        ...e,
        [t]: s
    }
}
, {});
function Px(e, t) {
    e && Fi.flushSync( () => e.dispatchEvent(t))
}
function Pt(e) {
    const t = u.useRef(e);
    return u.useEffect( () => {
        t.current = e
    }
    ),
    u.useMemo( () => (...n) => {
        var s;
        return (s = t.current) == null ? void 0 : s.call(t, ...n)
    }
    , [])
}
function CP(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = Pt(e);
    u.useEffect( () => {
        const s = a => {
            a.key === "Escape" && n(a)
        }
        ;
        return t.addEventListener("keydown", s, {
            capture: !0
        }),
        () => t.removeEventListener("keydown", s, {
            capture: !0
        })
    }
    , [n, t])
}
var kP = "DismissableLayer", Xh = "dismissableLayer.update", EP = "dismissableLayer.pointerDownOutside", TP = "dismissableLayer.focusOutside", wy, jb = u.createContext({
    layers: new Set,
    layersWithOutsidePointerEventsDisabled: new Set,
    branches: new Set
}), nl = u.forwardRef( (e, t) => {
    const {disableOutsidePointerEvents: n=!1, onEscapeKeyDown: s, onPointerDownOutside: a, onFocusOutside: i, onInteractOutside: o, onDismiss: l, ...c} = e
      , d = u.useContext(jb)
      , [f,m] = u.useState(null)
      , h = (f == null ? void 0 : f.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document)
      , [,g] = u.useState({})
      , w = He(t, C => m(C))
      , x = Array.from(d.layers)
      , [y] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1)
      , v = x.indexOf(y)
      , p = f ? x.indexOf(f) : -1
      , j = d.layersWithOutsidePointerEventsDisabled.size > 0
      , N = p >= v
      , S = PP(C => {
        const E = C.target
          , A = [...d.branches].some(z => z.contains(E));
        !N || A || (a == null || a(C),
        o == null || o(C),
        C.defaultPrevented || l == null || l())
    }
    , h)
      , k = RP(C => {
        const E = C.target;
        [...d.branches].some(z => z.contains(E)) || (i == null || i(C),
        o == null || o(C),
        C.defaultPrevented || l == null || l())
    }
    , h);
    return CP(C => {
        p === d.layers.size - 1 && (s == null || s(C),
        !C.defaultPrevented && l && (C.preventDefault(),
        l()))
    }
    , h),
    u.useEffect( () => {
        if (f)
            return n && (d.layersWithOutsidePointerEventsDisabled.size === 0 && (wy = h.body.style.pointerEvents,
            h.body.style.pointerEvents = "none"),
            d.layersWithOutsidePointerEventsDisabled.add(f)),
            d.layers.add(f),
            by(),
            () => {
                n && d.layersWithOutsidePointerEventsDisabled.size === 1 && (h.body.style.pointerEvents = wy)
            }
    }
    , [f, h, n, d]),
    u.useEffect( () => () => {
        f && (d.layers.delete(f),
        d.layersWithOutsidePointerEventsDisabled.delete(f),
        by())
    }
    , [f, d]),
    u.useEffect( () => {
        const C = () => g({});
        return document.addEventListener(Xh, C),
        () => document.removeEventListener(Xh, C)
    }
    , []),
    r.jsx(Ce.div, {
        ...c,
        ref: w,
        style: {
            pointerEvents: j ? N ? "auto" : "none" : void 0,
            ...e.style
        },
        onFocusCapture: ne(e.onFocusCapture, k.onFocusCapture),
        onBlurCapture: ne(e.onBlurCapture, k.onBlurCapture),
        onPointerDownCapture: ne(e.onPointerDownCapture, S.onPointerDownCapture)
    })
}
);
nl.displayName = kP;
var _P = "DismissableLayerBranch"
  , wb = u.forwardRef( (e, t) => {
    const n = u.useContext(jb)
      , s = u.useRef(null)
      , a = He(t, s);
    return u.useEffect( () => {
        const i = s.current;
        if (i)
            return n.branches.add(i),
            () => {
                n.branches.delete(i)
            }
    }
    , [n.branches]),
    r.jsx(Ce.div, {
        ...e,
        ref: a
    })
}
);
wb.displayName = _P;
function PP(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = Pt(e)
      , s = u.useRef(!1)
      , a = u.useRef( () => {}
    );
    return u.useEffect( () => {
        const i = l => {
            if (l.target && !s.current) {
                let c = function() {
                    bb(EP, n, d, {
                        discrete: !0
                    })
                };
                const d = {
                    originalEvent: l
                };
                l.pointerType === "touch" ? (t.removeEventListener("click", a.current),
                a.current = c,
                t.addEventListener("click", a.current, {
                    once: !0
                })) : c()
            } else
                t.removeEventListener("click", a.current);
            s.current = !1
        }
          , o = window.setTimeout( () => {
            t.addEventListener("pointerdown", i)
        }
        , 0);
        return () => {
            window.clearTimeout(o),
            t.removeEventListener("pointerdown", i),
            t.removeEventListener("click", a.current)
        }
    }
    , [t, n]),
    {
        onPointerDownCapture: () => s.current = !0
    }
}
function RP(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = Pt(e)
      , s = u.useRef(!1);
    return u.useEffect( () => {
        const a = i => {
            i.target && !s.current && bb(TP, n, {
                originalEvent: i
            }, {
                discrete: !1
            })
        }
        ;
        return t.addEventListener("focusin", a),
        () => t.removeEventListener("focusin", a)
    }
    , [t, n]),
    {
        onFocusCapture: () => s.current = !0,
        onBlurCapture: () => s.current = !1
    }
}
function by() {
    const e = new CustomEvent(Xh);
    document.dispatchEvent(e)
}
function bb(e, t, n, {discrete: s}) {
    const a = n.originalEvent.target
      , i = new CustomEvent(e,{
        bubbles: !1,
        cancelable: !0,
        detail: n
    });
    t && a.addEventListener(e, t, {
        once: !0
    }),
    s ? Px(a, i) : a.dispatchEvent(i)
}
var AP = nl
  , MP = wb
  , tn = globalThis != null && globalThis.document ? u.useLayoutEffect : () => {}
  , IP = "Portal"
  , Hc = u.forwardRef( (e, t) => {
    var l;
    const {container: n, ...s} = e
      , [a,i] = u.useState(!1);
    tn( () => i(!0), []);
    const o = n || a && ((l = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : l.body);
    return o ? s_.createPortal(r.jsx(Ce.div, {
        ...s,
        ref: t
    }), o) : null
}
);
Hc.displayName = IP;
function DP(e, t) {
    return u.useReducer( (n, s) => t[n][s] ?? n, e)
}
var gn = e => {
    const {present: t, children: n} = e
      , s = OP(t)
      , a = typeof n == "function" ? n({
        present: s.isPresent
    }) : u.Children.only(n)
      , i = He(s.ref, LP(a));
    return typeof n == "function" || s.isPresent ? u.cloneElement(a, {
        ref: i
    }) : null
}
;
gn.displayName = "Presence";
function OP(e) {
    const [t,n] = u.useState()
      , s = u.useRef({})
      , a = u.useRef(e)
      , i = u.useRef("none")
      , o = e ? "mounted" : "unmounted"
      , [l,c] = DP(o, {
        mounted: {
            UNMOUNT: "unmounted",
            ANIMATION_OUT: "unmountSuspended"
        },
        unmountSuspended: {
            MOUNT: "mounted",
            ANIMATION_END: "unmounted"
        },
        unmounted: {
            MOUNT: "mounted"
        }
    });
    return u.useEffect( () => {
        const d = Sd(s.current);
        i.current = l === "mounted" ? d : "none"
    }
    , [l]),
    tn( () => {
        const d = s.current
          , f = a.current;
        if (f !== e) {
            const h = i.current
              , g = Sd(d);
            e ? c("MOUNT") : g === "none" || (d == null ? void 0 : d.display) === "none" ? c("UNMOUNT") : c(f && h !== g ? "ANIMATION_OUT" : "UNMOUNT"),
            a.current = e
        }
    }
    , [e, c]),
    tn( () => {
        if (t) {
            let d;
            const f = t.ownerDocument.defaultView ?? window
              , m = g => {
                const x = Sd(s.current).includes(g.animationName);
                if (g.target === t && x && (c("ANIMATION_END"),
                !a.current)) {
                    const y = t.style.animationFillMode;
                    t.style.animationFillMode = "forwards",
                    d = f.setTimeout( () => {
                        t.style.animationFillMode === "forwards" && (t.style.animationFillMode = y)
                    }
                    )
                }
            }
              , h = g => {
                g.target === t && (i.current = Sd(s.current))
            }
            ;
            return t.addEventListener("animationstart", h),
            t.addEventListener("animationcancel", m),
            t.addEventListener("animationend", m),
            () => {
                f.clearTimeout(d),
                t.removeEventListener("animationstart", h),
                t.removeEventListener("animationcancel", m),
                t.removeEventListener("animationend", m)
            }
        } else
            c("ANIMATION_END")
    }
    , [t, c]),
    {
        isPresent: ["mounted", "unmountSuspended"].includes(l),
        ref: u.useCallback(d => {
            d && (s.current = getComputedStyle(d)),
            n(d)
        }
        , [])
    }
}
function Sd(e) {
    return (e == null ? void 0 : e.animationName) || "none"
}
function LP(e) {
    var s, a;
    let t = (s = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : s.get
      , n = t && "isReactWarning"in t && t.isReactWarning;
    return n ? e.ref : (t = (a = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : a.get,
    n = t && "isReactWarning"in t && t.isReactWarning,
    n ? e.props.ref : e.props.ref || e.ref)
}
function vs({prop: e, defaultProp: t, onChange: n= () => {}
}) {
    const [s,a] = FP({
        defaultProp: t,
        onChange: n
    })
      , i = e !== void 0
      , o = i ? e : s
      , l = Pt(n)
      , c = u.useCallback(d => {
        if (i) {
            const m = typeof d == "function" ? d(e) : d;
            m !== e && l(m)
        } else
            a(d)
    }
    , [i, e, a, l]);
    return [o, c]
}
function FP({defaultProp: e, onChange: t}) {
    const n = u.useState(e)
      , [s] = n
      , a = u.useRef(s)
      , i = Pt(t);
    return u.useEffect( () => {
        a.current !== s && (i(s),
        a.current = s)
    }
    , [s, a, i]),
    n
}
var $P = "VisuallyHidden"
  , qc = u.forwardRef( (e, t) => r.jsx(Ce.span, {
    ...e,
    ref: t,
    style: {
        position: "absolute",
        border: 0,
        width: 1,
        height: 1,
        padding: 0,
        margin: -1,
        overflow: "hidden",
        clip: "rect(0, 0, 0, 0)",
        whiteSpace: "nowrap",
        wordWrap: "normal",
        ...e.style
    }
}));
qc.displayName = $P;
var zP = qc
  , Rx = "ToastProvider"
  , [Ax,VP,UP] = gf("Toast")
  , [Nb,Y$] = En("Toast", [UP])
  , [WP,vf] = Nb(Rx)
  , Sb = e => {
    const {__scopeToast: t, label: n="Notification", duration: s=5e3, swipeDirection: a="right", swipeThreshold: i=50, children: o} = e
      , [l,c] = u.useState(null)
      , [d,f] = u.useState(0)
      , m = u.useRef(!1)
      , h = u.useRef(!1);
    return n.trim() || console.error(`Invalid prop \`label\` supplied to \`${Rx}\`. Expected non-empty \`string\`.`),
    r.jsx(Ax.Provider, {
        scope: t,
        children: r.jsx(WP, {
            scope: t,
            label: n,
            duration: s,
            swipeDirection: a,
            swipeThreshold: i,
            toastCount: d,
            viewport: l,
            onViewportChange: c,
            onToastAdd: u.useCallback( () => f(g => g + 1), []),
            onToastRemove: u.useCallback( () => f(g => g - 1), []),
            isFocusedToastEscapeKeyDownRef: m,
            isClosePausedRef: h,
            children: o
        })
    })
}
;
Sb.displayName = Rx;
var Cb = "ToastViewport"
  , BP = ["F8"]
  , Jh = "toast.viewportPause"
  , ep = "toast.viewportResume"
  , kb = u.forwardRef( (e, t) => {
    const {__scopeToast: n, hotkey: s=BP, label: a="Notifications ({hotkey})", ...i} = e
      , o = vf(Cb, n)
      , l = VP(n)
      , c = u.useRef(null)
      , d = u.useRef(null)
      , f = u.useRef(null)
      , m = u.useRef(null)
      , h = He(t, m, o.onViewportChange)
      , g = s.join("+").replace(/Key/g, "").replace(/Digit/g, "")
      , w = o.toastCount > 0;
    u.useEffect( () => {
        const y = v => {
            var j;
            s.length !== 0 && s.every(N => v[N] || v.code === N) && ((j = m.current) == null || j.focus())
        }
        ;
        return document.addEventListener("keydown", y),
        () => document.removeEventListener("keydown", y)
    }
    , [s]),
    u.useEffect( () => {
        const y = c.current
          , v = m.current;
        if (w && y && v) {
            const p = () => {
                if (!o.isClosePausedRef.current) {
                    const k = new CustomEvent(Jh);
                    v.dispatchEvent(k),
                    o.isClosePausedRef.current = !0
                }
            }
              , j = () => {
                if (o.isClosePausedRef.current) {
                    const k = new CustomEvent(ep);
                    v.dispatchEvent(k),
                    o.isClosePausedRef.current = !1
                }
            }
              , N = k => {
                !y.contains(k.relatedTarget) && j()
            }
              , S = () => {
                y.contains(document.activeElement) || j()
            }
            ;
            return y.addEventListener("focusin", p),
            y.addEventListener("focusout", N),
            y.addEventListener("pointermove", p),
            y.addEventListener("pointerleave", S),
            window.addEventListener("blur", p),
            window.addEventListener("focus", j),
            () => {
                y.removeEventListener("focusin", p),
                y.removeEventListener("focusout", N),
                y.removeEventListener("pointermove", p),
                y.removeEventListener("pointerleave", S),
                window.removeEventListener("blur", p),
                window.removeEventListener("focus", j)
            }
        }
    }
    , [w, o.isClosePausedRef]);
    const x = u.useCallback( ({tabbingDirection: y}) => {
        const p = l().map(j => {
            const N = j.ref.current
              , S = [N, ...rR(N)];
            return y === "forwards" ? S : S.reverse()
        }
        );
        return (y === "forwards" ? p.reverse() : p).flat()
    }
    , [l]);
    return u.useEffect( () => {
        const y = m.current;
        if (y) {
            const v = p => {
                var S, k, C;
                const j = p.altKey || p.ctrlKey || p.metaKey;
                if (p.key === "Tab" && !j) {
                    const E = document.activeElement
                      , A = p.shiftKey;
                    if (p.target === y && A) {
                        (S = d.current) == null || S.focus();
                        return
                    }
                    const R = x({
                        tabbingDirection: A ? "backwards" : "forwards"
                    })
                      , B = R.findIndex(U => U === E);
                    Pm(R.slice(B + 1)) ? p.preventDefault() : A ? (k = d.current) == null || k.focus() : (C = f.current) == null || C.focus()
                }
            }
            ;
            return y.addEventListener("keydown", v),
            () => y.removeEventListener("keydown", v)
        }
    }
    , [l, x]),
    r.jsxs(MP, {
        ref: c,
        role: "region",
        "aria-label": a.replace("{hotkey}", g),
        tabIndex: -1,
        style: {
            pointerEvents: w ? void 0 : "none"
        },
        children: [w && r.jsx(tp, {
            ref: d,
            onFocusFromOutsideViewport: () => {
                const y = x({
                    tabbingDirection: "forwards"
                });
                Pm(y)
            }
        }), r.jsx(Ax.Slot, {
            scope: n,
            children: r.jsx(Ce.ol, {
                tabIndex: -1,
                ...i,
                ref: h
            })
        }), w && r.jsx(tp, {
            ref: f,
            onFocusFromOutsideViewport: () => {
                const y = x({
                    tabbingDirection: "backwards"
                });
                Pm(y)
            }
        })]
    })
}
);
kb.displayName = Cb;
var Eb = "ToastFocusProxy"
  , tp = u.forwardRef( (e, t) => {
    const {__scopeToast: n, onFocusFromOutsideViewport: s, ...a} = e
      , i = vf(Eb, n);
    return r.jsx(qc, {
        "aria-hidden": !0,
        tabIndex: 0,
        ...a,
        ref: t,
        style: {
            position: "fixed"
        },
        onFocus: o => {
            var d;
            const l = o.relatedTarget;
            !((d = i.viewport) != null && d.contains(l)) && s()
        }
    })
}
);
tp.displayName = Eb;
var yf = "Toast"
  , HP = "toast.swipeStart"
  , qP = "toast.swipeMove"
  , KP = "toast.swipeCancel"
  , QP = "toast.swipeEnd"
  , Tb = u.forwardRef( (e, t) => {
    const {forceMount: n, open: s, defaultOpen: a, onOpenChange: i, ...o} = e
      , [l=!0,c] = vs({
        prop: s,
        defaultProp: a,
        onChange: i
    });
    return r.jsx(gn, {
        present: n || l,
        children: r.jsx(YP, {
            open: l,
            ...o,
            ref: t,
            onClose: () => c(!1),
            onPause: Pt(e.onPause),
            onResume: Pt(e.onResume),
            onSwipeStart: ne(e.onSwipeStart, d => {
                d.currentTarget.setAttribute("data-swipe", "start")
            }
            ),
            onSwipeMove: ne(e.onSwipeMove, d => {
                const {x: f, y: m} = d.detail.delta;
                d.currentTarget.setAttribute("data-swipe", "move"),
                d.currentTarget.style.setProperty("--radix-toast-swipe-move-x", `${f}px`),
                d.currentTarget.style.setProperty("--radix-toast-swipe-move-y", `${m}px`)
            }
            ),
            onSwipeCancel: ne(e.onSwipeCancel, d => {
                d.currentTarget.setAttribute("data-swipe", "cancel"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")
            }
            ),
            onSwipeEnd: ne(e.onSwipeEnd, d => {
                const {x: f, y: m} = d.detail.delta;
                d.currentTarget.setAttribute("data-swipe", "end"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                d.currentTarget.style.setProperty("--radix-toast-swipe-end-x", `${f}px`),
                d.currentTarget.style.setProperty("--radix-toast-swipe-end-y", `${m}px`),
                c(!1)
            }
            )
        })
    })
}
);
Tb.displayName = yf;
var [GP,ZP] = Nb(yf, {
    onClose() {}
})
  , YP = u.forwardRef( (e, t) => {
    const {__scopeToast: n, type: s="foreground", duration: a, open: i, onClose: o, onEscapeKeyDown: l, onPause: c, onResume: d, onSwipeStart: f, onSwipeMove: m, onSwipeCancel: h, onSwipeEnd: g, ...w} = e
      , x = vf(yf, n)
      , [y,v] = u.useState(null)
      , p = He(t, U => v(U))
      , j = u.useRef(null)
      , N = u.useRef(null)
      , S = a || x.duration
      , k = u.useRef(0)
      , C = u.useRef(S)
      , E = u.useRef(0)
      , {onToastAdd: A, onToastRemove: z} = x
      , G = Pt( () => {
        var J;
        (y == null ? void 0 : y.contains(document.activeElement)) && ((J = x.viewport) == null || J.focus()),
        o()
    }
    )
      , R = u.useCallback(U => {
        !U || U === 1 / 0 || (window.clearTimeout(E.current),
        k.current = new Date().getTime(),
        E.current = window.setTimeout(G, U))
    }
    , [G]);
    u.useEffect( () => {
        const U = x.viewport;
        if (U) {
            const J = () => {
                R(C.current),
                d == null || d()
            }
              , q = () => {
                const pe = new Date().getTime() - k.current;
                C.current = C.current - pe,
                window.clearTimeout(E.current),
                c == null || c()
            }
            ;
            return U.addEventListener(Jh, q),
            U.addEventListener(ep, J),
            () => {
                U.removeEventListener(Jh, q),
                U.removeEventListener(ep, J)
            }
        }
    }
    , [x.viewport, S, c, d, R]),
    u.useEffect( () => {
        i && !x.isClosePausedRef.current && R(S)
    }
    , [i, S, x.isClosePausedRef, R]),
    u.useEffect( () => (A(),
    () => z()), [A, z]);
    const B = u.useMemo( () => y ? Db(y) : null, [y]);
    return x.viewport ? r.jsxs(r.Fragment, {
        children: [B && r.jsx(XP, {
            __scopeToast: n,
            role: "status",
            "aria-live": s === "foreground" ? "assertive" : "polite",
            "aria-atomic": !0,
            children: B
        }), r.jsx(GP, {
            scope: n,
            onClose: G,
            children: Fi.createPortal(r.jsx(Ax.ItemSlot, {
                scope: n,
                children: r.jsx(AP, {
                    asChild: !0,
                    onEscapeKeyDown: ne(l, () => {
                        x.isFocusedToastEscapeKeyDownRef.current || G(),
                        x.isFocusedToastEscapeKeyDownRef.current = !1
                    }
                    ),
                    children: r.jsx(Ce.li, {
                        role: "status",
                        "aria-live": "off",
                        "aria-atomic": !0,
                        tabIndex: 0,
                        "data-state": i ? "open" : "closed",
                        "data-swipe-direction": x.swipeDirection,
                        ...w,
                        ref: p,
                        style: {
                            userSelect: "none",
                            touchAction: "none",
                            ...e.style
                        },
                        onKeyDown: ne(e.onKeyDown, U => {
                            U.key === "Escape" && (l == null || l(U.nativeEvent),
                            U.nativeEvent.defaultPrevented || (x.isFocusedToastEscapeKeyDownRef.current = !0,
                            G()))
                        }
                        ),
                        onPointerDown: ne(e.onPointerDown, U => {
                            U.button === 0 && (j.current = {
                                x: U.clientX,
                                y: U.clientY
                            })
                        }
                        ),
                        onPointerMove: ne(e.onPointerMove, U => {
                            if (!j.current)
                                return;
                            const J = U.clientX - j.current.x
                              , q = U.clientY - j.current.y
                              , pe = !!N.current
                              , D = ["left", "right"].includes(x.swipeDirection)
                              , V = ["left", "up"].includes(x.swipeDirection) ? Math.min : Math.max
                              , W = D ? V(0, J) : 0
                              , de = D ? 0 : V(0, q)
                              , ke = U.pointerType === "touch" ? 10 : 2
                              , Ye = {
                                x: W,
                                y: de
                            }
                              , at = {
                                originalEvent: U,
                                delta: Ye
                            };
                            pe ? (N.current = Ye,
                            Cd(qP, m, at, {
                                discrete: !1
                            })) : Ny(Ye, x.swipeDirection, ke) ? (N.current = Ye,
                            Cd(HP, f, at, {
                                discrete: !1
                            }),
                            U.target.setPointerCapture(U.pointerId)) : (Math.abs(J) > ke || Math.abs(q) > ke) && (j.current = null)
                        }
                        ),
                        onPointerUp: ne(e.onPointerUp, U => {
                            const J = N.current
                              , q = U.target;
                            if (q.hasPointerCapture(U.pointerId) && q.releasePointerCapture(U.pointerId),
                            N.current = null,
                            j.current = null,
                            J) {
                                const pe = U.currentTarget
                                  , D = {
                                    originalEvent: U,
                                    delta: J
                                };
                                Ny(J, x.swipeDirection, x.swipeThreshold) ? Cd(QP, g, D, {
                                    discrete: !0
                                }) : Cd(KP, h, D, {
                                    discrete: !0
                                }),
                                pe.addEventListener("click", V => V.preventDefault(), {
                                    once: !0
                                })
                            }
                        }
                        )
                    })
                })
            }), x.viewport)
        })]
    }) : null
}
)
  , XP = e => {
    const {__scopeToast: t, children: n, ...s} = e
      , a = vf(yf, t)
      , [i,o] = u.useState(!1)
      , [l,c] = u.useState(!1);
    return tR( () => o(!0)),
    u.useEffect( () => {
        const d = window.setTimeout( () => c(!0), 1e3);
        return () => window.clearTimeout(d)
    }
    , []),
    l ? null : r.jsx(Hc, {
        asChild: !0,
        children: r.jsx(qc, {
            ...s,
            children: i && r.jsxs(r.Fragment, {
                children: [a.label, " ", n]
            })
        })
    })
}
  , JP = "ToastTitle"
  , _b = u.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e;
    return r.jsx(Ce.div, {
        ...s,
        ref: t
    })
}
);
_b.displayName = JP;
var eR = "ToastDescription"
  , Pb = u.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e;
    return r.jsx(Ce.div, {
        ...s,
        ref: t
    })
}
);
Pb.displayName = eR;
var Rb = "ToastAction"
  , Ab = u.forwardRef( (e, t) => {
    const {altText: n, ...s} = e;
    return n.trim() ? r.jsx(Ib, {
        altText: n,
        asChild: !0,
        children: r.jsx(Mx, {
            ...s,
            ref: t
        })
    }) : (console.error(`Invalid prop \`altText\` supplied to \`${Rb}\`. Expected non-empty \`string\`.`),
    null)
}
);
Ab.displayName = Rb;
var Mb = "ToastClose"
  , Mx = u.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e
      , a = ZP(Mb, n);
    return r.jsx(Ib, {
        asChild: !0,
        children: r.jsx(Ce.button, {
            type: "button",
            ...s,
            ref: t,
            onClick: ne(e.onClick, a.onClose)
        })
    })
}
);
Mx.displayName = Mb;
var Ib = u.forwardRef( (e, t) => {
    const {__scopeToast: n, altText: s, ...a} = e;
    return r.jsx(Ce.div, {
        "data-radix-toast-announce-exclude": "",
        "data-radix-toast-announce-alt": s || void 0,
        ...a,
        ref: t
    })
}
);
function Db(e) {
    const t = [];
    return Array.from(e.childNodes).forEach(s => {
        if (s.nodeType === s.TEXT_NODE && s.textContent && t.push(s.textContent),
        nR(s)) {
            const a = s.ariaHidden || s.hidden || s.style.display === "none"
              , i = s.dataset.radixToastAnnounceExclude === "";
            if (!a)
                if (i) {
                    const o = s.dataset.radixToastAnnounceAlt;
                    o && t.push(o)
                } else
                    t.push(...Db(s))
        }
    }
    ),
    t
}
function Cd(e, t, n, {discrete: s}) {
    const a = n.originalEvent.currentTarget
      , i = new CustomEvent(e,{
        bubbles: !0,
        cancelable: !0,
        detail: n
    });
    t && a.addEventListener(e, t, {
        once: !0
    }),
    s ? Px(a, i) : a.dispatchEvent(i)
}
var Ny = (e, t, n=0) => {
    const s = Math.abs(e.x)
      , a = Math.abs(e.y)
      , i = s > a;
    return t === "left" || t === "right" ? i && s > n : !i && a > n
}
;
function tR(e= () => {}
) {
    const t = Pt(e);
    tn( () => {
        let n = 0
          , s = 0;
        return n = window.requestAnimationFrame( () => s = window.requestAnimationFrame(t)),
        () => {
            window.cancelAnimationFrame(n),
            window.cancelAnimationFrame(s)
        }
    }
    , [t])
}
function nR(e) {
    return e.nodeType === e.ELEMENT_NODE
}
function rR(e) {
    const t = []
      , n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
        acceptNode: s => {
            const a = s.tagName === "INPUT" && s.type === "hidden";
            return s.disabled || s.hidden || a ? NodeFilter.FILTER_SKIP : s.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
        }
    });
    for (; n.nextNode(); )
        t.push(n.currentNode);
    return t
}
function Pm(e) {
    const t = document.activeElement;
    return e.some(n => n === t ? !0 : (n.focus(),
    document.activeElement !== t))
}
var sR = Sb
  , Ob = kb
  , Lb = Tb
  , Fb = _b
  , $b = Pb
  , zb = Ab
  , Vb = Mx;
function Ub(e) {
    var t, n, s = "";
    if (typeof e == "string" || typeof e == "number")
        s += e;
    else if (typeof e == "object")
        if (Array.isArray(e)) {
            var a = e.length;
            for (t = 0; t < a; t++)
                e[t] && (n = Ub(e[t])) && (s && (s += " "),
                s += n)
        } else
            for (n in e)
                e[n] && (s && (s += " "),
                s += n);
    return s
}
function Wb() {
    for (var e, t, n = 0, s = "", a = arguments.length; n < a; n++)
        (e = arguments[n]) && (t = Ub(e)) && (s && (s += " "),
        s += t);
    return s
}
const Sy = e => typeof e == "boolean" ? `${e}` : e === 0 ? "0" : e
  , Cy = Wb
  , Kc = (e, t) => n => {
    var s;
    if ((t == null ? void 0 : t.variants) == null)
        return Cy(e, n == null ? void 0 : n.class, n == null ? void 0 : n.className);
    const {variants: a, defaultVariants: i} = t
      , o = Object.keys(a).map(d => {
        const f = n == null ? void 0 : n[d]
          , m = i == null ? void 0 : i[d];
        if (f === null)
            return null;
        const h = Sy(f) || Sy(m);
        return a[d][h]
    }
    )
      , l = n && Object.entries(n).reduce( (d, f) => {
        let[m,h] = f;
        return h === void 0 || (d[m] = h),
        d
    }
    , {})
      , c = t == null || (s = t.compoundVariants) === null || s === void 0 ? void 0 : s.reduce( (d, f) => {
        let {class: m, className: h, ...g} = f;
        return Object.entries(g).every(w => {
            let[x,y] = w;
            return Array.isArray(y) ? y.includes({
                ...i,
                ...l
            }[x]) : {
                ...i,
                ...l
            }[x] === y
        }
        ) ? [...d, m, h] : d
    }
    , []);
    return Cy(e, o, c, n == null ? void 0 : n.class, n == null ? void 0 : n.className)
}
;
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const aR = e => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase()
  , Bb = (...e) => e.filter( (t, n, s) => !!t && s.indexOf(t) === n).join(" ");
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var iR = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
};
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const oR = u.forwardRef( ({color: e="currentColor", size: t=24, strokeWidth: n=2, absoluteStrokeWidth: s, className: a="", children: i, iconNode: o, ...l}, c) => u.createElement("svg", {
    ref: c,
    ...iR,
    width: t,
    height: t,
    stroke: e,
    strokeWidth: s ? Number(n) * 24 / Number(t) : n,
    className: Bb("lucide", a),
    ...l
}, [...o.map( ([d,f]) => u.createElement(d, f)), ...Array.isArray(i) ? i : [i]]));
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ge = (e, t) => {
    const n = u.forwardRef( ({className: s, ...a}, i) => u.createElement(oR, {
        ref: i,
        iconNode: t,
        className: Bb(`lucide-${aR(e)}`, s),
        ...a
    }));
    return n.displayName = `${e}`,
    n
}
;
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Qc = ge("ArrowLeft", [["path", {
    d: "m12 19-7-7 7-7",
    key: "1l729n"
}], ["path", {
    d: "M19 12H5",
    key: "x3x0zl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Hb = ge("ArrowRight", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "m12 5 7 7-7 7",
    key: "xquz4c"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const lR = ge("Award", [["path", {
    d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",
    key: "1yiouv"
}], ["circle", {
    cx: "12",
    cy: "8",
    r: "6",
    key: "1vp47v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Cu = ge("Bell", [["path", {
    d: "M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",
    key: "1qo2s2"
}], ["path", {
    d: "M10.3 21a1.94 1.94 0 0 0 3.4 0",
    key: "qgo35s"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const hs = ge("Calendar", [["path", {
    d: "M8 2v4",
    key: "1cmpym"
}], ["path", {
    d: "M16 2v4",
    key: "4m81vk"
}], ["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "4",
    rx: "2",
    key: "1hopcy"
}], ["path", {
    d: "M3 10h18",
    key: "8toen8"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const cR = ge("Camera", [["path", {
    d: "M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",
    key: "1tc9qg"
}], ["circle", {
    cx: "12",
    cy: "13",
    r: "3",
    key: "1vg3eu"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const dR = ge("CheckCheck", [["path", {
    d: "M18 6 7 17l-5-5",
    key: "116fxf"
}], ["path", {
    d: "m22 10-7.5 7.5L13 16",
    key: "ke71qq"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const jf = ge("Check", [["path", {
    d: "M20 6 9 17l-5-5",
    key: "1gmf2c"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qb = ge("ChevronDown", [["path", {
    d: "m6 9 6 6 6-6",
    key: "qrunsl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const np = ge("ChevronLeft", [["path", {
    d: "m15 18-6-6 6-6",
    key: "1wnfg3"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ku = ge("ChevronRight", [["path", {
    d: "m9 18 6-6-6-6",
    key: "mthhwq"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const uR = ge("ChevronUp", [["path", {
    d: "m18 15-6-6-6 6",
    key: "153udz"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ix = ge("CircleAlert", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12",
    key: "1pkeuh"
}], ["line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16",
    key: "4dfq90"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Hn = ge("CircleCheckBig", [["path", {
    d: "M21.801 10A10 10 0 1 1 17 3.335",
    key: "yps3ct"
}], ["path", {
    d: "m9 11 3 3L22 4",
    key: "1pflzl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ky = ge("CircleHelp", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",
    key: "1u773s"
}], ["path", {
    d: "M12 17h.01",
    key: "p32p05"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const kd = ge("CircleX", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "m15 9-6 6",
    key: "1uzhvr"
}], ["path", {
    d: "m9 9 6 6",
    key: "z0biqf"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Kb = ge("Circle", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const rp = ge("Clock", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["polyline", {
    points: "12 6 12 12 16 14",
    key: "68esgv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ls = ge("CreditCard", [["rect", {
    width: "20",
    height: "14",
    x: "2",
    y: "5",
    rx: "2",
    key: "ynyp8z"
}], ["line", {
    x1: "2",
    x2: "22",
    y1: "10",
    y2: "10",
    key: "1b3vmo"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Hl = ge("DollarSign", [["line", {
    x1: "12",
    x2: "12",
    y1: "2",
    y2: "22",
    key: "7eqyqh"
}], ["path", {
    d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",
    key: "1b0p4s"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Qb = ge("EyeOff", [["path", {
    d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",
    key: "ct8e1f"
}], ["path", {
    d: "M14.084 14.158a3 3 0 0 1-4.242-4.242",
    key: "151rxh"
}], ["path", {
    d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",
    key: "13bj9a"
}], ["path", {
    d: "m2 2 20 20",
    key: "1ooewy"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const is = ge("Eye", [["path", {
    d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",
    key: "1nclc0"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ia = ge("FileText", [["path", {
    d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",
    key: "1rqfz7"
}], ["path", {
    d: "M14 2v4a2 2 0 0 0 2 2h4",
    key: "tnqrlb"
}], ["path", {
    d: "M10 9H8",
    key: "b1mrlr"
}], ["path", {
    d: "M16 13H8",
    key: "t4e002"
}], ["path", {
    d: "M16 17H8",
    key: "z1uh3a"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mi = ge("Flag", [["path", {
    d: "M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",
    key: "i9b6wo"
}], ["line", {
    x1: "4",
    x2: "4",
    y1: "22",
    y2: "15",
    key: "1cm3nv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const fR = ge("History", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}], ["path", {
    d: "M12 7v5l4 2",
    key: "1fdv2h"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Eu = ge("Image", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    ry: "2",
    key: "1m3agn"
}], ["circle", {
    cx: "9",
    cy: "9",
    r: "2",
    key: "af1f0g"
}], ["path", {
    d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",
    key: "1xmnt7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mR = ge("Inbox", [["polyline", {
    points: "22 12 16 12 14 15 10 15 8 12 2 12",
    key: "o97t9d"
}], ["path", {
    d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",
    key: "oot6mr"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Qd = ge("Info", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 16v-4",
    key: "1dtifu"
}], ["path", {
    d: "M12 8h.01",
    key: "e9boi3"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const hR = ge("KeyRound", [["path", {
    d: "M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",
    key: "1s6t7t"
}], ["circle", {
    cx: "16.5",
    cy: "7.5",
    r: ".5",
    fill: "currentColor",
    key: "w0ekpg"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const pR = ge("ListFilter", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M7 12h10",
    key: "b7w52i"
}], ["path", {
    d: "M10 18h4",
    key: "1ulq68"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Gb = ge("LoaderCircle", [["path", {
    d: "M21 12a9 9 0 1 1-6.219-8.56",
    key: "13zald"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xR = ge("LogOut", [["path", {
    d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",
    key: "1uf3rs"
}], ["polyline", {
    points: "16 17 21 12 16 7",
    key: "1gabdz"
}], ["line", {
    x1: "21",
    x2: "9",
    y1: "12",
    y2: "12",
    key: "1uyos4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Mr = ge("MapPin", [["path", {
    d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",
    key: "1r0f0z"
}], ["circle", {
    cx: "12",
    cy: "10",
    r: "3",
    key: "ilqhr7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const gR = ge("Megaphone", [["path", {
    d: "m3 11 18-5v12L3 14v-3z",
    key: "n962bs"
}], ["path", {
    d: "M11.6 16.8a3 3 0 1 1-5.8-1.6",
    key: "1yl0tm"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const vR = ge("Menu", [["line", {
    x1: "4",
    x2: "20",
    y1: "12",
    y2: "12",
    key: "1e0a9i"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "6",
    y2: "6",
    key: "1owob3"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "18",
    y2: "18",
    key: "yk5zj1"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ql = ge("MessageCircle", [["path", {
    d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z",
    key: "vv11sd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const rr = ge("MessageSquare", [["path", {
    d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",
    key: "1lielz"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const yR = ge("Mic", [["path", {
    d: "M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",
    key: "131961"
}], ["path", {
    d: "M19 10v2a7 7 0 0 1-14 0v-2",
    key: "1vc78b"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "19",
    y2: "22",
    key: "x3vr5v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ut = ge("Package", [["path", {
    d: "M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",
    key: "1a0edw"
}], ["path", {
    d: "M12 22V12",
    key: "d0xqtd"
}], ["path", {
    d: "m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",
    key: "yx3hmr"
}], ["path", {
    d: "m7.5 4.27 9 5.15",
    key: "1c824w"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const jR = ge("Pause", [["rect", {
    x: "14",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "zuxfzm"
}], ["rect", {
    x: "6",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "1okwgv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Rm = ge("Pencil", [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}], ["path", {
    d: "m15 5 4 4",
    key: "1mk7zo"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const $r = ge("Phone", [["path", {
    d: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",
    key: "foiqr5"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const wR = ge("Play", [["polygon", {
    points: "6 3 20 12 6 21 6 3",
    key: "1oa8hb"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const sp = ge("Plus", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "M12 5v14",
    key: "s699le"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const bR = ge("Receipt", [["path", {
    d: "M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",
    key: "q3az6g"
}], ["path", {
    d: "M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",
    key: "1h4pet"
}], ["path", {
    d: "M12 17.5v-11",
    key: "1jc1ny"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const NR = ge("RefreshCw", [["path", {
    d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",
    key: "v9h5vc"
}], ["path", {
    d: "M21 3v5h-5",
    key: "1q7to0"
}], ["path", {
    d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",
    key: "3uifl3"
}], ["path", {
    d: "M8 16H3v5",
    key: "1cv678"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ap = ge("RotateCcw", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Zb = ge("Save", [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const hr = ge("Search", [["circle", {
    cx: "11",
    cy: "11",
    r: "8",
    key: "4ej97u"
}], ["path", {
    d: "m21 21-4.3-4.3",
    key: "1qie3q"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ni = ge("Send", [["path", {
    d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",
    key: "1ffxy3"
}], ["path", {
    d: "m21.854 2.147-10.94 10.939",
    key: "12cjpa"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const SR = ge("Shield", [["path", {
    d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
    key: "oel41y"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const CR = ge("Smartphone", [["rect", {
    width: "14",
    height: "20",
    x: "5",
    y: "2",
    rx: "2",
    ry: "2",
    key: "1yt0o3"
}], ["path", {
    d: "M12 18h.01",
    key: "mhygvu"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Yb = ge("SquarePen", [["path", {
    d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",
    key: "1m0v6g"
}], ["path", {
    d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",
    key: "ohrbg2"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const kR = ge("Square", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Bs = ge("Star", [["polygon", {
    points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",
    key: "8f66p6"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ER = ge("Target", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "6",
    key: "1vlfrh"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "2",
    key: "1c9p78"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ts = ge("Trash2", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
    key: "4alrt4"
}], ["path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
    key: "v07s0e"
}], ["line", {
    x1: "10",
    x2: "10",
    y1: "11",
    y2: "17",
    key: "1uufr5"
}], ["line", {
    x1: "14",
    x2: "14",
    y1: "11",
    y2: "17",
    key: "xtxkd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Xt = ge("Truck", [["path", {
    d: "M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",
    key: "wrbu53"
}], ["path", {
    d: "M15 18H9",
    key: "1lyqi6"
}], ["path", {
    d: "M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",
    key: "lysw3i"
}], ["circle", {
    cx: "17",
    cy: "18",
    r: "2",
    key: "332jqn"
}], ["circle", {
    cx: "7",
    cy: "18",
    r: "2",
    key: "19iecd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const wf = ge("Upload", [["path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",
    key: "ih7n3h"
}], ["polyline", {
    points: "17 8 12 3 7 8",
    key: "t8dd8p"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "3",
    y2: "15",
    key: "widbto"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ey = ge("UserCheck", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["polyline", {
    points: "16 11 18 13 22 9",
    key: "1pwet4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ip = ge("User", [["path", {
    d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",
    key: "975kel"
}], ["circle", {
    cx: "12",
    cy: "7",
    r: "4",
    key: "17ys0d"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ts = ge("Users", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["path", {
    d: "M22 21v-2a4 4 0 0 0-3-3.87",
    key: "kshegd"
}], ["path", {
    d: "M16 3.13a4 4 0 0 1 0 7.75",
    key: "1da9ce"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const TR = ge("Wallet", [["path", {
    d: "M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",
    key: "18etb6"
}], ["path", {
    d: "M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",
    key: "xoc0q4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const rl = ge("X", [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Am = ge("Zap", [["path", {
    d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
    key: "1xq2db"
}]])
  , Dx = "-"
  , _R = e => {
    const t = RR(e)
      , {conflictingClassGroups: n, conflictingClassGroupModifiers: s} = e;
    return {
        getClassGroupId: o => {
            const l = o.split(Dx);
            return l[0] === "" && l.length !== 1 && l.shift(),
            Xb(l, t) || PR(o)
        }
        ,
        getConflictingClassGroupIds: (o, l) => {
            const c = n[o] || [];
            return l && s[o] ? [...c, ...s[o]] : c
        }
    }
}
  , Xb = (e, t) => {
    var o;
    if (e.length === 0)
        return t.classGroupId;
    const n = e[0]
      , s = t.nextPart.get(n)
      , a = s ? Xb(e.slice(1), s) : void 0;
    if (a)
        return a;
    if (t.validators.length === 0)
        return;
    const i = e.join(Dx);
    return (o = t.validators.find( ({validator: l}) => l(i))) == null ? void 0 : o.classGroupId
}
  , Ty = /^\[(.+)\]$/
  , PR = e => {
    if (Ty.test(e)) {
        const t = Ty.exec(e)[1]
          , n = t == null ? void 0 : t.substring(0, t.indexOf(":"));
        if (n)
            return "arbitrary.." + n
    }
}
  , RR = e => {
    const {theme: t, prefix: n} = e
      , s = {
        nextPart: new Map,
        validators: []
    };
    return MR(Object.entries(e.classGroups), n).forEach( ([i,o]) => {
        op(o, s, i, t)
    }
    ),
    s
}
  , op = (e, t, n, s) => {
    e.forEach(a => {
        if (typeof a == "string") {
            const i = a === "" ? t : _y(t, a);
            i.classGroupId = n;
            return
        }
        if (typeof a == "function") {
            if (AR(a)) {
                op(a(s), t, n, s);
                return
            }
            t.validators.push({
                validator: a,
                classGroupId: n
            });
            return
        }
        Object.entries(a).forEach( ([i,o]) => {
            op(o, _y(t, i), n, s)
        }
        )
    }
    )
}
  , _y = (e, t) => {
    let n = e;
    return t.split(Dx).forEach(s => {
        n.nextPart.has(s) || n.nextPart.set(s, {
            nextPart: new Map,
            validators: []
        }),
        n = n.nextPart.get(s)
    }
    ),
    n
}
  , AR = e => e.isThemeGetter
  , MR = (e, t) => t ? e.map( ([n,s]) => {
    const a = s.map(i => typeof i == "string" ? t + i : typeof i == "object" ? Object.fromEntries(Object.entries(i).map( ([o,l]) => [t + o, l])) : i);
    return [n, a]
}
) : e
  , IR = e => {
    if (e < 1)
        return {
            get: () => {}
            ,
            set: () => {}
        };
    let t = 0
      , n = new Map
      , s = new Map;
    const a = (i, o) => {
        n.set(i, o),
        t++,
        t > e && (t = 0,
        s = n,
        n = new Map)
    }
    ;
    return {
        get(i) {
            let o = n.get(i);
            if (o !== void 0)
                return o;
            if ((o = s.get(i)) !== void 0)
                return a(i, o),
                o
        },
        set(i, o) {
            n.has(i) ? n.set(i, o) : a(i, o)
        }
    }
}
  , Jb = "!"
  , DR = e => {
    const {separator: t, experimentalParseClassName: n} = e
      , s = t.length === 1
      , a = t[0]
      , i = t.length
      , o = l => {
        const c = [];
        let d = 0, f = 0, m;
        for (let y = 0; y < l.length; y++) {
            let v = l[y];
            if (d === 0) {
                if (v === a && (s || l.slice(y, y + i) === t)) {
                    c.push(l.slice(f, y)),
                    f = y + i;
                    continue
                }
                if (v === "/") {
                    m = y;
                    continue
                }
            }
            v === "[" ? d++ : v === "]" && d--
        }
        const h = c.length === 0 ? l : l.substring(f)
          , g = h.startsWith(Jb)
          , w = g ? h.substring(1) : h
          , x = m && m > f ? m - f : void 0;
        return {
            modifiers: c,
            hasImportantModifier: g,
            baseClassName: w,
            maybePostfixModifierPosition: x
        }
    }
    ;
    return n ? l => n({
        className: l,
        parseClassName: o
    }) : o
}
  , OR = e => {
    if (e.length <= 1)
        return e;
    const t = [];
    let n = [];
    return e.forEach(s => {
        s[0] === "[" ? (t.push(...n.sort(), s),
        n = []) : n.push(s)
    }
    ),
    t.push(...n.sort()),
    t
}
  , LR = e => ({
    cache: IR(e.cacheSize),
    parseClassName: DR(e),
    ..._R(e)
})
  , FR = /\s+/
  , $R = (e, t) => {
    const {parseClassName: n, getClassGroupId: s, getConflictingClassGroupIds: a} = t
      , i = []
      , o = e.trim().split(FR);
    let l = "";
    for (let c = o.length - 1; c >= 0; c -= 1) {
        const d = o[c]
          , {modifiers: f, hasImportantModifier: m, baseClassName: h, maybePostfixModifierPosition: g} = n(d);
        let w = !!g
          , x = s(w ? h.substring(0, g) : h);
        if (!x) {
            if (!w) {
                l = d + (l.length > 0 ? " " + l : l);
                continue
            }
            if (x = s(h),
            !x) {
                l = d + (l.length > 0 ? " " + l : l);
                continue
            }
            w = !1
        }
        const y = OR(f).join(":")
          , v = m ? y + Jb : y
          , p = v + x;
        if (i.includes(p))
            continue;
        i.push(p);
        const j = a(x, w);
        for (let N = 0; N < j.length; ++N) {
            const S = j[N];
            i.push(v + S)
        }
        l = d + (l.length > 0 ? " " + l : l)
    }
    return l
}
;
function zR() {
    let e = 0, t, n, s = "";
    for (; e < arguments.length; )
        (t = arguments[e++]) && (n = eN(t)) && (s && (s += " "),
        s += n);
    return s
}
const eN = e => {
    if (typeof e == "string")
        return e;
    let t, n = "";
    for (let s = 0; s < e.length; s++)
        e[s] && (t = eN(e[s])) && (n && (n += " "),
        n += t);
    return n
}
;
function VR(e, ...t) {
    let n, s, a, i = o;
    function o(c) {
        const d = t.reduce( (f, m) => m(f), e());
        return n = LR(d),
        s = n.cache.get,
        a = n.cache.set,
        i = l,
        l(c)
    }
    function l(c) {
        const d = s(c);
        if (d)
            return d;
        const f = $R(c, n);
        return a(c, f),
        f
    }
    return function() {
        return i(zR.apply(null, arguments))
    }
}
const kt = e => {
    const t = n => n[e] || [];
    return t.isThemeGetter = !0,
    t
}
  , tN = /^\[(?:([a-z-]+):)?(.+)\]$/i
  , UR = /^\d+\/\d+$/
  , WR = new Set(["px", "full", "screen"])
  , BR = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/
  , HR = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/
  , qR = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/
  , KR = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/
  , QR = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/
  , Cs = e => go(e) || WR.has(e) || UR.test(e)
  , Js = e => sl(e, "length", nA)
  , go = e => !!e && !Number.isNaN(Number(e))
  , Mm = e => sl(e, "number", go)
  , bl = e => !!e && Number.isInteger(Number(e))
  , GR = e => e.endsWith("%") && go(e.slice(0, -1))
  , Ke = e => tN.test(e)
  , ea = e => BR.test(e)
  , ZR = new Set(["length", "size", "percentage"])
  , YR = e => sl(e, ZR, nN)
  , XR = e => sl(e, "position", nN)
  , JR = new Set(["image", "url"])
  , eA = e => sl(e, JR, sA)
  , tA = e => sl(e, "", rA)
  , Nl = () => !0
  , sl = (e, t, n) => {
    const s = tN.exec(e);
    return s ? s[1] ? typeof t == "string" ? s[1] === t : t.has(s[1]) : n(s[2]) : !1
}
  , nA = e => HR.test(e) && !qR.test(e)
  , nN = () => !1
  , rA = e => KR.test(e)
  , sA = e => QR.test(e)
  , aA = () => {
    const e = kt("colors")
      , t = kt("spacing")
      , n = kt("blur")
      , s = kt("brightness")
      , a = kt("borderColor")
      , i = kt("borderRadius")
      , o = kt("borderSpacing")
      , l = kt("borderWidth")
      , c = kt("contrast")
      , d = kt("grayscale")
      , f = kt("hueRotate")
      , m = kt("invert")
      , h = kt("gap")
      , g = kt("gradientColorStops")
      , w = kt("gradientColorStopPositions")
      , x = kt("inset")
      , y = kt("margin")
      , v = kt("opacity")
      , p = kt("padding")
      , j = kt("saturate")
      , N = kt("scale")
      , S = kt("sepia")
      , k = kt("skew")
      , C = kt("space")
      , E = kt("translate")
      , A = () => ["auto", "contain", "none"]
      , z = () => ["auto", "hidden", "clip", "visible", "scroll"]
      , G = () => ["auto", Ke, t]
      , R = () => [Ke, t]
      , B = () => ["", Cs, Js]
      , U = () => ["auto", go, Ke]
      , J = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"]
      , q = () => ["solid", "dashed", "dotted", "double", "none"]
      , pe = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"]
      , D = () => ["start", "end", "center", "between", "around", "evenly", "stretch"]
      , V = () => ["", "0", Ke]
      , W = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"]
      , de = () => [go, Ke];
    return {
        cacheSize: 500,
        separator: ":",
        theme: {
            colors: [Nl],
            spacing: [Cs, Js],
            blur: ["none", "", ea, Ke],
            brightness: de(),
            borderColor: [e],
            borderRadius: ["none", "", "full", ea, Ke],
            borderSpacing: R(),
            borderWidth: B(),
            contrast: de(),
            grayscale: V(),
            hueRotate: de(),
            invert: V(),
            gap: R(),
            gradientColorStops: [e],
            gradientColorStopPositions: [GR, Js],
            inset: G(),
            margin: G(),
            opacity: de(),
            padding: R(),
            saturate: de(),
            scale: de(),
            sepia: V(),
            skew: de(),
            space: R(),
            translate: R()
        },
        classGroups: {
            aspect: [{
                aspect: ["auto", "square", "video", Ke]
            }],
            container: ["container"],
            columns: [{
                columns: [ea]
            }],
            "break-after": [{
                "break-after": W()
            }],
            "break-before": [{
                "break-before": W()
            }],
            "break-inside": [{
                "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"]
            }],
            "box-decoration": [{
                "box-decoration": ["slice", "clone"]
            }],
            box: [{
                box: ["border", "content"]
            }],
            display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"],
            float: [{
                float: ["right", "left", "none", "start", "end"]
            }],
            clear: [{
                clear: ["left", "right", "both", "none", "start", "end"]
            }],
            isolation: ["isolate", "isolation-auto"],
            "object-fit": [{
                object: ["contain", "cover", "fill", "none", "scale-down"]
            }],
            "object-position": [{
                object: [...J(), Ke]
            }],
            overflow: [{
                overflow: z()
            }],
            "overflow-x": [{
                "overflow-x": z()
            }],
            "overflow-y": [{
                "overflow-y": z()
            }],
            overscroll: [{
                overscroll: A()
            }],
            "overscroll-x": [{
                "overscroll-x": A()
            }],
            "overscroll-y": [{
                "overscroll-y": A()
            }],
            position: ["static", "fixed", "absolute", "relative", "sticky"],
            inset: [{
                inset: [x]
            }],
            "inset-x": [{
                "inset-x": [x]
            }],
            "inset-y": [{
                "inset-y": [x]
            }],
            start: [{
                start: [x]
            }],
            end: [{
                end: [x]
            }],
            top: [{
                top: [x]
            }],
            right: [{
                right: [x]
            }],
            bottom: [{
                bottom: [x]
            }],
            left: [{
                left: [x]
            }],
            visibility: ["visible", "invisible", "collapse"],
            z: [{
                z: ["auto", bl, Ke]
            }],
            basis: [{
                basis: G()
            }],
            "flex-direction": [{
                flex: ["row", "row-reverse", "col", "col-reverse"]
            }],
            "flex-wrap": [{
                flex: ["wrap", "wrap-reverse", "nowrap"]
            }],
            flex: [{
                flex: ["1", "auto", "initial", "none", Ke]
            }],
            grow: [{
                grow: V()
            }],
            shrink: [{
                shrink: V()
            }],
            order: [{
                order: ["first", "last", "none", bl, Ke]
            }],
            "grid-cols": [{
                "grid-cols": [Nl]
            }],
            "col-start-end": [{
                col: ["auto", {
                    span: ["full", bl, Ke]
                }, Ke]
            }],
            "col-start": [{
                "col-start": U()
            }],
            "col-end": [{
                "col-end": U()
            }],
            "grid-rows": [{
                "grid-rows": [Nl]
            }],
            "row-start-end": [{
                row: ["auto", {
                    span: [bl, Ke]
                }, Ke]
            }],
            "row-start": [{
                "row-start": U()
            }],
            "row-end": [{
                "row-end": U()
            }],
            "grid-flow": [{
                "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"]
            }],
            "auto-cols": [{
                "auto-cols": ["auto", "min", "max", "fr", Ke]
            }],
            "auto-rows": [{
                "auto-rows": ["auto", "min", "max", "fr", Ke]
            }],
            gap: [{
                gap: [h]
            }],
            "gap-x": [{
                "gap-x": [h]
            }],
            "gap-y": [{
                "gap-y": [h]
            }],
            "justify-content": [{
                justify: ["normal", ...D()]
            }],
            "justify-items": [{
                "justify-items": ["start", "end", "center", "stretch"]
            }],
            "justify-self": [{
                "justify-self": ["auto", "start", "end", "center", "stretch"]
            }],
            "align-content": [{
                content: ["normal", ...D(), "baseline"]
            }],
            "align-items": [{
                items: ["start", "end", "center", "baseline", "stretch"]
            }],
            "align-self": [{
                self: ["auto", "start", "end", "center", "stretch", "baseline"]
            }],
            "place-content": [{
                "place-content": [...D(), "baseline"]
            }],
            "place-items": [{
                "place-items": ["start", "end", "center", "baseline", "stretch"]
            }],
            "place-self": [{
                "place-self": ["auto", "start", "end", "center", "stretch"]
            }],
            p: [{
                p: [p]
            }],
            px: [{
                px: [p]
            }],
            py: [{
                py: [p]
            }],
            ps: [{
                ps: [p]
            }],
            pe: [{
                pe: [p]
            }],
            pt: [{
                pt: [p]
            }],
            pr: [{
                pr: [p]
            }],
            pb: [{
                pb: [p]
            }],
            pl: [{
                pl: [p]
            }],
            m: [{
                m: [y]
            }],
            mx: [{
                mx: [y]
            }],
            my: [{
                my: [y]
            }],
            ms: [{
                ms: [y]
            }],
            me: [{
                me: [y]
            }],
            mt: [{
                mt: [y]
            }],
            mr: [{
                mr: [y]
            }],
            mb: [{
                mb: [y]
            }],
            ml: [{
                ml: [y]
            }],
            "space-x": [{
                "space-x": [C]
            }],
            "space-x-reverse": ["space-x-reverse"],
            "space-y": [{
                "space-y": [C]
            }],
            "space-y-reverse": ["space-y-reverse"],
            w: [{
                w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", Ke, t]
            }],
            "min-w": [{
                "min-w": [Ke, t, "min", "max", "fit"]
            }],
            "max-w": [{
                "max-w": [Ke, t, "none", "full", "min", "max", "fit", "prose", {
                    screen: [ea]
                }, ea]
            }],
            h: [{
                h: [Ke, t, "auto", "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            "min-h": [{
                "min-h": [Ke, t, "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            "max-h": [{
                "max-h": [Ke, t, "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            size: [{
                size: [Ke, t, "auto", "min", "max", "fit"]
            }],
            "font-size": [{
                text: ["base", ea, Js]
            }],
            "font-smoothing": ["antialiased", "subpixel-antialiased"],
            "font-style": ["italic", "not-italic"],
            "font-weight": [{
                font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", Mm]
            }],
            "font-family": [{
                font: [Nl]
            }],
            "fvn-normal": ["normal-nums"],
            "fvn-ordinal": ["ordinal"],
            "fvn-slashed-zero": ["slashed-zero"],
            "fvn-figure": ["lining-nums", "oldstyle-nums"],
            "fvn-spacing": ["proportional-nums", "tabular-nums"],
            "fvn-fraction": ["diagonal-fractions", "stacked-fractions"],
            tracking: [{
                tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", Ke]
            }],
            "line-clamp": [{
                "line-clamp": ["none", go, Mm]
            }],
            leading: [{
                leading: ["none", "tight", "snug", "normal", "relaxed", "loose", Cs, Ke]
            }],
            "list-image": [{
                "list-image": ["none", Ke]
            }],
            "list-style-type": [{
                list: ["none", "disc", "decimal", Ke]
            }],
            "list-style-position": [{
                list: ["inside", "outside"]
            }],
            "placeholder-color": [{
                placeholder: [e]
            }],
            "placeholder-opacity": [{
                "placeholder-opacity": [v]
            }],
            "text-alignment": [{
                text: ["left", "center", "right", "justify", "start", "end"]
            }],
            "text-color": [{
                text: [e]
            }],
            "text-opacity": [{
                "text-opacity": [v]
            }],
            "text-decoration": ["underline", "overline", "line-through", "no-underline"],
            "text-decoration-style": [{
                decoration: [...q(), "wavy"]
            }],
            "text-decoration-thickness": [{
                decoration: ["auto", "from-font", Cs, Js]
            }],
            "underline-offset": [{
                "underline-offset": ["auto", Cs, Ke]
            }],
            "text-decoration-color": [{
                decoration: [e]
            }],
            "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"],
            "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
            "text-wrap": [{
                text: ["wrap", "nowrap", "balance", "pretty"]
            }],
            indent: [{
                indent: R()
            }],
            "vertical-align": [{
                align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", Ke]
            }],
            whitespace: [{
                whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"]
            }],
            break: [{
                break: ["normal", "words", "all", "keep"]
            }],
            hyphens: [{
                hyphens: ["none", "manual", "auto"]
            }],
            content: [{
                content: ["none", Ke]
            }],
            "bg-attachment": [{
                bg: ["fixed", "local", "scroll"]
            }],
            "bg-clip": [{
                "bg-clip": ["border", "padding", "content", "text"]
            }],
            "bg-opacity": [{
                "bg-opacity": [v]
            }],
            "bg-origin": [{
                "bg-origin": ["border", "padding", "content"]
            }],
            "bg-position": [{
                bg: [...J(), XR]
            }],
            "bg-repeat": [{
                bg: ["no-repeat", {
                    repeat: ["", "x", "y", "round", "space"]
                }]
            }],
            "bg-size": [{
                bg: ["auto", "cover", "contain", YR]
            }],
            "bg-image": [{
                bg: ["none", {
                    "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"]
                }, eA]
            }],
            "bg-color": [{
                bg: [e]
            }],
            "gradient-from-pos": [{
                from: [w]
            }],
            "gradient-via-pos": [{
                via: [w]
            }],
            "gradient-to-pos": [{
                to: [w]
            }],
            "gradient-from": [{
                from: [g]
            }],
            "gradient-via": [{
                via: [g]
            }],
            "gradient-to": [{
                to: [g]
            }],
            rounded: [{
                rounded: [i]
            }],
            "rounded-s": [{
                "rounded-s": [i]
            }],
            "rounded-e": [{
                "rounded-e": [i]
            }],
            "rounded-t": [{
                "rounded-t": [i]
            }],
            "rounded-r": [{
                "rounded-r": [i]
            }],
            "rounded-b": [{
                "rounded-b": [i]
            }],
            "rounded-l": [{
                "rounded-l": [i]
            }],
            "rounded-ss": [{
                "rounded-ss": [i]
            }],
            "rounded-se": [{
                "rounded-se": [i]
            }],
            "rounded-ee": [{
                "rounded-ee": [i]
            }],
            "rounded-es": [{
                "rounded-es": [i]
            }],
            "rounded-tl": [{
                "rounded-tl": [i]
            }],
            "rounded-tr": [{
                "rounded-tr": [i]
            }],
            "rounded-br": [{
                "rounded-br": [i]
            }],
            "rounded-bl": [{
                "rounded-bl": [i]
            }],
            "border-w": [{
                border: [l]
            }],
            "border-w-x": [{
                "border-x": [l]
            }],
            "border-w-y": [{
                "border-y": [l]
            }],
            "border-w-s": [{
                "border-s": [l]
            }],
            "border-w-e": [{
                "border-e": [l]
            }],
            "border-w-t": [{
                "border-t": [l]
            }],
            "border-w-r": [{
                "border-r": [l]
            }],
            "border-w-b": [{
                "border-b": [l]
            }],
            "border-w-l": [{
                "border-l": [l]
            }],
            "border-opacity": [{
                "border-opacity": [v]
            }],
            "border-style": [{
                border: [...q(), "hidden"]
            }],
            "divide-x": [{
                "divide-x": [l]
            }],
            "divide-x-reverse": ["divide-x-reverse"],
            "divide-y": [{
                "divide-y": [l]
            }],
            "divide-y-reverse": ["divide-y-reverse"],
            "divide-opacity": [{
                "divide-opacity": [v]
            }],
            "divide-style": [{
                divide: q()
            }],
            "border-color": [{
                border: [a]
            }],
            "border-color-x": [{
                "border-x": [a]
            }],
            "border-color-y": [{
                "border-y": [a]
            }],
            "border-color-s": [{
                "border-s": [a]
            }],
            "border-color-e": [{
                "border-e": [a]
            }],
            "border-color-t": [{
                "border-t": [a]
            }],
            "border-color-r": [{
                "border-r": [a]
            }],
            "border-color-b": [{
                "border-b": [a]
            }],
            "border-color-l": [{
                "border-l": [a]
            }],
            "divide-color": [{
                divide: [a]
            }],
            "outline-style": [{
                outline: ["", ...q()]
            }],
            "outline-offset": [{
                "outline-offset": [Cs, Ke]
            }],
            "outline-w": [{
                outline: [Cs, Js]
            }],
            "outline-color": [{
                outline: [e]
            }],
            "ring-w": [{
                ring: B()
            }],
            "ring-w-inset": ["ring-inset"],
            "ring-color": [{
                ring: [e]
            }],
            "ring-opacity": [{
                "ring-opacity": [v]
            }],
            "ring-offset-w": [{
                "ring-offset": [Cs, Js]
            }],
            "ring-offset-color": [{
                "ring-offset": [e]
            }],
            shadow: [{
                shadow: ["", "inner", "none", ea, tA]
            }],
            "shadow-color": [{
                shadow: [Nl]
            }],
            opacity: [{
                opacity: [v]
            }],
            "mix-blend": [{
                "mix-blend": [...pe(), "plus-lighter", "plus-darker"]
            }],
            "bg-blend": [{
                "bg-blend": pe()
            }],
            filter: [{
                filter: ["", "none"]
            }],
            blur: [{
                blur: [n]
            }],
            brightness: [{
                brightness: [s]
            }],
            contrast: [{
                contrast: [c]
            }],
            "drop-shadow": [{
                "drop-shadow": ["", "none", ea, Ke]
            }],
            grayscale: [{
                grayscale: [d]
            }],
            "hue-rotate": [{
                "hue-rotate": [f]
            }],
            invert: [{
                invert: [m]
            }],
            saturate: [{
                saturate: [j]
            }],
            sepia: [{
                sepia: [S]
            }],
            "backdrop-filter": [{
                "backdrop-filter": ["", "none"]
            }],
            "backdrop-blur": [{
                "backdrop-blur": [n]
            }],
            "backdrop-brightness": [{
                "backdrop-brightness": [s]
            }],
            "backdrop-contrast": [{
                "backdrop-contrast": [c]
            }],
            "backdrop-grayscale": [{
                "backdrop-grayscale": [d]
            }],
            "backdrop-hue-rotate": [{
                "backdrop-hue-rotate": [f]
            }],
            "backdrop-invert": [{
                "backdrop-invert": [m]
            }],
            "backdrop-opacity": [{
                "backdrop-opacity": [v]
            }],
            "backdrop-saturate": [{
                "backdrop-saturate": [j]
            }],
            "backdrop-sepia": [{
                "backdrop-sepia": [S]
            }],
            "border-collapse": [{
                border: ["collapse", "separate"]
            }],
            "border-spacing": [{
                "border-spacing": [o]
            }],
            "border-spacing-x": [{
                "border-spacing-x": [o]
            }],
            "border-spacing-y": [{
                "border-spacing-y": [o]
            }],
            "table-layout": [{
                table: ["auto", "fixed"]
            }],
            caption: [{
                caption: ["top", "bottom"]
            }],
            transition: [{
                transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", Ke]
            }],
            duration: [{
                duration: de()
            }],
            ease: [{
                ease: ["linear", "in", "out", "in-out", Ke]
            }],
            delay: [{
                delay: de()
            }],
            animate: [{
                animate: ["none", "spin", "ping", "pulse", "bounce", Ke]
            }],
            transform: [{
                transform: ["", "gpu", "none"]
            }],
            scale: [{
                scale: [N]
            }],
            "scale-x": [{
                "scale-x": [N]
            }],
            "scale-y": [{
                "scale-y": [N]
            }],
            rotate: [{
                rotate: [bl, Ke]
            }],
            "translate-x": [{
                "translate-x": [E]
            }],
            "translate-y": [{
                "translate-y": [E]
            }],
            "skew-x": [{
                "skew-x": [k]
            }],
            "skew-y": [{
                "skew-y": [k]
            }],
            "transform-origin": [{
                origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", Ke]
            }],
            accent: [{
                accent: ["auto", e]
            }],
            appearance: [{
                appearance: ["none", "auto"]
            }],
            cursor: [{
                cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", Ke]
            }],
            "caret-color": [{
                caret: [e]
            }],
            "pointer-events": [{
                "pointer-events": ["none", "auto"]
            }],
            resize: [{
                resize: ["none", "y", "x", ""]
            }],
            "scroll-behavior": [{
                scroll: ["auto", "smooth"]
            }],
            "scroll-m": [{
                "scroll-m": R()
            }],
            "scroll-mx": [{
                "scroll-mx": R()
            }],
            "scroll-my": [{
                "scroll-my": R()
            }],
            "scroll-ms": [{
                "scroll-ms": R()
            }],
            "scroll-me": [{
                "scroll-me": R()
            }],
            "scroll-mt": [{
                "scroll-mt": R()
            }],
            "scroll-mr": [{
                "scroll-mr": R()
            }],
            "scroll-mb": [{
                "scroll-mb": R()
            }],
            "scroll-ml": [{
                "scroll-ml": R()
            }],
            "scroll-p": [{
                "scroll-p": R()
            }],
            "scroll-px": [{
                "scroll-px": R()
            }],
            "scroll-py": [{
                "scroll-py": R()
            }],
            "scroll-ps": [{
                "scroll-ps": R()
            }],
            "scroll-pe": [{
                "scroll-pe": R()
            }],
            "scroll-pt": [{
                "scroll-pt": R()
            }],
            "scroll-pr": [{
                "scroll-pr": R()
            }],
            "scroll-pb": [{
                "scroll-pb": R()
            }],
            "scroll-pl": [{
                "scroll-pl": R()
            }],
            "snap-align": [{
                snap: ["start", "end", "center", "align-none"]
            }],
            "snap-stop": [{
                snap: ["normal", "always"]
            }],
            "snap-type": [{
                snap: ["none", "x", "y", "both"]
            }],
            "snap-strictness": [{
                snap: ["mandatory", "proximity"]
            }],
            touch: [{
                touch: ["auto", "none", "manipulation"]
            }],
            "touch-x": [{
                "touch-pan": ["x", "left", "right"]
            }],
            "touch-y": [{
                "touch-pan": ["y", "up", "down"]
            }],
            "touch-pz": ["touch-pinch-zoom"],
            select: [{
                select: ["none", "text", "all", "auto"]
            }],
            "will-change": [{
                "will-change": ["auto", "scroll", "contents", "transform", Ke]
            }],
            fill: [{
                fill: [e, "none"]
            }],
            "stroke-w": [{
                stroke: [Cs, Js, Mm]
            }],
            stroke: [{
                stroke: [e, "none"]
            }],
            sr: ["sr-only", "not-sr-only"],
            "forced-color-adjust": [{
                "forced-color-adjust": ["auto", "none"]
            }]
        },
        conflictingClassGroups: {
            overflow: ["overflow-x", "overflow-y"],
            overscroll: ["overscroll-x", "overscroll-y"],
            inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"],
            "inset-x": ["right", "left"],
            "inset-y": ["top", "bottom"],
            flex: ["basis", "grow", "shrink"],
            gap: ["gap-x", "gap-y"],
            p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
            px: ["pr", "pl"],
            py: ["pt", "pb"],
            m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
            mx: ["mr", "ml"],
            my: ["mt", "mb"],
            size: ["w", "h"],
            "font-size": ["leading"],
            "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"],
            "fvn-ordinal": ["fvn-normal"],
            "fvn-slashed-zero": ["fvn-normal"],
            "fvn-figure": ["fvn-normal"],
            "fvn-spacing": ["fvn-normal"],
            "fvn-fraction": ["fvn-normal"],
            "line-clamp": ["display", "overflow"],
            rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"],
            "rounded-s": ["rounded-ss", "rounded-es"],
            "rounded-e": ["rounded-se", "rounded-ee"],
            "rounded-t": ["rounded-tl", "rounded-tr"],
            "rounded-r": ["rounded-tr", "rounded-br"],
            "rounded-b": ["rounded-br", "rounded-bl"],
            "rounded-l": ["rounded-tl", "rounded-bl"],
            "border-spacing": ["border-spacing-x", "border-spacing-y"],
            "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"],
            "border-w-x": ["border-w-r", "border-w-l"],
            "border-w-y": ["border-w-t", "border-w-b"],
            "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"],
            "border-color-x": ["border-color-r", "border-color-l"],
            "border-color-y": ["border-color-t", "border-color-b"],
            "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"],
            "scroll-mx": ["scroll-mr", "scroll-ml"],
            "scroll-my": ["scroll-mt", "scroll-mb"],
            "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"],
            "scroll-px": ["scroll-pr", "scroll-pl"],
            "scroll-py": ["scroll-pt", "scroll-pb"],
            touch: ["touch-x", "touch-y", "touch-pz"],
            "touch-x": ["touch"],
            "touch-y": ["touch"],
            "touch-pz": ["touch"]
        },
        conflictingClassGroupModifiers: {
            "font-size": ["leading"]
        }
    }
}
  , iA = VR(aA);
function le(...e) {
    return iA(Wb(e))
}
const oA = sR
  , rN = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Ob, {
    ref: n,
    className: le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]", e),
    ...t
}));
rN.displayName = Ob.displayName;
const lA = Kc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full", {
    variants: {
        variant: {
            default: "border bg-background text-foreground",
            destructive: "destructive group border-destructive bg-destructive text-destructive-foreground"
        }
    },
    defaultVariants: {
        variant: "default"
    }
})
  , sN = u.forwardRef( ({className: e, variant: t, ...n}, s) => r.jsx(Lb, {
    ref: s,
    className: le(lA({
        variant: t
    }), e),
    ...n
}));
sN.displayName = Lb.displayName;
const cA = u.forwardRef( ({className: e, ...t}, n) => r.jsx(zb, {
    ref: n,
    className: le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive", e),
    ...t
}));
cA.displayName = zb.displayName;
const aN = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Vb, {
    ref: n,
    className: le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600", e),
    "toast-close": "",
    ...t,
    children: r.jsx(rl, {
        className: "h-4 w-4"
    })
}));
aN.displayName = Vb.displayName;
const iN = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Fb, {
    ref: n,
    className: le("text-sm font-semibold", e),
    ...t
}));
iN.displayName = Fb.displayName;
const oN = u.forwardRef( ({className: e, ...t}, n) => r.jsx($b, {
    ref: n,
    className: le("text-sm opacity-90", e),
    ...t
}));
oN.displayName = $b.displayName;
function dA() {
    const {toasts: e} = on();
    return r.jsxs(oA, {
        children: [e.map(function({id: t, title: n, description: s, action: a, ...i}) {
            return r.jsxs(sN, {
                ...i,
                children: [r.jsxs("div", {
                    className: "grid gap-1",
                    children: [n && r.jsx(iN, {
                        children: n
                    }), s && r.jsx(oN, {
                        children: s
                    })]
                }), a, r.jsx(aN, {})]
            }, t)
        }), r.jsx(rN, {})]
    })
}
var uA = Vj[" useId ".trim().toString()] || ( () => {}
)
  , fA = 0;
function zr(e) {
    const [t,n] = u.useState(uA());
    return tn( () => {
        e || n(s => s ?? String(fA++))
    }
    , [e]),
    e || (t ? `radix-${t}` : "")
}
const mA = ["top", "right", "bottom", "left"]
  , Aa = Math.min
  , er = Math.max
  , Tu = Math.round
  , Ed = Math.floor
  , ps = e => ({
    x: e,
    y: e
})
  , hA = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
}
  , pA = {
    start: "end",
    end: "start"
};
function lp(e, t, n) {
    return er(e, Aa(t, n))
}
function Hs(e, t) {
    return typeof e == "function" ? e(t) : e
}
function qs(e) {
    return e.split("-")[0]
}
function al(e) {
    return e.split("-")[1]
}
function Ox(e) {
    return e === "x" ? "y" : "x"
}
function Lx(e) {
    return e === "y" ? "height" : "width"
}
function Ma(e) {
    return ["top", "bottom"].includes(qs(e)) ? "y" : "x"
}
function Fx(e) {
    return Ox(Ma(e))
}
function xA(e, t, n) {
    n === void 0 && (n = !1);
    const s = al(e)
      , a = Fx(e)
      , i = Lx(a);
    let o = a === "x" ? s === (n ? "end" : "start") ? "right" : "left" : s === "start" ? "bottom" : "top";
    return t.reference[i] > t.floating[i] && (o = _u(o)),
    [o, _u(o)]
}
function gA(e) {
    const t = _u(e);
    return [cp(e), t, cp(t)]
}
function cp(e) {
    return e.replace(/start|end/g, t => pA[t])
}
function vA(e, t, n) {
    const s = ["left", "right"]
      , a = ["right", "left"]
      , i = ["top", "bottom"]
      , o = ["bottom", "top"];
    switch (e) {
    case "top":
    case "bottom":
        return n ? t ? a : s : t ? s : a;
    case "left":
    case "right":
        return t ? i : o;
    default:
        return []
    }
}
function yA(e, t, n, s) {
    const a = al(e);
    let i = vA(qs(e), n === "start", s);
    return a && (i = i.map(o => o + "-" + a),
    t && (i = i.concat(i.map(cp)))),
    i
}
function _u(e) {
    return e.replace(/left|right|bottom|top/g, t => hA[t])
}
function jA(e) {
    return {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...e
    }
}
function lN(e) {
    return typeof e != "number" ? jA(e) : {
        top: e,
        right: e,
        bottom: e,
        left: e
    }
}
function Pu(e) {
    const {x: t, y: n, width: s, height: a} = e;
    return {
        width: s,
        height: a,
        top: n,
        left: t,
        right: t + s,
        bottom: n + a,
        x: t,
        y: n
    }
}
function Py(e, t, n) {
    let {reference: s, floating: a} = e;
    const i = Ma(t)
      , o = Fx(t)
      , l = Lx(o)
      , c = qs(t)
      , d = i === "y"
      , f = s.x + s.width / 2 - a.width / 2
      , m = s.y + s.height / 2 - a.height / 2
      , h = s[l] / 2 - a[l] / 2;
    let g;
    switch (c) {
    case "top":
        g = {
            x: f,
            y: s.y - a.height
        };
        break;
    case "bottom":
        g = {
            x: f,
            y: s.y + s.height
        };
        break;
    case "right":
        g = {
            x: s.x + s.width,
            y: m
        };
        break;
    case "left":
        g = {
            x: s.x - a.width,
            y: m
        };
        break;
    default:
        g = {
            x: s.x,
            y: s.y
        }
    }
    switch (al(t)) {
    case "start":
        g[o] -= h * (n && d ? -1 : 1);
        break;
    case "end":
        g[o] += h * (n && d ? -1 : 1);
        break
    }
    return g
}
const wA = async (e, t, n) => {
    const {placement: s="bottom", strategy: a="absolute", middleware: i=[], platform: o} = n
      , l = i.filter(Boolean)
      , c = await (o.isRTL == null ? void 0 : o.isRTL(t));
    let d = await o.getElementRects({
        reference: e,
        floating: t,
        strategy: a
    })
      , {x: f, y: m} = Py(d, s, c)
      , h = s
      , g = {}
      , w = 0;
    for (let x = 0; x < l.length; x++) {
        const {name: y, fn: v} = l[x]
          , {x: p, y: j, data: N, reset: S} = await v({
            x: f,
            y: m,
            initialPlacement: s,
            placement: h,
            strategy: a,
            middlewareData: g,
            rects: d,
            platform: o,
            elements: {
                reference: e,
                floating: t
            }
        });
        f = p ?? f,
        m = j ?? m,
        g = {
            ...g,
            [y]: {
                ...g[y],
                ...N
            }
        },
        S && w <= 50 && (w++,
        typeof S == "object" && (S.placement && (h = S.placement),
        S.rects && (d = S.rects === !0 ? await o.getElementRects({
            reference: e,
            floating: t,
            strategy: a
        }) : S.rects),
        {x: f, y: m} = Py(d, h, c)),
        x = -1)
    }
    return {
        x: f,
        y: m,
        placement: h,
        strategy: a,
        middlewareData: g
    }
}
;
async function mc(e, t) {
    var n;
    t === void 0 && (t = {});
    const {x: s, y: a, platform: i, rects: o, elements: l, strategy: c} = e
      , {boundary: d="clippingAncestors", rootBoundary: f="viewport", elementContext: m="floating", altBoundary: h=!1, padding: g=0} = Hs(t, e)
      , w = lN(g)
      , y = l[h ? m === "floating" ? "reference" : "floating" : m]
      , v = Pu(await i.getClippingRect({
        element: (n = await (i.isElement == null ? void 0 : i.isElement(y))) == null || n ? y : y.contextElement || await (i.getDocumentElement == null ? void 0 : i.getDocumentElement(l.floating)),
        boundary: d,
        rootBoundary: f,
        strategy: c
    }))
      , p = m === "floating" ? {
        x: s,
        y: a,
        width: o.floating.width,
        height: o.floating.height
    } : o.reference
      , j = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(l.floating))
      , N = await (i.isElement == null ? void 0 : i.isElement(j)) ? await (i.getScale == null ? void 0 : i.getScale(j)) || {
        x: 1,
        y: 1
    } : {
        x: 1,
        y: 1
    }
      , S = Pu(i.convertOffsetParentRelativeRectToViewportRelativeRect ? await i.convertOffsetParentRelativeRectToViewportRelativeRect({
        elements: l,
        rect: p,
        offsetParent: j,
        strategy: c
    }) : p);
    return {
        top: (v.top - S.top + w.top) / N.y,
        bottom: (S.bottom - v.bottom + w.bottom) / N.y,
        left: (v.left - S.left + w.left) / N.x,
        right: (S.right - v.right + w.right) / N.x
    }
}
const bA = e => ({
    name: "arrow",
    options: e,
    async fn(t) {
        const {x: n, y: s, placement: a, rects: i, platform: o, elements: l, middlewareData: c} = t
          , {element: d, padding: f=0} = Hs(e, t) || {};
        if (d == null)
            return {};
        const m = lN(f)
          , h = {
            x: n,
            y: s
        }
          , g = Fx(a)
          , w = Lx(g)
          , x = await o.getDimensions(d)
          , y = g === "y"
          , v = y ? "top" : "left"
          , p = y ? "bottom" : "right"
          , j = y ? "clientHeight" : "clientWidth"
          , N = i.reference[w] + i.reference[g] - h[g] - i.floating[w]
          , S = h[g] - i.reference[g]
          , k = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(d));
        let C = k ? k[j] : 0;
        (!C || !await (o.isElement == null ? void 0 : o.isElement(k))) && (C = l.floating[j] || i.floating[w]);
        const E = N / 2 - S / 2
          , A = C / 2 - x[w] / 2 - 1
          , z = Aa(m[v], A)
          , G = Aa(m[p], A)
          , R = z
          , B = C - x[w] - G
          , U = C / 2 - x[w] / 2 + E
          , J = lp(R, U, B)
          , q = !c.arrow && al(a) != null && U !== J && i.reference[w] / 2 - (U < R ? z : G) - x[w] / 2 < 0
          , pe = q ? U < R ? U - R : U - B : 0;
        return {
            [g]: h[g] + pe,
            data: {
                [g]: J,
                centerOffset: U - J - pe,
                ...q && {
                    alignmentOffset: pe
                }
            },
            reset: q
        }
    }
})
  , NA = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "flip",
        options: e,
        async fn(t) {
            var n, s;
            const {placement: a, middlewareData: i, rects: o, initialPlacement: l, platform: c, elements: d} = t
              , {mainAxis: f=!0, crossAxis: m=!0, fallbackPlacements: h, fallbackStrategy: g="bestFit", fallbackAxisSideDirection: w="none", flipAlignment: x=!0, ...y} = Hs(e, t);
            if ((n = i.arrow) != null && n.alignmentOffset)
                return {};
            const v = qs(a)
              , p = Ma(l)
              , j = qs(l) === l
              , N = await (c.isRTL == null ? void 0 : c.isRTL(d.floating))
              , S = h || (j || !x ? [_u(l)] : gA(l))
              , k = w !== "none";
            !h && k && S.push(...yA(l, x, w, N));
            const C = [l, ...S]
              , E = await mc(t, y)
              , A = [];
            let z = ((s = i.flip) == null ? void 0 : s.overflows) || [];
            if (f && A.push(E[v]),
            m) {
                const U = xA(a, o, N);
                A.push(E[U[0]], E[U[1]])
            }
            if (z = [...z, {
                placement: a,
                overflows: A
            }],
            !A.every(U => U <= 0)) {
                var G, R;
                const U = (((G = i.flip) == null ? void 0 : G.index) || 0) + 1
                  , J = C[U];
                if (J)
                    return {
                        data: {
                            index: U,
                            overflows: z
                        },
                        reset: {
                            placement: J
                        }
                    };
                let q = (R = z.filter(pe => pe.overflows[0] <= 0).sort( (pe, D) => pe.overflows[1] - D.overflows[1])[0]) == null ? void 0 : R.placement;
                if (!q)
                    switch (g) {
                    case "bestFit":
                        {
                            var B;
                            const pe = (B = z.filter(D => {
                                if (k) {
                                    const V = Ma(D.placement);
                                    return V === p || V === "y"
                                }
                                return !0
                            }
                            ).map(D => [D.placement, D.overflows.filter(V => V > 0).reduce( (V, W) => V + W, 0)]).sort( (D, V) => D[1] - V[1])[0]) == null ? void 0 : B[0];
                            pe && (q = pe);
                            break
                        }
                    case "initialPlacement":
                        q = l;
                        break
                    }
                if (a !== q)
                    return {
                        reset: {
                            placement: q
                        }
                    }
            }
            return {}
        }
    }
};
function Ry(e, t) {
    return {
        top: e.top - t.height,
        right: e.right - t.width,
        bottom: e.bottom - t.height,
        left: e.left - t.width
    }
}
function Ay(e) {
    return mA.some(t => e[t] >= 0)
}
const SA = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "hide",
        options: e,
        async fn(t) {
            const {rects: n} = t
              , {strategy: s="referenceHidden", ...a} = Hs(e, t);
            switch (s) {
            case "referenceHidden":
                {
                    const i = await mc(t, {
                        ...a,
                        elementContext: "reference"
                    })
                      , o = Ry(i, n.reference);
                    return {
                        data: {
                            referenceHiddenOffsets: o,
                            referenceHidden: Ay(o)
                        }
                    }
                }
            case "escaped":
                {
                    const i = await mc(t, {
                        ...a,
                        altBoundary: !0
                    })
                      , o = Ry(i, n.floating);
                    return {
                        data: {
                            escapedOffsets: o,
                            escaped: Ay(o)
                        }
                    }
                }
            default:
                return {}
            }
        }
    }
};
async function CA(e, t) {
    const {placement: n, platform: s, elements: a} = e
      , i = await (s.isRTL == null ? void 0 : s.isRTL(a.floating))
      , o = qs(n)
      , l = al(n)
      , c = Ma(n) === "y"
      , d = ["left", "top"].includes(o) ? -1 : 1
      , f = i && c ? -1 : 1
      , m = Hs(t, e);
    let {mainAxis: h, crossAxis: g, alignmentAxis: w} = typeof m == "number" ? {
        mainAxis: m,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: m.mainAxis || 0,
        crossAxis: m.crossAxis || 0,
        alignmentAxis: m.alignmentAxis
    };
    return l && typeof w == "number" && (g = l === "end" ? w * -1 : w),
    c ? {
        x: g * f,
        y: h * d
    } : {
        x: h * d,
        y: g * f
    }
}
const kA = function(e) {
    return e === void 0 && (e = 0),
    {
        name: "offset",
        options: e,
        async fn(t) {
            var n, s;
            const {x: a, y: i, placement: o, middlewareData: l} = t
              , c = await CA(t, e);
            return o === ((n = l.offset) == null ? void 0 : n.placement) && (s = l.arrow) != null && s.alignmentOffset ? {} : {
                x: a + c.x,
                y: i + c.y,
                data: {
                    ...c,
                    placement: o
                }
            }
        }
    }
}
  , EA = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "shift",
        options: e,
        async fn(t) {
            const {x: n, y: s, placement: a} = t
              , {mainAxis: i=!0, crossAxis: o=!1, limiter: l={
                fn: y => {
                    let {x: v, y: p} = y;
                    return {
                        x: v,
                        y: p
                    }
                }
            }, ...c} = Hs(e, t)
              , d = {
                x: n,
                y: s
            }
              , f = await mc(t, c)
              , m = Ma(qs(a))
              , h = Ox(m);
            let g = d[h]
              , w = d[m];
            if (i) {
                const y = h === "y" ? "top" : "left"
                  , v = h === "y" ? "bottom" : "right"
                  , p = g + f[y]
                  , j = g - f[v];
                g = lp(p, g, j)
            }
            if (o) {
                const y = m === "y" ? "top" : "left"
                  , v = m === "y" ? "bottom" : "right"
                  , p = w + f[y]
                  , j = w - f[v];
                w = lp(p, w, j)
            }
            const x = l.fn({
                ...t,
                [h]: g,
                [m]: w
            });
            return {
                ...x,
                data: {
                    x: x.x - n,
                    y: x.y - s,
                    enabled: {
                        [h]: i,
                        [m]: o
                    }
                }
            }
        }
    }
}
  , TA = function(e) {
    return e === void 0 && (e = {}),
    {
        options: e,
        fn(t) {
            const {x: n, y: s, placement: a, rects: i, middlewareData: o} = t
              , {offset: l=0, mainAxis: c=!0, crossAxis: d=!0} = Hs(e, t)
              , f = {
                x: n,
                y: s
            }
              , m = Ma(a)
              , h = Ox(m);
            let g = f[h]
              , w = f[m];
            const x = Hs(l, t)
              , y = typeof x == "number" ? {
                mainAxis: x,
                crossAxis: 0
            } : {
                mainAxis: 0,
                crossAxis: 0,
                ...x
            };
            if (c) {
                const j = h === "y" ? "height" : "width"
                  , N = i.reference[h] - i.floating[j] + y.mainAxis
                  , S = i.reference[h] + i.reference[j] - y.mainAxis;
                g < N ? g = N : g > S && (g = S)
            }
            if (d) {
                var v, p;
                const j = h === "y" ? "width" : "height"
                  , N = ["top", "left"].includes(qs(a))
                  , S = i.reference[m] - i.floating[j] + (N && ((v = o.offset) == null ? void 0 : v[m]) || 0) + (N ? 0 : y.crossAxis)
                  , k = i.reference[m] + i.reference[j] + (N ? 0 : ((p = o.offset) == null ? void 0 : p[m]) || 0) - (N ? y.crossAxis : 0);
                w < S ? w = S : w > k && (w = k)
            }
            return {
                [h]: g,
                [m]: w
            }
        }
    }
}
  , _A = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "size",
        options: e,
        async fn(t) {
            var n, s;
            const {placement: a, rects: i, platform: o, elements: l} = t
              , {apply: c= () => {}
            , ...d} = Hs(e, t)
              , f = await mc(t, d)
              , m = qs(a)
              , h = al(a)
              , g = Ma(a) === "y"
              , {width: w, height: x} = i.floating;
            let y, v;
            m === "top" || m === "bottom" ? (y = m,
            v = h === (await (o.isRTL == null ? void 0 : o.isRTL(l.floating)) ? "start" : "end") ? "left" : "right") : (v = m,
            y = h === "end" ? "top" : "bottom");
            const p = x - f.top - f.bottom
              , j = w - f.left - f.right
              , N = Aa(x - f[y], p)
              , S = Aa(w - f[v], j)
              , k = !t.middlewareData.shift;
            let C = N
              , E = S;
            if ((n = t.middlewareData.shift) != null && n.enabled.x && (E = j),
            (s = t.middlewareData.shift) != null && s.enabled.y && (C = p),
            k && !h) {
                const z = er(f.left, 0)
                  , G = er(f.right, 0)
                  , R = er(f.top, 0)
                  , B = er(f.bottom, 0);
                g ? E = w - 2 * (z !== 0 || G !== 0 ? z + G : er(f.left, f.right)) : C = x - 2 * (R !== 0 || B !== 0 ? R + B : er(f.top, f.bottom))
            }
            await c({
                ...t,
                availableWidth: E,
                availableHeight: C
            });
            const A = await o.getDimensions(l.floating);
            return w !== A.width || x !== A.height ? {
                reset: {
                    rects: !0
                }
            } : {}
        }
    }
};
function bf() {
    return typeof window < "u"
}
function il(e) {
    return cN(e) ? (e.nodeName || "").toLowerCase() : "#document"
}
function sr(e) {
    var t;
    return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window
}
function bs(e) {
    var t;
    return (t = (cN(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement
}
function cN(e) {
    return bf() ? e instanceof Node || e instanceof sr(e).Node : !1
}
function Hr(e) {
    return bf() ? e instanceof Element || e instanceof sr(e).Element : !1
}
function ys(e) {
    return bf() ? e instanceof HTMLElement || e instanceof sr(e).HTMLElement : !1
}
function My(e) {
    return !bf() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof sr(e).ShadowRoot
}
function Gc(e) {
    const {overflow: t, overflowX: n, overflowY: s, display: a} = qr(e);
    return /auto|scroll|overlay|hidden|clip/.test(t + s + n) && !["inline", "contents"].includes(a)
}
function PA(e) {
    return ["table", "td", "th"].includes(il(e))
}
function Nf(e) {
    return [":popover-open", ":modal"].some(t => {
        try {
            return e.matches(t)
        } catch {
            return !1
        }
    }
    )
}
function $x(e) {
    const t = zx()
      , n = Hr(e) ? qr(e) : e;
    return ["transform", "translate", "scale", "rotate", "perspective"].some(s => n[s] ? n[s] !== "none" : !1) || (n.containerType ? n.containerType !== "normal" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== "none" : !1) || !t && (n.filter ? n.filter !== "none" : !1) || ["transform", "translate", "scale", "rotate", "perspective", "filter"].some(s => (n.willChange || "").includes(s)) || ["paint", "layout", "strict", "content"].some(s => (n.contain || "").includes(s))
}
function RA(e) {
    let t = Ia(e);
    for (; ys(t) && !qo(t); ) {
        if ($x(t))
            return t;
        if (Nf(t))
            return null;
        t = Ia(t)
    }
    return null
}
function zx() {
    return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none")
}
function qo(e) {
    return ["html", "body", "#document"].includes(il(e))
}
function qr(e) {
    return sr(e).getComputedStyle(e)
}
function Sf(e) {
    return Hr(e) ? {
        scrollLeft: e.scrollLeft,
        scrollTop: e.scrollTop
    } : {
        scrollLeft: e.scrollX,
        scrollTop: e.scrollY
    }
}
function Ia(e) {
    if (il(e) === "html")
        return e;
    const t = e.assignedSlot || e.parentNode || My(e) && e.host || bs(e);
    return My(t) ? t.host : t
}
function dN(e) {
    const t = Ia(e);
    return qo(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : ys(t) && Gc(t) ? t : dN(t)
}
function hc(e, t, n) {
    var s;
    t === void 0 && (t = []),
    n === void 0 && (n = !0);
    const a = dN(e)
      , i = a === ((s = e.ownerDocument) == null ? void 0 : s.body)
      , o = sr(a);
    if (i) {
        const l = dp(o);
        return t.concat(o, o.visualViewport || [], Gc(a) ? a : [], l && n ? hc(l) : [])
    }
    return t.concat(a, hc(a, [], n))
}
function dp(e) {
    return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null
}
function uN(e) {
    const t = qr(e);
    let n = parseFloat(t.width) || 0
      , s = parseFloat(t.height) || 0;
    const a = ys(e)
      , i = a ? e.offsetWidth : n
      , o = a ? e.offsetHeight : s
      , l = Tu(n) !== i || Tu(s) !== o;
    return l && (n = i,
    s = o),
    {
        width: n,
        height: s,
        $: l
    }
}
function Vx(e) {
    return Hr(e) ? e : e.contextElement
}
function vo(e) {
    const t = Vx(e);
    if (!ys(t))
        return ps(1);
    const n = t.getBoundingClientRect()
      , {width: s, height: a, $: i} = uN(t);
    let o = (i ? Tu(n.width) : n.width) / s
      , l = (i ? Tu(n.height) : n.height) / a;
    return (!o || !Number.isFinite(o)) && (o = 1),
    (!l || !Number.isFinite(l)) && (l = 1),
    {
        x: o,
        y: l
    }
}
const AA = ps(0);
function fN(e) {
    const t = sr(e);
    return !zx() || !t.visualViewport ? AA : {
        x: t.visualViewport.offsetLeft,
        y: t.visualViewport.offsetTop
    }
}
function MA(e, t, n) {
    return t === void 0 && (t = !1),
    !n || t && n !== sr(e) ? !1 : t
}
function _i(e, t, n, s) {
    t === void 0 && (t = !1),
    n === void 0 && (n = !1);
    const a = e.getBoundingClientRect()
      , i = Vx(e);
    let o = ps(1);
    t && (s ? Hr(s) && (o = vo(s)) : o = vo(e));
    const l = MA(i, n, s) ? fN(i) : ps(0);
    let c = (a.left + l.x) / o.x
      , d = (a.top + l.y) / o.y
      , f = a.width / o.x
      , m = a.height / o.y;
    if (i) {
        const h = sr(i)
          , g = s && Hr(s) ? sr(s) : s;
        let w = h
          , x = dp(w);
        for (; x && s && g !== w; ) {
            const y = vo(x)
              , v = x.getBoundingClientRect()
              , p = qr(x)
              , j = v.left + (x.clientLeft + parseFloat(p.paddingLeft)) * y.x
              , N = v.top + (x.clientTop + parseFloat(p.paddingTop)) * y.y;
            c *= y.x,
            d *= y.y,
            f *= y.x,
            m *= y.y,
            c += j,
            d += N,
            w = sr(x),
            x = dp(w)
        }
    }
    return Pu({
        width: f,
        height: m,
        x: c,
        y: d
    })
}
function Ux(e, t) {
    const n = Sf(e).scrollLeft;
    return t ? t.left + n : _i(bs(e)).left + n
}
function mN(e, t, n) {
    n === void 0 && (n = !1);
    const s = e.getBoundingClientRect()
      , a = s.left + t.scrollLeft - (n ? 0 : Ux(e, s))
      , i = s.top + t.scrollTop;
    return {
        x: a,
        y: i
    }
}
function IA(e) {
    let {elements: t, rect: n, offsetParent: s, strategy: a} = e;
    const i = a === "fixed"
      , o = bs(s)
      , l = t ? Nf(t.floating) : !1;
    if (s === o || l && i)
        return n;
    let c = {
        scrollLeft: 0,
        scrollTop: 0
    }
      , d = ps(1);
    const f = ps(0)
      , m = ys(s);
    if ((m || !m && !i) && ((il(s) !== "body" || Gc(o)) && (c = Sf(s)),
    ys(s))) {
        const g = _i(s);
        d = vo(s),
        f.x = g.x + s.clientLeft,
        f.y = g.y + s.clientTop
    }
    const h = o && !m && !i ? mN(o, c, !0) : ps(0);
    return {
        width: n.width * d.x,
        height: n.height * d.y,
        x: n.x * d.x - c.scrollLeft * d.x + f.x + h.x,
        y: n.y * d.y - c.scrollTop * d.y + f.y + h.y
    }
}
function DA(e) {
    return Array.from(e.getClientRects())
}
function OA(e) {
    const t = bs(e)
      , n = Sf(e)
      , s = e.ownerDocument.body
      , a = er(t.scrollWidth, t.clientWidth, s.scrollWidth, s.clientWidth)
      , i = er(t.scrollHeight, t.clientHeight, s.scrollHeight, s.clientHeight);
    let o = -n.scrollLeft + Ux(e);
    const l = -n.scrollTop;
    return qr(s).direction === "rtl" && (o += er(t.clientWidth, s.clientWidth) - a),
    {
        width: a,
        height: i,
        x: o,
        y: l
    }
}
function LA(e, t) {
    const n = sr(e)
      , s = bs(e)
      , a = n.visualViewport;
    let i = s.clientWidth
      , o = s.clientHeight
      , l = 0
      , c = 0;
    if (a) {
        i = a.width,
        o = a.height;
        const d = zx();
        (!d || d && t === "fixed") && (l = a.offsetLeft,
        c = a.offsetTop)
    }
    return {
        width: i,
        height: o,
        x: l,
        y: c
    }
}
function FA(e, t) {
    const n = _i(e, !0, t === "fixed")
      , s = n.top + e.clientTop
      , a = n.left + e.clientLeft
      , i = ys(e) ? vo(e) : ps(1)
      , o = e.clientWidth * i.x
      , l = e.clientHeight * i.y
      , c = a * i.x
      , d = s * i.y;
    return {
        width: o,
        height: l,
        x: c,
        y: d
    }
}
function Iy(e, t, n) {
    let s;
    if (t === "viewport")
        s = LA(e, n);
    else if (t === "document")
        s = OA(bs(e));
    else if (Hr(t))
        s = FA(t, n);
    else {
        const a = fN(e);
        s = {
            x: t.x - a.x,
            y: t.y - a.y,
            width: t.width,
            height: t.height
        }
    }
    return Pu(s)
}
function hN(e, t) {
    const n = Ia(e);
    return n === t || !Hr(n) || qo(n) ? !1 : qr(n).position === "fixed" || hN(n, t)
}
function $A(e, t) {
    const n = t.get(e);
    if (n)
        return n;
    let s = hc(e, [], !1).filter(l => Hr(l) && il(l) !== "body")
      , a = null;
    const i = qr(e).position === "fixed";
    let o = i ? Ia(e) : e;
    for (; Hr(o) && !qo(o); ) {
        const l = qr(o)
          , c = $x(o);
        !c && l.position === "fixed" && (a = null),
        (i ? !c && !a : !c && l.position === "static" && !!a && ["absolute", "fixed"].includes(a.position) || Gc(o) && !c && hN(e, o)) ? s = s.filter(f => f !== o) : a = l,
        o = Ia(o)
    }
    return t.set(e, s),
    s
}
function zA(e) {
    let {element: t, boundary: n, rootBoundary: s, strategy: a} = e;
    const o = [...n === "clippingAncestors" ? Nf(t) ? [] : $A(t, this._c) : [].concat(n), s]
      , l = o[0]
      , c = o.reduce( (d, f) => {
        const m = Iy(t, f, a);
        return d.top = er(m.top, d.top),
        d.right = Aa(m.right, d.right),
        d.bottom = Aa(m.bottom, d.bottom),
        d.left = er(m.left, d.left),
        d
    }
    , Iy(t, l, a));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}
function VA(e) {
    const {width: t, height: n} = uN(e);
    return {
        width: t,
        height: n
    }
}
function UA(e, t, n) {
    const s = ys(t)
      , a = bs(t)
      , i = n === "fixed"
      , o = _i(e, !0, i, t);
    let l = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = ps(0);
    if (s || !s && !i)
        if ((il(t) !== "body" || Gc(a)) && (l = Sf(t)),
        s) {
            const h = _i(t, !0, i, t);
            c.x = h.x + t.clientLeft,
            c.y = h.y + t.clientTop
        } else
            a && (c.x = Ux(a));
    const d = a && !s && !i ? mN(a, l) : ps(0)
      , f = o.left + l.scrollLeft - c.x - d.x
      , m = o.top + l.scrollTop - c.y - d.y;
    return {
        x: f,
        y: m,
        width: o.width,
        height: o.height
    }
}
function Im(e) {
    return qr(e).position === "static"
}
function Dy(e, t) {
    if (!ys(e) || qr(e).position === "fixed")
        return null;
    if (t)
        return t(e);
    let n = e.offsetParent;
    return bs(e) === n && (n = n.ownerDocument.body),
    n
}
function pN(e, t) {
    const n = sr(e);
    if (Nf(e))
        return n;
    if (!ys(e)) {
        let a = Ia(e);
        for (; a && !qo(a); ) {
            if (Hr(a) && !Im(a))
                return a;
            a = Ia(a)
        }
        return n
    }
    let s = Dy(e, t);
    for (; s && PA(s) && Im(s); )
        s = Dy(s, t);
    return s && qo(s) && Im(s) && !$x(s) ? n : s || RA(e) || n
}
const WA = async function(e) {
    const t = this.getOffsetParent || pN
      , n = this.getDimensions
      , s = await n(e.floating);
    return {
        reference: UA(e.reference, await t(e.floating), e.strategy),
        floating: {
            x: 0,
            y: 0,
            width: s.width,
            height: s.height
        }
    }
};
function BA(e) {
    return qr(e).direction === "rtl"
}
const HA = {
    convertOffsetParentRelativeRectToViewportRelativeRect: IA,
    getDocumentElement: bs,
    getClippingRect: zA,
    getOffsetParent: pN,
    getElementRects: WA,
    getClientRects: DA,
    getDimensions: VA,
    getScale: vo,
    isElement: Hr,
    isRTL: BA
};
function xN(e, t) {
    return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height
}
function qA(e, t) {
    let n = null, s;
    const a = bs(e);
    function i() {
        var l;
        clearTimeout(s),
        (l = n) == null || l.disconnect(),
        n = null
    }
    function o(l, c) {
        l === void 0 && (l = !1),
        c === void 0 && (c = 1),
        i();
        const d = e.getBoundingClientRect()
          , {left: f, top: m, width: h, height: g} = d;
        if (l || t(),
        !h || !g)
            return;
        const w = Ed(m)
          , x = Ed(a.clientWidth - (f + h))
          , y = Ed(a.clientHeight - (m + g))
          , v = Ed(f)
          , j = {
            rootMargin: -w + "px " + -x + "px " + -y + "px " + -v + "px",
            threshold: er(0, Aa(1, c)) || 1
        };
        let N = !0;
        function S(k) {
            const C = k[0].intersectionRatio;
            if (C !== c) {
                if (!N)
                    return o();
                C ? o(!1, C) : s = setTimeout( () => {
                    o(!1, 1e-7)
                }
                , 1e3)
            }
            C === 1 && !xN(d, e.getBoundingClientRect()) && o(),
            N = !1
        }
        try {
            n = new IntersectionObserver(S,{
                ...j,
                root: a.ownerDocument
            })
        } catch {
            n = new IntersectionObserver(S,j)
        }
        n.observe(e)
    }
    return o(!0),
    i
}
function KA(e, t, n, s) {
    s === void 0 && (s = {});
    const {ancestorScroll: a=!0, ancestorResize: i=!0, elementResize: o=typeof ResizeObserver == "function", layoutShift: l=typeof IntersectionObserver == "function", animationFrame: c=!1} = s
      , d = Vx(e)
      , f = a || i ? [...d ? hc(d) : [], ...hc(t)] : [];
    f.forEach(v => {
        a && v.addEventListener("scroll", n, {
            passive: !0
        }),
        i && v.addEventListener("resize", n)
    }
    );
    const m = d && l ? qA(d, n) : null;
    let h = -1
      , g = null;
    o && (g = new ResizeObserver(v => {
        let[p] = v;
        p && p.target === d && g && (g.unobserve(t),
        cancelAnimationFrame(h),
        h = requestAnimationFrame( () => {
            var j;
            (j = g) == null || j.observe(t)
        }
        )),
        n()
    }
    ),
    d && !c && g.observe(d),
    g.observe(t));
    let w, x = c ? _i(e) : null;
    c && y();
    function y() {
        const v = _i(e);
        x && !xN(x, v) && n(),
        x = v,
        w = requestAnimationFrame(y)
    }
    return n(),
    () => {
        var v;
        f.forEach(p => {
            a && p.removeEventListener("scroll", n),
            i && p.removeEventListener("resize", n)
        }
        ),
        m == null || m(),
        (v = g) == null || v.disconnect(),
        g = null,
        c && cancelAnimationFrame(w)
    }
}
const QA = kA
  , GA = EA
  , ZA = NA
  , YA = _A
  , XA = SA
  , Oy = bA
  , JA = TA
  , eM = (e, t, n) => {
    const s = new Map
      , a = {
        platform: HA,
        ...n
    }
      , i = {
        ...a.platform,
        _c: s
    };
    return wA(e, t, {
        ...a,
        platform: i
    })
}
;
var Gd = typeof document < "u" ? u.useLayoutEffect : u.useEffect;
function Ru(e, t) {
    if (e === t)
        return !0;
    if (typeof e != typeof t)
        return !1;
    if (typeof e == "function" && e.toString() === t.toString())
        return !0;
    let n, s, a;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (n = e.length,
            n !== t.length)
                return !1;
            for (s = n; s-- !== 0; )
                if (!Ru(e[s], t[s]))
                    return !1;
            return !0
        }
        if (a = Object.keys(e),
        n = a.length,
        n !== Object.keys(t).length)
            return !1;
        for (s = n; s-- !== 0; )
            if (!{}.hasOwnProperty.call(t, a[s]))
                return !1;
        for (s = n; s-- !== 0; ) {
            const i = a[s];
            if (!(i === "_owner" && e.$$typeof) && !Ru(e[i], t[i]))
                return !1
        }
        return !0
    }
    return e !== e && t !== t
}
function gN(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1
}
function Ly(e, t) {
    const n = gN(e);
    return Math.round(t * n) / n
}
function Dm(e) {
    const t = u.useRef(e);
    return Gd( () => {
        t.current = e
    }
    ),
    t
}
function tM(e) {
    e === void 0 && (e = {});
    const {placement: t="bottom", strategy: n="absolute", middleware: s=[], platform: a, elements: {reference: i, floating: o}={}, transform: l=!0, whileElementsMounted: c, open: d} = e
      , [f,m] = u.useState({
        x: 0,
        y: 0,
        strategy: n,
        placement: t,
        middlewareData: {},
        isPositioned: !1
    })
      , [h,g] = u.useState(s);
    Ru(h, s) || g(s);
    const [w,x] = u.useState(null)
      , [y,v] = u.useState(null)
      , p = u.useCallback(D => {
        D !== k.current && (k.current = D,
        x(D))
    }
    , [])
      , j = u.useCallback(D => {
        D !== C.current && (C.current = D,
        v(D))
    }
    , [])
      , N = i || w
      , S = o || y
      , k = u.useRef(null)
      , C = u.useRef(null)
      , E = u.useRef(f)
      , A = c != null
      , z = Dm(c)
      , G = Dm(a)
      , R = Dm(d)
      , B = u.useCallback( () => {
        if (!k.current || !C.current)
            return;
        const D = {
            placement: t,
            strategy: n,
            middleware: h
        };
        G.current && (D.platform = G.current),
        eM(k.current, C.current, D).then(V => {
            const W = {
                ...V,
                isPositioned: R.current !== !1
            };
            U.current && !Ru(E.current, W) && (E.current = W,
            Fi.flushSync( () => {
                m(W)
            }
            ))
        }
        )
    }
    , [h, t, n, G, R]);
    Gd( () => {
        d === !1 && E.current.isPositioned && (E.current.isPositioned = !1,
        m(D => ({
            ...D,
            isPositioned: !1
        })))
    }
    , [d]);
    const U = u.useRef(!1);
    Gd( () => (U.current = !0,
    () => {
        U.current = !1
    }
    ), []),
    Gd( () => {
        if (N && (k.current = N),
        S && (C.current = S),
        N && S) {
            if (z.current)
                return z.current(N, S, B);
            B()
        }
    }
    , [N, S, B, z, A]);
    const J = u.useMemo( () => ({
        reference: k,
        floating: C,
        setReference: p,
        setFloating: j
    }), [p, j])
      , q = u.useMemo( () => ({
        reference: N,
        floating: S
    }), [N, S])
      , pe = u.useMemo( () => {
        const D = {
            position: n,
            left: 0,
            top: 0
        };
        if (!q.floating)
            return D;
        const V = Ly(q.floating, f.x)
          , W = Ly(q.floating, f.y);
        return l ? {
            ...D,
            transform: "translate(" + V + "px, " + W + "px)",
            ...gN(q.floating) >= 1.5 && {
                willChange: "transform"
            }
        } : {
            position: n,
            left: V,
            top: W
        }
    }
    , [n, l, q.floating, f.x, f.y]);
    return u.useMemo( () => ({
        ...f,
        update: B,
        refs: J,
        elements: q,
        floatingStyles: pe
    }), [f, B, J, q, pe])
}
const nM = e => {
    function t(n) {
        return {}.hasOwnProperty.call(n, "current")
    }
    return {
        name: "arrow",
        options: e,
        fn(n) {
            const {element: s, padding: a} = typeof e == "function" ? e(n) : e;
            return s && t(s) ? s.current != null ? Oy({
                element: s.current,
                padding: a
            }).fn(n) : {} : s ? Oy({
                element: s,
                padding: a
            }).fn(n) : {}
        }
    }
}
  , rM = (e, t) => ({
    ...QA(e),
    options: [e, t]
})
  , sM = (e, t) => ({
    ...GA(e),
    options: [e, t]
})
  , aM = (e, t) => ({
    ...JA(e),
    options: [e, t]
})
  , iM = (e, t) => ({
    ...ZA(e),
    options: [e, t]
})
  , oM = (e, t) => ({
    ...YA(e),
    options: [e, t]
})
  , lM = (e, t) => ({
    ...XA(e),
    options: [e, t]
})
  , cM = (e, t) => ({
    ...nM(e),
    options: [e, t]
});
var dM = "Arrow"
  , vN = u.forwardRef( (e, t) => {
    const {children: n, width: s=10, height: a=5, ...i} = e;
    return r.jsx(Ce.svg, {
        ...i,
        ref: t,
        width: s,
        height: a,
        viewBox: "0 0 30 10",
        preserveAspectRatio: "none",
        children: e.asChild ? n : r.jsx("polygon", {
            points: "0,0 30,0 15,10"
        })
    })
}
);
vN.displayName = dM;
var uM = vN;
function Wx(e) {
    const [t,n] = u.useState(void 0);
    return tn( () => {
        if (e) {
            n({
                width: e.offsetWidth,
                height: e.offsetHeight
            });
            const s = new ResizeObserver(a => {
                if (!Array.isArray(a) || !a.length)
                    return;
                const i = a[0];
                let o, l;
                if ("borderBoxSize"in i) {
                    const c = i.borderBoxSize
                      , d = Array.isArray(c) ? c[0] : c;
                    o = d.inlineSize,
                    l = d.blockSize
                } else
                    o = e.offsetWidth,
                    l = e.offsetHeight;
                n({
                    width: o,
                    height: l
                })
            }
            );
            return s.observe(e, {
                box: "border-box"
            }),
            () => s.unobserve(e)
        } else
            n(void 0)
    }
    , [e]),
    t
}
var Bx = "Popper"
  , [yN,ol] = En(Bx)
  , [fM,jN] = yN(Bx)
  , wN = e => {
    const {__scopePopper: t, children: n} = e
      , [s,a] = u.useState(null);
    return r.jsx(fM, {
        scope: t,
        anchor: s,
        onAnchorChange: a,
        children: n
    })
}
;
wN.displayName = Bx;
var bN = "PopperAnchor"
  , NN = u.forwardRef( (e, t) => {
    const {__scopePopper: n, virtualRef: s, ...a} = e
      , i = jN(bN, n)
      , o = u.useRef(null)
      , l = He(t, o);
    return u.useEffect( () => {
        i.onAnchorChange((s == null ? void 0 : s.current) || o.current)
    }
    ),
    s ? null : r.jsx(Ce.div, {
        ...a,
        ref: l
    })
}
);
NN.displayName = bN;
var Hx = "PopperContent"
  , [mM,hM] = yN(Hx)
  , SN = u.forwardRef( (e, t) => {
    var $, te, Ie, Le, Ve, $e;
    const {__scopePopper: n, side: s="bottom", sideOffset: a=0, align: i="center", alignOffset: o=0, arrowPadding: l=0, avoidCollisions: c=!0, collisionBoundary: d=[], collisionPadding: f=0, sticky: m="partial", hideWhenDetached: h=!1, updatePositionStrategy: g="optimized", onPlaced: w, ...x} = e
      , y = jN(Hx, n)
      , [v,p] = u.useState(null)
      , j = He(t, jt => p(jt))
      , [N,S] = u.useState(null)
      , k = Wx(N)
      , C = (k == null ? void 0 : k.width) ?? 0
      , E = (k == null ? void 0 : k.height) ?? 0
      , A = s + (i !== "center" ? "-" + i : "")
      , z = typeof f == "number" ? f : {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...f
    }
      , G = Array.isArray(d) ? d : [d]
      , R = G.length > 0
      , B = {
        padding: z,
        boundary: G.filter(xM),
        altBoundary: R
    }
      , {refs: U, floatingStyles: J, placement: q, isPositioned: pe, middlewareData: D} = tM({
        strategy: "fixed",
        placement: A,
        whileElementsMounted: (...jt) => KA(...jt, {
            animationFrame: g === "always"
        }),
        elements: {
            reference: y.anchor
        },
        middleware: [rM({
            mainAxis: a + E,
            alignmentAxis: o
        }), c && sM({
            mainAxis: !0,
            crossAxis: !1,
            limiter: m === "partial" ? aM() : void 0,
            ...B
        }), c && iM({
            ...B
        }), oM({
            ...B,
            apply: ({elements: jt, rects: Ot, availableWidth: ln, availableHeight: Qt}) => {
                const {width: wt, height: cr} = Ot.reference
                  , Gt = jt.floating.style;
                Gt.setProperty("--radix-popper-available-width", `${ln}px`),
                Gt.setProperty("--radix-popper-available-height", `${Qt}px`),
                Gt.setProperty("--radix-popper-anchor-width", `${wt}px`),
                Gt.setProperty("--radix-popper-anchor-height", `${cr}px`)
            }
        }), N && cM({
            element: N,
            padding: l
        }), gM({
            arrowWidth: C,
            arrowHeight: E
        }), h && lM({
            strategy: "referenceHidden",
            ...B
        })]
    })
      , [V,W] = EN(q)
      , de = Pt(w);
    tn( () => {
        pe && (de == null || de())
    }
    , [pe, de]);
    const ke = ($ = D.arrow) == null ? void 0 : $.x
      , Ye = (te = D.arrow) == null ? void 0 : te.y
      , at = ((Ie = D.arrow) == null ? void 0 : Ie.centerOffset) !== 0
      , [ut,we] = u.useState();
    return tn( () => {
        v && we(window.getComputedStyle(v).zIndex)
    }
    , [v]),
    r.jsx("div", {
        ref: U.setFloating,
        "data-radix-popper-content-wrapper": "",
        style: {
            ...J,
            transform: pe ? J.transform : "translate(0, -200%)",
            minWidth: "max-content",
            zIndex: ut,
            "--radix-popper-transform-origin": [(Le = D.transformOrigin) == null ? void 0 : Le.x, (Ve = D.transformOrigin) == null ? void 0 : Ve.y].join(" "),
            ...(($e = D.hide) == null ? void 0 : $e.referenceHidden) && {
                visibility: "hidden",
                pointerEvents: "none"
            }
        },
        dir: e.dir,
        children: r.jsx(mM, {
            scope: n,
            placedSide: V,
            onArrowChange: S,
            arrowX: ke,
            arrowY: Ye,
            shouldHideArrow: at,
            children: r.jsx(Ce.div, {
                "data-side": V,
                "data-align": W,
                ...x,
                ref: j,
                style: {
                    ...x.style,
                    animation: pe ? void 0 : "none"
                }
            })
        })
    })
}
);
SN.displayName = Hx;
var CN = "PopperArrow"
  , pM = {
    top: "bottom",
    right: "left",
    bottom: "top",
    left: "right"
}
  , kN = u.forwardRef(function(t, n) {
    const {__scopePopper: s, ...a} = t
      , i = hM(CN, s)
      , o = pM[i.placedSide];
    return r.jsx("span", {
        ref: i.onArrowChange,
        style: {
            position: "absolute",
            left: i.arrowX,
            top: i.arrowY,
            [o]: 0,
            transformOrigin: {
                top: "",
                right: "0 0",
                bottom: "center 0",
                left: "100% 0"
            }[i.placedSide],
            transform: {
                top: "translateY(100%)",
                right: "translateY(50%) rotate(90deg) translateX(-50%)",
                bottom: "rotate(180deg)",
                left: "translateY(50%) rotate(-90deg) translateX(50%)"
            }[i.placedSide],
            visibility: i.shouldHideArrow ? "hidden" : void 0
        },
        children: r.jsx(uM, {
            ...a,
            ref: n,
            style: {
                ...a.style,
                display: "block"
            }
        })
    })
});
kN.displayName = CN;
function xM(e) {
    return e !== null
}
var gM = e => ({
    name: "transformOrigin",
    options: e,
    fn(t) {
        var y, v, p;
        const {placement: n, rects: s, middlewareData: a} = t
          , o = ((y = a.arrow) == null ? void 0 : y.centerOffset) !== 0
          , l = o ? 0 : e.arrowWidth
          , c = o ? 0 : e.arrowHeight
          , [d,f] = EN(n)
          , m = {
            start: "0%",
            center: "50%",
            end: "100%"
        }[f]
          , h = (((v = a.arrow) == null ? void 0 : v.x) ?? 0) + l / 2
          , g = (((p = a.arrow) == null ? void 0 : p.y) ?? 0) + c / 2;
        let w = ""
          , x = "";
        return d === "bottom" ? (w = o ? m : `${h}px`,
        x = `${-c}px`) : d === "top" ? (w = o ? m : `${h}px`,
        x = `${s.floating.height + c}px`) : d === "right" ? (w = `${-c}px`,
        x = o ? m : `${g}px`) : d === "left" && (w = `${s.floating.width + c}px`,
        x = o ? m : `${g}px`),
        {
            data: {
                x: w,
                y: x
            }
        }
    }
});
function EN(e) {
    const [t,n="center"] = e.split("-");
    return [t, n]
}
var qx = wN
  , Kx = NN
  , Qx = SN
  , Gx = kN
  , [Cf,X$] = En("Tooltip", [ol])
  , kf = ol()
  , TN = "TooltipProvider"
  , vM = 700
  , up = "tooltip.open"
  , [yM,Zx] = Cf(TN)
  , _N = e => {
    const {__scopeTooltip: t, delayDuration: n=vM, skipDelayDuration: s=300, disableHoverableContent: a=!1, children: i} = e
      , o = u.useRef(!0)
      , l = u.useRef(!1)
      , c = u.useRef(0);
    return u.useEffect( () => {
        const d = c.current;
        return () => window.clearTimeout(d)
    }
    , []),
    r.jsx(yM, {
        scope: t,
        isOpenDelayedRef: o,
        delayDuration: n,
        onOpen: u.useCallback( () => {
            window.clearTimeout(c.current),
            o.current = !1
        }
        , []),
        onClose: u.useCallback( () => {
            window.clearTimeout(c.current),
            c.current = window.setTimeout( () => o.current = !0, s)
        }
        , [s]),
        isPointerInTransitRef: l,
        onPointerInTransitChange: u.useCallback(d => {
            l.current = d
        }
        , []),
        disableHoverableContent: a,
        children: i
    })
}
;
_N.displayName = TN;
var Ef = "Tooltip"
  , [jM,Tf] = Cf(Ef)
  , PN = e => {
    const {__scopeTooltip: t, children: n, open: s, defaultOpen: a=!1, onOpenChange: i, disableHoverableContent: o, delayDuration: l} = e
      , c = Zx(Ef, e.__scopeTooltip)
      , d = kf(t)
      , [f,m] = u.useState(null)
      , h = zr()
      , g = u.useRef(0)
      , w = o ?? c.disableHoverableContent
      , x = l ?? c.delayDuration
      , y = u.useRef(!1)
      , [v=!1,p] = vs({
        prop: s,
        defaultProp: a,
        onChange: C => {
            C ? (c.onOpen(),
            document.dispatchEvent(new CustomEvent(up))) : c.onClose(),
            i == null || i(C)
        }
    })
      , j = u.useMemo( () => v ? y.current ? "delayed-open" : "instant-open" : "closed", [v])
      , N = u.useCallback( () => {
        window.clearTimeout(g.current),
        g.current = 0,
        y.current = !1,
        p(!0)
    }
    , [p])
      , S = u.useCallback( () => {
        window.clearTimeout(g.current),
        g.current = 0,
        p(!1)
    }
    , [p])
      , k = u.useCallback( () => {
        window.clearTimeout(g.current),
        g.current = window.setTimeout( () => {
            y.current = !0,
            p(!0),
            g.current = 0
        }
        , x)
    }
    , [x, p]);
    return u.useEffect( () => () => {
        g.current && (window.clearTimeout(g.current),
        g.current = 0)
    }
    , []),
    r.jsx(qx, {
        ...d,
        children: r.jsx(jM, {
            scope: t,
            contentId: h,
            open: v,
            stateAttribute: j,
            trigger: f,
            onTriggerChange: m,
            onTriggerEnter: u.useCallback( () => {
                c.isOpenDelayedRef.current ? k() : N()
            }
            , [c.isOpenDelayedRef, k, N]),
            onTriggerLeave: u.useCallback( () => {
                w ? S() : (window.clearTimeout(g.current),
                g.current = 0)
            }
            , [S, w]),
            onOpen: N,
            onClose: S,
            disableHoverableContent: w,
            children: n
        })
    })
}
;
PN.displayName = Ef;
var fp = "TooltipTrigger"
  , RN = u.forwardRef( (e, t) => {
    const {__scopeTooltip: n, ...s} = e
      , a = Tf(fp, n)
      , i = Zx(fp, n)
      , o = kf(n)
      , l = u.useRef(null)
      , c = He(t, l, a.onTriggerChange)
      , d = u.useRef(!1)
      , f = u.useRef(!1)
      , m = u.useCallback( () => d.current = !1, []);
    return u.useEffect( () => () => document.removeEventListener("pointerup", m), [m]),
    r.jsx(Kx, {
        asChild: !0,
        ...o,
        children: r.jsx(Ce.button, {
            "aria-describedby": a.open ? a.contentId : void 0,
            "data-state": a.stateAttribute,
            ...s,
            ref: c,
            onPointerMove: ne(e.onPointerMove, h => {
                h.pointerType !== "touch" && !f.current && !i.isPointerInTransitRef.current && (a.onTriggerEnter(),
                f.current = !0)
            }
            ),
            onPointerLeave: ne(e.onPointerLeave, () => {
                a.onTriggerLeave(),
                f.current = !1
            }
            ),
            onPointerDown: ne(e.onPointerDown, () => {
                a.open && a.onClose(),
                d.current = !0,
                document.addEventListener("pointerup", m, {
                    once: !0
                })
            }
            ),
            onFocus: ne(e.onFocus, () => {
                d.current || a.onOpen()
            }
            ),
            onBlur: ne(e.onBlur, a.onClose),
            onClick: ne(e.onClick, a.onClose)
        })
    })
}
);
RN.displayName = fp;
var wM = "TooltipPortal"
  , [J$,bM] = Cf(wM, {
    forceMount: void 0
})
  , Ko = "TooltipContent"
  , AN = u.forwardRef( (e, t) => {
    const n = bM(Ko, e.__scopeTooltip)
      , {forceMount: s=n.forceMount, side: a="top", ...i} = e
      , o = Tf(Ko, e.__scopeTooltip);
    return r.jsx(gn, {
        present: s || o.open,
        children: o.disableHoverableContent ? r.jsx(MN, {
            side: a,
            ...i,
            ref: t
        }) : r.jsx(NM, {
            side: a,
            ...i,
            ref: t
        })
    })
}
)
  , NM = u.forwardRef( (e, t) => {
    const n = Tf(Ko, e.__scopeTooltip)
      , s = Zx(Ko, e.__scopeTooltip)
      , a = u.useRef(null)
      , i = He(t, a)
      , [o,l] = u.useState(null)
      , {trigger: c, onClose: d} = n
      , f = a.current
      , {onPointerInTransitChange: m} = s
      , h = u.useCallback( () => {
        l(null),
        m(!1)
    }
    , [m])
      , g = u.useCallback( (w, x) => {
        const y = w.currentTarget
          , v = {
            x: w.clientX,
            y: w.clientY
        }
          , p = TM(v, y.getBoundingClientRect())
          , j = _M(v, p)
          , N = PM(x.getBoundingClientRect())
          , S = AM([...j, ...N]);
        l(S),
        m(!0)
    }
    , [m]);
    return u.useEffect( () => () => h(), [h]),
    u.useEffect( () => {
        if (c && f) {
            const w = y => g(y, f)
              , x = y => g(y, c);
            return c.addEventListener("pointerleave", w),
            f.addEventListener("pointerleave", x),
            () => {
                c.removeEventListener("pointerleave", w),
                f.removeEventListener("pointerleave", x)
            }
        }
    }
    , [c, f, g, h]),
    u.useEffect( () => {
        if (o) {
            const w = x => {
                const y = x.target
                  , v = {
                    x: x.clientX,
                    y: x.clientY
                }
                  , p = (c == null ? void 0 : c.contains(y)) || (f == null ? void 0 : f.contains(y))
                  , j = !RM(v, o);
                p ? h() : j && (h(),
                d())
            }
            ;
            return document.addEventListener("pointermove", w),
            () => document.removeEventListener("pointermove", w)
        }
    }
    , [c, f, o, d, h]),
    r.jsx(MN, {
        ...e,
        ref: i
    })
}
)
  , [SM,CM] = Cf(Ef, {
    isInside: !1
})
  , kM = yb("TooltipContent")
  , MN = u.forwardRef( (e, t) => {
    const {__scopeTooltip: n, children: s, "aria-label": a, onEscapeKeyDown: i, onPointerDownOutside: o, ...l} = e
      , c = Tf(Ko, n)
      , d = kf(n)
      , {onClose: f} = c;
    return u.useEffect( () => (document.addEventListener(up, f),
    () => document.removeEventListener(up, f)), [f]),
    u.useEffect( () => {
        if (c.trigger) {
            const m = h => {
                const g = h.target;
                g != null && g.contains(c.trigger) && f()
            }
            ;
            return window.addEventListener("scroll", m, {
                capture: !0
            }),
            () => window.removeEventListener("scroll", m, {
                capture: !0
            })
        }
    }
    , [c.trigger, f]),
    r.jsx(nl, {
        asChild: !0,
        disableOutsidePointerEvents: !1,
        onEscapeKeyDown: i,
        onPointerDownOutside: o,
        onFocusOutside: m => m.preventDefault(),
        onDismiss: f,
        children: r.jsxs(Qx, {
            "data-state": c.stateAttribute,
            ...d,
            ...l,
            ref: t,
            style: {
                ...l.style,
                "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)",
                "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)",
                "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)"
            },
            children: [r.jsx(kM, {
                children: s
            }), r.jsx(SM, {
                scope: n,
                isInside: !0,
                children: r.jsx(zP, {
                    id: c.contentId,
                    role: "tooltip",
                    children: a || s
                })
            })]
        })
    })
}
);
AN.displayName = Ko;
var IN = "TooltipArrow"
  , EM = u.forwardRef( (e, t) => {
    const {__scopeTooltip: n, ...s} = e
      , a = kf(n);
    return CM(IN, n).isInside ? null : r.jsx(Gx, {
        ...a,
        ...s,
        ref: t
    })
}
);
EM.displayName = IN;
function TM(e, t) {
    const n = Math.abs(t.top - e.y)
      , s = Math.abs(t.bottom - e.y)
      , a = Math.abs(t.right - e.x)
      , i = Math.abs(t.left - e.x);
    switch (Math.min(n, s, a, i)) {
    case i:
        return "left";
    case a:
        return "right";
    case n:
        return "top";
    case s:
        return "bottom";
    default:
        throw new Error("unreachable")
    }
}
function _M(e, t, n=5) {
    const s = [];
    switch (t) {
    case "top":
        s.push({
            x: e.x - n,
            y: e.y + n
        }, {
            x: e.x + n,
            y: e.y + n
        });
        break;
    case "bottom":
        s.push({
            x: e.x - n,
            y: e.y - n
        }, {
            x: e.x + n,
            y: e.y - n
        });
        break;
    case "left":
        s.push({
            x: e.x + n,
            y: e.y - n
        }, {
            x: e.x + n,
            y: e.y + n
        });
        break;
    case "right":
        s.push({
            x: e.x - n,
            y: e.y - n
        }, {
            x: e.x - n,
            y: e.y + n
        });
        break
    }
    return s
}
function PM(e) {
    const {top: t, right: n, bottom: s, left: a} = e;
    return [{
        x: a,
        y: t
    }, {
        x: n,
        y: t
    }, {
        x: n,
        y: s
    }, {
        x: a,
        y: s
    }]
}
function RM(e, t) {
    const {x: n, y: s} = e;
    let a = !1;
    for (let i = 0, o = t.length - 1; i < t.length; o = i++) {
        const l = t[i].x
          , c = t[i].y
          , d = t[o].x
          , f = t[o].y;
        c > s != f > s && n < (d - l) * (s - c) / (f - c) + l && (a = !a)
    }
    return a
}
function AM(e) {
    const t = e.slice();
    return t.sort( (n, s) => n.x < s.x ? -1 : n.x > s.x ? 1 : n.y < s.y ? -1 : n.y > s.y ? 1 : 0),
    MM(t)
}
function MM(e) {
    if (e.length <= 1)
        return e.slice();
    const t = [];
    for (let s = 0; s < e.length; s++) {
        const a = e[s];
        for (; t.length >= 2; ) {
            const i = t[t.length - 1]
              , o = t[t.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                t.pop();
            else
                break
        }
        t.push(a)
    }
    t.pop();
    const n = [];
    for (let s = e.length - 1; s >= 0; s--) {
        const a = e[s];
        for (; n.length >= 2; ) {
            const i = n[n.length - 1]
              , o = n[n.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                n.pop();
            else
                break
        }
        n.push(a)
    }
    return n.pop(),
    t.length === 1 && n.length === 1 && t[0].x === n[0].x && t[0].y === n[0].y ? t : t.concat(n)
}
var IM = _N
  , DM = PN
  , OM = RN
  , DN = AN;
const ON = IM
  , LM = DM
  , FM = OM
  , LN = u.forwardRef( ({className: e, sideOffset: t=4, ...n}, s) => r.jsx(DN, {
    ref: s,
    sideOffset: t,
    className: le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]", e),
    ...n
}));
LN.displayName = DN.displayName;
const $M = "modulepreload"
  , zM = function(e) {
    return "/" + e
}
  , Fy = {}
  , FN = function(t, n, s) {
    let a = Promise.resolve();
    if (n && n.length > 0) {
        document.getElementsByTagName("link");
        const o = document.querySelector("meta[property=csp-nonce]")
          , l = (o == null ? void 0 : o.nonce) || (o == null ? void 0 : o.getAttribute("nonce"));
        a = Promise.allSettled(n.map(c => {
            if (c = zM(c),
            c in Fy)
                return;
            Fy[c] = !0;
            const d = c.endsWith(".css")
              , f = d ? '[rel="stylesheet"]' : "";
            if (document.querySelector(`link[href="${c}"]${f}`))
                return;
            const m = document.createElement("link");
            if (m.rel = d ? "stylesheet" : $M,
            d || (m.as = "script"),
            m.crossOrigin = "",
            m.href = c,
            l && m.setAttribute("nonce", l),
            document.head.appendChild(m),
            d)
                return new Promise( (h, g) => {
                    m.addEventListener("load", h),
                    m.addEventListener("error", () => g(new Error(`Unable to preload CSS for ${c}`)))
                }
                )
        }
        ))
    }
    function i(o) {
        const l = new Event("vite:preloadError",{
            cancelable: !0
        });
        if (l.payload = o,
        window.dispatchEvent(l),
        !l.defaultPrevented)
            throw o
    }
    return a.then(o => {
        for (const l of o || [])
            l.status === "rejected" && i(l.reason);
        return t().catch(i)
    }
    )
};
async function $N() {
    if ("serviceWorker"in navigator)
        try {
            const e = await navigator.serviceWorker.register("/service-worker.js", {
                scope: "/",
                updateViaCache: "none"
            });
            return console.log(" Service Worker enregistr pour CamionBack:", e.scope),
            e.addEventListener("updatefound", () => {
                const t = e.installing;
                console.log(" Nouvelle version du Service Worker dtecte"),
                t && t.addEventListener("statechange", () => {
                    t.state === "installed" && navigator.serviceWorker.controller && (console.log(" Nouvelle version disponible, rafrachissement recommand"),
                    window.dispatchEvent(new CustomEvent("sw-update-available")))
                }
                )
            }
            ),
            navigator.serviceWorker.addEventListener("message", t => {
                var n;
                ((n = t.data) == null ? void 0 : n.type) === "SW_ACTIVATED" && console.log(` Service Worker version ${t.data.version} activ`)
            }
            ),
            setInterval( () => {
                console.log(" Vrification des mises  jour du Service Worker..."),
                e.update()
            }
            , 30 * 60 * 1e3),
            e.update(),
            e
        } catch (e) {
            return console.error(" Erreur lors de l'enregistrement du Service Worker:", e),
            null
        }
    else
        return console.warn(" Service Worker non support par ce navigateur"),
        null
}
async function VM() {
    try {
        const e = await fetch("/api/pwa/vapid-public-key");
        if (!e.ok)
            return console.error(" Erreur lors de la rcupration de la cl VAPID"),
            null;
        const t = await e.json();
        return console.log(" Cl VAPID publique rcupre depuis le serveur"),
        t.publicKey
    } catch (e) {
        return console.error(" Erreur lors de la rcupration de la cl VAPID:", e),
        null
    }
}
async function mp() {
    var e;
    if (!("Notification"in window))
        return console.warn(" Notifications non supportes par ce navigateur"),
        null;
    try {
        console.log(" === DBUT CRATION PUSH SUBSCRIPTION ==="),
        console.log(" Demande de permission de notification...");
        const t = await Notification.requestPermission();
        if (console.log(" Permission de notification reue:", t),
        t !== "granted")
            return console.log(" Permission de notification refuse"),
            null;
        console.log(" Attente du Service Worker...");
        const n = await navigator.serviceWorker.ready;
        console.log(" Service Worker prt:", (e = n.active) == null ? void 0 : e.state),
        console.log(" Vrification subscription existante...");
        const s = await n.pushManager.getSubscription();
        s && (console.log(" Subscription existante trouve, dsabonnement..."),
        await s.unsubscribe(),
        console.log(" Ancienne subscription supprime")),
        console.log(" Rcupration de la cl VAPID publique...");
        const a = await VM();
        if (console.log(" Cl VAPID reue:", a ? `${a.substring(0, 20)}...` : "null"),
        !a)
            return console.error(" Impossible de rcuprer la cl VAPID publique"),
            null;
        console.log(" Conversion de la cl VAPID en Uint8Array...");
        const i = WM(a);
        console.log(" Cl VAPID convertie, longueur:", i.length),
        console.log(" Souscription aux push notifications avec pushManager.subscribe()..."),
        console.log(" Options:", {
            userVisibleOnly: !0,
            applicationServerKey: "(Uint8Array)"
        });
        const o = await n.pushManager.subscribe({
            userVisibleOnly: !0,
            applicationServerKey: i
        });
        return console.log("   PUSH SUBSCRIPTION CRE AVEC SUCCS !   "),
        console.log(" Push subscription:", o),
        console.log(" Endpoint:", o.endpoint),
        console.log(" Cl p256dh:", o.getKey("p256dh")),
        console.log(" Cl auth:", o.getKey("auth")),
        console.log(" ExpirationTime:", o.expirationTime),
        o
    } catch (t) {
        return console.error("   ERREUR LORS DE LA SOUSCRIPTION AUX NOTIFICATIONS   "),
        console.error(" Type d'erreur:", t instanceof Error ? t.name : typeof t),
        console.error(" Message:", t instanceof Error ? t.message : String(t)),
        console.error(" Stack:", t instanceof Error ? t.stack : "N/A"),
        console.error(" Objet complet:", t),
        null
    }
}
async function UM() {
    if ("serviceWorker"in navigator)
        try {
            return await (await navigator.serviceWorker.ready).pushManager.getSubscription()
        } catch (e) {
            return console.error(" Erreur lors de la rcupration de la souscription:", e),
            null
        }
    return null
}
function WM(e) {
    console.log(" urlBase64ToUint8Array - Input:", e.substring(0, 20) + "...");
    const t = "=".repeat((4 - e.length % 4) % 4)
      , n = (e + t).replace(/\-/g, "+").replace(/_/g, "/");
    console.log(" Base64 avec padding:", n.substring(0, 20) + "...");
    const s = window.atob(n);
    console.log(" Raw data length:", s.length);
    const a = new Uint8Array(s.length);
    for (let i = 0; i < s.length; ++i)
        a[i] = s.charCodeAt(i);
    return console.log(" Uint8Array cr, longueur:", a.length),
    a
}
function zN() {
    return window.matchMedia("(display-mode: standalone)").matches || window.navigator.standalone === !0
}
function VN() {
    let e = null;
    window.addEventListener("beforeinstallprompt", t => {
        t.preventDefault(),
        e = t,
        console.log(" PWA peut tre installe"),
        window.dispatchEvent(new CustomEvent("pwa-installable",{
            detail: e
        }))
    }
    ),
    window.addEventListener("appinstalled", () => {
        console.log(" PWA installe avec succs"),
        e = null
    }
    )
}
function UN(e) {
    return JSON.stringify(e)
}
async function WN() {
    console.log(" Initialisation PWA CamionBack..."),
    await $N(),
    VN(),
    zN() ? console.log(" CamionBack fonctionne en mode PWA") : console.log(" CamionBack en mode navigateur web")
}
const BN = Object.freeze(Object.defineProperty({
    __proto__: null,
    getDeviceTokenFromSubscription: UN,
    getPushSubscription: UM,
    initializePWA: WN,
    isPWAInstalled: zN,
    registerServiceWorker: $N,
    requestPushPermission: mp,
    setupPWAInstallPrompt: VN
}, Symbol.toStringTag, {
    value: "Module"
}));
function BM({userId: e, enabled: t}) {
    const [n,s] = u.useState(!1)
      , [a,i] = u.useState("default");
    return u.useEffect( () => {
        "Notification"in window && i(Notification.permission)
    }
    , []),
    u.useEffect( () => {
        async function o() {
            if (!t || !e) {
                console.log(" [usePushNotifications] Push notifications dsactives ou userId manquant");
                return
            }
            try {
                console.log(" === [usePushNotifications] DBUT CONFIGURATION PUSH NOTIFICATIONS ==="),
                console.log(" [usePushNotifications] userId:", e),
                console.log(" [usePushNotifications] permission actuelle:", a);
                let l = null;
                if (a === "granted") {
                    console.log(" [usePushNotifications] Permission dj accorde"),
                    console.log(" [usePushNotifications] Rcupration de la souscription existante...");
                    const {getPushSubscription: c} = await FN(async () => {
                        const {getPushSubscription: d} = await Promise.resolve().then( () => BN);
                        return {
                            getPushSubscription: d
                        }
                    }
                    , void 0);
                    l = await c(),
                    l ? console.log(" [usePushNotifications] Souscription existante trouve:", {
                        endpoint: l.endpoint.substring(0, 50) + "...",
                        expirationTime: l.expirationTime
                    }) : (console.log(" [usePushNotifications] Aucune souscription existante !"),
                    console.log(" [usePushNotifications] Cration d'une nouvelle subscription..."),
                    l = await mp())
                } else
                    a === "default" ? (console.log(" [usePushNotifications] Permission par dfaut, demande de permission..."),
                    l = await mp()) : a === "denied" && console.log(" [usePushNotifications] Permission refuse par l'utilisateur");
                if (l) {
                    console.log(" [usePushNotifications] Subscription obtenue !");
                    const c = UN(l);
                    console.log(" [usePushNotifications] Envoi du device token au serveur..."),
                    console.log(" [usePushNotifications] Device token length:", c.length),
                    await ze("PATCH", `/api/users/${e}/device-token`, {
                        deviceToken: c
                    }),
                    s(!0),
                    i("granted"),
                    console.log("   [usePushNotifications] PUSH NOTIFICATIONS ACTIVES ET SYNCHRONISES !   ")
                } else
                    console.log(" [usePushNotifications] Aucune subscription obtenue")
            } catch (l) {
                console.error("   [usePushNotifications] ERREUR CONFIGURATION   "),
                console.error(" [usePushNotifications] Erreur:", l)
            }
        }
        o()
    }
    , [e, t, a]),
    {
        isSubscribed: n,
        permission: a
    }
}
function HM({children: e}) {
    const [t,n] = u.useState(null);
    u.useEffect( () => {
        const a = () => {
            const l = localStorage.getItem("camionback_user")
              , c = l ? JSON.parse(l) : null;
            console.log(" [PushNotificationProvider] User loaded from localStorage:", c ? {
                id: c.id,
                name: c.name,
                role: c.role,
                phoneNumber: c.phoneNumber
            } : "null"),
            n(c)
        }
        ;
        a();
        const i = setInterval( () => {
            const l = localStorage.getItem("camionback_user")
              , c = l ? JSON.parse(l) : null;
            JSON.stringify(c) !== JSON.stringify(t) && (console.log(" [PushNotificationProvider] User change detected in localStorage, reloading..."),
            n(c))
        }
        , 2e3)
          , o = l => {
            l.key === "camionback_user" && (console.log(" [PushNotificationProvider] localStorage change detected from another tab"),
            a())
        }
        ;
        return window.addEventListener("storage", o),
        () => {
            clearInterval(i),
            window.removeEventListener("storage", o)
        }
    }
    , [t]);
    const {permission: s} = BM({
        userId: (t == null ? void 0 : t.id) || null,
        enabled: !!(t != null && t.id)
    });
    return u.useEffect( () => {
        s === "granted" && t && console.log(` [PushNotificationProvider] Notifications push actives pour ${t.name || t.phoneNumber}`)
    }
    , [s, t]),
    r.jsx(r.Fragment, {
        children: e
    })
}
function qM() {
    const [e,t] = u.useState(null)
      , [n,s] = u.useState(!1);
    u.useEffect( () => {
        if (document.getElementById("pwa-install-banner")) {
            console.log(" Bouton PWA vanilla JS dj prsent, composant React dsactiv");
            return
        }
        window.deferredPrompt && (t(window.deferredPrompt),
        s(!0),
        console.log(" deferredPrompt global dtect, bouton React activ"));
        const i = c => {
            document.getElementById("pwa-install-banner") || (c.preventDefault(),
            t(c),
            s(!0),
            console.log(" PWA peut tre installe - bouton React affich"))
        }
          , o = c => {
            t(c.detail),
            s(!0),
            console.log(" vnement PWA-installable reu")
        }
          , l = () => {
            s(!1),
            t(null),
            console.log(" CamionBack install avec succs (React)")
        }
        ;
        return window.addEventListener("beforeinstallprompt", i),
        window.addEventListener("pwa-installable", o),
        window.addEventListener("appinstalled", l),
        () => {
            window.removeEventListener("beforeinstallprompt", i),
            window.removeEventListener("pwa-installable", o),
            window.removeEventListener("appinstalled", l)
        }
    }
    , []);
    const a = async () => {
        const i = e || window.deferredPrompt;
        if (!i) {
            console.warn(" Aucun prompt d'installation disponible");
            return
        }
        try {
            i.prompt();
            const {outcome: o} = await i.userChoice;
            console.log(o === "accepted" ? " Utilisateur a accept l'installation (React)" : " Utilisateur a refus l'installation (React)"),
            s(!1),
            t(null),
            window.deferredPrompt = null
        } catch (o) {
            console.error(" Erreur lors de l'installation:", o)
        }
    }
    ;
    return !n || document.getElementById("pwa-install-banner") ? null : r.jsxs("button", {
        onClick: a,
        "data-testid": "button-install-pwa",
        style: {
            position: "fixed",
            bottom: "20px",
            right: "20px",
            background: "#17cfcf",
            color: "white",
            border: "none",
            borderRadius: "10px",
            padding: "12px 20px",
            fontSize: "15px",
            fontWeight: "600",
            boxShadow: "0 4px 12px rgba(23, 207, 207, 0.4)",
            cursor: "pointer",
            display: "flex",
            alignItems: "center",
            gap: "8px",
            zIndex: 9999,
            transition: "all 0.2s ease"
        },
        onMouseEnter: i => {
            i.currentTarget.style.transform = "translateY(-2px)",
            i.currentTarget.style.boxShadow = "0 6px 16px rgba(23, 207, 207, 0.5)"
        }
        ,
        onMouseLeave: i => {
            i.currentTarget.style.transform = "translateY(0)",
            i.currentTarget.style.boxShadow = "0 4px 12px rgba(23, 207, 207, 0.4)"
        }
        ,
        children: [r.jsx(CR, {
            className: "w-5 h-5"
        }), "Installer CamionBack"]
    })
}
const Yx = Kc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2", {
    variants: {
        variant: {
            default: "bg-primary text-primary-foreground border border-primary-border",
            destructive: "bg-destructive text-destructive-foreground border border-destructive-border",
            outline: " border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",
            secondary: "border bg-secondary text-secondary-foreground border border-secondary-border ",
            ghost: "border border-transparent"
        },
        size: {
            default: "min-h-9 px-4 py-2",
            sm: "min-h-8 rounded-md px-3 text-xs",
            lg: "min-h-10 rounded-md px-8",
            icon: "h-9 w-9"
        }
    },
    defaultVariants: {
        variant: "default",
        size: "default"
    }
})
  , M = u.forwardRef( ({className: e, variant: t, size: n, asChild: s=!1, ...a}, i) => {
    const o = s ? gb : "button";
    return r.jsx(o, {
        className: le(Yx({
            variant: t,
            size: n,
            className: e
        })),
        ref: i,
        ...a
    })
}
);
M.displayName = "Button";
const Fe = u.forwardRef( ({className: e, type: t, ...n}, s) => r.jsx("input", {
    type: t,
    className: le("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", e),
    ref: s,
    ...n
}));
Fe.displayName = "Input";
const ce = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm", e),
    ...t
}));
ce.displayName = "Card";
const Ee = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("flex flex-col space-y-1.5 p-6", e),
    ...t
}));
Ee.displayName = "CardHeader";
const Te = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("text-2xl font-semibold leading-none tracking-tight", e),
    ...t
}));
Te.displayName = "CardTitle";
const Sn = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("text-sm text-muted-foreground", e),
    ...t
}));
Sn.displayName = "CardDescription";
const ue = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("p-6 pt-0", e),
    ...t
}));
ue.displayName = "CardContent";
const Xx = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("flex items-center p-6 pt-0", e),
    ...t
}));
Xx.displayName = "CardFooter";
const KM = "/assets/logo%20camion%20(14)_1760911574566-xPVAGFRQ.png";
function QM({onAuthSuccess: e}) {
    const [,t] = Zn()
      , [n,s] = u.useState("phone")
      , [a,i] = u.useState("login")
      , [o,l] = u.useState("")
      , [c,d] = u.useState("")
      , [f,m] = u.useState("")
      , [h,g] = u.useState(!1)
      , [w,x] = u.useState(!1)
      , {toast: y} = on()
      , v = N => {
        const S = N.replace(/\D/g, "").slice(0, 9);
        return S.length === 0 ? "" : S.length <= 1 ? S : S.length <= 3 ? `${S.slice(0, 1)} ${S.slice(1)}` : S.length <= 5 ? `${S.slice(0, 1)} ${S.slice(1, 3)} ${S.slice(3)}` : S.length <= 7 ? `${S.slice(0, 1)} ${S.slice(1, 3)} ${S.slice(3, 5)} ${S.slice(5)}` : `${S.slice(0, 1)} ${S.slice(1, 3)} ${S.slice(3, 5)} ${S.slice(5, 7)} ${S.slice(7)}`
    }
      , p = async () => {
        const N = o.replace(/\s/g, "");
        if (N.length !== 9) {
            y({
                variant: "destructive",
                title: "Erreur",
                description: "Le numro doit contenir exactement 9 chiffres"
            });
            return
        }
        x(!0);
        try {
            const S = await fetch("/api/auth/check-phone", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: `+212${N}`
                })
            });
            if (!S.ok)
                throw new Error;
            const k = await S.json();
            i(k.exists ? "login" : "register"),
            s("pin")
        } catch {
            y({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la vrification"
            })
        } finally {
            x(!1)
        }
    }
      , j = async () => {
        const N = o.replace(/\s/g, "");
        if (c.length !== 6) {
            y({
                variant: "destructive",
                title: "Erreur",
                description: "Le code PIN doit contenir 6 chiffres"
            });
            return
        }
        if (a === "register" && c !== f) {
            y({
                variant: "destructive",
                title: "Erreur",
                description: "Les codes PIN ne correspondent pas"
            });
            return
        }
        x(!0);
        try {
            const k = await fetch(a === "login" ? "/api/auth/login" : "/api/auth/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: `+212${N}`,
                    pin: c
                })
            });
            if (!k.ok) {
                const A = await k.json();
                y({
                    variant: "destructive",
                    title: "Erreur",
                    description: A.error || (a === "login" ? "Numro ou code PIN incorrect" : "chec de l'inscription")
                });
                return
            }
            const E = (await k.json()).user;
            localStorage.setItem("camionback_user", JSON.stringify(E)),
            e(E),
            E.role ? E.role === "admin" ? t("/admin-dashboard") : E.role === "transporter" && (!E.name || !E.city) ? t("/complete-profile") : t("/") : t("/select-role")
        } catch {
            y({
                variant: "destructive",
                title: "Erreur",
                description: a === "login" ? "chec de la connexion" : "chec de l'inscription"
            })
        } finally {
            x(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen flex items-center justify-center p-4 bg-background",
        children: r.jsxs(ce, {
            className: "w-full max-w-md",
            children: [r.jsxs(Ee, {
                className: "text-center space-y-3 pb-4",
                children: [r.jsx("div", {
                    className: "mx-auto w-full max-w-[200px]",
                    children: r.jsx("img", {
                        src: KM,
                        alt: "CamionBack Logo",
                        className: "w-full h-auto",
                        loading: "eager",
                        "data-testid": "img-logo"
                    })
                }), r.jsx(Sn, {
                    className: "text-base",
                    children: n === "phone" ? "Entrez votre numro de tlphone" : a === "login" ? "Entrez votre code PIN" : "Crez votre code PIN  6 chiffres"
                })]
            }), r.jsx(ue, {
                className: "space-y-6",
                children: n === "phone" ? r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Numro de tlphone"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx("span", {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium pointer-events-none select-none",
                                children: "+212"
                            }), r.jsx(Fe, {
                                type: "tel",
                                placeholder: "6 12 34 56 78",
                                value: o,
                                onChange: N => l(v(N.target.value)),
                                className: "pl-16",
                                "data-testid": "input-phone"
                            })]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Format: 6 12 34 56 78 (9 chiffres)"
                        })]
                    }), r.jsxs(M, {
                        onClick: p,
                        className: "w-full",
                        size: "lg",
                        disabled: w,
                        "data-testid": "button-continue",
                        children: [w ? "Vrification..." : "Continuer", r.jsx(Hb, {
                            className: "ml-2 h-5 w-5"
                        })]
                    })]
                }) : r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: a === "login" ? "Code PIN" : "Crer un code PIN"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx(Fe, {
                                type: h ? "text" : "password",
                                placeholder: "",
                                value: c,
                                onChange: N => d(N.target.value.replace(/\D/g, "").slice(0, 6)),
                                className: "text-center text-2xl tracking-widest pr-12",
                                maxLength: 6,
                                "data-testid": "input-pin"
                            }), r.jsx("button", {
                                type: "button",
                                onClick: () => g(!h),
                                className: "absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",
                                "data-testid": "button-toggle-pin",
                                children: h ? r.jsx(Qb, {
                                    className: "h-5 w-5"
                                }) : r.jsx(is, {
                                    className: "h-5 w-5"
                                })
                            })]
                        })]
                    }), a === "register" && r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Confirmer le code PIN"
                        }), r.jsx(Fe, {
                            type: h ? "text" : "password",
                            placeholder: "",
                            value: f,
                            onChange: N => m(N.target.value.replace(/\D/g, "").slice(0, 6)),
                            className: "text-center text-2xl tracking-widest",
                            maxLength: 6,
                            "data-testid": "input-confirm-pin"
                        })]
                    }), r.jsx(M, {
                        onClick: j,
                        className: "w-full",
                        size: "lg",
                        disabled: w,
                        "data-testid": "button-submit",
                        children: w ? a === "login" ? "Connexion..." : "Inscription..." : a === "login" ? "Se connecter" : "S'inscrire"
                    }), a === "login" && r.jsx(M, {
                        variant: "ghost",
                        className: "w-full text-sm",
                        disabled: !0,
                        "data-testid": "button-forgot-pin",
                        children: "Mot de passe oubli ?"
                    }), r.jsx(M, {
                        variant: "ghost",
                        onClick: () => {
                            s("phone"),
                            d(""),
                            m("")
                        }
                        ,
                        className: "w-full",
                        "data-testid": "button-back",
                        children: "Changer de numro"
                    })]
                })
            })]
        })
    })
}
var GM = u.createContext(void 0);
function ll(e) {
    const t = u.useContext(GM);
    return e || t || "ltr"
}
var Om = "rovingFocusGroup.onEntryFocus"
  , ZM = {
    bubbles: !1,
    cancelable: !0
}
  , _f = "RovingFocusGroup"
  , [hp,HN,YM] = gf(_f)
  , [XM,cl] = En(_f, [YM])
  , [JM,eI] = XM(_f)
  , qN = u.forwardRef( (e, t) => r.jsx(hp.Provider, {
    scope: e.__scopeRovingFocusGroup,
    children: r.jsx(hp.Slot, {
        scope: e.__scopeRovingFocusGroup,
        children: r.jsx(tI, {
            ...e,
            ref: t
        })
    })
}));
qN.displayName = _f;
var tI = u.forwardRef( (e, t) => {
    const {__scopeRovingFocusGroup: n, orientation: s, loop: a=!1, dir: i, currentTabStopId: o, defaultCurrentTabStopId: l, onCurrentTabStopIdChange: c, onEntryFocus: d, preventScrollOnEntryFocus: f=!1, ...m} = e
      , h = u.useRef(null)
      , g = He(t, h)
      , w = ll(i)
      , [x=null,y] = vs({
        prop: o,
        defaultProp: l,
        onChange: c
    })
      , [v,p] = u.useState(!1)
      , j = Pt(d)
      , N = HN(n)
      , S = u.useRef(!1)
      , [k,C] = u.useState(0);
    return u.useEffect( () => {
        const E = h.current;
        if (E)
            return E.addEventListener(Om, j),
            () => E.removeEventListener(Om, j)
    }
    , [j]),
    r.jsx(JM, {
        scope: n,
        orientation: s,
        dir: w,
        loop: a,
        currentTabStopId: x,
        onItemFocus: u.useCallback(E => y(E), [y]),
        onItemShiftTab: u.useCallback( () => p(!0), []),
        onFocusableItemAdd: u.useCallback( () => C(E => E + 1), []),
        onFocusableItemRemove: u.useCallback( () => C(E => E - 1), []),
        children: r.jsx(Ce.div, {
            tabIndex: v || k === 0 ? -1 : 0,
            "data-orientation": s,
            ...m,
            ref: g,
            style: {
                outline: "none",
                ...e.style
            },
            onMouseDown: ne(e.onMouseDown, () => {
                S.current = !0
            }
            ),
            onFocus: ne(e.onFocus, E => {
                const A = !S.current;
                if (E.target === E.currentTarget && A && !v) {
                    const z = new CustomEvent(Om,ZM);
                    if (E.currentTarget.dispatchEvent(z),
                    !z.defaultPrevented) {
                        const G = N().filter(q => q.focusable)
                          , R = G.find(q => q.active)
                          , B = G.find(q => q.id === x)
                          , J = [R, B, ...G].filter(Boolean).map(q => q.ref.current);
                        GN(J, f)
                    }
                }
                S.current = !1
            }
            ),
            onBlur: ne(e.onBlur, () => p(!1))
        })
    })
}
)
  , KN = "RovingFocusGroupItem"
  , QN = u.forwardRef( (e, t) => {
    const {__scopeRovingFocusGroup: n, focusable: s=!0, active: a=!1, tabStopId: i, ...o} = e
      , l = zr()
      , c = i || l
      , d = eI(KN, n)
      , f = d.currentTabStopId === c
      , m = HN(n)
      , {onFocusableItemAdd: h, onFocusableItemRemove: g} = d;
    return u.useEffect( () => {
        if (s)
            return h(),
            () => g()
    }
    , [s, h, g]),
    r.jsx(hp.ItemSlot, {
        scope: n,
        id: c,
        focusable: s,
        active: a,
        children: r.jsx(Ce.span, {
            tabIndex: f ? 0 : -1,
            "data-orientation": d.orientation,
            ...o,
            ref: t,
            onMouseDown: ne(e.onMouseDown, w => {
                s ? d.onItemFocus(c) : w.preventDefault()
            }
            ),
            onFocus: ne(e.onFocus, () => d.onItemFocus(c)),
            onKeyDown: ne(e.onKeyDown, w => {
                if (w.key === "Tab" && w.shiftKey) {
                    d.onItemShiftTab();
                    return
                }
                if (w.target !== w.currentTarget)
                    return;
                const x = sI(w, d.orientation, d.dir);
                if (x !== void 0) {
                    if (w.metaKey || w.ctrlKey || w.altKey || w.shiftKey)
                        return;
                    w.preventDefault();
                    let v = m().filter(p => p.focusable).map(p => p.ref.current);
                    if (x === "last")
                        v.reverse();
                    else if (x === "prev" || x === "next") {
                        x === "prev" && v.reverse();
                        const p = v.indexOf(w.currentTarget);
                        v = d.loop ? aI(v, p + 1) : v.slice(p + 1)
                    }
                    setTimeout( () => GN(v))
                }
            }
            )
        })
    })
}
);
QN.displayName = KN;
var nI = {
    ArrowLeft: "prev",
    ArrowUp: "prev",
    ArrowRight: "next",
    ArrowDown: "next",
    PageUp: "first",
    Home: "first",
    PageDown: "last",
    End: "last"
};
function rI(e, t) {
    return t !== "rtl" ? e : e === "ArrowLeft" ? "ArrowRight" : e === "ArrowRight" ? "ArrowLeft" : e
}
function sI(e, t, n) {
    const s = rI(e.key, n);
    if (!(t === "vertical" && ["ArrowLeft", "ArrowRight"].includes(s)) && !(t === "horizontal" && ["ArrowUp", "ArrowDown"].includes(s)))
        return nI[s]
}
function GN(e, t=!1) {
    const n = document.activeElement;
    for (const s of e)
        if (s === n || (s.focus({
            preventScroll: t
        }),
        document.activeElement !== n))
            return
}
function aI(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
var Jx = qN
  , eg = QN
  , tg = "Tabs"
  , [iI,e5] = En(tg, [cl])
  , ZN = cl()
  , [oI,ng] = iI(tg)
  , YN = u.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, onValueChange: a, defaultValue: i, orientation: o="horizontal", dir: l, activationMode: c="automatic", ...d} = e
      , f = ll(l)
      , [m,h] = vs({
        prop: s,
        onChange: a,
        defaultProp: i
    });
    return r.jsx(oI, {
        scope: n,
        baseId: zr(),
        value: m,
        onValueChange: h,
        orientation: o,
        dir: f,
        activationMode: c,
        children: r.jsx(Ce.div, {
            dir: f,
            "data-orientation": o,
            ...d,
            ref: t
        })
    })
}
);
YN.displayName = tg;
var XN = "TabsList"
  , JN = u.forwardRef( (e, t) => {
    const {__scopeTabs: n, loop: s=!0, ...a} = e
      , i = ng(XN, n)
      , o = ZN(n);
    return r.jsx(Jx, {
        asChild: !0,
        ...o,
        orientation: i.orientation,
        dir: i.dir,
        loop: s,
        children: r.jsx(Ce.div, {
            role: "tablist",
            "aria-orientation": i.orientation,
            ...a,
            ref: t
        })
    })
}
);
JN.displayName = XN;
var e1 = "TabsTrigger"
  , t1 = u.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, disabled: a=!1, ...i} = e
      , o = ng(e1, n)
      , l = ZN(n)
      , c = s1(o.baseId, s)
      , d = a1(o.baseId, s)
      , f = s === o.value;
    return r.jsx(eg, {
        asChild: !0,
        ...l,
        focusable: !a,
        active: f,
        children: r.jsx(Ce.button, {
            type: "button",
            role: "tab",
            "aria-selected": f,
            "aria-controls": d,
            "data-state": f ? "active" : "inactive",
            "data-disabled": a ? "" : void 0,
            disabled: a,
            id: c,
            ...i,
            ref: t,
            onMouseDown: ne(e.onMouseDown, m => {
                !a && m.button === 0 && m.ctrlKey === !1 ? o.onValueChange(s) : m.preventDefault()
            }
            ),
            onKeyDown: ne(e.onKeyDown, m => {
                [" ", "Enter"].includes(m.key) && o.onValueChange(s)
            }
            ),
            onFocus: ne(e.onFocus, () => {
                const m = o.activationMode !== "manual";
                !f && !a && m && o.onValueChange(s)
            }
            )
        })
    })
}
);
t1.displayName = e1;
var n1 = "TabsContent"
  , r1 = u.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, forceMount: a, children: i, ...o} = e
      , l = ng(n1, n)
      , c = s1(l.baseId, s)
      , d = a1(l.baseId, s)
      , f = s === l.value
      , m = u.useRef(f);
    return u.useEffect( () => {
        const h = requestAnimationFrame( () => m.current = !1);
        return () => cancelAnimationFrame(h)
    }
    , []),
    r.jsx(gn, {
        present: a || f,
        children: ({present: h}) => r.jsx(Ce.div, {
            "data-state": f ? "active" : "inactive",
            "data-orientation": l.orientation,
            role: "tabpanel",
            "aria-labelledby": c,
            hidden: !h,
            id: d,
            tabIndex: 0,
            ...o,
            ref: t,
            style: {
                ...e.style,
                animationDuration: m.current ? "0s" : void 0
            },
            children: h && i
        })
    })
}
);
r1.displayName = n1;
function s1(e, t) {
    return `${e}-trigger-${t}`
}
function a1(e, t) {
    return `${e}-content-${t}`
}
var lI = YN
  , i1 = JN
  , o1 = t1
  , l1 = r1;
const rg = lI
  , pc = u.forwardRef( ({className: e, ...t}, n) => r.jsx(i1, {
    ref: n,
    className: le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", e),
    ...t
}));
pc.displayName = i1.displayName;
const $t = u.forwardRef( ({className: e, ...t}, n) => r.jsx(o1, {
    ref: n,
    className: le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", e),
    ...t
}));
$t.displayName = o1.displayName;
const zt = u.forwardRef( ({className: e, ...t}, n) => r.jsx(l1, {
    ref: n,
    className: le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", e),
    ...t
}));
zt.displayName = l1.displayName;
var Lm = 0;
function sg() {
    u.useEffect( () => {
        const e = document.querySelectorAll("[data-radix-focus-guard]");
        return document.body.insertAdjacentElement("afterbegin", e[0] ?? $y()),
        document.body.insertAdjacentElement("beforeend", e[1] ?? $y()),
        Lm++,
        () => {
            Lm === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(t => t.remove()),
            Lm--
        }
    }
    , [])
}
function $y() {
    const e = document.createElement("span");
    return e.setAttribute("data-radix-focus-guard", ""),
    e.tabIndex = 0,
    e.style.outline = "none",
    e.style.opacity = "0",
    e.style.position = "fixed",
    e.style.pointerEvents = "none",
    e
}
var Fm = "focusScope.autoFocusOnMount"
  , $m = "focusScope.autoFocusOnUnmount"
  , zy = {
    bubbles: !1,
    cancelable: !0
}
  , cI = "FocusScope"
  , Pf = u.forwardRef( (e, t) => {
    const {loop: n=!1, trapped: s=!1, onMountAutoFocus: a, onUnmountAutoFocus: i, ...o} = e
      , [l,c] = u.useState(null)
      , d = Pt(a)
      , f = Pt(i)
      , m = u.useRef(null)
      , h = He(t, x => c(x))
      , g = u.useRef({
        paused: !1,
        pause() {
            this.paused = !0
        },
        resume() {
            this.paused = !1
        }
    }).current;
    u.useEffect( () => {
        if (s) {
            let x = function(j) {
                if (g.paused || !l)
                    return;
                const N = j.target;
                l.contains(N) ? m.current = N : ra(m.current, {
                    select: !0
                })
            }
              , y = function(j) {
                if (g.paused || !l)
                    return;
                const N = j.relatedTarget;
                N !== null && (l.contains(N) || ra(m.current, {
                    select: !0
                }))
            }
              , v = function(j) {
                if (document.activeElement === document.body)
                    for (const S of j)
                        S.removedNodes.length > 0 && ra(l)
            };
            document.addEventListener("focusin", x),
            document.addEventListener("focusout", y);
            const p = new MutationObserver(v);
            return l && p.observe(l, {
                childList: !0,
                subtree: !0
            }),
            () => {
                document.removeEventListener("focusin", x),
                document.removeEventListener("focusout", y),
                p.disconnect()
            }
        }
    }
    , [s, l, g.paused]),
    u.useEffect( () => {
        if (l) {
            Uy.add(g);
            const x = document.activeElement;
            if (!l.contains(x)) {
                const v = new CustomEvent(Fm,zy);
                l.addEventListener(Fm, d),
                l.dispatchEvent(v),
                v.defaultPrevented || (dI(pI(c1(l)), {
                    select: !0
                }),
                document.activeElement === x && ra(l))
            }
            return () => {
                l.removeEventListener(Fm, d),
                setTimeout( () => {
                    const v = new CustomEvent($m,zy);
                    l.addEventListener($m, f),
                    l.dispatchEvent(v),
                    v.defaultPrevented || ra(x ?? document.body, {
                        select: !0
                    }),
                    l.removeEventListener($m, f),
                    Uy.remove(g)
                }
                , 0)
            }
        }
    }
    , [l, d, f, g]);
    const w = u.useCallback(x => {
        if (!n && !s || g.paused)
            return;
        const y = x.key === "Tab" && !x.altKey && !x.ctrlKey && !x.metaKey
          , v = document.activeElement;
        if (y && v) {
            const p = x.currentTarget
              , [j,N] = uI(p);
            j && N ? !x.shiftKey && v === N ? (x.preventDefault(),
            n && ra(j, {
                select: !0
            })) : x.shiftKey && v === j && (x.preventDefault(),
            n && ra(N, {
                select: !0
            })) : v === p && x.preventDefault()
        }
    }
    , [n, s, g.paused]);
    return r.jsx(Ce.div, {
        tabIndex: -1,
        ...o,
        ref: h,
        onKeyDown: w
    })
}
);
Pf.displayName = cI;
function dI(e, {select: t=!1}={}) {
    const n = document.activeElement;
    for (const s of e)
        if (ra(s, {
            select: t
        }),
        document.activeElement !== n)
            return
}
function uI(e) {
    const t = c1(e)
      , n = Vy(t, e)
      , s = Vy(t.reverse(), e);
    return [n, s]
}
function c1(e) {
    const t = []
      , n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
        acceptNode: s => {
            const a = s.tagName === "INPUT" && s.type === "hidden";
            return s.disabled || s.hidden || a ? NodeFilter.FILTER_SKIP : s.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
        }
    });
    for (; n.nextNode(); )
        t.push(n.currentNode);
    return t
}
function Vy(e, t) {
    for (const n of e)
        if (!fI(n, {
            upTo: t
        }))
            return n
}
function fI(e, {upTo: t}) {
    if (getComputedStyle(e).visibility === "hidden")
        return !0;
    for (; e; ) {
        if (t !== void 0 && e === t)
            return !1;
        if (getComputedStyle(e).display === "none")
            return !0;
        e = e.parentElement
    }
    return !1
}
function mI(e) {
    return e instanceof HTMLInputElement && "select"in e
}
function ra(e, {select: t=!1}={}) {
    if (e && e.focus) {
        const n = document.activeElement;
        e.focus({
            preventScroll: !0
        }),
        e !== n && mI(e) && t && e.select()
    }
}
var Uy = hI();
function hI() {
    let e = [];
    return {
        add(t) {
            const n = e[0];
            t !== n && (n == null || n.pause()),
            e = Wy(e, t),
            e.unshift(t)
        },
        remove(t) {
            var n;
            e = Wy(e, t),
            (n = e[0]) == null || n.resume()
        }
    }
}
function Wy(e, t) {
    const n = [...e]
      , s = n.indexOf(t);
    return s !== -1 && n.splice(s, 1),
    n
}
function pI(e) {
    return e.filter(t => t.tagName !== "A")
}
var xI = function(e) {
    if (typeof document > "u")
        return null;
    var t = Array.isArray(e) ? e[0] : e;
    return t.ownerDocument.body
}
  , Bi = new WeakMap
  , Td = new WeakMap
  , _d = {}
  , zm = 0
  , d1 = function(e) {
    return e && (e.host || d1(e.parentNode))
}
  , gI = function(e, t) {
    return t.map(function(n) {
        if (e.contains(n))
            return n;
        var s = d1(n);
        return s && e.contains(s) ? s : (console.error("aria-hidden", n, "in not contained inside", e, ". Doing nothing"),
        null)
    }).filter(function(n) {
        return !!n
    })
}
  , vI = function(e, t, n, s) {
    var a = gI(t, Array.isArray(e) ? e : [e]);
    _d[n] || (_d[n] = new WeakMap);
    var i = _d[n]
      , o = []
      , l = new Set
      , c = new Set(a)
      , d = function(m) {
        !m || l.has(m) || (l.add(m),
        d(m.parentNode))
    };
    a.forEach(d);
    var f = function(m) {
        !m || c.has(m) || Array.prototype.forEach.call(m.children, function(h) {
            if (l.has(h))
                f(h);
            else
                try {
                    var g = h.getAttribute(s)
                      , w = g !== null && g !== "false"
                      , x = (Bi.get(h) || 0) + 1
                      , y = (i.get(h) || 0) + 1;
                    Bi.set(h, x),
                    i.set(h, y),
                    o.push(h),
                    x === 1 && w && Td.set(h, !0),
                    y === 1 && h.setAttribute(n, "true"),
                    w || h.setAttribute(s, "true")
                } catch (v) {
                    console.error("aria-hidden: cannot operate on ", h, v)
                }
        })
    };
    return f(t),
    l.clear(),
    zm++,
    function() {
        o.forEach(function(m) {
            var h = Bi.get(m) - 1
              , g = i.get(m) - 1;
            Bi.set(m, h),
            i.set(m, g),
            h || (Td.has(m) || m.removeAttribute(s),
            Td.delete(m)),
            g || m.removeAttribute(n)
        }),
        zm--,
        zm || (Bi = new WeakMap,
        Bi = new WeakMap,
        Td = new WeakMap,
        _d = {})
    }
}
  , ag = function(e, t, n) {
    n === void 0 && (n = "data-aria-hidden");
    var s = Array.from(Array.isArray(e) ? e : [e])
      , a = xI(e);
    return a ? (s.push.apply(s, Array.from(a.querySelectorAll("[aria-live]"))),
    vI(s, a, n, "aria-hidden")) : function() {
        return null
    }
}
  , ls = function() {
    return ls = Object.assign || function(t) {
        for (var n, s = 1, a = arguments.length; s < a; s++) {
            n = arguments[s];
            for (var i in n)
                Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
        }
        return t
    }
    ,
    ls.apply(this, arguments)
};
function u1(e, t) {
    var n = {};
    for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && t.indexOf(s) < 0 && (n[s] = e[s]);
    if (e != null && typeof Object.getOwnPropertySymbols == "function")
        for (var a = 0, s = Object.getOwnPropertySymbols(e); a < s.length; a++)
            t.indexOf(s[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, s[a]) && (n[s[a]] = e[s[a]]);
    return n
}
function yI(e, t, n) {
    if (n || arguments.length === 2)
        for (var s = 0, a = t.length, i; s < a; s++)
            (i || !(s in t)) && (i || (i = Array.prototype.slice.call(t, 0, s)),
            i[s] = t[s]);
    return e.concat(i || Array.prototype.slice.call(t))
}
var Zd = "right-scroll-bar-position"
  , Yd = "width-before-scroll-bar"
  , jI = "with-scroll-bars-hidden"
  , wI = "--removed-body-scroll-bar-size";
function Vm(e, t) {
    return typeof e == "function" ? e(t) : e && (e.current = t),
    e
}
function bI(e, t) {
    var n = u.useState(function() {
        return {
            value: e,
            callback: t,
            facade: {
                get current() {
                    return n.value
                },
                set current(s) {
                    var a = n.value;
                    a !== s && (n.value = s,
                    n.callback(s, a))
                }
            }
        }
    })[0];
    return n.callback = t,
    n.facade
}
var NI = typeof window < "u" ? u.useLayoutEffect : u.useEffect
  , By = new WeakMap;
function SI(e, t) {
    var n = bI(null, function(s) {
        return e.forEach(function(a) {
            return Vm(a, s)
        })
    });
    return NI(function() {
        var s = By.get(n);
        if (s) {
            var a = new Set(s)
              , i = new Set(e)
              , o = n.current;
            a.forEach(function(l) {
                i.has(l) || Vm(l, null)
            }),
            i.forEach(function(l) {
                a.has(l) || Vm(l, o)
            })
        }
        By.set(n, e)
    }, [e]),
    n
}
function CI(e) {
    return e
}
function kI(e, t) {
    t === void 0 && (t = CI);
    var n = []
      , s = !1
      , a = {
        read: function() {
            if (s)
                throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
            return n.length ? n[n.length - 1] : e
        },
        useMedium: function(i) {
            var o = t(i, s);
            return n.push(o),
            function() {
                n = n.filter(function(l) {
                    return l !== o
                })
            }
        },
        assignSyncMedium: function(i) {
            for (s = !0; n.length; ) {
                var o = n;
                n = [],
                o.forEach(i)
            }
            n = {
                push: function(l) {
                    return i(l)
                },
                filter: function() {
                    return n
                }
            }
        },
        assignMedium: function(i) {
            s = !0;
            var o = [];
            if (n.length) {
                var l = n;
                n = [],
                l.forEach(i),
                o = n
            }
            var c = function() {
                var f = o;
                o = [],
                f.forEach(i)
            }
              , d = function() {
                return Promise.resolve().then(c)
            };
            d(),
            n = {
                push: function(f) {
                    o.push(f),
                    d()
                },
                filter: function(f) {
                    return o = o.filter(f),
                    n
                }
            }
        }
    };
    return a
}
function EI(e) {
    e === void 0 && (e = {});
    var t = kI(null);
    return t.options = ls({
        async: !0,
        ssr: !1
    }, e),
    t
}
var f1 = function(e) {
    var t = e.sideCar
      , n = u1(e, ["sideCar"]);
    if (!t)
        throw new Error("Sidecar: please provide `sideCar` property to import the right car");
    var s = t.read();
    if (!s)
        throw new Error("Sidecar medium not found");
    return u.createElement(s, ls({}, n))
};
f1.isSideCarExport = !0;
function TI(e, t) {
    return e.useMedium(t),
    f1
}
var m1 = EI()
  , Um = function() {}
  , Rf = u.forwardRef(function(e, t) {
    var n = u.useRef(null)
      , s = u.useState({
        onScrollCapture: Um,
        onWheelCapture: Um,
        onTouchMoveCapture: Um
    })
      , a = s[0]
      , i = s[1]
      , o = e.forwardProps
      , l = e.children
      , c = e.className
      , d = e.removeScrollBar
      , f = e.enabled
      , m = e.shards
      , h = e.sideCar
      , g = e.noIsolation
      , w = e.inert
      , x = e.allowPinchZoom
      , y = e.as
      , v = y === void 0 ? "div" : y
      , p = e.gapMode
      , j = u1(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"])
      , N = h
      , S = SI([n, t])
      , k = ls(ls({}, j), a);
    return u.createElement(u.Fragment, null, f && u.createElement(N, {
        sideCar: m1,
        removeScrollBar: d,
        shards: m,
        noIsolation: g,
        inert: w,
        setCallbacks: i,
        allowPinchZoom: !!x,
        lockRef: n,
        gapMode: p
    }), o ? u.cloneElement(u.Children.only(l), ls(ls({}, k), {
        ref: S
    })) : u.createElement(v, ls({}, k, {
        className: c,
        ref: S
    }), l))
});
Rf.defaultProps = {
    enabled: !0,
    removeScrollBar: !0,
    inert: !1
};
Rf.classNames = {
    fullWidth: Yd,
    zeroRight: Zd
};
var _I = function() {
    if (typeof __webpack_nonce__ < "u")
        return __webpack_nonce__
};
function PI() {
    if (!document)
        return null;
    var e = document.createElement("style");
    e.type = "text/css";
    var t = _I();
    return t && e.setAttribute("nonce", t),
    e
}
function RI(e, t) {
    e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t))
}
function AI(e) {
    var t = document.head || document.getElementsByTagName("head")[0];
    t.appendChild(e)
}
var MI = function() {
    var e = 0
      , t = null;
    return {
        add: function(n) {
            e == 0 && (t = PI()) && (RI(t, n),
            AI(t)),
            e++
        },
        remove: function() {
            e--,
            !e && t && (t.parentNode && t.parentNode.removeChild(t),
            t = null)
        }
    }
}
  , II = function() {
    var e = MI();
    return function(t, n) {
        u.useEffect(function() {
            return e.add(t),
            function() {
                e.remove()
            }
        }, [t && n])
    }
}
  , h1 = function() {
    var e = II()
      , t = function(n) {
        var s = n.styles
          , a = n.dynamic;
        return e(s, a),
        null
    };
    return t
}
  , DI = {
    left: 0,
    top: 0,
    right: 0,
    gap: 0
}
  , Wm = function(e) {
    return parseInt(e || "", 10) || 0
}
  , OI = function(e) {
    var t = window.getComputedStyle(document.body)
      , n = t[e === "padding" ? "paddingLeft" : "marginLeft"]
      , s = t[e === "padding" ? "paddingTop" : "marginTop"]
      , a = t[e === "padding" ? "paddingRight" : "marginRight"];
    return [Wm(n), Wm(s), Wm(a)]
}
  , LI = function(e) {
    if (e === void 0 && (e = "margin"),
    typeof window > "u")
        return DI;
    var t = OI(e)
      , n = document.documentElement.clientWidth
      , s = window.innerWidth;
    return {
        left: t[0],
        top: t[1],
        right: t[2],
        gap: Math.max(0, s - n + t[2] - t[0])
    }
}
  , FI = h1()
  , yo = "data-scroll-locked"
  , $I = function(e, t, n, s) {
    var a = e.left
      , i = e.top
      , o = e.right
      , l = e.gap;
    return n === void 0 && (n = "margin"),
    `
  .`.concat(jI, ` {
   overflow: hidden `).concat(s, `;
   padding-right: `).concat(l, "px ").concat(s, `;
  }
  body[`).concat(yo, `] {
    overflow: hidden `).concat(s, `;
    overscroll-behavior: contain;
    `).concat([t && "position: relative ".concat(s, ";"), n === "margin" && `
    padding-left: `.concat(a, `px;
    padding-top: `).concat(i, `px;
    padding-right: `).concat(o, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l, "px ").concat(s, `;
    `), n === "padding" && "padding-right: ".concat(l, "px ").concat(s, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(Zd, ` {
    right: `).concat(l, "px ").concat(s, `;
  }
  
  .`).concat(Yd, ` {
    margin-right: `).concat(l, "px ").concat(s, `;
  }
  
  .`).concat(Zd, " .").concat(Zd, ` {
    right: 0 `).concat(s, `;
  }
  
  .`).concat(Yd, " .").concat(Yd, ` {
    margin-right: 0 `).concat(s, `;
  }
  
  body[`).concat(yo, `] {
    `).concat(wI, ": ").concat(l, `px;
  }
`)
}
  , Hy = function() {
    var e = parseInt(document.body.getAttribute(yo) || "0", 10);
    return isFinite(e) ? e : 0
}
  , zI = function() {
    u.useEffect(function() {
        return document.body.setAttribute(yo, (Hy() + 1).toString()),
        function() {
            var e = Hy() - 1;
            e <= 0 ? document.body.removeAttribute(yo) : document.body.setAttribute(yo, e.toString())
        }
    }, [])
}
  , VI = function(e) {
    var t = e.noRelative
      , n = e.noImportant
      , s = e.gapMode
      , a = s === void 0 ? "margin" : s;
    zI();
    var i = u.useMemo(function() {
        return LI(a)
    }, [a]);
    return u.createElement(FI, {
        styles: $I(i, !t, a, n ? "" : "!important")
    })
}
  , pp = !1;
if (typeof window < "u")
    try {
        var Pd = Object.defineProperty({}, "passive", {
            get: function() {
                return pp = !0,
                !0
            }
        });
        window.addEventListener("test", Pd, Pd),
        window.removeEventListener("test", Pd, Pd)
    } catch {
        pp = !1
    }
var Hi = pp ? {
    passive: !1
} : !1
  , UI = function(e) {
    return e.tagName === "TEXTAREA"
}
  , p1 = function(e, t) {
    if (!(e instanceof Element))
        return !1;
    var n = window.getComputedStyle(e);
    return n[t] !== "hidden" && !(n.overflowY === n.overflowX && !UI(e) && n[t] === "visible")
}
  , WI = function(e) {
    return p1(e, "overflowY")
}
  , BI = function(e) {
    return p1(e, "overflowX")
}
  , qy = function(e, t) {
    var n = t.ownerDocument
      , s = t;
    do {
        typeof ShadowRoot < "u" && s instanceof ShadowRoot && (s = s.host);
        var a = x1(e, s);
        if (a) {
            var i = g1(e, s)
              , o = i[1]
              , l = i[2];
            if (o > l)
                return !0
        }
        s = s.parentNode
    } while (s && s !== n.body);
    return !1
}
  , HI = function(e) {
    var t = e.scrollTop
      , n = e.scrollHeight
      , s = e.clientHeight;
    return [t, n, s]
}
  , qI = function(e) {
    var t = e.scrollLeft
      , n = e.scrollWidth
      , s = e.clientWidth;
    return [t, n, s]
}
  , x1 = function(e, t) {
    return e === "v" ? WI(t) : BI(t)
}
  , g1 = function(e, t) {
    return e === "v" ? HI(t) : qI(t)
}
  , KI = function(e, t) {
    return e === "h" && t === "rtl" ? -1 : 1
}
  , QI = function(e, t, n, s, a) {
    var i = KI(e, window.getComputedStyle(t).direction)
      , o = i * s
      , l = n.target
      , c = t.contains(l)
      , d = !1
      , f = o > 0
      , m = 0
      , h = 0;
    do {
        var g = g1(e, l)
          , w = g[0]
          , x = g[1]
          , y = g[2]
          , v = x - y - i * w;
        (w || v) && x1(e, l) && (m += v,
        h += w),
        l instanceof ShadowRoot ? l = l.host : l = l.parentNode
    } while (!c && l !== document.body || c && (t.contains(l) || t === l));
    return (f && (Math.abs(m) < 1 || !a) || !f && (Math.abs(h) < 1 || !a)) && (d = !0),
    d
}
  , Rd = function(e) {
    return "changedTouches"in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0]
}
  , Ky = function(e) {
    return [e.deltaX, e.deltaY]
}
  , Qy = function(e) {
    return e && "current"in e ? e.current : e
}
  , GI = function(e, t) {
    return e[0] === t[0] && e[1] === t[1]
}
  , ZI = function(e) {
    return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`)
}
  , YI = 0
  , qi = [];
function XI(e) {
    var t = u.useRef([])
      , n = u.useRef([0, 0])
      , s = u.useRef()
      , a = u.useState(YI++)[0]
      , i = u.useState(h1)[0]
      , o = u.useRef(e);
    u.useEffect(function() {
        o.current = e
    }, [e]),
    u.useEffect(function() {
        if (e.inert) {
            document.body.classList.add("block-interactivity-".concat(a));
            var x = yI([e.lockRef.current], (e.shards || []).map(Qy), !0).filter(Boolean);
            return x.forEach(function(y) {
                return y.classList.add("allow-interactivity-".concat(a))
            }),
            function() {
                document.body.classList.remove("block-interactivity-".concat(a)),
                x.forEach(function(y) {
                    return y.classList.remove("allow-interactivity-".concat(a))
                })
            }
        }
    }, [e.inert, e.lockRef.current, e.shards]);
    var l = u.useCallback(function(x, y) {
        if ("touches"in x && x.touches.length === 2 || x.type === "wheel" && x.ctrlKey)
            return !o.current.allowPinchZoom;
        var v = Rd(x), p = n.current, j = "deltaX"in x ? x.deltaX : p[0] - v[0], N = "deltaY"in x ? x.deltaY : p[1] - v[1], S, k = x.target, C = Math.abs(j) > Math.abs(N) ? "h" : "v";
        if ("touches"in x && C === "h" && k.type === "range")
            return !1;
        var E = qy(C, k);
        if (!E)
            return !0;
        if (E ? S = C : (S = C === "v" ? "h" : "v",
        E = qy(C, k)),
        !E)
            return !1;
        if (!s.current && "changedTouches"in x && (j || N) && (s.current = S),
        !S)
            return !0;
        var A = s.current || S;
        return QI(A, y, x, A === "h" ? j : N, !0)
    }, [])
      , c = u.useCallback(function(x) {
        var y = x;
        if (!(!qi.length || qi[qi.length - 1] !== i)) {
            var v = "deltaY"in y ? Ky(y) : Rd(y)
              , p = t.current.filter(function(S) {
                return S.name === y.type && (S.target === y.target || y.target === S.shadowParent) && GI(S.delta, v)
            })[0];
            if (p && p.should) {
                y.cancelable && y.preventDefault();
                return
            }
            if (!p) {
                var j = (o.current.shards || []).map(Qy).filter(Boolean).filter(function(S) {
                    return S.contains(y.target)
                })
                  , N = j.length > 0 ? l(y, j[0]) : !o.current.noIsolation;
                N && y.cancelable && y.preventDefault()
            }
        }
    }, [])
      , d = u.useCallback(function(x, y, v, p) {
        var j = {
            name: x,
            delta: y,
            target: v,
            should: p,
            shadowParent: JI(v)
        };
        t.current.push(j),
        setTimeout(function() {
            t.current = t.current.filter(function(N) {
                return N !== j
            })
        }, 1)
    }, [])
      , f = u.useCallback(function(x) {
        n.current = Rd(x),
        s.current = void 0
    }, [])
      , m = u.useCallback(function(x) {
        d(x.type, Ky(x), x.target, l(x, e.lockRef.current))
    }, [])
      , h = u.useCallback(function(x) {
        d(x.type, Rd(x), x.target, l(x, e.lockRef.current))
    }, []);
    u.useEffect(function() {
        return qi.push(i),
        e.setCallbacks({
            onScrollCapture: m,
            onWheelCapture: m,
            onTouchMoveCapture: h
        }),
        document.addEventListener("wheel", c, Hi),
        document.addEventListener("touchmove", c, Hi),
        document.addEventListener("touchstart", f, Hi),
        function() {
            qi = qi.filter(function(x) {
                return x !== i
            }),
            document.removeEventListener("wheel", c, Hi),
            document.removeEventListener("touchmove", c, Hi),
            document.removeEventListener("touchstart", f, Hi)
        }
    }, []);
    var g = e.removeScrollBar
      , w = e.inert;
    return u.createElement(u.Fragment, null, w ? u.createElement(i, {
        styles: ZI(a)
    }) : null, g ? u.createElement(VI, {
        gapMode: e.gapMode
    }) : null)
}
function JI(e) {
    for (var t = null; e !== null; )
        e instanceof ShadowRoot && (t = e.host,
        e = e.host),
        e = e.parentNode;
    return t
}
const eD = TI(m1, XI);
var Af = u.forwardRef(function(e, t) {
    return u.createElement(Rf, ls({}, e, {
        ref: t,
        sideCar: eD
    }))
});
Af.classNames = Rf.classNames;
var xp = ["Enter", " "]
  , tD = ["ArrowDown", "PageUp", "Home"]
  , v1 = ["ArrowUp", "PageDown", "End"]
  , nD = [...tD, ...v1]
  , rD = {
    ltr: [...xp, "ArrowRight"],
    rtl: [...xp, "ArrowLeft"]
}
  , sD = {
    ltr: ["ArrowLeft"],
    rtl: ["ArrowRight"]
}
  , Zc = "Menu"
  , [xc,aD,iD] = gf(Zc)
  , [$i,y1] = En(Zc, [iD, ol, cl])
  , Mf = ol()
  , j1 = cl()
  , [oD,zi] = $i(Zc)
  , [lD,Yc] = $i(Zc)
  , w1 = e => {
    const {__scopeMenu: t, open: n=!1, children: s, dir: a, onOpenChange: i, modal: o=!0} = e
      , l = Mf(t)
      , [c,d] = u.useState(null)
      , f = u.useRef(!1)
      , m = Pt(i)
      , h = ll(a);
    return u.useEffect( () => {
        const g = () => {
            f.current = !0,
            document.addEventListener("pointerdown", w, {
                capture: !0,
                once: !0
            }),
            document.addEventListener("pointermove", w, {
                capture: !0,
                once: !0
            })
        }
          , w = () => f.current = !1;
        return document.addEventListener("keydown", g, {
            capture: !0
        }),
        () => {
            document.removeEventListener("keydown", g, {
                capture: !0
            }),
            document.removeEventListener("pointerdown", w, {
                capture: !0
            }),
            document.removeEventListener("pointermove", w, {
                capture: !0
            })
        }
    }
    , []),
    r.jsx(qx, {
        ...l,
        children: r.jsx(oD, {
            scope: t,
            open: n,
            onOpenChange: m,
            content: c,
            onContentChange: d,
            children: r.jsx(lD, {
                scope: t,
                onClose: u.useCallback( () => m(!1), [m]),
                isUsingKeyboardRef: f,
                dir: h,
                modal: o,
                children: s
            })
        })
    })
}
;
w1.displayName = Zc;
var cD = "MenuAnchor"
  , ig = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e
      , a = Mf(n);
    return r.jsx(Kx, {
        ...a,
        ...s,
        ref: t
    })
}
);
ig.displayName = cD;
var og = "MenuPortal"
  , [dD,b1] = $i(og, {
    forceMount: void 0
})
  , N1 = e => {
    const {__scopeMenu: t, forceMount: n, children: s, container: a} = e
      , i = zi(og, t);
    return r.jsx(dD, {
        scope: t,
        forceMount: n,
        children: r.jsx(gn, {
            present: n || i.open,
            children: r.jsx(Hc, {
                asChild: !0,
                container: a,
                children: s
            })
        })
    })
}
;
N1.displayName = og;
var yr = "MenuContent"
  , [uD,lg] = $i(yr)
  , S1 = u.forwardRef( (e, t) => {
    const n = b1(yr, e.__scopeMenu)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = zi(yr, e.__scopeMenu)
      , o = Yc(yr, e.__scopeMenu);
    return r.jsx(xc.Provider, {
        scope: e.__scopeMenu,
        children: r.jsx(gn, {
            present: s || i.open,
            children: r.jsx(xc.Slot, {
                scope: e.__scopeMenu,
                children: o.modal ? r.jsx(fD, {
                    ...a,
                    ref: t
                }) : r.jsx(mD, {
                    ...a,
                    ref: t
                })
            })
        })
    })
}
)
  , fD = u.forwardRef( (e, t) => {
    const n = zi(yr, e.__scopeMenu)
      , s = u.useRef(null)
      , a = He(t, s);
    return u.useEffect( () => {
        const i = s.current;
        if (i)
            return ag(i)
    }
    , []),
    r.jsx(cg, {
        ...e,
        ref: a,
        trapFocus: n.open,
        disableOutsidePointerEvents: n.open,
        disableOutsideScroll: !0,
        onFocusOutside: ne(e.onFocusOutside, i => i.preventDefault(), {
            checkForDefaultPrevented: !1
        }),
        onDismiss: () => n.onOpenChange(!1)
    })
}
)
  , mD = u.forwardRef( (e, t) => {
    const n = zi(yr, e.__scopeMenu);
    return r.jsx(cg, {
        ...e,
        ref: t,
        trapFocus: !1,
        disableOutsidePointerEvents: !1,
        disableOutsideScroll: !1,
        onDismiss: () => n.onOpenChange(!1)
    })
}
)
  , hD = Ti("MenuContent.ScrollLock")
  , cg = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, loop: s=!1, trapFocus: a, onOpenAutoFocus: i, onCloseAutoFocus: o, disableOutsidePointerEvents: l, onEntryFocus: c, onEscapeKeyDown: d, onPointerDownOutside: f, onFocusOutside: m, onInteractOutside: h, onDismiss: g, disableOutsideScroll: w, ...x} = e
      , y = zi(yr, n)
      , v = Yc(yr, n)
      , p = Mf(n)
      , j = j1(n)
      , N = aD(n)
      , [S,k] = u.useState(null)
      , C = u.useRef(null)
      , E = He(t, C, y.onContentChange)
      , A = u.useRef(0)
      , z = u.useRef("")
      , G = u.useRef(0)
      , R = u.useRef(null)
      , B = u.useRef("right")
      , U = u.useRef(0)
      , J = w ? Af : u.Fragment
      , q = w ? {
        as: hD,
        allowPinchZoom: !0
    } : void 0
      , pe = V => {
        var $, te;
        const W = z.current + V
          , de = N().filter(Ie => !Ie.disabled)
          , ke = document.activeElement
          , Ye = ($ = de.find(Ie => Ie.ref.current === ke)) == null ? void 0 : $.textValue
          , at = de.map(Ie => Ie.textValue)
          , ut = kD(at, W, Ye)
          , we = (te = de.find(Ie => Ie.textValue === ut)) == null ? void 0 : te.ref.current;
        (function Ie(Le) {
            z.current = Le,
            window.clearTimeout(A.current),
            Le !== "" && (A.current = window.setTimeout( () => Ie(""), 1e3))
        }
        )(W),
        we && setTimeout( () => we.focus())
    }
    ;
    u.useEffect( () => () => window.clearTimeout(A.current), []),
    sg();
    const D = u.useCallback(V => {
        var de, ke;
        return B.current === ((de = R.current) == null ? void 0 : de.side) && TD(V, (ke = R.current) == null ? void 0 : ke.area)
    }
    , []);
    return r.jsx(uD, {
        scope: n,
        searchRef: z,
        onItemEnter: u.useCallback(V => {
            D(V) && V.preventDefault()
        }
        , [D]),
        onItemLeave: u.useCallback(V => {
            var W;
            D(V) || ((W = C.current) == null || W.focus(),
            k(null))
        }
        , [D]),
        onTriggerLeave: u.useCallback(V => {
            D(V) && V.preventDefault()
        }
        , [D]),
        pointerGraceTimerRef: G,
        onPointerGraceIntentChange: u.useCallback(V => {
            R.current = V
        }
        , []),
        children: r.jsx(J, {
            ...q,
            children: r.jsx(Pf, {
                asChild: !0,
                trapped: a,
                onMountAutoFocus: ne(i, V => {
                    var W;
                    V.preventDefault(),
                    (W = C.current) == null || W.focus({
                        preventScroll: !0
                    })
                }
                ),
                onUnmountAutoFocus: o,
                children: r.jsx(nl, {
                    asChild: !0,
                    disableOutsidePointerEvents: l,
                    onEscapeKeyDown: d,
                    onPointerDownOutside: f,
                    onFocusOutside: m,
                    onInteractOutside: h,
                    onDismiss: g,
                    children: r.jsx(Jx, {
                        asChild: !0,
                        ...j,
                        dir: v.dir,
                        orientation: "vertical",
                        loop: s,
                        currentTabStopId: S,
                        onCurrentTabStopIdChange: k,
                        onEntryFocus: ne(c, V => {
                            v.isUsingKeyboardRef.current || V.preventDefault()
                        }
                        ),
                        preventScrollOnEntryFocus: !0,
                        children: r.jsx(Qx, {
                            role: "menu",
                            "aria-orientation": "vertical",
                            "data-state": z1(y.open),
                            "data-radix-menu-content": "",
                            dir: v.dir,
                            ...p,
                            ...x,
                            ref: E,
                            style: {
                                outline: "none",
                                ...x.style
                            },
                            onKeyDown: ne(x.onKeyDown, V => {
                                const de = V.target.closest("[data-radix-menu-content]") === V.currentTarget
                                  , ke = V.ctrlKey || V.altKey || V.metaKey
                                  , Ye = V.key.length === 1;
                                de && (V.key === "Tab" && V.preventDefault(),
                                !ke && Ye && pe(V.key));
                                const at = C.current;
                                if (V.target !== at || !nD.includes(V.key))
                                    return;
                                V.preventDefault();
                                const we = N().filter($ => !$.disabled).map($ => $.ref.current);
                                v1.includes(V.key) && we.reverse(),
                                SD(we)
                            }
                            ),
                            onBlur: ne(e.onBlur, V => {
                                V.currentTarget.contains(V.target) || (window.clearTimeout(A.current),
                                z.current = "")
                            }
                            ),
                            onPointerMove: ne(e.onPointerMove, gc(V => {
                                const W = V.target
                                  , de = U.current !== V.clientX;
                                if (V.currentTarget.contains(W) && de) {
                                    const ke = V.clientX > U.current ? "right" : "left";
                                    B.current = ke,
                                    U.current = V.clientX
                                }
                            }
                            ))
                        })
                    })
                })
            })
        })
    })
}
);
S1.displayName = yr;
var pD = "MenuGroup"
  , dg = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Ce.div, {
        role: "group",
        ...s,
        ref: t
    })
}
);
dg.displayName = pD;
var xD = "MenuLabel"
  , C1 = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Ce.div, {
        ...s,
        ref: t
    })
}
);
C1.displayName = xD;
var Au = "MenuItem"
  , Gy = "menu.itemSelect"
  , If = u.forwardRef( (e, t) => {
    const {disabled: n=!1, onSelect: s, ...a} = e
      , i = u.useRef(null)
      , o = Yc(Au, e.__scopeMenu)
      , l = lg(Au, e.__scopeMenu)
      , c = He(t, i)
      , d = u.useRef(!1)
      , f = () => {
        const m = i.current;
        if (!n && m) {
            const h = new CustomEvent(Gy,{
                bubbles: !0,
                cancelable: !0
            });
            m.addEventListener(Gy, g => s == null ? void 0 : s(g), {
                once: !0
            }),
            Px(m, h),
            h.defaultPrevented ? d.current = !1 : o.onClose()
        }
    }
    ;
    return r.jsx(k1, {
        ...a,
        ref: c,
        disabled: n,
        onClick: ne(e.onClick, f),
        onPointerDown: m => {
            var h;
            (h = e.onPointerDown) == null || h.call(e, m),
            d.current = !0
        }
        ,
        onPointerUp: ne(e.onPointerUp, m => {
            var h;
            d.current || (h = m.currentTarget) == null || h.click()
        }
        ),
        onKeyDown: ne(e.onKeyDown, m => {
            const h = l.searchRef.current !== "";
            n || h && m.key === " " || xp.includes(m.key) && (m.currentTarget.click(),
            m.preventDefault())
        }
        )
    })
}
);
If.displayName = Au;
var k1 = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, disabled: s=!1, textValue: a, ...i} = e
      , o = lg(Au, n)
      , l = j1(n)
      , c = u.useRef(null)
      , d = He(t, c)
      , [f,m] = u.useState(!1)
      , [h,g] = u.useState("");
    return u.useEffect( () => {
        const w = c.current;
        w && g((w.textContent ?? "").trim())
    }
    , [i.children]),
    r.jsx(xc.ItemSlot, {
        scope: n,
        disabled: s,
        textValue: a ?? h,
        children: r.jsx(eg, {
            asChild: !0,
            ...l,
            focusable: !s,
            children: r.jsx(Ce.div, {
                role: "menuitem",
                "data-highlighted": f ? "" : void 0,
                "aria-disabled": s || void 0,
                "data-disabled": s ? "" : void 0,
                ...i,
                ref: d,
                onPointerMove: ne(e.onPointerMove, gc(w => {
                    s ? o.onItemLeave(w) : (o.onItemEnter(w),
                    w.defaultPrevented || w.currentTarget.focus({
                        preventScroll: !0
                    }))
                }
                )),
                onPointerLeave: ne(e.onPointerLeave, gc(w => o.onItemLeave(w))),
                onFocus: ne(e.onFocus, () => m(!0)),
                onBlur: ne(e.onBlur, () => m(!1))
            })
        })
    })
}
)
  , gD = "MenuCheckboxItem"
  , E1 = u.forwardRef( (e, t) => {
    const {checked: n=!1, onCheckedChange: s, ...a} = e;
    return r.jsx(A1, {
        scope: e.__scopeMenu,
        checked: n,
        children: r.jsx(If, {
            role: "menuitemcheckbox",
            "aria-checked": Mu(n) ? "mixed" : n,
            ...a,
            ref: t,
            "data-state": fg(n),
            onSelect: ne(a.onSelect, () => s == null ? void 0 : s(Mu(n) ? !0 : !n), {
                checkForDefaultPrevented: !1
            })
        })
    })
}
);
E1.displayName = gD;
var T1 = "MenuRadioGroup"
  , [vD,yD] = $i(T1, {
    value: void 0,
    onValueChange: () => {}
})
  , _1 = u.forwardRef( (e, t) => {
    const {value: n, onValueChange: s, ...a} = e
      , i = Pt(s);
    return r.jsx(vD, {
        scope: e.__scopeMenu,
        value: n,
        onValueChange: i,
        children: r.jsx(dg, {
            ...a,
            ref: t
        })
    })
}
);
_1.displayName = T1;
var P1 = "MenuRadioItem"
  , R1 = u.forwardRef( (e, t) => {
    const {value: n, ...s} = e
      , a = yD(P1, e.__scopeMenu)
      , i = n === a.value;
    return r.jsx(A1, {
        scope: e.__scopeMenu,
        checked: i,
        children: r.jsx(If, {
            role: "menuitemradio",
            "aria-checked": i,
            ...s,
            ref: t,
            "data-state": fg(i),
            onSelect: ne(s.onSelect, () => {
                var o;
                return (o = a.onValueChange) == null ? void 0 : o.call(a, n)
            }
            , {
                checkForDefaultPrevented: !1
            })
        })
    })
}
);
R1.displayName = P1;
var ug = "MenuItemIndicator"
  , [A1,jD] = $i(ug, {
    checked: !1
})
  , M1 = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, forceMount: s, ...a} = e
      , i = jD(ug, n);
    return r.jsx(gn, {
        present: s || Mu(i.checked) || i.checked === !0,
        children: r.jsx(Ce.span, {
            ...a,
            ref: t,
            "data-state": fg(i.checked)
        })
    })
}
);
M1.displayName = ug;
var wD = "MenuSeparator"
  , I1 = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Ce.div, {
        role: "separator",
        "aria-orientation": "horizontal",
        ...s,
        ref: t
    })
}
);
I1.displayName = wD;
var bD = "MenuArrow"
  , D1 = u.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e
      , a = Mf(n);
    return r.jsx(Gx, {
        ...a,
        ...s,
        ref: t
    })
}
);
D1.displayName = bD;
var ND = "MenuSub"
  , [t5,O1] = $i(ND)
  , Rl = "MenuSubTrigger"
  , L1 = u.forwardRef( (e, t) => {
    const n = zi(Rl, e.__scopeMenu)
      , s = Yc(Rl, e.__scopeMenu)
      , a = O1(Rl, e.__scopeMenu)
      , i = lg(Rl, e.__scopeMenu)
      , o = u.useRef(null)
      , {pointerGraceTimerRef: l, onPointerGraceIntentChange: c} = i
      , d = {
        __scopeMenu: e.__scopeMenu
    }
      , f = u.useCallback( () => {
        o.current && window.clearTimeout(o.current),
        o.current = null
    }
    , []);
    return u.useEffect( () => f, [f]),
    u.useEffect( () => {
        const m = l.current;
        return () => {
            window.clearTimeout(m),
            c(null)
        }
    }
    , [l, c]),
    r.jsx(ig, {
        asChild: !0,
        ...d,
        children: r.jsx(k1, {
            id: a.triggerId,
            "aria-haspopup": "menu",
            "aria-expanded": n.open,
            "aria-controls": a.contentId,
            "data-state": z1(n.open),
            ...e,
            ref: xf(t, a.onTriggerChange),
            onClick: m => {
                var h;
                (h = e.onClick) == null || h.call(e, m),
                !(e.disabled || m.defaultPrevented) && (m.currentTarget.focus(),
                n.open || n.onOpenChange(!0))
            }
            ,
            onPointerMove: ne(e.onPointerMove, gc(m => {
                i.onItemEnter(m),
                !m.defaultPrevented && !e.disabled && !n.open && !o.current && (i.onPointerGraceIntentChange(null),
                o.current = window.setTimeout( () => {
                    n.onOpenChange(!0),
                    f()
                }
                , 100))
            }
            )),
            onPointerLeave: ne(e.onPointerLeave, gc(m => {
                var g, w;
                f();
                const h = (g = n.content) == null ? void 0 : g.getBoundingClientRect();
                if (h) {
                    const x = (w = n.content) == null ? void 0 : w.dataset.side
                      , y = x === "right"
                      , v = y ? -5 : 5
                      , p = h[y ? "left" : "right"]
                      , j = h[y ? "right" : "left"];
                    i.onPointerGraceIntentChange({
                        area: [{
                            x: m.clientX + v,
                            y: m.clientY
                        }, {
                            x: p,
                            y: h.top
                        }, {
                            x: j,
                            y: h.top
                        }, {
                            x: j,
                            y: h.bottom
                        }, {
                            x: p,
                            y: h.bottom
                        }],
                        side: x
                    }),
                    window.clearTimeout(l.current),
                    l.current = window.setTimeout( () => i.onPointerGraceIntentChange(null), 300)
                } else {
                    if (i.onTriggerLeave(m),
                    m.defaultPrevented)
                        return;
                    i.onPointerGraceIntentChange(null)
                }
            }
            )),
            onKeyDown: ne(e.onKeyDown, m => {
                var g;
                const h = i.searchRef.current !== "";
                e.disabled || h && m.key === " " || rD[s.dir].includes(m.key) && (n.onOpenChange(!0),
                (g = n.content) == null || g.focus(),
                m.preventDefault())
            }
            )
        })
    })
}
);
L1.displayName = Rl;
var F1 = "MenuSubContent"
  , $1 = u.forwardRef( (e, t) => {
    const n = b1(yr, e.__scopeMenu)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = zi(yr, e.__scopeMenu)
      , o = Yc(yr, e.__scopeMenu)
      , l = O1(F1, e.__scopeMenu)
      , c = u.useRef(null)
      , d = He(t, c);
    return r.jsx(xc.Provider, {
        scope: e.__scopeMenu,
        children: r.jsx(gn, {
            present: s || i.open,
            children: r.jsx(xc.Slot, {
                scope: e.__scopeMenu,
                children: r.jsx(cg, {
                    id: l.contentId,
                    "aria-labelledby": l.triggerId,
                    ...a,
                    ref: d,
                    align: "start",
                    side: o.dir === "rtl" ? "left" : "right",
                    disableOutsidePointerEvents: !1,
                    disableOutsideScroll: !1,
                    trapFocus: !1,
                    onOpenAutoFocus: f => {
                        var m;
                        o.isUsingKeyboardRef.current && ((m = c.current) == null || m.focus()),
                        f.preventDefault()
                    }
                    ,
                    onCloseAutoFocus: f => f.preventDefault(),
                    onFocusOutside: ne(e.onFocusOutside, f => {
                        f.target !== l.trigger && i.onOpenChange(!1)
                    }
                    ),
                    onEscapeKeyDown: ne(e.onEscapeKeyDown, f => {
                        o.onClose(),
                        f.preventDefault()
                    }
                    ),
                    onKeyDown: ne(e.onKeyDown, f => {
                        var g;
                        const m = f.currentTarget.contains(f.target)
                          , h = sD[o.dir].includes(f.key);
                        m && h && (i.onOpenChange(!1),
                        (g = l.trigger) == null || g.focus(),
                        f.preventDefault())
                    }
                    )
                })
            })
        })
    })
}
);
$1.displayName = F1;
function z1(e) {
    return e ? "open" : "closed"
}
function Mu(e) {
    return e === "indeterminate"
}
function fg(e) {
    return Mu(e) ? "indeterminate" : e ? "checked" : "unchecked"
}
function SD(e) {
    const t = document.activeElement;
    for (const n of e)
        if (n === t || (n.focus(),
        document.activeElement !== t))
            return
}
function CD(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
function kD(e, t, n) {
    const a = t.length > 1 && Array.from(t).every(d => d === t[0]) ? t[0] : t
      , i = n ? e.indexOf(n) : -1;
    let o = CD(e, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== n));
    const c = o.find(d => d.toLowerCase().startsWith(a.toLowerCase()));
    return c !== n ? c : void 0
}
function ED(e, t) {
    const {x: n, y: s} = e;
    let a = !1;
    for (let i = 0, o = t.length - 1; i < t.length; o = i++) {
        const l = t[i].x
          , c = t[i].y
          , d = t[o].x
          , f = t[o].y;
        c > s != f > s && n < (d - l) * (s - c) / (f - c) + l && (a = !a)
    }
    return a
}
function TD(e, t) {
    if (!t)
        return !1;
    const n = {
        x: e.clientX,
        y: e.clientY
    };
    return ED(n, t)
}
function gc(e) {
    return t => t.pointerType === "mouse" ? e(t) : void 0
}
var _D = w1
  , PD = ig
  , RD = N1
  , AD = S1
  , MD = dg
  , ID = C1
  , DD = If
  , OD = E1
  , LD = _1
  , FD = R1
  , $D = M1
  , zD = I1
  , VD = D1
  , UD = L1
  , WD = $1
  , mg = "DropdownMenu"
  , [BD,n5] = En(mg, [y1])
  , Ln = y1()
  , [HD,V1] = BD(mg)
  , U1 = e => {
    const {__scopeDropdownMenu: t, children: n, dir: s, open: a, defaultOpen: i, onOpenChange: o, modal: l=!0} = e
      , c = Ln(t)
      , d = u.useRef(null)
      , [f=!1,m] = vs({
        prop: a,
        defaultProp: i,
        onChange: o
    });
    return r.jsx(HD, {
        scope: t,
        triggerId: zr(),
        triggerRef: d,
        contentId: zr(),
        open: f,
        onOpenChange: m,
        onOpenToggle: u.useCallback( () => m(h => !h), [m]),
        modal: l,
        children: r.jsx(_D, {
            ...c,
            open: f,
            onOpenChange: m,
            dir: s,
            modal: l,
            children: n
        })
    })
}
;
U1.displayName = mg;
var W1 = "DropdownMenuTrigger"
  , B1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, disabled: s=!1, ...a} = e
      , i = V1(W1, n)
      , o = Ln(n);
    return r.jsx(PD, {
        asChild: !0,
        ...o,
        children: r.jsx(Ce.button, {
            type: "button",
            id: i.triggerId,
            "aria-haspopup": "menu",
            "aria-expanded": i.open,
            "aria-controls": i.open ? i.contentId : void 0,
            "data-state": i.open ? "open" : "closed",
            "data-disabled": s ? "" : void 0,
            disabled: s,
            ...a,
            ref: xf(t, i.triggerRef),
            onPointerDown: ne(e.onPointerDown, l => {
                !s && l.button === 0 && l.ctrlKey === !1 && (i.onOpenToggle(),
                i.open || l.preventDefault())
            }
            ),
            onKeyDown: ne(e.onKeyDown, l => {
                s || (["Enter", " "].includes(l.key) && i.onOpenToggle(),
                l.key === "ArrowDown" && i.onOpenChange(!0),
                ["Enter", " ", "ArrowDown"].includes(l.key) && l.preventDefault())
            }
            )
        })
    })
}
);
B1.displayName = W1;
var qD = "DropdownMenuPortal"
  , H1 = e => {
    const {__scopeDropdownMenu: t, ...n} = e
      , s = Ln(t);
    return r.jsx(RD, {
        ...s,
        ...n
    })
}
;
H1.displayName = qD;
var q1 = "DropdownMenuContent"
  , K1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = V1(q1, n)
      , i = Ln(n)
      , o = u.useRef(!1);
    return r.jsx(AD, {
        id: a.contentId,
        "aria-labelledby": a.triggerId,
        ...i,
        ...s,
        ref: t,
        onCloseAutoFocus: ne(e.onCloseAutoFocus, l => {
            var c;
            o.current || (c = a.triggerRef.current) == null || c.focus(),
            o.current = !1,
            l.preventDefault()
        }
        ),
        onInteractOutside: ne(e.onInteractOutside, l => {
            const c = l.detail.originalEvent
              , d = c.button === 0 && c.ctrlKey === !0
              , f = c.button === 2 || d;
            (!a.modal || f) && (o.current = !0)
        }
        ),
        style: {
            ...e.style,
            "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
            "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
            "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
K1.displayName = q1;
var KD = "DropdownMenuGroup"
  , QD = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(MD, {
        ...a,
        ...s,
        ref: t
    })
}
);
QD.displayName = KD;
var GD = "DropdownMenuLabel"
  , Q1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(ID, {
        ...a,
        ...s,
        ref: t
    })
}
);
Q1.displayName = GD;
var ZD = "DropdownMenuItem"
  , G1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(DD, {
        ...a,
        ...s,
        ref: t
    })
}
);
G1.displayName = ZD;
var YD = "DropdownMenuCheckboxItem"
  , Z1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(OD, {
        ...a,
        ...s,
        ref: t
    })
}
);
Z1.displayName = YD;
var XD = "DropdownMenuRadioGroup"
  , JD = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(LD, {
        ...a,
        ...s,
        ref: t
    })
}
);
JD.displayName = XD;
var e4 = "DropdownMenuRadioItem"
  , Y1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(FD, {
        ...a,
        ...s,
        ref: t
    })
}
);
Y1.displayName = e4;
var t4 = "DropdownMenuItemIndicator"
  , X1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx($D, {
        ...a,
        ...s,
        ref: t
    })
}
);
X1.displayName = t4;
var n4 = "DropdownMenuSeparator"
  , J1 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(zD, {
        ...a,
        ...s,
        ref: t
    })
}
);
J1.displayName = n4;
var r4 = "DropdownMenuArrow"
  , s4 = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(VD, {
        ...a,
        ...s,
        ref: t
    })
}
);
s4.displayName = r4;
var a4 = "DropdownMenuSubTrigger"
  , eS = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(UD, {
        ...a,
        ...s,
        ref: t
    })
}
);
eS.displayName = a4;
var i4 = "DropdownMenuSubContent"
  , tS = u.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = Ln(n);
    return r.jsx(WD, {
        ...a,
        ...s,
        ref: t,
        style: {
            ...e.style,
            "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
            "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
            "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
tS.displayName = i4;
var o4 = U1
  , l4 = B1
  , c4 = H1
  , nS = K1
  , rS = Q1
  , sS = G1
  , aS = Z1
  , iS = Y1
  , oS = X1
  , lS = J1
  , cS = eS
  , dS = tS;
const uS = o4
  , fS = l4
  , d4 = u.forwardRef( ({className: e, inset: t, children: n, ...s}, a) => r.jsxs(cS, {
    ref: a,
    className: le("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", t && "pl-8", e),
    ...s,
    children: [n, r.jsx(ku, {
        className: "ml-auto"
    })]
}));
d4.displayName = cS.displayName;
const u4 = u.forwardRef( ({className: e, ...t}, n) => r.jsx(dS, {
    ref: n,
    className: le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", e),
    ...t
}));
u4.displayName = dS.displayName;
const hg = u.forwardRef( ({className: e, sideOffset: t=4, ...n}, s) => r.jsx(c4, {
    children: r.jsx(nS, {
        ref: s,
        sideOffset: t,
        className: le("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", e),
        ...n
    })
}));
hg.displayName = nS.displayName;
const vc = u.forwardRef( ({className: e, inset: t, ...n}, s) => r.jsx(sS, {
    ref: s,
    className: le("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", t && "pl-8", e),
    ...n
}));
vc.displayName = sS.displayName;
const f4 = u.forwardRef( ({className: e, children: t, checked: n, ...s}, a) => r.jsxs(aS, {
    ref: a,
    className: le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    checked: n,
    ...s,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(oS, {
            children: r.jsx(jf, {
                className: "h-4 w-4"
            })
        })
    }), t]
}));
f4.displayName = aS.displayName;
const m4 = u.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(iS, {
    ref: s,
    className: le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    ...n,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(oS, {
            children: r.jsx(Kb, {
                className: "h-2 w-2 fill-current"
            })
        })
    }), t]
}));
m4.displayName = iS.displayName;
const mS = u.forwardRef( ({className: e, inset: t, ...n}, s) => r.jsx(rS, {
    ref: s,
    className: le("px-2 py-1.5 text-sm font-semibold", t && "pl-8", e),
    ...n
}));
mS.displayName = rS.displayName;
const gp = u.forwardRef( ({className: e, ...t}, n) => r.jsx(lS, {
    ref: n,
    className: le("-mx-1 my-1 h-px bg-muted", e),
    ...t
}));
gp.displayName = lS.displayName;
const h4 = Kc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ", {
    variants: {
        variant: {
            default: "border-transparent bg-primary text-primary-foreground shadow-xs",
            secondary: "border-transparent bg-secondary text-secondary-foreground",
            destructive: "border-transparent bg-destructive text-destructive-foreground shadow-xs",
            outline: " border [border-color:var(--badge-outline)] shadow-xs"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
function he({className: e, variant: t, ...n}) {
    return r.jsx("div", {
        className: le(h4({
            variant: t
        }), e),
        ...n
    })
}
function p4({userId: e}) {
    const [,t] = Zn()
      , {data: n} = Ge({
        queryKey: [`/api/notifications/unread-count?userId=${e}`],
        enabled: !!e,
        refetchInterval: 3e4
    })
      , s = (n == null ? void 0 : n.count) || 0;
    return r.jsxs(M, {
        variant: "ghost",
        size: "icon",
        className: "relative",
        onClick: () => t("/notifications"),
        "data-testid": "button-notifications",
        children: [r.jsx(Cu, {
            className: "h-5 w-5"
        }), s > 0 && r.jsx(he, {
            variant: "destructive",
            className: "absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",
            "data-testid": "badge-unread-count",
            children: s > 9 ? "9+" : s
        })]
    })
}
function x4({userId: e}) {
    const [,t] = Zn()
      , {data: n} = Ge({
        queryKey: [`/api/chat/unread-count?userId=${e}`],
        refetchInterval: 5e3
    })
      , s = (n == null ? void 0 : n.count) || 0;
    return r.jsxs(M, {
        variant: "ghost",
        size: "icon",
        onClick: () => t("/messages"),
        className: "relative",
        "data-testid": "button-messages",
        children: [r.jsx(rr, {
            className: "h-5 w-5"
        }), s > 0 && r.jsx("span", {
            className: "absolute -top-1 -right-1 bg-destructive text-destructive-foreground text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center",
            "data-testid": "badge-unread-messages-count",
            children: s > 9 ? "9+" : s
        })]
    })
}
var pg = "Dialog"
  , [hS,pS] = En(pg)
  , [g4,Qr] = hS(pg)
  , xS = e => {
    const {__scopeDialog: t, children: n, open: s, defaultOpen: a, onOpenChange: i, modal: o=!0} = e
      , l = u.useRef(null)
      , c = u.useRef(null)
      , [d=!1,f] = vs({
        prop: s,
        defaultProp: a,
        onChange: i
    });
    return r.jsx(g4, {
        scope: t,
        triggerRef: l,
        contentRef: c,
        contentId: zr(),
        titleId: zr(),
        descriptionId: zr(),
        open: d,
        onOpenChange: f,
        onOpenToggle: u.useCallback( () => f(m => !m), [f]),
        modal: o,
        children: n
    })
}
;
xS.displayName = pg;
var gS = "DialogTrigger"
  , vS = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Qr(gS, n)
      , i = He(t, a.triggerRef);
    return r.jsx(Ce.button, {
        type: "button",
        "aria-haspopup": "dialog",
        "aria-expanded": a.open,
        "aria-controls": a.contentId,
        "data-state": vg(a.open),
        ...s,
        ref: i,
        onClick: ne(e.onClick, a.onOpenToggle)
    })
}
);
vS.displayName = gS;
var xg = "DialogPortal"
  , [v4,yS] = hS(xg, {
    forceMount: void 0
})
  , jS = e => {
    const {__scopeDialog: t, forceMount: n, children: s, container: a} = e
      , i = Qr(xg, t);
    return r.jsx(v4, {
        scope: t,
        forceMount: n,
        children: u.Children.map(s, o => r.jsx(gn, {
            present: n || i.open,
            children: r.jsx(Hc, {
                asChild: !0,
                container: a,
                children: o
            })
        }))
    })
}
;
jS.displayName = xg;
var Iu = "DialogOverlay"
  , wS = u.forwardRef( (e, t) => {
    const n = yS(Iu, e.__scopeDialog)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = Qr(Iu, e.__scopeDialog);
    return i.modal ? r.jsx(gn, {
        present: s || i.open,
        children: r.jsx(j4, {
            ...a,
            ref: t
        })
    }) : null
}
);
wS.displayName = Iu;
var y4 = Ti("DialogOverlay.RemoveScroll")
  , j4 = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Qr(Iu, n);
    return r.jsx(Af, {
        as: y4,
        allowPinchZoom: !0,
        shards: [a.contentRef],
        children: r.jsx(Ce.div, {
            "data-state": vg(a.open),
            ...s,
            ref: t,
            style: {
                pointerEvents: "auto",
                ...s.style
            }
        })
    })
}
)
  , Pi = "DialogContent"
  , bS = u.forwardRef( (e, t) => {
    const n = yS(Pi, e.__scopeDialog)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = Qr(Pi, e.__scopeDialog);
    return r.jsx(gn, {
        present: s || i.open,
        children: i.modal ? r.jsx(w4, {
            ...a,
            ref: t
        }) : r.jsx(b4, {
            ...a,
            ref: t
        })
    })
}
);
bS.displayName = Pi;
var w4 = u.forwardRef( (e, t) => {
    const n = Qr(Pi, e.__scopeDialog)
      , s = u.useRef(null)
      , a = He(t, n.contentRef, s);
    return u.useEffect( () => {
        const i = s.current;
        if (i)
            return ag(i)
    }
    , []),
    r.jsx(NS, {
        ...e,
        ref: a,
        trapFocus: n.open,
        disableOutsidePointerEvents: !0,
        onCloseAutoFocus: ne(e.onCloseAutoFocus, i => {
            var o;
            i.preventDefault(),
            (o = n.triggerRef.current) == null || o.focus()
        }
        ),
        onPointerDownOutside: ne(e.onPointerDownOutside, i => {
            const o = i.detail.originalEvent
              , l = o.button === 0 && o.ctrlKey === !0;
            (o.button === 2 || l) && i.preventDefault()
        }
        ),
        onFocusOutside: ne(e.onFocusOutside, i => i.preventDefault())
    })
}
)
  , b4 = u.forwardRef( (e, t) => {
    const n = Qr(Pi, e.__scopeDialog)
      , s = u.useRef(!1)
      , a = u.useRef(!1);
    return r.jsx(NS, {
        ...e,
        ref: t,
        trapFocus: !1,
        disableOutsidePointerEvents: !1,
        onCloseAutoFocus: i => {
            var o, l;
            (o = e.onCloseAutoFocus) == null || o.call(e, i),
            i.defaultPrevented || (s.current || (l = n.triggerRef.current) == null || l.focus(),
            i.preventDefault()),
            s.current = !1,
            a.current = !1
        }
        ,
        onInteractOutside: i => {
            var c, d;
            (c = e.onInteractOutside) == null || c.call(e, i),
            i.defaultPrevented || (s.current = !0,
            i.detail.originalEvent.type === "pointerdown" && (a.current = !0));
            const o = i.target;
            ((d = n.triggerRef.current) == null ? void 0 : d.contains(o)) && i.preventDefault(),
            i.detail.originalEvent.type === "focusin" && a.current && i.preventDefault()
        }
    })
}
)
  , NS = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, trapFocus: s, onOpenAutoFocus: a, onCloseAutoFocus: i, ...o} = e
      , l = Qr(Pi, n)
      , c = u.useRef(null)
      , d = He(t, c);
    return sg(),
    r.jsxs(r.Fragment, {
        children: [r.jsx(Pf, {
            asChild: !0,
            loop: !0,
            trapped: s,
            onMountAutoFocus: a,
            onUnmountAutoFocus: i,
            children: r.jsx(nl, {
                role: "dialog",
                id: l.contentId,
                "aria-describedby": l.descriptionId,
                "aria-labelledby": l.titleId,
                "data-state": vg(l.open),
                ...o,
                ref: d,
                onDismiss: () => l.onOpenChange(!1)
            })
        }), r.jsxs(r.Fragment, {
            children: [r.jsx(S4, {
                titleId: l.titleId
            }), r.jsx(k4, {
                contentRef: c,
                descriptionId: l.descriptionId
            })]
        })]
    })
}
)
  , gg = "DialogTitle"
  , SS = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Qr(gg, n);
    return r.jsx(Ce.h2, {
        id: a.titleId,
        ...s,
        ref: t
    })
}
);
SS.displayName = gg;
var CS = "DialogDescription"
  , kS = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Qr(CS, n);
    return r.jsx(Ce.p, {
        id: a.descriptionId,
        ...s,
        ref: t
    })
}
);
kS.displayName = CS;
var ES = "DialogClose"
  , TS = u.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Qr(ES, n);
    return r.jsx(Ce.button, {
        type: "button",
        ...s,
        ref: t,
        onClick: ne(e.onClick, () => a.onOpenChange(!1))
    })
}
);
TS.displayName = ES;
function vg(e) {
    return e ? "open" : "closed"
}
var _S = "DialogTitleWarning"
  , [N4,PS] = vP(_S, {
    contentName: Pi,
    titleName: gg,
    docsSlug: "dialog"
})
  , S4 = ({titleId: e}) => {
    const t = PS(_S)
      , n = `\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;
    return u.useEffect( () => {
        e && (document.getElementById(e) || console.error(n))
    }
    , [n, e]),
    null
}
  , C4 = "DialogDescriptionWarning"
  , k4 = ({contentRef: e, descriptionId: t}) => {
    const s = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${PS(C4).contentName}}.`;
    return u.useEffect( () => {
        var i;
        const a = (i = e.current) == null ? void 0 : i.getAttribute("aria-describedby");
        t && a && (document.getElementById(t) || console.warn(s))
    }
    , [s, e, t]),
    null
}
  , RS = xS
  , E4 = vS
  , AS = jS
  , yg = wS
  , jg = bS
  , wg = SS
  , bg = kS
  , Ng = TS;
const yt = RS
  , T4 = AS
  , MS = u.forwardRef( ({className: e, ...t}, n) => r.jsx(yg, {
    ref: n,
    className: le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e),
    ...t
}));
MS.displayName = yg.displayName;
const pt = u.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(T4, {
    children: [r.jsx(MS, {}), r.jsxs(jg, {
        ref: s,
        className: le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e),
        ...n,
        children: [t, r.jsxs(Ng, {
            className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",
            children: [r.jsx(rl, {
                className: "h-4 w-4"
            }), r.jsx("span", {
                className: "sr-only",
                children: "Close"
            })]
        })]
    })]
}));
pt.displayName = jg.displayName;
const xt = ({className: e, ...t}) => r.jsx("div", {
    className: le("flex flex-col space-y-1.5 text-center sm:text-left", e),
    ...t
});
xt.displayName = "DialogHeader";
const xs = ({className: e, ...t}) => r.jsx("div", {
    className: le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e),
    ...t
});
xs.displayName = "DialogFooter";
const gt = u.forwardRef( ({className: e, ...t}, n) => r.jsx(wg, {
    ref: n,
    className: le("text-lg font-semibold leading-none tracking-tight", e),
    ...t
}));
gt.displayName = wg.displayName;
const Rt = u.forwardRef( ({className: e, ...t}, n) => r.jsx(bg, {
    ref: n,
    className: le("text-sm text-muted-foreground", e),
    ...t
}));
Rt.displayName = bg.displayName;
function _4({open: e, onOpenChange: t}) {
    const n = () => {
        window.open("https://wa.me/212664373534", "_blank")
    }
    ;
    return r.jsx(yt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(pt, {
            className: "max-w-[90vw] sm:max-w-md",
            children: [r.jsxs(xt, {
                children: [r.jsx(gt, {
                    className: "flex items-center gap-2 text-xl",
                    children: " Contactez-nous facilement"
                }), r.jsx(Rt, {
                    className: "text-base pt-2",
                    children: "Besoin d'aide ? crivez-nous directement sur WhatsApp."
                })]
            }), r.jsxs("div", {
                className: "py-6 space-y-4",
                children: [r.jsxs("div", {
                    className: "text-center",
                    children: [r.jsx("div", {
                        className: "inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#25D366]/10 mb-4",
                        children: r.jsx(ql, {
                            className: "h-10 w-10 text-[#25D366]"
                        })
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground mb-2",
                        children: "Notre quipe est disponible pour rpondre  toutes vos questions"
                    })]
                }), r.jsxs(M, {
                    onClick: n,
                    className: "w-full bg-[#25D366] hover:bg-[#25D366]/90 text-white gap-2 h-12 text-base shadow-lg",
                    "data-testid": "button-whatsapp",
                    children: [r.jsx(ql, {
                        className: "h-5 w-5"
                    }), "Ouvrir WhatsApp"]
                }), r.jsx("div", {
                    className: "text-center",
                    children: r.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: "+212 664 37 35 34"
                    })
                })]
            })]
        })
    })
}
function Fs({user: e, onNewRequest: t, onAnnounceReturn: n, onLogout: s}) {
    const [a,i] = Zn()
      , [o,l] = u.useState(!1)
      , d = e.role === "client" ? [{
        label: "Mes commandes",
        icon: Ut,
        href: "/"
    }, {
        label: "Comment a marche",
        icon: ky,
        href: "/how-it-works-client"
    }, {
        label: "Nous contacter",
        icon: ql,
        onClick: () => l(!0)
    }] : e.role === "transporter" ? [{
        label: "Tableau de bord",
        icon: Ut,
        href: "/"
    }, {
        label: "Mon Profil",
        icon: ip,
        href: "/transporter/profile"
    }, {
        label: "Paiements reus",
        icon: bR,
        href: "/transporter/payments"
    }, {
        label: "Mes avis clients",
        icon: Bs,
        href: "/transporter/ratings"
    }, {
        label: "Mon RIB",
        icon: Ls,
        href: "/transporter/rib"
    }, {
        label: "Comment a marche",
        icon: ky,
        href: "/how-it-works-transporter"
    }, {
        label: "Nous contacter",
        icon: ql,
        onClick: () => l(!0)
    }] : e.role === "admin" ? [{
        label: "Tableau de bord",
        icon: Ut,
        href: "/"
    }, {
        label: "Nous contacter",
        icon: ql,
        onClick: () => l(!0)
    }] : [];
    return r.jsxs("header", {
        className: "sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",
        children: [r.jsxs("div", {
            className: "container flex h-16 items-center justify-between px-4 md:px-6",
            children: [r.jsxs("div", {
                className: "flex items-center gap-6",
                children: [r.jsxs("div", {
                    onClick: () => i("/"),
                    className: "flex items-center gap-2 font-bold text-xl hover:opacity-80 transition-opacity cursor-pointer",
                    children: [r.jsx("div", {
                        className: "w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground",
                        children: "C"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "CamionBack"
                    })]
                }), r.jsx("nav", {
                    className: "hidden md:flex items-center gap-1",
                    children: d.map( (f, m) => {
                        const h = f.icon
                          , g = f.href && a === f.href;
                        return r.jsxs(M, {
                            onClick: () => f.onClick ? f.onClick() : f.href && i(f.href),
                            variant: g ? "secondary" : "ghost",
                            size: "sm",
                            className: "gap-2",
                            "data-testid": `nav-${f.label.toLowerCase().replace(/\s+/g, "-")}`,
                            children: [r.jsx(h, {
                                className: "h-4 w-4"
                            }), f.label]
                        }, f.href || m)
                    }
                    )
                })]
            }), r.jsxs("div", {
                className: "flex items-center gap-2",
                children: [e.role === "client" && t && r.jsxs(M, {
                    onClick: t,
                    size: "default",
                    className: "gap-2",
                    "data-testid": "button-new-request-header",
                    children: [r.jsx(sp, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Nouvelle demande"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Nouveau"
                    })]
                }), e.role === "transporter" && n && r.jsxs(M, {
                    onClick: n,
                    size: "default",
                    className: "gap-2 bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                    "data-testid": "button-announce-return-header",
                    children: [r.jsx(Xt, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Annoncer un retour"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Retour"
                    })]
                }), r.jsx(p4, {
                    userId: e.id
                }), r.jsx(x4, {
                    userId: e.id
                }), r.jsxs(uS, {
                    children: [r.jsx(fS, {
                        asChild: !0,
                        children: r.jsx(M, {
                            variant: "ghost",
                            size: "icon",
                            "data-testid": "button-user-menu",
                            children: r.jsx(vR, {
                                className: "h-5 w-5"
                            })
                        })
                    }), r.jsxs(hg, {
                        align: "end",
                        className: "w-56",
                        children: [r.jsx(mS, {
                            children: r.jsxs("div", {
                                className: "flex flex-col",
                                children: [r.jsx("span", {
                                    className: "font-medium",
                                    children: e.role === "client" && e.clientId ? e.clientId : e.name || "Utilisateur"
                                }), r.jsx("span", {
                                    className: "text-xs text-muted-foreground capitalize",
                                    children: e.role
                                })]
                            })
                        }), r.jsx(gp, {}), r.jsxs("div", {
                            className: "md:hidden",
                            children: [d.map( (f, m) => {
                                const h = f.icon
                                  , g = `nav-mobile-${f.label.toLowerCase().replace(/\s+/g, "-")}`;
                                return r.jsxs(vc, {
                                    onClick: () => f.onClick ? f.onClick() : f.href && i(f.href),
                                    className: "gap-2 cursor-pointer",
                                    "data-testid": g,
                                    children: [r.jsx(h, {
                                        className: "h-4 w-4"
                                    }), f.label]
                                }, f.href || m)
                            }
                            ), r.jsx(gp, {})]
                        }), r.jsxs(vc, {
                            onClick: s,
                            className: "gap-2 cursor-pointer text-destructive focus:text-destructive hover:bg-destructive/10 transition-all duration-200 font-medium",
                            "data-testid": "button-logout",
                            children: [r.jsx(xR, {
                                className: "h-4 w-4"
                            }), "Se dconnecter"]
                        })]
                    })]
                })]
            })]
        }), r.jsx(_4, {
            open: o,
            onOpenChange: l
        })]
    })
}
var Xc = e => e.type === "checkbox"
  , ri = e => e instanceof Date
  , An = e => e == null;
const IS = e => typeof e == "object";
var Kt = e => !An(e) && !Array.isArray(e) && IS(e) && !ri(e)
  , DS = e => Kt(e) && e.target ? Xc(e.target) ? e.target.checked : e.target.value : e
  , P4 = e => e.substring(0, e.search(/\.\d+(\.|$)/)) || e
  , OS = (e, t) => e.has(P4(t))
  , R4 = e => {
    const t = e.constructor && e.constructor.prototype;
    return Kt(t) && t.hasOwnProperty("isPrototypeOf")
}
  , Sg = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function mn(e) {
    let t;
    const n = Array.isArray(e)
      , s = typeof FileList < "u" ? e instanceof FileList : !1;
    if (e instanceof Date)
        t = new Date(e);
    else if (e instanceof Set)
        t = new Set(e);
    else if (!(Sg && (e instanceof Blob || s)) && (n || Kt(e)))
        if (t = n ? [] : {},
        !n && !R4(e))
            t = e;
        else
            for (const a in e)
                e.hasOwnProperty(a) && (t[a] = mn(e[a]));
    else
        return e;
    return t
}
var Df = e => Array.isArray(e) ? e.filter(Boolean) : []
  , Wt = e => e === void 0
  , ie = (e, t, n) => {
    if (!t || !Kt(e))
        return n;
    const s = Df(t.split(/[,[\].]+?/)).reduce( (a, i) => An(a) ? a : a[i], e);
    return Wt(s) || s === e ? Wt(e[t]) ? n : e[t] : s
}
  , Jn = e => typeof e == "boolean"
  , Cg = e => /^\w*$/.test(e)
  , LS = e => Df(e.replace(/["|']|\]/g, "").split(/\.|\[/))
  , ft = (e, t, n) => {
    let s = -1;
    const a = Cg(t) ? [t] : LS(t)
      , i = a.length
      , o = i - 1;
    for (; ++s < i; ) {
        const l = a[s];
        let c = n;
        if (s !== o) {
            const d = e[l];
            c = Kt(d) || Array.isArray(d) ? d : isNaN(+a[s + 1]) ? {} : []
        }
        if (l === "__proto__" || l === "constructor" || l === "prototype")
            return;
        e[l] = c,
        e = e[l]
    }
}
;
const Du = {
    BLUR: "blur",
    FOCUS_OUT: "focusout",
    CHANGE: "change"
}
  , Ir = {
    onBlur: "onBlur",
    onChange: "onChange",
    onSubmit: "onSubmit",
    onTouched: "onTouched",
    all: "all"
}
  , ks = {
    max: "max",
    min: "min",
    maxLength: "maxLength",
    minLength: "minLength",
    pattern: "pattern",
    required: "required",
    validate: "validate"
}
  , FS = Ue.createContext(null)
  , Of = () => Ue.useContext(FS)
  , A4 = e => {
    const {children: t, ...n} = e;
    return Ue.createElement(FS.Provider, {
        value: n
    }, t)
}
;
var $S = (e, t, n, s=!0) => {
    const a = {
        defaultValues: t._defaultValues
    };
    for (const i in e)
        Object.defineProperty(a, i, {
            get: () => {
                const o = i;
                return t._proxyFormState[o] !== Ir.all && (t._proxyFormState[o] = !s || Ir.all),
                n && (n[o] = !0),
                e[o]
            }
        });
    return a
}
;
function M4(e) {
    const t = Of()
      , {control: n=t.control, disabled: s, name: a, exact: i} = e || {}
      , [o,l] = Ue.useState(n._formState)
      , c = Ue.useRef({
        isDirty: !1,
        isLoading: !1,
        dirtyFields: !1,
        touchedFields: !1,
        validatingFields: !1,
        isValidating: !1,
        isValid: !1,
        errors: !1
    })
      , d = Ue.useRef(a);
    return d.current = a,
    Ue.useEffect( () => n._subscribe({
        name: d.current,
        formState: c.current,
        exact: i,
        callback: f => {
            !s && l({
                ...n._formState,
                ...f
            })
        }
    }), [n, s, i]),
    Ue.useEffect( () => {
        c.current.isValid && n._setValid(!0)
    }
    , [n]),
    Ue.useMemo( () => $S(o, n, c.current, !1), [o, n])
}
var us = e => typeof e == "string"
  , zS = (e, t, n, s, a) => us(e) ? (s && t.watch.add(e),
ie(n, e, a)) : Array.isArray(e) ? e.map(i => (s && t.watch.add(i),
ie(n, i))) : (s && (t.watchAll = !0),
n);
function I4(e) {
    const t = Of()
      , {control: n=t.control, name: s, defaultValue: a, disabled: i, exact: o} = e || {}
      , l = Ue.useRef(s)
      , c = Ue.useRef(a);
    l.current = s,
    Ue.useEffect( () => n._subscribe({
        name: l.current,
        formState: {
            values: !0
        },
        exact: o,
        callback: m => !i && f(zS(l.current, n._names, m.values || n._formValues, !1, c.current))
    }), [n, i, o]);
    const [d,f] = Ue.useState(n._getWatch(s, a));
    return Ue.useEffect( () => n._removeUnmounted()),
    d
}
function D4(e) {
    const t = Of()
      , {name: n, disabled: s, control: a=t.control, shouldUnregister: i} = e
      , o = OS(a._names.array, n)
      , l = I4({
        control: a,
        name: n,
        defaultValue: ie(a._formValues, n, ie(a._defaultValues, n, e.defaultValue)),
        exact: !0
    })
      , c = M4({
        control: a,
        name: n,
        exact: !0
    })
      , d = Ue.useRef(e)
      , f = Ue.useRef(a.register(n, {
        ...e.rules,
        value: l,
        ...Jn(e.disabled) ? {
            disabled: e.disabled
        } : {}
    }))
      , m = Ue.useMemo( () => Object.defineProperties({}, {
        invalid: {
            enumerable: !0,
            get: () => !!ie(c.errors, n)
        },
        isDirty: {
            enumerable: !0,
            get: () => !!ie(c.dirtyFields, n)
        },
        isTouched: {
            enumerable: !0,
            get: () => !!ie(c.touchedFields, n)
        },
        isValidating: {
            enumerable: !0,
            get: () => !!ie(c.validatingFields, n)
        },
        error: {
            enumerable: !0,
            get: () => ie(c.errors, n)
        }
    }), [c, n])
      , h = Ue.useCallback(y => f.current.onChange({
        target: {
            value: DS(y),
            name: n
        },
        type: Du.CHANGE
    }), [n])
      , g = Ue.useCallback( () => f.current.onBlur({
        target: {
            value: ie(a._formValues, n),
            name: n
        },
        type: Du.BLUR
    }), [n, a._formValues])
      , w = Ue.useCallback(y => {
        const v = ie(a._fields, n);
        v && y && (v._f.ref = {
            focus: () => y.focus(),
            select: () => y.select(),
            setCustomValidity: p => y.setCustomValidity(p),
            reportValidity: () => y.reportValidity()
        })
    }
    , [a._fields, n])
      , x = Ue.useMemo( () => ({
        name: n,
        value: l,
        ...Jn(s) || c.disabled ? {
            disabled: c.disabled || s
        } : {},
        onChange: h,
        onBlur: g,
        ref: w
    }), [n, s, c.disabled, h, g, w, l]);
    return Ue.useEffect( () => {
        const y = a._options.shouldUnregister || i;
        a.register(n, {
            ...d.current.rules,
            ...Jn(d.current.disabled) ? {
                disabled: d.current.disabled
            } : {}
        });
        const v = (p, j) => {
            const N = ie(a._fields, p);
            N && N._f && (N._f.mount = j)
        }
        ;
        if (v(n, !0),
        y) {
            const p = mn(ie(a._options.defaultValues, n));
            ft(a._defaultValues, n, p),
            Wt(ie(a._formValues, n)) && ft(a._formValues, n, p)
        }
        return !o && a.register(n),
        () => {
            (o ? y && !a._state.action : y) ? a.unregister(n) : v(n, !1)
        }
    }
    , [n, a, o, i]),
    Ue.useEffect( () => {
        a._setDisabledField({
            disabled: s,
            name: n
        })
    }
    , [s, n, a]),
    Ue.useMemo( () => ({
        field: x,
        formState: c,
        fieldState: m
    }), [x, c, m])
}
const O4 = e => e.render(D4(e));
var VS = (e, t, n, s, a) => t ? {
    ...n[e],
    types: {
        ...n[e] && n[e].types ? n[e].types : {},
        [s]: a || !0
    }
} : {}
  , Kl = e => Array.isArray(e) ? e : [e]
  , Zy = () => {
    let e = [];
    return {
        get observers() {
            return e
        },
        next: a => {
            for (const i of e)
                i.next && i.next(a)
        }
        ,
        subscribe: a => (e.push(a),
        {
            unsubscribe: () => {
                e = e.filter(i => i !== a)
            }
        }),
        unsubscribe: () => {
            e = []
        }
    }
}
  , vp = e => An(e) || !IS(e);
function ca(e, t) {
    if (vp(e) || vp(t))
        return e === t;
    if (ri(e) && ri(t))
        return e.getTime() === t.getTime();
    const n = Object.keys(e)
      , s = Object.keys(t);
    if (n.length !== s.length)
        return !1;
    for (const a of n) {
        const i = e[a];
        if (!s.includes(a))
            return !1;
        if (a !== "ref") {
            const o = t[a];
            if (ri(i) && ri(o) || Kt(i) && Kt(o) || Array.isArray(i) && Array.isArray(o) ? !ca(i, o) : i !== o)
                return !1
        }
    }
    return !0
}
var Pn = e => Kt(e) && !Object.keys(e).length
  , kg = e => e.type === "file"
  , Dr = e => typeof e == "function"
  , Ou = e => {
    if (!Sg)
        return !1;
    const t = e ? e.ownerDocument : 0;
    return e instanceof (t && t.defaultView ? t.defaultView.HTMLElement : HTMLElement)
}
  , US = e => e.type === "select-multiple"
  , Eg = e => e.type === "radio"
  , L4 = e => Eg(e) || Xc(e)
  , Bm = e => Ou(e) && e.isConnected;
function F4(e, t) {
    const n = t.slice(0, -1).length;
    let s = 0;
    for (; s < n; )
        e = Wt(e) ? s++ : e[t[s++]];
    return e
}
function $4(e) {
    for (const t in e)
        if (e.hasOwnProperty(t) && !Wt(e[t]))
            return !1;
    return !0
}
function nn(e, t) {
    const n = Array.isArray(t) ? t : Cg(t) ? [t] : LS(t)
      , s = n.length === 1 ? e : F4(e, n)
      , a = n.length - 1
      , i = n[a];
    return s && delete s[i],
    a !== 0 && (Kt(s) && Pn(s) || Array.isArray(s) && $4(s)) && nn(e, n.slice(0, -1)),
    e
}
var WS = e => {
    for (const t in e)
        if (Dr(e[t]))
            return !0;
    return !1
}
;
function Lu(e, t={}) {
    const n = Array.isArray(e);
    if (Kt(e) || n)
        for (const s in e)
            Array.isArray(e[s]) || Kt(e[s]) && !WS(e[s]) ? (t[s] = Array.isArray(e[s]) ? [] : {},
            Lu(e[s], t[s])) : An(e[s]) || (t[s] = !0);
    return t
}
function BS(e, t, n) {
    const s = Array.isArray(e);
    if (Kt(e) || s)
        for (const a in e)
            Array.isArray(e[a]) || Kt(e[a]) && !WS(e[a]) ? Wt(t) || vp(n[a]) ? n[a] = Array.isArray(e[a]) ? Lu(e[a], []) : {
                ...Lu(e[a])
            } : BS(e[a], An(t) ? {} : t[a], n[a]) : n[a] = !ca(e[a], t[a]);
    return n
}
var Sl = (e, t) => BS(e, t, Lu(t));
const Yy = {
    value: !1,
    isValid: !1
}
  , Xy = {
    value: !0,
    isValid: !0
};
var HS = e => {
    if (Array.isArray(e)) {
        if (e.length > 1) {
            const t = e.filter(n => n && n.checked && !n.disabled).map(n => n.value);
            return {
                value: t,
                isValid: !!t.length
            }
        }
        return e[0].checked && !e[0].disabled ? e[0].attributes && !Wt(e[0].attributes.value) ? Wt(e[0].value) || e[0].value === "" ? Xy : {
            value: e[0].value,
            isValid: !0
        } : Xy : Yy
    }
    return Yy
}
  , qS = (e, {valueAsNumber: t, valueAsDate: n, setValueAs: s}) => Wt(e) ? e : t ? e === "" ? NaN : e && +e : n && us(e) ? new Date(e) : s ? s(e) : e;
const Jy = {
    isValid: !1,
    value: null
};
var KS = e => Array.isArray(e) ? e.reduce( (t, n) => n && n.checked && !n.disabled ? {
    isValid: !0,
    value: n.value
} : t, Jy) : Jy;
function ej(e) {
    const t = e.ref;
    return kg(t) ? t.files : Eg(t) ? KS(e.refs).value : US(t) ? [...t.selectedOptions].map( ({value: n}) => n) : Xc(t) ? HS(e.refs).value : qS(Wt(t.value) ? e.ref.value : t.value, e)
}
var z4 = (e, t, n, s) => {
    const a = {};
    for (const i of e) {
        const o = ie(t, i);
        o && ft(a, i, o._f)
    }
    return {
        criteriaMode: n,
        names: [...e],
        fields: a,
        shouldUseNativeValidation: s
    }
}
  , Fu = e => e instanceof RegExp
  , Cl = e => Wt(e) ? e : Fu(e) ? e.source : Kt(e) ? Fu(e.value) ? e.value.source : e.value : e
  , tj = e => ({
    isOnSubmit: !e || e === Ir.onSubmit,
    isOnBlur: e === Ir.onBlur,
    isOnChange: e === Ir.onChange,
    isOnAll: e === Ir.all,
    isOnTouch: e === Ir.onTouched
});
const nj = "AsyncFunction";
var V4 = e => !!e && !!e.validate && !!(Dr(e.validate) && e.validate.constructor.name === nj || Kt(e.validate) && Object.values(e.validate).find(t => t.constructor.name === nj))
  , U4 = e => e.mount && (e.required || e.min || e.max || e.maxLength || e.minLength || e.pattern || e.validate)
  , rj = (e, t, n) => !n && (t.watchAll || t.watch.has(e) || [...t.watch].some(s => e.startsWith(s) && /^\.\w+/.test(e.slice(s.length))));
const Ql = (e, t, n, s) => {
    for (const a of n || Object.keys(e)) {
        const i = ie(e, a);
        if (i) {
            const {_f: o, ...l} = i;
            if (o) {
                if (o.refs && o.refs[0] && t(o.refs[0], a) && !s)
                    return !0;
                if (o.ref && t(o.ref, o.name) && !s)
                    return !0;
                if (Ql(l, t))
                    break
            } else if (Kt(l) && Ql(l, t))
                break
        }
    }
}
;
function sj(e, t, n) {
    const s = ie(e, n);
    if (s || Cg(n))
        return {
            error: s,
            name: n
        };
    const a = n.split(".");
    for (; a.length; ) {
        const i = a.join(".")
          , o = ie(t, i)
          , l = ie(e, i);
        if (o && !Array.isArray(o) && n !== i)
            return {
                name: n
            };
        if (l && l.type)
            return {
                name: i,
                error: l
            };
        a.pop()
    }
    return {
        name: n
    }
}
var W4 = (e, t, n, s) => {
    n(e);
    const {name: a, ...i} = e;
    return Pn(i) || Object.keys(i).length >= Object.keys(t).length || Object.keys(i).find(o => t[o] === (!s || Ir.all))
}
  , B4 = (e, t, n) => !e || !t || e === t || Kl(e).some(s => s && (n ? s === t : s.startsWith(t) || t.startsWith(s)))
  , H4 = (e, t, n, s, a) => a.isOnAll ? !1 : !n && a.isOnTouch ? !(t || e) : (n ? s.isOnBlur : a.isOnBlur) ? !e : (n ? s.isOnChange : a.isOnChange) ? e : !0
  , q4 = (e, t) => !Df(ie(e, t)).length && nn(e, t)
  , K4 = (e, t, n) => {
    const s = Kl(ie(e, n));
    return ft(s, "root", t[n]),
    ft(e, n, s),
    e
}
  , Xd = e => us(e);
function aj(e, t, n="validate") {
    if (Xd(e) || Array.isArray(e) && e.every(Xd) || Jn(e) && !e)
        return {
            type: n,
            message: Xd(e) ? e : "",
            ref: t
        }
}
var Ki = e => Kt(e) && !Fu(e) ? e : {
    value: e,
    message: ""
}
  , ij = async (e, t, n, s, a, i) => {
    const {ref: o, refs: l, required: c, maxLength: d, minLength: f, min: m, max: h, pattern: g, validate: w, name: x, valueAsNumber: y, mount: v} = e._f
      , p = ie(n, x);
    if (!v || t.has(x))
        return {};
    const j = l ? l[0] : o
      , N = R => {
        a && j.reportValidity && (j.setCustomValidity(Jn(R) ? "" : R || ""),
        j.reportValidity())
    }
      , S = {}
      , k = Eg(o)
      , C = Xc(o)
      , E = k || C
      , A = (y || kg(o)) && Wt(o.value) && Wt(p) || Ou(o) && o.value === "" || p === "" || Array.isArray(p) && !p.length
      , z = VS.bind(null, x, s, S)
      , G = (R, B, U, J=ks.maxLength, q=ks.minLength) => {
        const pe = R ? B : U;
        S[x] = {
            type: R ? J : q,
            message: pe,
            ref: o,
            ...z(R ? J : q, pe)
        }
    }
    ;
    if (i ? !Array.isArray(p) || !p.length : c && (!E && (A || An(p)) || Jn(p) && !p || C && !HS(l).isValid || k && !KS(l).isValid)) {
        const {value: R, message: B} = Xd(c) ? {
            value: !!c,
            message: c
        } : Ki(c);
        if (R && (S[x] = {
            type: ks.required,
            message: B,
            ref: j,
            ...z(ks.required, B)
        },
        !s))
            return N(B),
            S
    }
    if (!A && (!An(m) || !An(h))) {
        let R, B;
        const U = Ki(h)
          , J = Ki(m);
        if (!An(p) && !isNaN(p)) {
            const q = o.valueAsNumber || p && +p;
            An(U.value) || (R = q > U.value),
            An(J.value) || (B = q < J.value)
        } else {
            const q = o.valueAsDate || new Date(p)
              , pe = W => new Date(new Date().toDateString() + " " + W)
              , D = o.type == "time"
              , V = o.type == "week";
            us(U.value) && p && (R = D ? pe(p) > pe(U.value) : V ? p > U.value : q > new Date(U.value)),
            us(J.value) && p && (B = D ? pe(p) < pe(J.value) : V ? p < J.value : q < new Date(J.value))
        }
        if ((R || B) && (G(!!R, U.message, J.message, ks.max, ks.min),
        !s))
            return N(S[x].message),
            S
    }
    if ((d || f) && !A && (us(p) || i && Array.isArray(p))) {
        const R = Ki(d)
          , B = Ki(f)
          , U = !An(R.value) && p.length > +R.value
          , J = !An(B.value) && p.length < +B.value;
        if ((U || J) && (G(U, R.message, B.message),
        !s))
            return N(S[x].message),
            S
    }
    if (g && !A && us(p)) {
        const {value: R, message: B} = Ki(g);
        if (Fu(R) && !p.match(R) && (S[x] = {
            type: ks.pattern,
            message: B,
            ref: o,
            ...z(ks.pattern, B)
        },
        !s))
            return N(B),
            S
    }
    if (w) {
        if (Dr(w)) {
            const R = await w(p, n)
              , B = aj(R, j);
            if (B && (S[x] = {
                ...B,
                ...z(ks.validate, B.message)
            },
            !s))
                return N(B.message),
                S
        } else if (Kt(w)) {
            let R = {};
            for (const B in w) {
                if (!Pn(R) && !s)
                    break;
                const U = aj(await w[B](p, n), j, B);
                U && (R = {
                    ...U,
                    ...z(B, U.message)
                },
                N(U.message),
                s && (S[x] = R))
            }
            if (!Pn(R) && (S[x] = {
                ref: j,
                ...R
            },
            !s))
                return S
        }
    }
    return N(!0),
    S
}
;
const Q4 = {
    mode: Ir.onSubmit,
    reValidateMode: Ir.onChange,
    shouldFocusError: !0
};
function G4(e={}) {
    let t = {
        ...Q4,
        ...e
    }
      , n = {
        submitCount: 0,
        isDirty: !1,
        isLoading: Dr(t.defaultValues),
        isValidating: !1,
        isSubmitted: !1,
        isSubmitting: !1,
        isSubmitSuccessful: !1,
        isValid: !1,
        touchedFields: {},
        dirtyFields: {},
        validatingFields: {},
        errors: t.errors || {},
        disabled: t.disabled || !1
    };
    const s = {};
    let a = Kt(t.defaultValues) || Kt(t.values) ? mn(t.values || t.defaultValues) || {} : {}, i = t.shouldUnregister ? {} : mn(a), o = {
        action: !1,
        mount: !1,
        watch: !1
    }, l = {
        mount: new Set,
        disabled: new Set,
        unMount: new Set,
        array: new Set,
        watch: new Set
    }, c, d = 0;
    const f = {
        isDirty: !1,
        dirtyFields: !1,
        validatingFields: !1,
        touchedFields: !1,
        isValidating: !1,
        isValid: !1,
        errors: !1
    };
    let m = {
        ...f
    };
    const h = {
        array: Zy(),
        state: Zy()
    }
      , g = tj(t.mode)
      , w = tj(t.reValidateMode)
      , x = t.criteriaMode === Ir.all
      , y = T => I => {
        clearTimeout(d),
        d = setTimeout(T, I)
    }
      , v = async T => {
        if (!t.disabled && (f.isValid || m.isValid || T)) {
            const I = t.resolver ? Pn((await A()).errors) : await G(s, !0);
            I !== n.isValid && h.state.next({
                isValid: I
            })
        }
    }
      , p = (T, I) => {
        !t.disabled && (f.isValidating || f.validatingFields || m.isValidating || m.validatingFields) && ((T || Array.from(l.mount)).forEach(F => {
            F && (I ? ft(n.validatingFields, F, I) : nn(n.validatingFields, F))
        }
        ),
        h.state.next({
            validatingFields: n.validatingFields,
            isValidating: !Pn(n.validatingFields)
        }))
    }
      , j = (T, I=[], F, ae, re=!0, Y=!0) => {
        if (ae && F && !t.disabled) {
            if (o.action = !0,
            Y && Array.isArray(ie(s, T))) {
                const se = F(ie(s, T), ae.argA, ae.argB);
                re && ft(s, T, se)
            }
            if (Y && Array.isArray(ie(n.errors, T))) {
                const se = F(ie(n.errors, T), ae.argA, ae.argB);
                re && ft(n.errors, T, se),
                q4(n.errors, T)
            }
            if ((f.touchedFields || m.touchedFields) && Y && Array.isArray(ie(n.touchedFields, T))) {
                const se = F(ie(n.touchedFields, T), ae.argA, ae.argB);
                re && ft(n.touchedFields, T, se)
            }
            (f.dirtyFields || m.dirtyFields) && (n.dirtyFields = Sl(a, i)),
            h.state.next({
                name: T,
                isDirty: B(T, I),
                dirtyFields: n.dirtyFields,
                errors: n.errors,
                isValid: n.isValid
            })
        } else
            ft(i, T, I)
    }
      , N = (T, I) => {
        ft(n.errors, T, I),
        h.state.next({
            errors: n.errors
        })
    }
      , S = T => {
        n.errors = T,
        h.state.next({
            errors: n.errors,
            isValid: !1
        })
    }
      , k = (T, I, F, ae) => {
        const re = ie(s, T);
        if (re) {
            const Y = ie(i, T, Wt(F) ? ie(a, T) : F);
            Wt(Y) || ae && ae.defaultChecked || I ? ft(i, T, I ? Y : ej(re._f)) : q(T, Y),
            o.mount && v()
        }
    }
      , C = (T, I, F, ae, re) => {
        let Y = !1
          , se = !1;
        const Oe = {
            name: T
        };
        if (!t.disabled) {
            if (!F || ae) {
                (f.isDirty || m.isDirty) && (se = n.isDirty,
                n.isDirty = Oe.isDirty = B(),
                Y = se !== Oe.isDirty);
                const nt = ca(ie(a, T), I);
                se = !!ie(n.dirtyFields, T),
                nt ? nn(n.dirtyFields, T) : ft(n.dirtyFields, T, !0),
                Oe.dirtyFields = n.dirtyFields,
                Y = Y || (f.dirtyFields || m.dirtyFields) && se !== !nt
            }
            if (F) {
                const nt = ie(n.touchedFields, T);
                nt || (ft(n.touchedFields, T, F),
                Oe.touchedFields = n.touchedFields,
                Y = Y || (f.touchedFields || m.touchedFields) && nt !== F)
            }
            Y && re && h.state.next(Oe)
        }
        return Y ? Oe : {}
    }
      , E = (T, I, F, ae) => {
        const re = ie(n.errors, T)
          , Y = (f.isValid || m.isValid) && Jn(I) && n.isValid !== I;
        if (t.delayError && F ? (c = y( () => N(T, F)),
        c(t.delayError)) : (clearTimeout(d),
        c = null,
        F ? ft(n.errors, T, F) : nn(n.errors, T)),
        (F ? !ca(re, F) : re) || !Pn(ae) || Y) {
            const se = {
                ...ae,
                ...Y && Jn(I) ? {
                    isValid: I
                } : {},
                errors: n.errors,
                name: T
            };
            n = {
                ...n,
                ...se
            },
            h.state.next(se)
        }
    }
      , A = async T => {
        p(T, !0);
        const I = await t.resolver(i, t.context, z4(T || l.mount, s, t.criteriaMode, t.shouldUseNativeValidation));
        return p(T),
        I
    }
      , z = async T => {
        const {errors: I} = await A(T);
        if (T)
            for (const F of T) {
                const ae = ie(I, F);
                ae ? ft(n.errors, F, ae) : nn(n.errors, F)
            }
        else
            n.errors = I;
        return I
    }
      , G = async (T, I, F={
        valid: !0
    }) => {
        for (const ae in T) {
            const re = T[ae];
            if (re) {
                const {_f: Y, ...se} = re;
                if (Y) {
                    const Oe = l.array.has(Y.name)
                      , nt = re._f && V4(re._f);
                    nt && f.validatingFields && p([ae], !0);
                    const L = await ij(re, l.disabled, i, x, t.shouldUseNativeValidation && !I, Oe);
                    if (nt && f.validatingFields && p([ae]),
                    L[Y.name] && (F.valid = !1,
                    I))
                        break;
                    !I && (ie(L, Y.name) ? Oe ? K4(n.errors, L, Y.name) : ft(n.errors, Y.name, L[Y.name]) : nn(n.errors, Y.name))
                }
                !Pn(se) && await G(se, I, F)
            }
        }
        return F.valid
    }
      , R = () => {
        for (const T of l.unMount) {
            const I = ie(s, T);
            I && (I._f.refs ? I._f.refs.every(F => !Bm(F)) : !Bm(I._f.ref)) && Ie(T)
        }
        l.unMount = new Set
    }
      , B = (T, I) => !t.disabled && (T && I && ft(i, T, I),
    !ca(ke(), a))
      , U = (T, I, F) => zS(T, l, {
        ...o.mount ? i : Wt(I) ? a : us(T) ? {
            [T]: I
        } : I
    }, F, I)
      , J = T => Df(ie(o.mount ? i : a, T, t.shouldUnregister ? ie(a, T, []) : []))
      , q = (T, I, F={}) => {
        const ae = ie(s, T);
        let re = I;
        if (ae) {
            const Y = ae._f;
            Y && (!Y.disabled && ft(i, T, qS(I, Y)),
            re = Ou(Y.ref) && An(I) ? "" : I,
            US(Y.ref) ? [...Y.ref.options].forEach(se => se.selected = re.includes(se.value)) : Y.refs ? Xc(Y.ref) ? Y.refs.length > 1 ? Y.refs.forEach(se => (!se.defaultChecked || !se.disabled) && (se.checked = Array.isArray(re) ? !!re.find(Oe => Oe === se.value) : re === se.value)) : Y.refs[0] && (Y.refs[0].checked = !!re) : Y.refs.forEach(se => se.checked = se.value === re) : kg(Y.ref) ? Y.ref.value = "" : (Y.ref.value = re,
            Y.ref.type || h.state.next({
                name: T,
                values: mn(i)
            })))
        }
        (F.shouldDirty || F.shouldTouch) && C(T, re, F.shouldTouch, F.shouldDirty, !0),
        F.shouldValidate && de(T)
    }
      , pe = (T, I, F) => {
        for (const ae in I) {
            const re = I[ae]
              , Y = `${T}.${ae}`
              , se = ie(s, Y);
            (l.array.has(T) || Kt(re) || se && !se._f) && !ri(re) ? pe(Y, re, F) : q(Y, re, F)
        }
    }
      , D = (T, I, F={}) => {
        const ae = ie(s, T)
          , re = l.array.has(T)
          , Y = mn(I);
        ft(i, T, Y),
        re ? (h.array.next({
            name: T,
            values: mn(i)
        }),
        (f.isDirty || f.dirtyFields || m.isDirty || m.dirtyFields) && F.shouldDirty && h.state.next({
            name: T,
            dirtyFields: Sl(a, i),
            isDirty: B(T, Y)
        })) : ae && !ae._f && !An(Y) ? pe(T, Y, F) : q(T, Y, F),
        rj(T, l) && h.state.next({
            ...n
        }),
        h.state.next({
            name: o.mount ? T : void 0,
            values: mn(i)
        })
    }
      , V = async T => {
        o.mount = !0;
        const I = T.target;
        let F = I.name
          , ae = !0;
        const re = ie(s, F)
          , Y = se => {
            ae = Number.isNaN(se) || ri(se) && isNaN(se.getTime()) || ca(se, ie(i, F, se))
        }
        ;
        if (re) {
            let se, Oe;
            const nt = I.type ? ej(re._f) : DS(T)
              , L = T.type === Du.BLUR || T.type === Du.FOCUS_OUT
              , _e = !U4(re._f) && !t.resolver && !ie(n.errors, F) && !re._f.deps || H4(L, ie(n.touchedFields, F), n.isSubmitted, w, g)
              , Ct = rj(F, l, L);
            ft(i, F, nt),
            L ? (re._f.onBlur && re._f.onBlur(T),
            c && c(0)) : re._f.onChange && re._f.onChange(T);
            const Lt = C(F, nt, L)
              , dr = !Pn(Lt) || Ct;
            if (!L && h.state.next({
                name: F,
                type: T.type,
                values: mn(i)
            }),
            _e)
                return (f.isValid || m.isValid) && (t.mode === "onBlur" ? L && v() : L || v()),
                dr && h.state.next({
                    name: F,
                    ...Ct ? {} : Lt
                });
            if (!L && Ct && h.state.next({
                ...n
            }),
            t.resolver) {
                const {errors: vn} = await A([F]);
                if (Y(nt),
                ae) {
                    const Zr = sj(n.errors, s, F)
                      , O = sj(vn, s, Zr.name || F);
                    se = O.error,
                    F = O.name,
                    Oe = Pn(vn)
                }
            } else
                p([F], !0),
                se = (await ij(re, l.disabled, i, x, t.shouldUseNativeValidation))[F],
                p([F]),
                Y(nt),
                ae && (se ? Oe = !1 : (f.isValid || m.isValid) && (Oe = await G(s, !0)));
            ae && (re._f.deps && de(re._f.deps),
            E(F, Oe, se, Lt))
        }
    }
      , W = (T, I) => {
        if (ie(n.errors, I) && T.focus)
            return T.focus(),
            1
    }
      , de = async (T, I={}) => {
        let F, ae;
        const re = Kl(T);
        if (t.resolver) {
            const Y = await z(Wt(T) ? T : re);
            F = Pn(Y),
            ae = T ? !re.some(se => ie(Y, se)) : F
        } else
            T ? (ae = (await Promise.all(re.map(async Y => {
                const se = ie(s, Y);
                return await G(se && se._f ? {
                    [Y]: se
                } : se)
            }
            ))).every(Boolean),
            !(!ae && !n.isValid) && v()) : ae = F = await G(s);
        return h.state.next({
            ...!us(T) || (f.isValid || m.isValid) && F !== n.isValid ? {} : {
                name: T
            },
            ...t.resolver || !T ? {
                isValid: F
            } : {},
            errors: n.errors
        }),
        I.shouldFocus && !ae && Ql(s, W, T ? re : l.mount),
        ae
    }
      , ke = T => {
        const I = {
            ...o.mount ? i : a
        };
        return Wt(T) ? I : us(T) ? ie(I, T) : T.map(F => ie(I, F))
    }
      , Ye = (T, I) => ({
        invalid: !!ie((I || n).errors, T),
        isDirty: !!ie((I || n).dirtyFields, T),
        error: ie((I || n).errors, T),
        isValidating: !!ie(n.validatingFields, T),
        isTouched: !!ie((I || n).touchedFields, T)
    })
      , at = T => {
        T && Kl(T).forEach(I => nn(n.errors, I)),
        h.state.next({
            errors: T ? n.errors : {}
        })
    }
      , ut = (T, I, F) => {
        const ae = (ie(s, T, {
            _f: {}
        })._f || {}).ref
          , re = ie(n.errors, T) || {}
          , {ref: Y, message: se, type: Oe, ...nt} = re;
        ft(n.errors, T, {
            ...nt,
            ...I,
            ref: ae
        }),
        h.state.next({
            name: T,
            errors: n.errors,
            isValid: !1
        }),
        F && F.shouldFocus && ae && ae.focus && ae.focus()
    }
      , we = (T, I) => Dr(T) ? h.state.subscribe({
        next: F => T(U(void 0, I), F)
    }) : U(T, I, !0)
      , $ = T => h.state.subscribe({
        next: I => {
            B4(T.name, I.name, T.exact) && W4(I, T.formState || f, Gt, T.reRenderRoot) && T.callback({
                values: {
                    ...i
                },
                ...n,
                ...I
            })
        }
    }).unsubscribe
      , te = T => (o.mount = !0,
    m = {
        ...m,
        ...T.formState
    },
    $({
        ...T,
        formState: m
    }))
      , Ie = (T, I={}) => {
        for (const F of T ? Kl(T) : l.mount)
            l.mount.delete(F),
            l.array.delete(F),
            I.keepValue || (nn(s, F),
            nn(i, F)),
            !I.keepError && nn(n.errors, F),
            !I.keepDirty && nn(n.dirtyFields, F),
            !I.keepTouched && nn(n.touchedFields, F),
            !I.keepIsValidating && nn(n.validatingFields, F),
            !t.shouldUnregister && !I.keepDefaultValue && nn(a, F);
        h.state.next({
            values: mn(i)
        }),
        h.state.next({
            ...n,
            ...I.keepDirty ? {
                isDirty: B()
            } : {}
        }),
        !I.keepIsValid && v()
    }
      , Le = ({disabled: T, name: I}) => {
        (Jn(T) && o.mount || T || l.disabled.has(I)) && (T ? l.disabled.add(I) : l.disabled.delete(I))
    }
      , Ve = (T, I={}) => {
        let F = ie(s, T);
        const ae = Jn(I.disabled) || Jn(t.disabled);
        return ft(s, T, {
            ...F || {},
            _f: {
                ...F && F._f ? F._f : {
                    ref: {
                        name: T
                    }
                },
                name: T,
                mount: !0,
                ...I
            }
        }),
        l.mount.add(T),
        F ? Le({
            disabled: Jn(I.disabled) ? I.disabled : t.disabled,
            name: T
        }) : k(T, !0, I.value),
        {
            ...ae ? {
                disabled: I.disabled || t.disabled
            } : {},
            ...t.progressive ? {
                required: !!I.required,
                min: Cl(I.min),
                max: Cl(I.max),
                minLength: Cl(I.minLength),
                maxLength: Cl(I.maxLength),
                pattern: Cl(I.pattern)
            } : {},
            name: T,
            onChange: V,
            onBlur: V,
            ref: re => {
                if (re) {
                    Ve(T, I),
                    F = ie(s, T);
                    const Y = Wt(re.value) && re.querySelectorAll && re.querySelectorAll("input,select,textarea")[0] || re
                      , se = L4(Y)
                      , Oe = F._f.refs || [];
                    if (se ? Oe.find(nt => nt === Y) : Y === F._f.ref)
                        return;
                    ft(s, T, {
                        _f: {
                            ...F._f,
                            ...se ? {
                                refs: [...Oe.filter(Bm), Y, ...Array.isArray(ie(a, T)) ? [{}] : []],
                                ref: {
                                    type: Y.type,
                                    name: T
                                }
                            } : {
                                ref: Y
                            }
                        }
                    }),
                    k(T, !1, void 0, Y)
                } else
                    F = ie(s, T, {}),
                    F._f && (F._f.mount = !1),
                    (t.shouldUnregister || I.shouldUnregister) && !(OS(l.array, T) && o.action) && l.unMount.add(T)
            }
        }
    }
      , $e = () => t.shouldFocusError && Ql(s, W, l.mount)
      , jt = T => {
        Jn(T) && (h.state.next({
            disabled: T
        }),
        Ql(s, (I, F) => {
            const ae = ie(s, F);
            ae && (I.disabled = ae._f.disabled || T,
            Array.isArray(ae._f.refs) && ae._f.refs.forEach(re => {
                re.disabled = ae._f.disabled || T
            }
            ))
        }
        , 0, !1))
    }
      , Ot = (T, I) => async F => {
        let ae;
        F && (F.preventDefault && F.preventDefault(),
        F.persist && F.persist());
        let re = mn(i);
        if (h.state.next({
            isSubmitting: !0
        }),
        t.resolver) {
            const {errors: Y, values: se} = await A();
            n.errors = Y,
            re = se
        } else
            await G(s);
        if (l.disabled.size)
            for (const Y of l.disabled)
                ft(re, Y, void 0);
        if (nn(n.errors, "root"),
        Pn(n.errors)) {
            h.state.next({
                errors: {}
            });
            try {
                await T(re, F)
            } catch (Y) {
                ae = Y
            }
        } else
            I && await I({
                ...n.errors
            }, F),
            $e(),
            setTimeout($e);
        if (h.state.next({
            isSubmitted: !0,
            isSubmitting: !1,
            isSubmitSuccessful: Pn(n.errors) && !ae,
            submitCount: n.submitCount + 1,
            errors: n.errors
        }),
        ae)
            throw ae
    }
      , ln = (T, I={}) => {
        ie(s, T) && (Wt(I.defaultValue) ? D(T, mn(ie(a, T))) : (D(T, I.defaultValue),
        ft(a, T, mn(I.defaultValue))),
        I.keepTouched || nn(n.touchedFields, T),
        I.keepDirty || (nn(n.dirtyFields, T),
        n.isDirty = I.defaultValue ? B(T, mn(ie(a, T))) : B()),
        I.keepError || (nn(n.errors, T),
        f.isValid && v()),
        h.state.next({
            ...n
        }))
    }
      , Qt = (T, I={}) => {
        const F = T ? mn(T) : a
          , ae = mn(F)
          , re = Pn(T)
          , Y = re ? a : ae;
        if (I.keepDefaultValues || (a = F),
        !I.keepValues) {
            if (I.keepDirtyValues) {
                const se = new Set([...l.mount, ...Object.keys(Sl(a, i))]);
                for (const Oe of Array.from(se))
                    ie(n.dirtyFields, Oe) ? ft(Y, Oe, ie(i, Oe)) : D(Oe, ie(Y, Oe))
            } else {
                if (Sg && Wt(T))
                    for (const se of l.mount) {
                        const Oe = ie(s, se);
                        if (Oe && Oe._f) {
                            const nt = Array.isArray(Oe._f.refs) ? Oe._f.refs[0] : Oe._f.ref;
                            if (Ou(nt)) {
                                const L = nt.closest("form");
                                if (L) {
                                    L.reset();
                                    break
                                }
                            }
                        }
                    }
                for (const se of l.mount)
                    D(se, ie(Y, se))
            }
            i = mn(Y),
            h.array.next({
                values: {
                    ...Y
                }
            }),
            h.state.next({
                values: {
                    ...Y
                }
            })
        }
        l = {
            mount: I.keepDirtyValues ? l.mount : new Set,
            unMount: new Set,
            array: new Set,
            disabled: new Set,
            watch: new Set,
            watchAll: !1,
            focus: ""
        },
        o.mount = !f.isValid || !!I.keepIsValid || !!I.keepDirtyValues,
        o.watch = !!t.shouldUnregister,
        h.state.next({
            submitCount: I.keepSubmitCount ? n.submitCount : 0,
            isDirty: re ? !1 : I.keepDirty ? n.isDirty : !!(I.keepDefaultValues && !ca(T, a)),
            isSubmitted: I.keepIsSubmitted ? n.isSubmitted : !1,
            dirtyFields: re ? {} : I.keepDirtyValues ? I.keepDefaultValues && i ? Sl(a, i) : n.dirtyFields : I.keepDefaultValues && T ? Sl(a, T) : I.keepDirty ? n.dirtyFields : {},
            touchedFields: I.keepTouched ? n.touchedFields : {},
            errors: I.keepErrors ? n.errors : {},
            isSubmitSuccessful: I.keepIsSubmitSuccessful ? n.isSubmitSuccessful : !1,
            isSubmitting: !1
        })
    }
      , wt = (T, I) => Qt(Dr(T) ? T(i) : T, I)
      , cr = (T, I={}) => {
        const F = ie(s, T)
          , ae = F && F._f;
        if (ae) {
            const re = ae.refs ? ae.refs[0] : ae.ref;
            re.focus && (re.focus(),
            I.shouldSelect && Dr(re.select) && re.select())
        }
    }
      , Gt = T => {
        n = {
            ...n,
            ...T
        }
    }
      , Zs = {
        control: {
            register: Ve,
            unregister: Ie,
            getFieldState: Ye,
            handleSubmit: Ot,
            setError: ut,
            _subscribe: $,
            _runSchema: A,
            _getWatch: U,
            _getDirty: B,
            _setValid: v,
            _setFieldArray: j,
            _setDisabledField: Le,
            _setErrors: S,
            _getFieldArray: J,
            _reset: Qt,
            _resetDefaultValues: () => Dr(t.defaultValues) && t.defaultValues().then(T => {
                wt(T, t.resetOptions),
                h.state.next({
                    isLoading: !1
                })
            }
            ),
            _removeUnmounted: R,
            _disableForm: jt,
            _subjects: h,
            _proxyFormState: f,
            get _fields() {
                return s
            },
            get _formValues() {
                return i
            },
            get _state() {
                return o
            },
            set _state(T) {
                o = T
            },
            get _defaultValues() {
                return a
            },
            get _names() {
                return l
            },
            set _names(T) {
                l = T
            },
            get _formState() {
                return n
            },
            get _options() {
                return t
            },
            set _options(T) {
                t = {
                    ...t,
                    ...T
                }
            }
        },
        subscribe: te,
        trigger: de,
        register: Ve,
        handleSubmit: Ot,
        watch: we,
        setValue: D,
        getValues: ke,
        reset: wt,
        resetField: ln,
        clearErrors: at,
        unregister: Ie,
        setError: ut,
        setFocus: cr,
        getFieldState: Ye
    };
    return {
        ...Zs,
        formControl: Zs
    }
}
function Da(e={}) {
    const t = Ue.useRef(void 0)
      , n = Ue.useRef(void 0)
      , [s,a] = Ue.useState({
        isDirty: !1,
        isValidating: !1,
        isLoading: Dr(e.defaultValues),
        isSubmitted: !1,
        isSubmitting: !1,
        isSubmitSuccessful: !1,
        isValid: !1,
        submitCount: 0,
        dirtyFields: {},
        touchedFields: {},
        validatingFields: {},
        errors: e.errors || {},
        disabled: e.disabled || !1,
        defaultValues: Dr(e.defaultValues) ? void 0 : e.defaultValues
    });
    t.current || (t.current = {
        ...e.formControl ? e.formControl : G4(e),
        formState: s
    },
    e.formControl && e.defaultValues && !Dr(e.defaultValues) && e.formControl.reset(e.defaultValues, e.resetOptions));
    const i = t.current.control;
    return i._options = e,
    Ue.useLayoutEffect( () => i._subscribe({
        formState: i._proxyFormState,
        callback: () => a({
            ...i._formState
        }),
        reRenderRoot: !0
    }), [i]),
    Ue.useEffect( () => i._disableForm(e.disabled), [i, e.disabled]),
    Ue.useEffect( () => {
        if (i._proxyFormState.isDirty) {
            const o = i._getDirty();
            o !== s.isDirty && i._subjects.state.next({
                isDirty: o
            })
        }
    }
    , [i, s.isDirty]),
    Ue.useEffect( () => {
        e.values && !ca(e.values, n.current) ? (i._reset(e.values, i._options.resetOptions),
        n.current = e.values,
        a(o => ({
            ...o
        }))) : i._resetDefaultValues()
    }
    , [e.values, i]),
    Ue.useEffect( () => {
        e.errors && !Pn(e.errors) && i._setErrors(e.errors)
    }
    , [e.errors, i]),
    Ue.useEffect( () => {
        i._state.mount || (i._setValid(),
        i._state.mount = !0),
        i._state.watch && (i._state.watch = !1,
        i._subjects.state.next({
            ...i._formState
        })),
        i._removeUnmounted()
    }
    ),
    Ue.useEffect( () => {
        e.shouldUnregister && i._subjects.state.next({
            values: i._getWatch()
        })
    }
    , [e.shouldUnregister, i]),
    t.current.formState = $S(s, i),
    t.current
}
const oj = (e, t, n) => {
    if (e && "reportValidity"in e) {
        const s = ie(n, t);
        e.setCustomValidity(s && s.message || ""),
        e.reportValidity()
    }
}
  , QS = (e, t) => {
    for (const n in t.fields) {
        const s = t.fields[n];
        s && s.ref && "reportValidity"in s.ref ? oj(s.ref, n, e) : s.refs && s.refs.forEach(a => oj(a, n, e))
    }
}
  , Z4 = (e, t) => {
    t.shouldUseNativeValidation && QS(e, t);
    const n = {};
    for (const s in e) {
        const a = ie(t.fields, s)
          , i = Object.assign(e[s] || {}, {
            ref: a && a.ref
        });
        if (Y4(t.names || Object.keys(e), s)) {
            const o = Object.assign({}, ie(n, s));
            ft(o, "root", i),
            ft(n, s, o)
        } else
            ft(n, s, i)
    }
    return n
}
  , Y4 = (e, t) => e.some(n => n.startsWith(t + "."));
var X4 = function(e, t) {
    for (var n = {}; e.length; ) {
        var s = e[0]
          , a = s.code
          , i = s.message
          , o = s.path.join(".");
        if (!n[o])
            if ("unionErrors"in s) {
                var l = s.unionErrors[0].errors[0];
                n[o] = {
                    message: l.message,
                    type: l.code
                }
            } else
                n[o] = {
                    message: i,
                    type: a
                };
        if ("unionErrors"in s && s.unionErrors.forEach(function(f) {
            return f.errors.forEach(function(m) {
                return e.push(m)
            })
        }),
        t) {
            var c = n[o].types
              , d = c && c[s.code];
            n[o] = VS(o, t, n, a, d ? [].concat(d, s.message) : s.message)
        }
        e.shift()
    }
    return n
}, Oa = function(e, t, n) {
    return n === void 0 && (n = {}),
    function(s, a, i) {
        try {
            return Promise.resolve(function(o, l) {
                try {
                    var c = Promise.resolve(e[n.mode === "sync" ? "parse" : "parseAsync"](s, t)).then(function(d) {
                        return i.shouldUseNativeValidation && QS({}, i),
                        {
                            errors: {},
                            values: n.raw ? s : d
                        }
                    })
                } catch (d) {
                    return l(d)
                }
                return c && c.then ? c.then(void 0, l) : c
            }(0, function(o) {
                if (function(l) {
                    return Array.isArray(l == null ? void 0 : l.errors)
                }(o))
                    return {
                        values: {},
                        errors: Z4(X4(o.errors, !i.shouldUseNativeValidation && i.criteriaMode === "all"), i)
                    };
                throw o
            }))
        } catch (o) {
            return Promise.reject(o)
        }
    }
}, lt;
(function(e) {
    e.assertEqual = a => a;
    function t(a) {}
    e.assertIs = t;
    function n(a) {
        throw new Error
    }
    e.assertNever = n,
    e.arrayToEnum = a => {
        const i = {};
        for (const o of a)
            i[o] = o;
        return i
    }
    ,
    e.getValidEnumValues = a => {
        const i = e.objectKeys(a).filter(l => typeof a[a[l]] != "number")
          , o = {};
        for (const l of i)
            o[l] = a[l];
        return e.objectValues(o)
    }
    ,
    e.objectValues = a => e.objectKeys(a).map(function(i) {
        return a[i]
    }),
    e.objectKeys = typeof Object.keys == "function" ? a => Object.keys(a) : a => {
        const i = [];
        for (const o in a)
            Object.prototype.hasOwnProperty.call(a, o) && i.push(o);
        return i
    }
    ,
    e.find = (a, i) => {
        for (const o of a)
            if (i(o))
                return o
    }
    ,
    e.isInteger = typeof Number.isInteger == "function" ? a => Number.isInteger(a) : a => typeof a == "number" && isFinite(a) && Math.floor(a) === a;
    function s(a, i=" | ") {
        return a.map(o => typeof o == "string" ? `'${o}'` : o).join(i)
    }
    e.joinValues = s,
    e.jsonStringifyReplacer = (a, i) => typeof i == "bigint" ? i.toString() : i
}
)(lt || (lt = {}));
var yp;
(function(e) {
    e.mergeShapes = (t, n) => ({
        ...t,
        ...n
    })
}
)(yp || (yp = {}));
const me = lt.arrayToEnum(["string", "nan", "number", "integer", "float", "boolean", "date", "bigint", "symbol", "function", "undefined", "null", "array", "object", "unknown", "promise", "void", "never", "map", "set"])
  , As = e => {
    switch (typeof e) {
    case "undefined":
        return me.undefined;
    case "string":
        return me.string;
    case "number":
        return isNaN(e) ? me.nan : me.number;
    case "boolean":
        return me.boolean;
    case "function":
        return me.function;
    case "bigint":
        return me.bigint;
    case "symbol":
        return me.symbol;
    case "object":
        return Array.isArray(e) ? me.array : e === null ? me.null : e.then && typeof e.then == "function" && e.catch && typeof e.catch == "function" ? me.promise : typeof Map < "u" && e instanceof Map ? me.map : typeof Set < "u" && e instanceof Set ? me.set : typeof Date < "u" && e instanceof Date ? me.date : me.object;
    default:
        return me.unknown
    }
}
  , Z = lt.arrayToEnum(["invalid_type", "invalid_literal", "custom", "invalid_union", "invalid_union_discriminator", "invalid_enum_value", "unrecognized_keys", "invalid_arguments", "invalid_return_type", "invalid_date", "invalid_string", "too_small", "too_big", "invalid_intersection_types", "not_multiple_of", "not_finite"])
  , J4 = e => JSON.stringify(e, null, 2).replace(/"([^"]+)":/g, "$1:");
class ar extends Error {
    get errors() {
        return this.issues
    }
    constructor(t) {
        super(),
        this.issues = [],
        this.addIssue = s => {
            this.issues = [...this.issues, s]
        }
        ,
        this.addIssues = (s=[]) => {
            this.issues = [...this.issues, ...s]
        }
        ;
        const n = new.target.prototype;
        Object.setPrototypeOf ? Object.setPrototypeOf(this, n) : this.__proto__ = n,
        this.name = "ZodError",
        this.issues = t
    }
    format(t) {
        const n = t || function(i) {
            return i.message
        }
          , s = {
            _errors: []
        }
          , a = i => {
            for (const o of i.issues)
                if (o.code === "invalid_union")
                    o.unionErrors.map(a);
                else if (o.code === "invalid_return_type")
                    a(o.returnTypeError);
                else if (o.code === "invalid_arguments")
                    a(o.argumentsError);
                else if (o.path.length === 0)
                    s._errors.push(n(o));
                else {
                    let l = s
                      , c = 0;
                    for (; c < o.path.length; ) {
                        const d = o.path[c];
                        c === o.path.length - 1 ? (l[d] = l[d] || {
                            _errors: []
                        },
                        l[d]._errors.push(n(o))) : l[d] = l[d] || {
                            _errors: []
                        },
                        l = l[d],
                        c++
                    }
                }
        }
        ;
        return a(this),
        s
    }
    static assert(t) {
        if (!(t instanceof ar))
            throw new Error(`Not a ZodError: ${t}`)
    }
    toString() {
        return this.message
    }
    get message() {
        return JSON.stringify(this.issues, lt.jsonStringifyReplacer, 2)
    }
    get isEmpty() {
        return this.issues.length === 0
    }
    flatten(t=n => n.message) {
        const n = {}
          , s = [];
        for (const a of this.issues)
            a.path.length > 0 ? (n[a.path[0]] = n[a.path[0]] || [],
            n[a.path[0]].push(t(a))) : s.push(t(a));
        return {
            formErrors: s,
            fieldErrors: n
        }
    }
    get formErrors() {
        return this.flatten()
    }
}
ar.create = e => new ar(e);
const Qo = (e, t) => {
    let n;
    switch (e.code) {
    case Z.invalid_type:
        e.received === me.undefined ? n = "Required" : n = `Expected ${e.expected}, received ${e.received}`;
        break;
    case Z.invalid_literal:
        n = `Invalid literal value, expected ${JSON.stringify(e.expected, lt.jsonStringifyReplacer)}`;
        break;
    case Z.unrecognized_keys:
        n = `Unrecognized key(s) in object: ${lt.joinValues(e.keys, ", ")}`;
        break;
    case Z.invalid_union:
        n = "Invalid input";
        break;
    case Z.invalid_union_discriminator:
        n = `Invalid discriminator value. Expected ${lt.joinValues(e.options)}`;
        break;
    case Z.invalid_enum_value:
        n = `Invalid enum value. Expected ${lt.joinValues(e.options)}, received '${e.received}'`;
        break;
    case Z.invalid_arguments:
        n = "Invalid function arguments";
        break;
    case Z.invalid_return_type:
        n = "Invalid function return type";
        break;
    case Z.invalid_date:
        n = "Invalid date";
        break;
    case Z.invalid_string:
        typeof e.validation == "object" ? "includes"in e.validation ? (n = `Invalid input: must include "${e.validation.includes}"`,
        typeof e.validation.position == "number" && (n = `${n} at one or more positions greater than or equal to ${e.validation.position}`)) : "startsWith"in e.validation ? n = `Invalid input: must start with "${e.validation.startsWith}"` : "endsWith"in e.validation ? n = `Invalid input: must end with "${e.validation.endsWith}"` : lt.assertNever(e.validation) : e.validation !== "regex" ? n = `Invalid ${e.validation}` : n = "Invalid";
        break;
    case Z.too_small:
        e.type === "array" ? n = `Array must contain ${e.exact ? "exactly" : e.inclusive ? "at least" : "more than"} ${e.minimum} element(s)` : e.type === "string" ? n = `String must contain ${e.exact ? "exactly" : e.inclusive ? "at least" : "over"} ${e.minimum} character(s)` : e.type === "number" ? n = `Number must be ${e.exact ? "exactly equal to " : e.inclusive ? "greater than or equal to " : "greater than "}${e.minimum}` : e.type === "date" ? n = `Date must be ${e.exact ? "exactly equal to " : e.inclusive ? "greater than or equal to " : "greater than "}${new Date(Number(e.minimum))}` : n = "Invalid input";
        break;
    case Z.too_big:
        e.type === "array" ? n = `Array must contain ${e.exact ? "exactly" : e.inclusive ? "at most" : "less than"} ${e.maximum} element(s)` : e.type === "string" ? n = `String must contain ${e.exact ? "exactly" : e.inclusive ? "at most" : "under"} ${e.maximum} character(s)` : e.type === "number" ? n = `Number must be ${e.exact ? "exactly" : e.inclusive ? "less than or equal to" : "less than"} ${e.maximum}` : e.type === "bigint" ? n = `BigInt must be ${e.exact ? "exactly" : e.inclusive ? "less than or equal to" : "less than"} ${e.maximum}` : e.type === "date" ? n = `Date must be ${e.exact ? "exactly" : e.inclusive ? "smaller than or equal to" : "smaller than"} ${new Date(Number(e.maximum))}` : n = "Invalid input";
        break;
    case Z.custom:
        n = "Invalid input";
        break;
    case Z.invalid_intersection_types:
        n = "Intersection results could not be merged";
        break;
    case Z.not_multiple_of:
        n = `Number must be a multiple of ${e.multipleOf}`;
        break;
    case Z.not_finite:
        n = "Number must be finite";
        break;
    default:
        n = t.defaultError,
        lt.assertNever(e)
    }
    return {
        message: n
    }
}
;
let GS = Qo;
function eO(e) {
    GS = e
}
function $u() {
    return GS
}
const zu = e => {
    const {data: t, path: n, errorMaps: s, issueData: a} = e
      , i = [...n, ...a.path || []]
      , o = {
        ...a,
        path: i
    };
    if (a.message !== void 0)
        return {
            ...a,
            path: i,
            message: a.message
        };
    let l = "";
    const c = s.filter(d => !!d).slice().reverse();
    for (const d of c)
        l = d(o, {
            data: t,
            defaultError: l
        }).message;
    return {
        ...a,
        path: i,
        message: l
    }
}
  , tO = [];
function oe(e, t) {
    const n = $u()
      , s = zu({
        issueData: t,
        data: e.data,
        path: e.path,
        errorMaps: [e.common.contextualErrorMap, e.schemaErrorMap, n, n === Qo ? void 0 : Qo].filter(a => !!a)
    });
    e.common.issues.push(s)
}
class kn {
    constructor() {
        this.value = "valid"
    }
    dirty() {
        this.value === "valid" && (this.value = "dirty")
    }
    abort() {
        this.value !== "aborted" && (this.value = "aborted")
    }
    static mergeArray(t, n) {
        const s = [];
        for (const a of n) {
            if (a.status === "aborted")
                return Me;
            a.status === "dirty" && t.dirty(),
            s.push(a.value)
        }
        return {
            status: t.value,
            value: s
        }
    }
    static async mergeObjectAsync(t, n) {
        const s = [];
        for (const a of n) {
            const i = await a.key
              , o = await a.value;
            s.push({
                key: i,
                value: o
            })
        }
        return kn.mergeObjectSync(t, s)
    }
    static mergeObjectSync(t, n) {
        const s = {};
        for (const a of n) {
            const {key: i, value: o} = a;
            if (i.status === "aborted" || o.status === "aborted")
                return Me;
            i.status === "dirty" && t.dirty(),
            o.status === "dirty" && t.dirty(),
            i.value !== "__proto__" && (typeof o.value < "u" || a.alwaysSet) && (s[i.value] = o.value)
        }
        return {
            status: t.value,
            value: s
        }
    }
}
const Me = Object.freeze({
    status: "aborted"
})
  , lo = e => ({
    status: "dirty",
    value: e
})
  , In = e => ({
    status: "valid",
    value: e
})
  , jp = e => e.status === "aborted"
  , wp = e => e.status === "dirty"
  , Ri = e => e.status === "valid"
  , yc = e => typeof Promise < "u" && e instanceof Promise;
function Vu(e, t, n, s) {
    if (typeof t == "function" ? e !== t || !s : !t.has(e))
        throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return t.get(e)
}
function ZS(e, t, n, s, a) {
    if (typeof t == "function" ? e !== t || !a : !t.has(e))
        throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return t.set(e, n),
    n
}
var Ne;
(function(e) {
    e.errToObj = t => typeof t == "string" ? {
        message: t
    } : t || {},
    e.toString = t => typeof t == "string" ? t : t == null ? void 0 : t.message
}
)(Ne || (Ne = {}));
var Al, Ml;
class js {
    constructor(t, n, s, a) {
        this._cachedPath = [],
        this.parent = t,
        this.data = n,
        this._path = s,
        this._key = a
    }
    get path() {
        return this._cachedPath.length || (this._key instanceof Array ? this._cachedPath.push(...this._path, ...this._key) : this._cachedPath.push(...this._path, this._key)),
        this._cachedPath
    }
}
const lj = (e, t) => {
    if (Ri(t))
        return {
            success: !0,
            data: t.value
        };
    if (!e.common.issues.length)
        throw new Error("Validation failed but no issues detected.");
    return {
        success: !1,
        get error() {
            if (this._error)
                return this._error;
            const n = new ar(e.common.issues);
            return this._error = n,
            this._error
        }
    }
}
;
function Be(e) {
    if (!e)
        return {};
    const {errorMap: t, invalid_type_error: n, required_error: s, description: a} = e;
    if (t && (n || s))
        throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
    return t ? {
        errorMap: t,
        description: a
    } : {
        errorMap: (o, l) => {
            var c, d;
            const {message: f} = e;
            return o.code === "invalid_enum_value" ? {
                message: f ?? l.defaultError
            } : typeof l.data > "u" ? {
                message: (c = f ?? s) !== null && c !== void 0 ? c : l.defaultError
            } : o.code !== "invalid_type" ? {
                message: l.defaultError
            } : {
                message: (d = f ?? n) !== null && d !== void 0 ? d : l.defaultError
            }
        }
        ,
        description: a
    }
}
class Ze {
    get description() {
        return this._def.description
    }
    _getType(t) {
        return As(t.data)
    }
    _getOrReturnCtx(t, n) {
        return n || {
            common: t.parent.common,
            data: t.data,
            parsedType: As(t.data),
            schemaErrorMap: this._def.errorMap,
            path: t.path,
            parent: t.parent
        }
    }
    _processInputParams(t) {
        return {
            status: new kn,
            ctx: {
                common: t.parent.common,
                data: t.data,
                parsedType: As(t.data),
                schemaErrorMap: this._def.errorMap,
                path: t.path,
                parent: t.parent
            }
        }
    }
    _parseSync(t) {
        const n = this._parse(t);
        if (yc(n))
            throw new Error("Synchronous parse encountered promise.");
        return n
    }
    _parseAsync(t) {
        const n = this._parse(t);
        return Promise.resolve(n)
    }
    parse(t, n) {
        const s = this.safeParse(t, n);
        if (s.success)
            return s.data;
        throw s.error
    }
    safeParse(t, n) {
        var s;
        const a = {
            common: {
                issues: [],
                async: (s = n == null ? void 0 : n.async) !== null && s !== void 0 ? s : !1,
                contextualErrorMap: n == null ? void 0 : n.errorMap
            },
            path: (n == null ? void 0 : n.path) || [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: As(t)
        }
          , i = this._parseSync({
            data: t,
            path: a.path,
            parent: a
        });
        return lj(a, i)
    }
    "~validate"(t) {
        var n, s;
        const a = {
            common: {
                issues: [],
                async: !!this["~standard"].async
            },
            path: [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: As(t)
        };
        if (!this["~standard"].async)
            try {
                const i = this._parseSync({
                    data: t,
                    path: [],
                    parent: a
                });
                return Ri(i) ? {
                    value: i.value
                } : {
                    issues: a.common.issues
                }
            } catch (i) {
                !((s = (n = i == null ? void 0 : i.message) === null || n === void 0 ? void 0 : n.toLowerCase()) === null || s === void 0) && s.includes("encountered") && (this["~standard"].async = !0),
                a.common = {
                    issues: [],
                    async: !0
                }
            }
        return this._parseAsync({
            data: t,
            path: [],
            parent: a
        }).then(i => Ri(i) ? {
            value: i.value
        } : {
            issues: a.common.issues
        })
    }
    async parseAsync(t, n) {
        const s = await this.safeParseAsync(t, n);
        if (s.success)
            return s.data;
        throw s.error
    }
    async safeParseAsync(t, n) {
        const s = {
            common: {
                issues: [],
                contextualErrorMap: n == null ? void 0 : n.errorMap,
                async: !0
            },
            path: (n == null ? void 0 : n.path) || [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: As(t)
        }
          , a = this._parse({
            data: t,
            path: s.path,
            parent: s
        })
          , i = await (yc(a) ? a : Promise.resolve(a));
        return lj(s, i)
    }
    refine(t, n) {
        const s = a => typeof n == "string" || typeof n > "u" ? {
            message: n
        } : typeof n == "function" ? n(a) : n;
        return this._refinement( (a, i) => {
            const o = t(a)
              , l = () => i.addIssue({
                code: Z.custom,
                ...s(a)
            });
            return typeof Promise < "u" && o instanceof Promise ? o.then(c => c ? !0 : (l(),
            !1)) : o ? !0 : (l(),
            !1)
        }
        )
    }
    refinement(t, n) {
        return this._refinement( (s, a) => t(s) ? !0 : (a.addIssue(typeof n == "function" ? n(s, a) : n),
        !1))
    }
    _refinement(t) {
        return new Kr({
            schema: this,
            typeName: Re.ZodEffects,
            effect: {
                type: "refinement",
                refinement: t
            }
        })
    }
    superRefine(t) {
        return this._refinement(t)
    }
    constructor(t) {
        this.spa = this.safeParseAsync,
        this._def = t,
        this.parse = this.parse.bind(this),
        this.safeParse = this.safeParse.bind(this),
        this.parseAsync = this.parseAsync.bind(this),
        this.safeParseAsync = this.safeParseAsync.bind(this),
        this.spa = this.spa.bind(this),
        this.refine = this.refine.bind(this),
        this.refinement = this.refinement.bind(this),
        this.superRefine = this.superRefine.bind(this),
        this.optional = this.optional.bind(this),
        this.nullable = this.nullable.bind(this),
        this.nullish = this.nullish.bind(this),
        this.array = this.array.bind(this),
        this.promise = this.promise.bind(this),
        this.or = this.or.bind(this),
        this.and = this.and.bind(this),
        this.transform = this.transform.bind(this),
        this.brand = this.brand.bind(this),
        this.default = this.default.bind(this),
        this.catch = this.catch.bind(this),
        this.describe = this.describe.bind(this),
        this.pipe = this.pipe.bind(this),
        this.readonly = this.readonly.bind(this),
        this.isNullable = this.isNullable.bind(this),
        this.isOptional = this.isOptional.bind(this),
        this["~standard"] = {
            version: 1,
            vendor: "zod",
            validate: n => this["~validate"](n)
        }
    }
    optional() {
        return gs.create(this, this._def)
    }
    nullable() {
        return za.create(this, this._def)
    }
    nullish() {
        return this.nullable().optional()
    }
    array() {
        return Vr.create(this)
    }
    promise() {
        return Zo.create(this, this._def)
    }
    or(t) {
        return Nc.create([this, t], this._def)
    }
    and(t) {
        return Sc.create(this, t, this._def)
    }
    transform(t) {
        return new Kr({
            ...Be(this._def),
            schema: this,
            typeName: Re.ZodEffects,
            effect: {
                type: "transform",
                transform: t
            }
        })
    }
    default(t) {
        const n = typeof t == "function" ? t : () => t;
        return new _c({
            ...Be(this._def),
            innerType: this,
            defaultValue: n,
            typeName: Re.ZodDefault
        })
    }
    brand() {
        return new Tg({
            typeName: Re.ZodBranded,
            type: this,
            ...Be(this._def)
        })
    }
    catch(t) {
        const n = typeof t == "function" ? t : () => t;
        return new Pc({
            ...Be(this._def),
            innerType: this,
            catchValue: n,
            typeName: Re.ZodCatch
        })
    }
    describe(t) {
        const n = this.constructor;
        return new n({
            ...this._def,
            description: t
        })
    }
    pipe(t) {
        return Jc.create(this, t)
    }
    readonly() {
        return Rc.create(this)
    }
    isOptional() {
        return this.safeParse(void 0).success
    }
    isNullable() {
        return this.safeParse(null).success
    }
}
const nO = /^c[^\s-]{8,}$/i
  , rO = /^[0-9a-z]+$/
  , sO = /^[0-9A-HJKMNP-TV-Z]{26}$/i
  , aO = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i
  , iO = /^[a-z0-9_-]{21}$/i
  , oO = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/
  , lO = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/
  , cO = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i
  , dO = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
let Hm;
const uO = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/
  , fO = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/
  , mO = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/
  , hO = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/
  , pO = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/
  , xO = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/
  , YS = "((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))"
  , gO = new RegExp(`^${YS}$`);
function XS(e) {
    let t = "([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";
    return e.precision ? t = `${t}\\.\\d{${e.precision}}` : e.precision == null && (t = `${t}(\\.\\d+)?`),
    t
}
function vO(e) {
    return new RegExp(`^${XS(e)}$`)
}
function JS(e) {
    let t = `${YS}T${XS(e)}`;
    const n = [];
    return n.push(e.local ? "Z?" : "Z"),
    e.offset && n.push("([+-]\\d{2}:?\\d{2})"),
    t = `${t}(${n.join("|")})`,
    new RegExp(`^${t}$`)
}
function yO(e, t) {
    return !!((t === "v4" || !t) && uO.test(e) || (t === "v6" || !t) && mO.test(e))
}
function jO(e, t) {
    if (!oO.test(e))
        return !1;
    try {
        const [n] = e.split(".")
          , s = n.replace(/-/g, "+").replace(/_/g, "/").padEnd(n.length + (4 - n.length % 4) % 4, "=")
          , a = JSON.parse(atob(s));
        return !(typeof a != "object" || a === null || !a.typ || !a.alg || t && a.alg !== t)
    } catch {
        return !1
    }
}
function wO(e, t) {
    return !!((t === "v4" || !t) && fO.test(e) || (t === "v6" || !t) && hO.test(e))
}
class Or extends Ze {
    _parse(t) {
        if (this._def.coerce && (t.data = String(t.data)),
        this._getType(t) !== me.string) {
            const i = this._getOrReturnCtx(t);
            return oe(i, {
                code: Z.invalid_type,
                expected: me.string,
                received: i.parsedType
            }),
            Me
        }
        const s = new kn;
        let a;
        for (const i of this._def.checks)
            if (i.kind === "min")
                t.data.length < i.value && (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "max")
                t.data.length > i.value && (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "length") {
                const o = t.data.length > i.value
                  , l = t.data.length < i.value;
                (o || l) && (a = this._getOrReturnCtx(t, a),
                o ? oe(a, {
                    code: Z.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }) : l && oe(a, {
                    code: Z.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }),
                s.dirty())
            } else if (i.kind === "email")
                cO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "email",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "emoji")
                Hm || (Hm = new RegExp(dO,"u")),
                Hm.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "emoji",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "uuid")
                aO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "uuid",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "nanoid")
                iO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "nanoid",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "cuid")
                nO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "cuid",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "cuid2")
                rO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "cuid2",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "ulid")
                sO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "ulid",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "url")
                try {
                    new URL(t.data)
                } catch {
                    a = this._getOrReturnCtx(t, a),
                    oe(a, {
                        validation: "url",
                        code: Z.invalid_string,
                        message: i.message
                    }),
                    s.dirty()
                }
            else
                i.kind === "regex" ? (i.regex.lastIndex = 0,
                i.regex.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "regex",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty())) : i.kind === "trim" ? t.data = t.data.trim() : i.kind === "includes" ? t.data.includes(i.value, i.position) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: {
                        includes: i.value,
                        position: i.position
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "toLowerCase" ? t.data = t.data.toLowerCase() : i.kind === "toUpperCase" ? t.data = t.data.toUpperCase() : i.kind === "startsWith" ? t.data.startsWith(i.value) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: {
                        startsWith: i.value
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "endsWith" ? t.data.endsWith(i.value) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: {
                        endsWith: i.value
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "datetime" ? JS(i).test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: "datetime",
                    message: i.message
                }),
                s.dirty()) : i.kind === "date" ? gO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: "date",
                    message: i.message
                }),
                s.dirty()) : i.kind === "time" ? vO(i).test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    code: Z.invalid_string,
                    validation: "time",
                    message: i.message
                }),
                s.dirty()) : i.kind === "duration" ? lO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "duration",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "ip" ? yO(t.data, i.version) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "ip",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "jwt" ? jO(t.data, i.alg) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "jwt",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "cidr" ? wO(t.data, i.version) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "cidr",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "base64" ? pO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "base64",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "base64url" ? xO.test(t.data) || (a = this._getOrReturnCtx(t, a),
                oe(a, {
                    validation: "base64url",
                    code: Z.invalid_string,
                    message: i.message
                }),
                s.dirty()) : lt.assertNever(i);
        return {
            status: s.value,
            value: t.data
        }
    }
    _regex(t, n, s) {
        return this.refinement(a => t.test(a), {
            validation: n,
            code: Z.invalid_string,
            ...Ne.errToObj(s)
        })
    }
    _addCheck(t) {
        return new Or({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    email(t) {
        return this._addCheck({
            kind: "email",
            ...Ne.errToObj(t)
        })
    }
    url(t) {
        return this._addCheck({
            kind: "url",
            ...Ne.errToObj(t)
        })
    }
    emoji(t) {
        return this._addCheck({
            kind: "emoji",
            ...Ne.errToObj(t)
        })
    }
    uuid(t) {
        return this._addCheck({
            kind: "uuid",
            ...Ne.errToObj(t)
        })
    }
    nanoid(t) {
        return this._addCheck({
            kind: "nanoid",
            ...Ne.errToObj(t)
        })
    }
    cuid(t) {
        return this._addCheck({
            kind: "cuid",
            ...Ne.errToObj(t)
        })
    }
    cuid2(t) {
        return this._addCheck({
            kind: "cuid2",
            ...Ne.errToObj(t)
        })
    }
    ulid(t) {
        return this._addCheck({
            kind: "ulid",
            ...Ne.errToObj(t)
        })
    }
    base64(t) {
        return this._addCheck({
            kind: "base64",
            ...Ne.errToObj(t)
        })
    }
    base64url(t) {
        return this._addCheck({
            kind: "base64url",
            ...Ne.errToObj(t)
        })
    }
    jwt(t) {
        return this._addCheck({
            kind: "jwt",
            ...Ne.errToObj(t)
        })
    }
    ip(t) {
        return this._addCheck({
            kind: "ip",
            ...Ne.errToObj(t)
        })
    }
    cidr(t) {
        return this._addCheck({
            kind: "cidr",
            ...Ne.errToObj(t)
        })
    }
    datetime(t) {
        var n, s;
        return typeof t == "string" ? this._addCheck({
            kind: "datetime",
            precision: null,
            offset: !1,
            local: !1,
            message: t
        }) : this._addCheck({
            kind: "datetime",
            precision: typeof (t == null ? void 0 : t.precision) > "u" ? null : t == null ? void 0 : t.precision,
            offset: (n = t == null ? void 0 : t.offset) !== null && n !== void 0 ? n : !1,
            local: (s = t == null ? void 0 : t.local) !== null && s !== void 0 ? s : !1,
            ...Ne.errToObj(t == null ? void 0 : t.message)
        })
    }
    date(t) {
        return this._addCheck({
            kind: "date",
            message: t
        })
    }
    time(t) {
        return typeof t == "string" ? this._addCheck({
            kind: "time",
            precision: null,
            message: t
        }) : this._addCheck({
            kind: "time",
            precision: typeof (t == null ? void 0 : t.precision) > "u" ? null : t == null ? void 0 : t.precision,
            ...Ne.errToObj(t == null ? void 0 : t.message)
        })
    }
    duration(t) {
        return this._addCheck({
            kind: "duration",
            ...Ne.errToObj(t)
        })
    }
    regex(t, n) {
        return this._addCheck({
            kind: "regex",
            regex: t,
            ...Ne.errToObj(n)
        })
    }
    includes(t, n) {
        return this._addCheck({
            kind: "includes",
            value: t,
            position: n == null ? void 0 : n.position,
            ...Ne.errToObj(n == null ? void 0 : n.message)
        })
    }
    startsWith(t, n) {
        return this._addCheck({
            kind: "startsWith",
            value: t,
            ...Ne.errToObj(n)
        })
    }
    endsWith(t, n) {
        return this._addCheck({
            kind: "endsWith",
            value: t,
            ...Ne.errToObj(n)
        })
    }
    min(t, n) {
        return this._addCheck({
            kind: "min",
            value: t,
            ...Ne.errToObj(n)
        })
    }
    max(t, n) {
        return this._addCheck({
            kind: "max",
            value: t,
            ...Ne.errToObj(n)
        })
    }
    length(t, n) {
        return this._addCheck({
            kind: "length",
            value: t,
            ...Ne.errToObj(n)
        })
    }
    nonempty(t) {
        return this.min(1, Ne.errToObj(t))
    }
    trim() {
        return new Or({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "trim"
            }]
        })
    }
    toLowerCase() {
        return new Or({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toLowerCase"
            }]
        })
    }
    toUpperCase() {
        return new Or({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toUpperCase"
            }]
        })
    }
    get isDatetime() {
        return !!this._def.checks.find(t => t.kind === "datetime")
    }
    get isDate() {
        return !!this._def.checks.find(t => t.kind === "date")
    }
    get isTime() {
        return !!this._def.checks.find(t => t.kind === "time")
    }
    get isDuration() {
        return !!this._def.checks.find(t => t.kind === "duration")
    }
    get isEmail() {
        return !!this._def.checks.find(t => t.kind === "email")
    }
    get isURL() {
        return !!this._def.checks.find(t => t.kind === "url")
    }
    get isEmoji() {
        return !!this._def.checks.find(t => t.kind === "emoji")
    }
    get isUUID() {
        return !!this._def.checks.find(t => t.kind === "uuid")
    }
    get isNANOID() {
        return !!this._def.checks.find(t => t.kind === "nanoid")
    }
    get isCUID() {
        return !!this._def.checks.find(t => t.kind === "cuid")
    }
    get isCUID2() {
        return !!this._def.checks.find(t => t.kind === "cuid2")
    }
    get isULID() {
        return !!this._def.checks.find(t => t.kind === "ulid")
    }
    get isIP() {
        return !!this._def.checks.find(t => t.kind === "ip")
    }
    get isCIDR() {
        return !!this._def.checks.find(t => t.kind === "cidr")
    }
    get isBase64() {
        return !!this._def.checks.find(t => t.kind === "base64")
    }
    get isBase64url() {
        return !!this._def.checks.find(t => t.kind === "base64url")
    }
    get minLength() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxLength() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
}
Or.create = e => {
    var t;
    return new Or({
        checks: [],
        typeName: Re.ZodString,
        coerce: (t = e == null ? void 0 : e.coerce) !== null && t !== void 0 ? t : !1,
        ...Be(e)
    })
}
;
function bO(e, t) {
    const n = (e.toString().split(".")[1] || "").length
      , s = (t.toString().split(".")[1] || "").length
      , a = n > s ? n : s
      , i = parseInt(e.toFixed(a).replace(".", ""))
      , o = parseInt(t.toFixed(a).replace(".", ""));
    return i % o / Math.pow(10, a)
}
class La extends Ze {
    constructor() {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte,
        this.step = this.multipleOf
    }
    _parse(t) {
        if (this._def.coerce && (t.data = Number(t.data)),
        this._getType(t) !== me.number) {
            const i = this._getOrReturnCtx(t);
            return oe(i, {
                code: Z.invalid_type,
                expected: me.number,
                received: i.parsedType
            }),
            Me
        }
        let s;
        const a = new kn;
        for (const i of this._def.checks)
            i.kind === "int" ? lt.isInteger(t.data) || (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.invalid_type,
                expected: "integer",
                received: "float",
                message: i.message
            }),
            a.dirty()) : i.kind === "min" ? (i.inclusive ? t.data < i.value : t.data <= i.value) && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.too_small,
                minimum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }),
            a.dirty()) : i.kind === "max" ? (i.inclusive ? t.data > i.value : t.data >= i.value) && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.too_big,
                maximum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }),
            a.dirty()) : i.kind === "multipleOf" ? bO(t.data, i.value) !== 0 && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }),
            a.dirty()) : i.kind === "finite" ? Number.isFinite(t.data) || (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.not_finite,
                message: i.message
            }),
            a.dirty()) : lt.assertNever(i);
        return {
            status: a.value,
            value: t.data
        }
    }
    gte(t, n) {
        return this.setLimit("min", t, !0, Ne.toString(n))
    }
    gt(t, n) {
        return this.setLimit("min", t, !1, Ne.toString(n))
    }
    lte(t, n) {
        return this.setLimit("max", t, !0, Ne.toString(n))
    }
    lt(t, n) {
        return this.setLimit("max", t, !1, Ne.toString(n))
    }
    setLimit(t, n, s, a) {
        return new La({
            ...this._def,
            checks: [...this._def.checks, {
                kind: t,
                value: n,
                inclusive: s,
                message: Ne.toString(a)
            }]
        })
    }
    _addCheck(t) {
        return new La({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    int(t) {
        return this._addCheck({
            kind: "int",
            message: Ne.toString(t)
        })
    }
    positive(t) {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !1,
            message: Ne.toString(t)
        })
    }
    negative(t) {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !1,
            message: Ne.toString(t)
        })
    }
    nonpositive(t) {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !0,
            message: Ne.toString(t)
        })
    }
    nonnegative(t) {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !0,
            message: Ne.toString(t)
        })
    }
    multipleOf(t, n) {
        return this._addCheck({
            kind: "multipleOf",
            value: t,
            message: Ne.toString(n)
        })
    }
    finite(t) {
        return this._addCheck({
            kind: "finite",
            message: Ne.toString(t)
        })
    }
    safe(t) {
        return this._addCheck({
            kind: "min",
            inclusive: !0,
            value: Number.MIN_SAFE_INTEGER,
            message: Ne.toString(t)
        })._addCheck({
            kind: "max",
            inclusive: !0,
            value: Number.MAX_SAFE_INTEGER,
            message: Ne.toString(t)
        })
    }
    get minValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
    get isInt() {
        return !!this._def.checks.find(t => t.kind === "int" || t.kind === "multipleOf" && lt.isInteger(t.value))
    }
    get isFinite() {
        let t = null
          , n = null;
        for (const s of this._def.checks) {
            if (s.kind === "finite" || s.kind === "int" || s.kind === "multipleOf")
                return !0;
            s.kind === "min" ? (n === null || s.value > n) && (n = s.value) : s.kind === "max" && (t === null || s.value < t) && (t = s.value)
        }
        return Number.isFinite(n) && Number.isFinite(t)
    }
}
La.create = e => new La({
    checks: [],
    typeName: Re.ZodNumber,
    coerce: (e == null ? void 0 : e.coerce) || !1,
    ...Be(e)
});
class Fa extends Ze {
    constructor() {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte
    }
    _parse(t) {
        if (this._def.coerce)
            try {
                t.data = BigInt(t.data)
            } catch {
                return this._getInvalidInput(t)
            }
        if (this._getType(t) !== me.bigint)
            return this._getInvalidInput(t);
        let s;
        const a = new kn;
        for (const i of this._def.checks)
            i.kind === "min" ? (i.inclusive ? t.data < i.value : t.data <= i.value) && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.too_small,
                type: "bigint",
                minimum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }),
            a.dirty()) : i.kind === "max" ? (i.inclusive ? t.data > i.value : t.data >= i.value) && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.too_big,
                type: "bigint",
                maximum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }),
            a.dirty()) : i.kind === "multipleOf" ? t.data % i.value !== BigInt(0) && (s = this._getOrReturnCtx(t, s),
            oe(s, {
                code: Z.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }),
            a.dirty()) : lt.assertNever(i);
        return {
            status: a.value,
            value: t.data
        }
    }
    _getInvalidInput(t) {
        const n = this._getOrReturnCtx(t);
        return oe(n, {
            code: Z.invalid_type,
            expected: me.bigint,
            received: n.parsedType
        }),
        Me
    }
    gte(t, n) {
        return this.setLimit("min", t, !0, Ne.toString(n))
    }
    gt(t, n) {
        return this.setLimit("min", t, !1, Ne.toString(n))
    }
    lte(t, n) {
        return this.setLimit("max", t, !0, Ne.toString(n))
    }
    lt(t, n) {
        return this.setLimit("max", t, !1, Ne.toString(n))
    }
    setLimit(t, n, s, a) {
        return new Fa({
            ...this._def,
            checks: [...this._def.checks, {
                kind: t,
                value: n,
                inclusive: s,
                message: Ne.toString(a)
            }]
        })
    }
    _addCheck(t) {
        return new Fa({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    positive(t) {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !1,
            message: Ne.toString(t)
        })
    }
    negative(t) {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !1,
            message: Ne.toString(t)
        })
    }
    nonpositive(t) {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !0,
            message: Ne.toString(t)
        })
    }
    nonnegative(t) {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !0,
            message: Ne.toString(t)
        })
    }
    multipleOf(t, n) {
        return this._addCheck({
            kind: "multipleOf",
            value: t,
            message: Ne.toString(n)
        })
    }
    get minValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
}
Fa.create = e => {
    var t;
    return new Fa({
        checks: [],
        typeName: Re.ZodBigInt,
        coerce: (t = e == null ? void 0 : e.coerce) !== null && t !== void 0 ? t : !1,
        ...Be(e)
    })
}
;
class jc extends Ze {
    _parse(t) {
        if (this._def.coerce && (t.data = !!t.data),
        this._getType(t) !== me.boolean) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.boolean,
                received: s.parsedType
            }),
            Me
        }
        return In(t.data)
    }
}
jc.create = e => new jc({
    typeName: Re.ZodBoolean,
    coerce: (e == null ? void 0 : e.coerce) || !1,
    ...Be(e)
});
class Ai extends Ze {
    _parse(t) {
        if (this._def.coerce && (t.data = new Date(t.data)),
        this._getType(t) !== me.date) {
            const i = this._getOrReturnCtx(t);
            return oe(i, {
                code: Z.invalid_type,
                expected: me.date,
                received: i.parsedType
            }),
            Me
        }
        if (isNaN(t.data.getTime())) {
            const i = this._getOrReturnCtx(t);
            return oe(i, {
                code: Z.invalid_date
            }),
            Me
        }
        const s = new kn;
        let a;
        for (const i of this._def.checks)
            i.kind === "min" ? t.data.getTime() < i.value && (a = this._getOrReturnCtx(t, a),
            oe(a, {
                code: Z.too_small,
                message: i.message,
                inclusive: !0,
                exact: !1,
                minimum: i.value,
                type: "date"
            }),
            s.dirty()) : i.kind === "max" ? t.data.getTime() > i.value && (a = this._getOrReturnCtx(t, a),
            oe(a, {
                code: Z.too_big,
                message: i.message,
                inclusive: !0,
                exact: !1,
                maximum: i.value,
                type: "date"
            }),
            s.dirty()) : lt.assertNever(i);
        return {
            status: s.value,
            value: new Date(t.data.getTime())
        }
    }
    _addCheck(t) {
        return new Ai({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    min(t, n) {
        return this._addCheck({
            kind: "min",
            value: t.getTime(),
            message: Ne.toString(n)
        })
    }
    max(t, n) {
        return this._addCheck({
            kind: "max",
            value: t.getTime(),
            message: Ne.toString(n)
        })
    }
    get minDate() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t != null ? new Date(t) : null
    }
    get maxDate() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t != null ? new Date(t) : null
    }
}
Ai.create = e => new Ai({
    checks: [],
    coerce: (e == null ? void 0 : e.coerce) || !1,
    typeName: Re.ZodDate,
    ...Be(e)
});
class Uu extends Ze {
    _parse(t) {
        if (this._getType(t) !== me.symbol) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.symbol,
                received: s.parsedType
            }),
            Me
        }
        return In(t.data)
    }
}
Uu.create = e => new Uu({
    typeName: Re.ZodSymbol,
    ...Be(e)
});
class wc extends Ze {
    _parse(t) {
        if (this._getType(t) !== me.undefined) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.undefined,
                received: s.parsedType
            }),
            Me
        }
        return In(t.data)
    }
}
wc.create = e => new wc({
    typeName: Re.ZodUndefined,
    ...Be(e)
});
class bc extends Ze {
    _parse(t) {
        if (this._getType(t) !== me.null) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.null,
                received: s.parsedType
            }),
            Me
        }
        return In(t.data)
    }
}
bc.create = e => new bc({
    typeName: Re.ZodNull,
    ...Be(e)
});
class Go extends Ze {
    constructor() {
        super(...arguments),
        this._any = !0
    }
    _parse(t) {
        return In(t.data)
    }
}
Go.create = e => new Go({
    typeName: Re.ZodAny,
    ...Be(e)
});
class hi extends Ze {
    constructor() {
        super(...arguments),
        this._unknown = !0
    }
    _parse(t) {
        return In(t.data)
    }
}
hi.create = e => new hi({
    typeName: Re.ZodUnknown,
    ...Be(e)
});
class Ks extends Ze {
    _parse(t) {
        const n = this._getOrReturnCtx(t);
        return oe(n, {
            code: Z.invalid_type,
            expected: me.never,
            received: n.parsedType
        }),
        Me
    }
}
Ks.create = e => new Ks({
    typeName: Re.ZodNever,
    ...Be(e)
});
class Wu extends Ze {
    _parse(t) {
        if (this._getType(t) !== me.undefined) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.void,
                received: s.parsedType
            }),
            Me
        }
        return In(t.data)
    }
}
Wu.create = e => new Wu({
    typeName: Re.ZodVoid,
    ...Be(e)
});
class Vr extends Ze {
    _parse(t) {
        const {ctx: n, status: s} = this._processInputParams(t)
          , a = this._def;
        if (n.parsedType !== me.array)
            return oe(n, {
                code: Z.invalid_type,
                expected: me.array,
                received: n.parsedType
            }),
            Me;
        if (a.exactLength !== null) {
            const o = n.data.length > a.exactLength.value
              , l = n.data.length < a.exactLength.value;
            (o || l) && (oe(n, {
                code: o ? Z.too_big : Z.too_small,
                minimum: l ? a.exactLength.value : void 0,
                maximum: o ? a.exactLength.value : void 0,
                type: "array",
                inclusive: !0,
                exact: !0,
                message: a.exactLength.message
            }),
            s.dirty())
        }
        if (a.minLength !== null && n.data.length < a.minLength.value && (oe(n, {
            code: Z.too_small,
            minimum: a.minLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.minLength.message
        }),
        s.dirty()),
        a.maxLength !== null && n.data.length > a.maxLength.value && (oe(n, {
            code: Z.too_big,
            maximum: a.maxLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.maxLength.message
        }),
        s.dirty()),
        n.common.async)
            return Promise.all([...n.data].map( (o, l) => a.type._parseAsync(new js(n,o,n.path,l)))).then(o => kn.mergeArray(s, o));
        const i = [...n.data].map( (o, l) => a.type._parseSync(new js(n,o,n.path,l)));
        return kn.mergeArray(s, i)
    }
    get element() {
        return this._def.type
    }
    min(t, n) {
        return new Vr({
            ...this._def,
            minLength: {
                value: t,
                message: Ne.toString(n)
            }
        })
    }
    max(t, n) {
        return new Vr({
            ...this._def,
            maxLength: {
                value: t,
                message: Ne.toString(n)
            }
        })
    }
    length(t, n) {
        return new Vr({
            ...this._def,
            exactLength: {
                value: t,
                message: Ne.toString(n)
            }
        })
    }
    nonempty(t) {
        return this.min(1, t)
    }
}
Vr.create = (e, t) => new Vr({
    type: e,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: Re.ZodArray,
    ...Be(t)
});
function Gi(e) {
    if (e instanceof At) {
        const t = {};
        for (const n in e.shape) {
            const s = e.shape[n];
            t[n] = gs.create(Gi(s))
        }
        return new At({
            ...e._def,
            shape: () => t
        })
    } else
        return e instanceof Vr ? new Vr({
            ...e._def,
            type: Gi(e.element)
        }) : e instanceof gs ? gs.create(Gi(e.unwrap())) : e instanceof za ? za.create(Gi(e.unwrap())) : e instanceof ws ? ws.create(e.items.map(t => Gi(t))) : e
}
class At extends Ze {
    constructor() {
        super(...arguments),
        this._cached = null,
        this.nonstrict = this.passthrough,
        this.augment = this.extend
    }
    _getCached() {
        if (this._cached !== null)
            return this._cached;
        const t = this._def.shape()
          , n = lt.objectKeys(t);
        return this._cached = {
            shape: t,
            keys: n
        }
    }
    _parse(t) {
        if (this._getType(t) !== me.object) {
            const d = this._getOrReturnCtx(t);
            return oe(d, {
                code: Z.invalid_type,
                expected: me.object,
                received: d.parsedType
            }),
            Me
        }
        const {status: s, ctx: a} = this._processInputParams(t)
          , {shape: i, keys: o} = this._getCached()
          , l = [];
        if (!(this._def.catchall instanceof Ks && this._def.unknownKeys === "strip"))
            for (const d in a.data)
                o.includes(d) || l.push(d);
        const c = [];
        for (const d of o) {
            const f = i[d]
              , m = a.data[d];
            c.push({
                key: {
                    status: "valid",
                    value: d
                },
                value: f._parse(new js(a,m,a.path,d)),
                alwaysSet: d in a.data
            })
        }
        if (this._def.catchall instanceof Ks) {
            const d = this._def.unknownKeys;
            if (d === "passthrough")
                for (const f of l)
                    c.push({
                        key: {
                            status: "valid",
                            value: f
                        },
                        value: {
                            status: "valid",
                            value: a.data[f]
                        }
                    });
            else if (d === "strict")
                l.length > 0 && (oe(a, {
                    code: Z.unrecognized_keys,
                    keys: l
                }),
                s.dirty());
            else if (d !== "strip")
                throw new Error("Internal ZodObject error: invalid unknownKeys value.")
        } else {
            const d = this._def.catchall;
            for (const f of l) {
                const m = a.data[f];
                c.push({
                    key: {
                        status: "valid",
                        value: f
                    },
                    value: d._parse(new js(a,m,a.path,f)),
                    alwaysSet: f in a.data
                })
            }
        }
        return a.common.async ? Promise.resolve().then(async () => {
            const d = [];
            for (const f of c) {
                const m = await f.key
                  , h = await f.value;
                d.push({
                    key: m,
                    value: h,
                    alwaysSet: f.alwaysSet
                })
            }
            return d
        }
        ).then(d => kn.mergeObjectSync(s, d)) : kn.mergeObjectSync(s, c)
    }
    get shape() {
        return this._def.shape()
    }
    strict(t) {
        return Ne.errToObj,
        new At({
            ...this._def,
            unknownKeys: "strict",
            ...t !== void 0 ? {
                errorMap: (n, s) => {
                    var a, i, o, l;
                    const c = (o = (i = (a = this._def).errorMap) === null || i === void 0 ? void 0 : i.call(a, n, s).message) !== null && o !== void 0 ? o : s.defaultError;
                    return n.code === "unrecognized_keys" ? {
                        message: (l = Ne.errToObj(t).message) !== null && l !== void 0 ? l : c
                    } : {
                        message: c
                    }
                }
            } : {}
        })
    }
    strip() {
        return new At({
            ...this._def,
            unknownKeys: "strip"
        })
    }
    passthrough() {
        return new At({
            ...this._def,
            unknownKeys: "passthrough"
        })
    }
    extend(t) {
        return new At({
            ...this._def,
            shape: () => ({
                ...this._def.shape(),
                ...t
            })
        })
    }
    merge(t) {
        return new At({
            unknownKeys: t._def.unknownKeys,
            catchall: t._def.catchall,
            shape: () => ({
                ...this._def.shape(),
                ...t._def.shape()
            }),
            typeName: Re.ZodObject
        })
    }
    setKey(t, n) {
        return this.augment({
            [t]: n
        })
    }
    catchall(t) {
        return new At({
            ...this._def,
            catchall: t
        })
    }
    pick(t) {
        const n = {};
        return lt.objectKeys(t).forEach(s => {
            t[s] && this.shape[s] && (n[s] = this.shape[s])
        }
        ),
        new At({
            ...this._def,
            shape: () => n
        })
    }
    omit(t) {
        const n = {};
        return lt.objectKeys(this.shape).forEach(s => {
            t[s] || (n[s] = this.shape[s])
        }
        ),
        new At({
            ...this._def,
            shape: () => n
        })
    }
    deepPartial() {
        return Gi(this)
    }
    partial(t) {
        const n = {};
        return lt.objectKeys(this.shape).forEach(s => {
            const a = this.shape[s];
            t && !t[s] ? n[s] = a : n[s] = a.optional()
        }
        ),
        new At({
            ...this._def,
            shape: () => n
        })
    }
    required(t) {
        const n = {};
        return lt.objectKeys(this.shape).forEach(s => {
            if (t && !t[s])
                n[s] = this.shape[s];
            else {
                let i = this.shape[s];
                for (; i instanceof gs; )
                    i = i._def.innerType;
                n[s] = i
            }
        }
        ),
        new At({
            ...this._def,
            shape: () => n
        })
    }
    keyof() {
        return eC(lt.objectKeys(this.shape))
    }
}
At.create = (e, t) => new At({
    shape: () => e,
    unknownKeys: "strip",
    catchall: Ks.create(),
    typeName: Re.ZodObject,
    ...Be(t)
});
At.strictCreate = (e, t) => new At({
    shape: () => e,
    unknownKeys: "strict",
    catchall: Ks.create(),
    typeName: Re.ZodObject,
    ...Be(t)
});
At.lazycreate = (e, t) => new At({
    shape: e,
    unknownKeys: "strip",
    catchall: Ks.create(),
    typeName: Re.ZodObject,
    ...Be(t)
});
class Nc extends Ze {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = this._def.options;
        function a(i) {
            for (const l of i)
                if (l.result.status === "valid")
                    return l.result;
            for (const l of i)
                if (l.result.status === "dirty")
                    return n.common.issues.push(...l.ctx.common.issues),
                    l.result;
            const o = i.map(l => new ar(l.ctx.common.issues));
            return oe(n, {
                code: Z.invalid_union,
                unionErrors: o
            }),
            Me
        }
        if (n.common.async)
            return Promise.all(s.map(async i => {
                const o = {
                    ...n,
                    common: {
                        ...n.common,
                        issues: []
                    },
                    parent: null
                };
                return {
                    result: await i._parseAsync({
                        data: n.data,
                        path: n.path,
                        parent: o
                    }),
                    ctx: o
                }
            }
            )).then(a);
        {
            let i;
            const o = [];
            for (const c of s) {
                const d = {
                    ...n,
                    common: {
                        ...n.common,
                        issues: []
                    },
                    parent: null
                }
                  , f = c._parseSync({
                    data: n.data,
                    path: n.path,
                    parent: d
                });
                if (f.status === "valid")
                    return f;
                f.status === "dirty" && !i && (i = {
                    result: f,
                    ctx: d
                }),
                d.common.issues.length && o.push(d.common.issues)
            }
            if (i)
                return n.common.issues.push(...i.ctx.common.issues),
                i.result;
            const l = o.map(c => new ar(c));
            return oe(n, {
                code: Z.invalid_union,
                unionErrors: l
            }),
            Me
        }
    }
    get options() {
        return this._def.options
    }
}
Nc.create = (e, t) => new Nc({
    options: e,
    typeName: Re.ZodUnion,
    ...Be(t)
});
const _s = e => e instanceof kc ? _s(e.schema) : e instanceof Kr ? _s(e.innerType()) : e instanceof Ec ? [e.value] : e instanceof $a ? e.options : e instanceof Tc ? lt.objectValues(e.enum) : e instanceof _c ? _s(e._def.innerType) : e instanceof wc ? [void 0] : e instanceof bc ? [null] : e instanceof gs ? [void 0, ..._s(e.unwrap())] : e instanceof za ? [null, ..._s(e.unwrap())] : e instanceof Tg || e instanceof Rc ? _s(e.unwrap()) : e instanceof Pc ? _s(e._def.innerType) : [];
class Lf extends Ze {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== me.object)
            return oe(n, {
                code: Z.invalid_type,
                expected: me.object,
                received: n.parsedType
            }),
            Me;
        const s = this.discriminator
          , a = n.data[s]
          , i = this.optionsMap.get(a);
        return i ? n.common.async ? i._parseAsync({
            data: n.data,
            path: n.path,
            parent: n
        }) : i._parseSync({
            data: n.data,
            path: n.path,
            parent: n
        }) : (oe(n, {
            code: Z.invalid_union_discriminator,
            options: Array.from(this.optionsMap.keys()),
            path: [s]
        }),
        Me)
    }
    get discriminator() {
        return this._def.discriminator
    }
    get options() {
        return this._def.options
    }
    get optionsMap() {
        return this._def.optionsMap
    }
    static create(t, n, s) {
        const a = new Map;
        for (const i of n) {
            const o = _s(i.shape[t]);
            if (!o.length)
                throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);
            for (const l of o) {
                if (a.has(l))
                    throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);
                a.set(l, i)
            }
        }
        return new Lf({
            typeName: Re.ZodDiscriminatedUnion,
            discriminator: t,
            options: n,
            optionsMap: a,
            ...Be(s)
        })
    }
}
function bp(e, t) {
    const n = As(e)
      , s = As(t);
    if (e === t)
        return {
            valid: !0,
            data: e
        };
    if (n === me.object && s === me.object) {
        const a = lt.objectKeys(t)
          , i = lt.objectKeys(e).filter(l => a.indexOf(l) !== -1)
          , o = {
            ...e,
            ...t
        };
        for (const l of i) {
            const c = bp(e[l], t[l]);
            if (!c.valid)
                return {
                    valid: !1
                };
            o[l] = c.data
        }
        return {
            valid: !0,
            data: o
        }
    } else if (n === me.array && s === me.array) {
        if (e.length !== t.length)
            return {
                valid: !1
            };
        const a = [];
        for (let i = 0; i < e.length; i++) {
            const o = e[i]
              , l = t[i]
              , c = bp(o, l);
            if (!c.valid)
                return {
                    valid: !1
                };
            a.push(c.data)
        }
        return {
            valid: !0,
            data: a
        }
    } else
        return n === me.date && s === me.date && +e == +t ? {
            valid: !0,
            data: e
        } : {
            valid: !1
        }
}
class Sc extends Ze {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t)
          , a = (i, o) => {
            if (jp(i) || jp(o))
                return Me;
            const l = bp(i.value, o.value);
            return l.valid ? ((wp(i) || wp(o)) && n.dirty(),
            {
                status: n.value,
                value: l.data
            }) : (oe(s, {
                code: Z.invalid_intersection_types
            }),
            Me)
        }
        ;
        return s.common.async ? Promise.all([this._def.left._parseAsync({
            data: s.data,
            path: s.path,
            parent: s
        }), this._def.right._parseAsync({
            data: s.data,
            path: s.path,
            parent: s
        })]).then( ([i,o]) => a(i, o)) : a(this._def.left._parseSync({
            data: s.data,
            path: s.path,
            parent: s
        }), this._def.right._parseSync({
            data: s.data,
            path: s.path,
            parent: s
        }))
    }
}
Sc.create = (e, t, n) => new Sc({
    left: e,
    right: t,
    typeName: Re.ZodIntersection,
    ...Be(n)
});
class ws extends Ze {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== me.array)
            return oe(s, {
                code: Z.invalid_type,
                expected: me.array,
                received: s.parsedType
            }),
            Me;
        if (s.data.length < this._def.items.length)
            return oe(s, {
                code: Z.too_small,
                minimum: this._def.items.length,
                inclusive: !0,
                exact: !1,
                type: "array"
            }),
            Me;
        !this._def.rest && s.data.length > this._def.items.length && (oe(s, {
            code: Z.too_big,
            maximum: this._def.items.length,
            inclusive: !0,
            exact: !1,
            type: "array"
        }),
        n.dirty());
        const i = [...s.data].map( (o, l) => {
            const c = this._def.items[l] || this._def.rest;
            return c ? c._parse(new js(s,o,s.path,l)) : null
        }
        ).filter(o => !!o);
        return s.common.async ? Promise.all(i).then(o => kn.mergeArray(n, o)) : kn.mergeArray(n, i)
    }
    get items() {
        return this._def.items
    }
    rest(t) {
        return new ws({
            ...this._def,
            rest: t
        })
    }
}
ws.create = (e, t) => {
    if (!Array.isArray(e))
        throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
    return new ws({
        items: e,
        typeName: Re.ZodTuple,
        rest: null,
        ...Be(t)
    })
}
;
class Cc extends Ze {
    get keySchema() {
        return this._def.keyType
    }
    get valueSchema() {
        return this._def.valueType
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== me.object)
            return oe(s, {
                code: Z.invalid_type,
                expected: me.object,
                received: s.parsedType
            }),
            Me;
        const a = []
          , i = this._def.keyType
          , o = this._def.valueType;
        for (const l in s.data)
            a.push({
                key: i._parse(new js(s,l,s.path,l)),
                value: o._parse(new js(s,s.data[l],s.path,l)),
                alwaysSet: l in s.data
            });
        return s.common.async ? kn.mergeObjectAsync(n, a) : kn.mergeObjectSync(n, a)
    }
    get element() {
        return this._def.valueType
    }
    static create(t, n, s) {
        return n instanceof Ze ? new Cc({
            keyType: t,
            valueType: n,
            typeName: Re.ZodRecord,
            ...Be(s)
        }) : new Cc({
            keyType: Or.create(),
            valueType: t,
            typeName: Re.ZodRecord,
            ...Be(n)
        })
    }
}
class Bu extends Ze {
    get keySchema() {
        return this._def.keyType
    }
    get valueSchema() {
        return this._def.valueType
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== me.map)
            return oe(s, {
                code: Z.invalid_type,
                expected: me.map,
                received: s.parsedType
            }),
            Me;
        const a = this._def.keyType
          , i = this._def.valueType
          , o = [...s.data.entries()].map( ([l,c], d) => ({
            key: a._parse(new js(s,l,s.path,[d, "key"])),
            value: i._parse(new js(s,c,s.path,[d, "value"]))
        }));
        if (s.common.async) {
            const l = new Map;
            return Promise.resolve().then(async () => {
                for (const c of o) {
                    const d = await c.key
                      , f = await c.value;
                    if (d.status === "aborted" || f.status === "aborted")
                        return Me;
                    (d.status === "dirty" || f.status === "dirty") && n.dirty(),
                    l.set(d.value, f.value)
                }
                return {
                    status: n.value,
                    value: l
                }
            }
            )
        } else {
            const l = new Map;
            for (const c of o) {
                const d = c.key
                  , f = c.value;
                if (d.status === "aborted" || f.status === "aborted")
                    return Me;
                (d.status === "dirty" || f.status === "dirty") && n.dirty(),
                l.set(d.value, f.value)
            }
            return {
                status: n.value,
                value: l
            }
        }
    }
}
Bu.create = (e, t, n) => new Bu({
    valueType: t,
    keyType: e,
    typeName: Re.ZodMap,
    ...Be(n)
});
class Mi extends Ze {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== me.set)
            return oe(s, {
                code: Z.invalid_type,
                expected: me.set,
                received: s.parsedType
            }),
            Me;
        const a = this._def;
        a.minSize !== null && s.data.size < a.minSize.value && (oe(s, {
            code: Z.too_small,
            minimum: a.minSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.minSize.message
        }),
        n.dirty()),
        a.maxSize !== null && s.data.size > a.maxSize.value && (oe(s, {
            code: Z.too_big,
            maximum: a.maxSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.maxSize.message
        }),
        n.dirty());
        const i = this._def.valueType;
        function o(c) {
            const d = new Set;
            for (const f of c) {
                if (f.status === "aborted")
                    return Me;
                f.status === "dirty" && n.dirty(),
                d.add(f.value)
            }
            return {
                status: n.value,
                value: d
            }
        }
        const l = [...s.data.values()].map( (c, d) => i._parse(new js(s,c,s.path,d)));
        return s.common.async ? Promise.all(l).then(c => o(c)) : o(l)
    }
    min(t, n) {
        return new Mi({
            ...this._def,
            minSize: {
                value: t,
                message: Ne.toString(n)
            }
        })
    }
    max(t, n) {
        return new Mi({
            ...this._def,
            maxSize: {
                value: t,
                message: Ne.toString(n)
            }
        })
    }
    size(t, n) {
        return this.min(t, n).max(t, n)
    }
    nonempty(t) {
        return this.min(1, t)
    }
}
Mi.create = (e, t) => new Mi({
    valueType: e,
    minSize: null,
    maxSize: null,
    typeName: Re.ZodSet,
    ...Be(t)
});
class jo extends Ze {
    constructor() {
        super(...arguments),
        this.validate = this.implement
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== me.function)
            return oe(n, {
                code: Z.invalid_type,
                expected: me.function,
                received: n.parsedType
            }),
            Me;
        function s(l, c) {
            return zu({
                data: l,
                path: n.path,
                errorMaps: [n.common.contextualErrorMap, n.schemaErrorMap, $u(), Qo].filter(d => !!d),
                issueData: {
                    code: Z.invalid_arguments,
                    argumentsError: c
                }
            })
        }
        function a(l, c) {
            return zu({
                data: l,
                path: n.path,
                errorMaps: [n.common.contextualErrorMap, n.schemaErrorMap, $u(), Qo].filter(d => !!d),
                issueData: {
                    code: Z.invalid_return_type,
                    returnTypeError: c
                }
            })
        }
        const i = {
            errorMap: n.common.contextualErrorMap
        }
          , o = n.data;
        if (this._def.returns instanceof Zo) {
            const l = this;
            return In(async function(...c) {
                const d = new ar([])
                  , f = await l._def.args.parseAsync(c, i).catch(g => {
                    throw d.addIssue(s(c, g)),
                    d
                }
                )
                  , m = await Reflect.apply(o, this, f);
                return await l._def.returns._def.type.parseAsync(m, i).catch(g => {
                    throw d.addIssue(a(m, g)),
                    d
                }
                )
            })
        } else {
            const l = this;
            return In(function(...c) {
                const d = l._def.args.safeParse(c, i);
                if (!d.success)
                    throw new ar([s(c, d.error)]);
                const f = Reflect.apply(o, this, d.data)
                  , m = l._def.returns.safeParse(f, i);
                if (!m.success)
                    throw new ar([a(f, m.error)]);
                return m.data
            })
        }
    }
    parameters() {
        return this._def.args
    }
    returnType() {
        return this._def.returns
    }
    args(...t) {
        return new jo({
            ...this._def,
            args: ws.create(t).rest(hi.create())
        })
    }
    returns(t) {
        return new jo({
            ...this._def,
            returns: t
        })
    }
    implement(t) {
        return this.parse(t)
    }
    strictImplement(t) {
        return this.parse(t)
    }
    static create(t, n, s) {
        return new jo({
            args: t || ws.create([]).rest(hi.create()),
            returns: n || hi.create(),
            typeName: Re.ZodFunction,
            ...Be(s)
        })
    }
}
class kc extends Ze {
    get schema() {
        return this._def.getter()
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        return this._def.getter()._parse({
            data: n.data,
            path: n.path,
            parent: n
        })
    }
}
kc.create = (e, t) => new kc({
    getter: e,
    typeName: Re.ZodLazy,
    ...Be(t)
});
class Ec extends Ze {
    _parse(t) {
        if (t.data !== this._def.value) {
            const n = this._getOrReturnCtx(t);
            return oe(n, {
                received: n.data,
                code: Z.invalid_literal,
                expected: this._def.value
            }),
            Me
        }
        return {
            status: "valid",
            value: t.data
        }
    }
    get value() {
        return this._def.value
    }
}
Ec.create = (e, t) => new Ec({
    value: e,
    typeName: Re.ZodLiteral,
    ...Be(t)
});
function eC(e, t) {
    return new $a({
        values: e,
        typeName: Re.ZodEnum,
        ...Be(t)
    })
}
class $a extends Ze {
    constructor() {
        super(...arguments),
        Al.set(this, void 0)
    }
    _parse(t) {
        if (typeof t.data != "string") {
            const n = this._getOrReturnCtx(t)
              , s = this._def.values;
            return oe(n, {
                expected: lt.joinValues(s),
                received: n.parsedType,
                code: Z.invalid_type
            }),
            Me
        }
        if (Vu(this, Al) || ZS(this, Al, new Set(this._def.values)),
        !Vu(this, Al).has(t.data)) {
            const n = this._getOrReturnCtx(t)
              , s = this._def.values;
            return oe(n, {
                received: n.data,
                code: Z.invalid_enum_value,
                options: s
            }),
            Me
        }
        return In(t.data)
    }
    get options() {
        return this._def.values
    }
    get enum() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    get Values() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    get Enum() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    extract(t, n=this._def) {
        return $a.create(t, {
            ...this._def,
            ...n
        })
    }
    exclude(t, n=this._def) {
        return $a.create(this.options.filter(s => !t.includes(s)), {
            ...this._def,
            ...n
        })
    }
}
Al = new WeakMap;
$a.create = eC;
class Tc extends Ze {
    constructor() {
        super(...arguments),
        Ml.set(this, void 0)
    }
    _parse(t) {
        const n = lt.getValidEnumValues(this._def.values)
          , s = this._getOrReturnCtx(t);
        if (s.parsedType !== me.string && s.parsedType !== me.number) {
            const a = lt.objectValues(n);
            return oe(s, {
                expected: lt.joinValues(a),
                received: s.parsedType,
                code: Z.invalid_type
            }),
            Me
        }
        if (Vu(this, Ml) || ZS(this, Ml, new Set(lt.getValidEnumValues(this._def.values))),
        !Vu(this, Ml).has(t.data)) {
            const a = lt.objectValues(n);
            return oe(s, {
                received: s.data,
                code: Z.invalid_enum_value,
                options: a
            }),
            Me
        }
        return In(t.data)
    }
    get enum() {
        return this._def.values
    }
}
Ml = new WeakMap;
Tc.create = (e, t) => new Tc({
    values: e,
    typeName: Re.ZodNativeEnum,
    ...Be(t)
});
class Zo extends Ze {
    unwrap() {
        return this._def.type
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== me.promise && n.common.async === !1)
            return oe(n, {
                code: Z.invalid_type,
                expected: me.promise,
                received: n.parsedType
            }),
            Me;
        const s = n.parsedType === me.promise ? n.data : Promise.resolve(n.data);
        return In(s.then(a => this._def.type.parseAsync(a, {
            path: n.path,
            errorMap: n.common.contextualErrorMap
        })))
    }
}
Zo.create = (e, t) => new Zo({
    type: e,
    typeName: Re.ZodPromise,
    ...Be(t)
});
class Kr extends Ze {
    innerType() {
        return this._def.schema
    }
    sourceType() {
        return this._def.schema._def.typeName === Re.ZodEffects ? this._def.schema.sourceType() : this._def.schema
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t)
          , a = this._def.effect || null
          , i = {
            addIssue: o => {
                oe(s, o),
                o.fatal ? n.abort() : n.dirty()
            }
            ,
            get path() {
                return s.path
            }
        };
        if (i.addIssue = i.addIssue.bind(i),
        a.type === "preprocess") {
            const o = a.transform(s.data, i);
            if (s.common.async)
                return Promise.resolve(o).then(async l => {
                    if (n.value === "aborted")
                        return Me;
                    const c = await this._def.schema._parseAsync({
                        data: l,
                        path: s.path,
                        parent: s
                    });
                    return c.status === "aborted" ? Me : c.status === "dirty" || n.value === "dirty" ? lo(c.value) : c
                }
                );
            {
                if (n.value === "aborted")
                    return Me;
                const l = this._def.schema._parseSync({
                    data: o,
                    path: s.path,
                    parent: s
                });
                return l.status === "aborted" ? Me : l.status === "dirty" || n.value === "dirty" ? lo(l.value) : l
            }
        }
        if (a.type === "refinement") {
            const o = l => {
                const c = a.refinement(l, i);
                if (s.common.async)
                    return Promise.resolve(c);
                if (c instanceof Promise)
                    throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
                return l
            }
            ;
            if (s.common.async === !1) {
                const l = this._def.schema._parseSync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                return l.status === "aborted" ? Me : (l.status === "dirty" && n.dirty(),
                o(l.value),
                {
                    status: n.value,
                    value: l.value
                })
            } else
                return this._def.schema._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                }).then(l => l.status === "aborted" ? Me : (l.status === "dirty" && n.dirty(),
                o(l.value).then( () => ({
                    status: n.value,
                    value: l.value
                }))))
        }
        if (a.type === "transform")
            if (s.common.async === !1) {
                const o = this._def.schema._parseSync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                if (!Ri(o))
                    return o;
                const l = a.transform(o.value, i);
                if (l instanceof Promise)
                    throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");
                return {
                    status: n.value,
                    value: l
                }
            } else
                return this._def.schema._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                }).then(o => Ri(o) ? Promise.resolve(a.transform(o.value, i)).then(l => ({
                    status: n.value,
                    value: l
                })) : o);
        lt.assertNever(a)
    }
}
Kr.create = (e, t, n) => new Kr({
    schema: e,
    typeName: Re.ZodEffects,
    effect: t,
    ...Be(n)
});
Kr.createWithPreprocess = (e, t, n) => new Kr({
    schema: t,
    effect: {
        type: "preprocess",
        transform: e
    },
    typeName: Re.ZodEffects,
    ...Be(n)
});
class gs extends Ze {
    _parse(t) {
        return this._getType(t) === me.undefined ? In(void 0) : this._def.innerType._parse(t)
    }
    unwrap() {
        return this._def.innerType
    }
}
gs.create = (e, t) => new gs({
    innerType: e,
    typeName: Re.ZodOptional,
    ...Be(t)
});
class za extends Ze {
    _parse(t) {
        return this._getType(t) === me.null ? In(null) : this._def.innerType._parse(t)
    }
    unwrap() {
        return this._def.innerType
    }
}
za.create = (e, t) => new za({
    innerType: e,
    typeName: Re.ZodNullable,
    ...Be(t)
});
class _c extends Ze {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        let s = n.data;
        return n.parsedType === me.undefined && (s = this._def.defaultValue()),
        this._def.innerType._parse({
            data: s,
            path: n.path,
            parent: n
        })
    }
    removeDefault() {
        return this._def.innerType
    }
}
_c.create = (e, t) => new _c({
    innerType: e,
    typeName: Re.ZodDefault,
    defaultValue: typeof t.default == "function" ? t.default : () => t.default,
    ...Be(t)
});
class Pc extends Ze {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = {
            ...n,
            common: {
                ...n.common,
                issues: []
            }
        }
          , a = this._def.innerType._parse({
            data: s.data,
            path: s.path,
            parent: {
                ...s
            }
        });
        return yc(a) ? a.then(i => ({
            status: "valid",
            value: i.status === "valid" ? i.value : this._def.catchValue({
                get error() {
                    return new ar(s.common.issues)
                },
                input: s.data
            })
        })) : {
            status: "valid",
            value: a.status === "valid" ? a.value : this._def.catchValue({
                get error() {
                    return new ar(s.common.issues)
                },
                input: s.data
            })
        }
    }
    removeCatch() {
        return this._def.innerType
    }
}
Pc.create = (e, t) => new Pc({
    innerType: e,
    typeName: Re.ZodCatch,
    catchValue: typeof t.catch == "function" ? t.catch : () => t.catch,
    ...Be(t)
});
class Hu extends Ze {
    _parse(t) {
        if (this._getType(t) !== me.nan) {
            const s = this._getOrReturnCtx(t);
            return oe(s, {
                code: Z.invalid_type,
                expected: me.nan,
                received: s.parsedType
            }),
            Me
        }
        return {
            status: "valid",
            value: t.data
        }
    }
}
Hu.create = e => new Hu({
    typeName: Re.ZodNaN,
    ...Be(e)
});
const NO = Symbol("zod_brand");
class Tg extends Ze {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = n.data;
        return this._def.type._parse({
            data: s,
            path: n.path,
            parent: n
        })
    }
    unwrap() {
        return this._def.type
    }
}
class Jc extends Ze {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.common.async)
            return (async () => {
                const i = await this._def.in._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                return i.status === "aborted" ? Me : i.status === "dirty" ? (n.dirty(),
                lo(i.value)) : this._def.out._parseAsync({
                    data: i.value,
                    path: s.path,
                    parent: s
                })
            }
            )();
        {
            const a = this._def.in._parseSync({
                data: s.data,
                path: s.path,
                parent: s
            });
            return a.status === "aborted" ? Me : a.status === "dirty" ? (n.dirty(),
            {
                status: "dirty",
                value: a.value
            }) : this._def.out._parseSync({
                data: a.value,
                path: s.path,
                parent: s
            })
        }
    }
    static create(t, n) {
        return new Jc({
            in: t,
            out: n,
            typeName: Re.ZodPipeline
        })
    }
}
class Rc extends Ze {
    _parse(t) {
        const n = this._def.innerType._parse(t)
          , s = a => (Ri(a) && (a.value = Object.freeze(a.value)),
        a);
        return yc(n) ? n.then(a => s(a)) : s(n)
    }
    unwrap() {
        return this._def.innerType
    }
}
Rc.create = (e, t) => new Rc({
    innerType: e,
    typeName: Re.ZodReadonly,
    ...Be(t)
});
function cj(e, t) {
    const n = typeof e == "function" ? e(t) : typeof e == "string" ? {
        message: e
    } : e;
    return typeof n == "string" ? {
        message: n
    } : n
}
function tC(e, t={}, n) {
    return e ? Go.create().superRefine( (s, a) => {
        var i, o;
        const l = e(s);
        if (l instanceof Promise)
            return l.then(c => {
                var d, f;
                if (!c) {
                    const m = cj(t, s)
                      , h = (f = (d = m.fatal) !== null && d !== void 0 ? d : n) !== null && f !== void 0 ? f : !0;
                    a.addIssue({
                        code: "custom",
                        ...m,
                        fatal: h
                    })
                }
            }
            );
        if (!l) {
            const c = cj(t, s)
              , d = (o = (i = c.fatal) !== null && i !== void 0 ? i : n) !== null && o !== void 0 ? o : !0;
            a.addIssue({
                code: "custom",
                ...c,
                fatal: d
            })
        }
    }
    ) : Go.create()
}
const SO = {
    object: At.lazycreate
};
var Re;
(function(e) {
    e.ZodString = "ZodString",
    e.ZodNumber = "ZodNumber",
    e.ZodNaN = "ZodNaN",
    e.ZodBigInt = "ZodBigInt",
    e.ZodBoolean = "ZodBoolean",
    e.ZodDate = "ZodDate",
    e.ZodSymbol = "ZodSymbol",
    e.ZodUndefined = "ZodUndefined",
    e.ZodNull = "ZodNull",
    e.ZodAny = "ZodAny",
    e.ZodUnknown = "ZodUnknown",
    e.ZodNever = "ZodNever",
    e.ZodVoid = "ZodVoid",
    e.ZodArray = "ZodArray",
    e.ZodObject = "ZodObject",
    e.ZodUnion = "ZodUnion",
    e.ZodDiscriminatedUnion = "ZodDiscriminatedUnion",
    e.ZodIntersection = "ZodIntersection",
    e.ZodTuple = "ZodTuple",
    e.ZodRecord = "ZodRecord",
    e.ZodMap = "ZodMap",
    e.ZodSet = "ZodSet",
    e.ZodFunction = "ZodFunction",
    e.ZodLazy = "ZodLazy",
    e.ZodLiteral = "ZodLiteral",
    e.ZodEnum = "ZodEnum",
    e.ZodEffects = "ZodEffects",
    e.ZodNativeEnum = "ZodNativeEnum",
    e.ZodOptional = "ZodOptional",
    e.ZodNullable = "ZodNullable",
    e.ZodDefault = "ZodDefault",
    e.ZodCatch = "ZodCatch",
    e.ZodPromise = "ZodPromise",
    e.ZodBranded = "ZodBranded",
    e.ZodPipeline = "ZodPipeline",
    e.ZodReadonly = "ZodReadonly"
}
)(Re || (Re = {}));
const CO = (e, t={
    message: `Input not instance of ${e.name}`
}) => tC(n => n instanceof e, t)
  , nC = Or.create
  , rC = La.create
  , kO = Hu.create
  , EO = Fa.create
  , sC = jc.create
  , TO = Ai.create
  , _O = Uu.create
  , PO = wc.create
  , RO = bc.create
  , AO = Go.create
  , MO = hi.create
  , IO = Ks.create
  , DO = Wu.create
  , OO = Vr.create
  , LO = At.create
  , FO = At.strictCreate
  , $O = Nc.create
  , zO = Lf.create
  , VO = Sc.create
  , UO = ws.create
  , WO = Cc.create
  , BO = Bu.create
  , HO = Mi.create
  , qO = jo.create
  , KO = kc.create
  , QO = Ec.create
  , GO = $a.create
  , ZO = Tc.create
  , YO = Zo.create
  , dj = Kr.create
  , XO = gs.create
  , JO = za.create
  , eL = Kr.createWithPreprocess
  , tL = Jc.create
  , nL = () => nC().optional()
  , rL = () => rC().optional()
  , sL = () => sC().optional()
  , aL = {
    string: e => Or.create({
        ...e,
        coerce: !0
    }),
    number: e => La.create({
        ...e,
        coerce: !0
    }),
    boolean: e => jc.create({
        ...e,
        coerce: !0
    }),
    bigint: e => Fa.create({
        ...e,
        coerce: !0
    }),
    date: e => Ai.create({
        ...e,
        coerce: !0
    })
}
  , iL = Me;
var We = Object.freeze({
    __proto__: null,
    defaultErrorMap: Qo,
    setErrorMap: eO,
    getErrorMap: $u,
    makeIssue: zu,
    EMPTY_PATH: tO,
    addIssueToContext: oe,
    ParseStatus: kn,
    INVALID: Me,
    DIRTY: lo,
    OK: In,
    isAborted: jp,
    isDirty: wp,
    isValid: Ri,
    isAsync: yc,
    get util() {
        return lt
    },
    get objectUtil() {
        return yp
    },
    ZodParsedType: me,
    getParsedType: As,
    ZodType: Ze,
    datetimeRegex: JS,
    ZodString: Or,
    ZodNumber: La,
    ZodBigInt: Fa,
    ZodBoolean: jc,
    ZodDate: Ai,
    ZodSymbol: Uu,
    ZodUndefined: wc,
    ZodNull: bc,
    ZodAny: Go,
    ZodUnknown: hi,
    ZodNever: Ks,
    ZodVoid: Wu,
    ZodArray: Vr,
    ZodObject: At,
    ZodUnion: Nc,
    ZodDiscriminatedUnion: Lf,
    ZodIntersection: Sc,
    ZodTuple: ws,
    ZodRecord: Cc,
    ZodMap: Bu,
    ZodSet: Mi,
    ZodFunction: jo,
    ZodLazy: kc,
    ZodLiteral: Ec,
    ZodEnum: $a,
    ZodNativeEnum: Tc,
    ZodPromise: Zo,
    ZodEffects: Kr,
    ZodTransformer: Kr,
    ZodOptional: gs,
    ZodNullable: za,
    ZodDefault: _c,
    ZodCatch: Pc,
    ZodNaN: Hu,
    BRAND: NO,
    ZodBranded: Tg,
    ZodPipeline: Jc,
    ZodReadonly: Rc,
    custom: tC,
    Schema: Ze,
    ZodSchema: Ze,
    late: SO,
    get ZodFirstPartyTypeKind() {
        return Re
    },
    coerce: aL,
    any: AO,
    array: OO,
    bigint: EO,
    boolean: sC,
    date: TO,
    discriminatedUnion: zO,
    effect: dj,
    enum: GO,
    function: qO,
    instanceof: CO,
    intersection: VO,
    lazy: KO,
    literal: QO,
    map: BO,
    nan: kO,
    nativeEnum: ZO,
    never: IO,
    null: RO,
    nullable: JO,
    number: rC,
    object: LO,
    oboolean: sL,
    onumber: rL,
    optional: XO,
    ostring: nL,
    pipeline: tL,
    preprocess: eL,
    promise: YO,
    record: WO,
    set: HO,
    strictObject: FO,
    string: nC,
    symbol: _O,
    transformer: dj,
    tuple: UO,
    undefined: PO,
    union: $O,
    unknown: MO,
    void: DO,
    NEVER: iL,
    ZodIssueCode: Z,
    quotelessJson: J4,
    ZodError: ar
});
const Va = u.forwardRef( ({className: e, ...t}, n) => r.jsx("textarea", {
    className: le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", e),
    ref: n,
    ...t
}));
Va.displayName = "Textarea";
var oL = "Label"
  , aC = u.forwardRef( (e, t) => r.jsx(Ce.label, {
    ...e,
    ref: t,
    onMouseDown: n => {
        var a;
        n.target.closest("button, input, select, textarea") || ((a = e.onMouseDown) == null || a.call(e, n),
        !n.defaultPrevented && n.detail > 1 && n.preventDefault())
    }
}));
aC.displayName = oL;
var iC = aC;
const lL = Kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70")
  , bn = u.forwardRef( ({className: e, ...t}, n) => r.jsx(iC, {
    ref: n,
    className: le(lL(), e),
    ...t
}));
bn.displayName = iC.displayName;
const Ua = A4
  , oC = u.createContext({})
  , ot = ({...e}) => r.jsx(oC.Provider, {
    value: {
        name: e.name
    },
    children: r.jsx(O4, {
        ...e
    })
})
  , Ff = () => {
    const e = u.useContext(oC)
      , t = u.useContext(lC)
      , {getFieldState: n, formState: s} = Of()
      , a = n(e.name, s);
    if (!e)
        throw new Error("useFormField should be used within <FormField>");
    const {id: i} = t;
    return {
        id: i,
        name: e.name,
        formItemId: `${i}-form-item`,
        formDescriptionId: `${i}-form-item-description`,
        formMessageId: `${i}-form-item-message`,
        ...a
    }
}
  , lC = u.createContext({})
  , et = u.forwardRef( ({className: e, ...t}, n) => {
    const s = u.useId();
    return r.jsx(lC.Provider, {
        value: {
            id: s
        },
        children: r.jsx("div", {
            ref: n,
            className: le("space-y-2", e),
            ...t
        })
    })
}
);
et.displayName = "FormItem";
const Je = u.forwardRef( ({className: e, ...t}, n) => {
    const {error: s, formItemId: a} = Ff();
    return r.jsx(bn, {
        ref: n,
        className: le(s && "text-destructive", e),
        htmlFor: a,
        ...t
    })
}
);
Je.displayName = "FormLabel";
const st = u.forwardRef( ({...e}, t) => {
    const {error: n, formItemId: s, formDescriptionId: a, formMessageId: i} = Ff();
    return r.jsx(gb, {
        ref: t,
        id: s,
        "aria-describedby": n ? `${a} ${i}` : `${a}`,
        "aria-invalid": !!n,
        ...e
    })
}
);
st.displayName = "FormControl";
const cL = u.forwardRef( ({className: e, ...t}, n) => {
    const {formDescriptionId: s} = Ff();
    return r.jsx("p", {
        ref: n,
        id: s,
        className: le("text-sm text-muted-foreground", e),
        ...t
    })
}
);
cL.displayName = "FormDescription";
const dt = u.forwardRef( ({className: e, children: t, ...n}, s) => {
    const {error: a, formMessageId: i} = Ff()
      , o = a ? String((a == null ? void 0 : a.message) ?? "") : t;
    return o ? r.jsx("p", {
        ref: s,
        id: i,
        className: le("text-sm font-medium text-destructive", e),
        ...n,
        children: o
    }) : null
}
);
dt.displayName = "FormMessage";
function Np(e, [t,n]) {
    return Math.min(n, Math.max(t, e))
}
function _g(e) {
    const t = u.useRef({
        value: e,
        previous: e
    });
    return u.useMemo( () => (t.current.value !== e && (t.current.previous = t.current.value,
    t.current.value = e),
    t.current.previous), [e])
}
var dL = [" ", "Enter", "ArrowUp", "ArrowDown"]
  , uL = [" ", "Enter"]
  , ed = "Select"
  , [$f,zf,fL] = gf(ed)
  , [dl,r5] = En(ed, [fL, ol])
  , Vf = ol()
  , [mL,qa] = dl(ed)
  , [hL,pL] = dl(ed)
  , cC = e => {
    const {__scopeSelect: t, children: n, open: s, defaultOpen: a, onOpenChange: i, value: o, defaultValue: l, onValueChange: c, dir: d, name: f, autoComplete: m, disabled: h, required: g, form: w} = e
      , x = Vf(t)
      , [y,v] = u.useState(null)
      , [p,j] = u.useState(null)
      , [N,S] = u.useState(!1)
      , k = ll(d)
      , [C=!1,E] = vs({
        prop: s,
        defaultProp: a,
        onChange: i
    })
      , [A,z] = vs({
        prop: o,
        defaultProp: l,
        onChange: c
    })
      , G = u.useRef(null)
      , R = y ? w || !!y.closest("form") : !0
      , [B,U] = u.useState(new Set)
      , J = Array.from(B).map(q => q.props.value).join(";");
    return r.jsx(qx, {
        ...x,
        children: r.jsxs(mL, {
            required: g,
            scope: t,
            trigger: y,
            onTriggerChange: v,
            valueNode: p,
            onValueNodeChange: j,
            valueNodeHasChildren: N,
            onValueNodeHasChildrenChange: S,
            contentId: zr(),
            value: A,
            onValueChange: z,
            open: C,
            onOpenChange: E,
            dir: k,
            triggerPointerDownPosRef: G,
            disabled: h,
            children: [r.jsx($f.Provider, {
                scope: t,
                children: r.jsx(hL, {
                    scope: e.__scopeSelect,
                    onNativeOptionAdd: u.useCallback(q => {
                        U(pe => new Set(pe).add(q))
                    }
                    , []),
                    onNativeOptionRemove: u.useCallback(q => {
                        U(pe => {
                            const D = new Set(pe);
                            return D.delete(q),
                            D
                        }
                        )
                    }
                    , []),
                    children: n
                })
            }), R ? r.jsxs(IC, {
                "aria-hidden": !0,
                required: g,
                tabIndex: -1,
                name: f,
                autoComplete: m,
                value: A,
                onChange: q => z(q.target.value),
                disabled: h,
                form: w,
                children: [A === void 0 ? r.jsx("option", {
                    value: ""
                }) : null, Array.from(B)]
            }, J) : null]
        })
    })
}
;
cC.displayName = ed;
var dC = "SelectTrigger"
  , uC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, disabled: s=!1, ...a} = e
      , i = Vf(n)
      , o = qa(dC, n)
      , l = o.disabled || s
      , c = He(t, o.onTriggerChange)
      , d = zf(n)
      , f = u.useRef("touch")
      , [m,h,g] = DC(x => {
        const y = d().filter(j => !j.disabled)
          , v = y.find(j => j.value === o.value)
          , p = OC(y, x, v);
        p !== void 0 && o.onValueChange(p.value)
    }
    )
      , w = x => {
        l || (o.onOpenChange(!0),
        g()),
        x && (o.triggerPointerDownPosRef.current = {
            x: Math.round(x.pageX),
            y: Math.round(x.pageY)
        })
    }
    ;
    return r.jsx(Kx, {
        asChild: !0,
        ...i,
        children: r.jsx(Ce.button, {
            type: "button",
            role: "combobox",
            "aria-controls": o.contentId,
            "aria-expanded": o.open,
            "aria-required": o.required,
            "aria-autocomplete": "none",
            dir: o.dir,
            "data-state": o.open ? "open" : "closed",
            disabled: l,
            "data-disabled": l ? "" : void 0,
            "data-placeholder": MC(o.value) ? "" : void 0,
            ...a,
            ref: c,
            onClick: ne(a.onClick, x => {
                x.currentTarget.focus(),
                f.current !== "mouse" && w(x)
            }
            ),
            onPointerDown: ne(a.onPointerDown, x => {
                f.current = x.pointerType;
                const y = x.target;
                y.hasPointerCapture(x.pointerId) && y.releasePointerCapture(x.pointerId),
                x.button === 0 && x.ctrlKey === !1 && x.pointerType === "mouse" && (w(x),
                x.preventDefault())
            }
            ),
            onKeyDown: ne(a.onKeyDown, x => {
                const y = m.current !== "";
                !(x.ctrlKey || x.altKey || x.metaKey) && x.key.length === 1 && h(x.key),
                !(y && x.key === " ") && dL.includes(x.key) && (w(),
                x.preventDefault())
            }
            )
        })
    })
}
);
uC.displayName = dC;
var fC = "SelectValue"
  , mC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, className: s, style: a, children: i, placeholder: o="", ...l} = e
      , c = qa(fC, n)
      , {onValueNodeHasChildrenChange: d} = c
      , f = i !== void 0
      , m = He(t, c.onValueNodeChange);
    return tn( () => {
        d(f)
    }
    , [d, f]),
    r.jsx(Ce.span, {
        ...l,
        ref: m,
        style: {
            pointerEvents: "none"
        },
        children: MC(c.value) ? r.jsx(r.Fragment, {
            children: o
        }) : i
    })
}
);
mC.displayName = fC;
var xL = "SelectIcon"
  , hC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, children: s, ...a} = e;
    return r.jsx(Ce.span, {
        "aria-hidden": !0,
        ...a,
        ref: t,
        children: s || ""
    })
}
);
hC.displayName = xL;
var gL = "SelectPortal"
  , pC = e => r.jsx(Hc, {
    asChild: !0,
    ...e
});
pC.displayName = gL;
var Ii = "SelectContent"
  , xC = u.forwardRef( (e, t) => {
    const n = qa(Ii, e.__scopeSelect)
      , [s,a] = u.useState();
    if (tn( () => {
        a(new DocumentFragment)
    }
    , []),
    !n.open) {
        const i = s;
        return i ? Fi.createPortal(r.jsx(gC, {
            scope: e.__scopeSelect,
            children: r.jsx($f.Slot, {
                scope: e.__scopeSelect,
                children: r.jsx("div", {
                    children: e.children
                })
            })
        }), i) : null
    }
    return r.jsx(vC, {
        ...e,
        ref: t
    })
}
);
xC.displayName = Ii;
var Er = 10
  , [gC,Ka] = dl(Ii)
  , vL = "SelectContentImpl"
  , yL = Ti("SelectContent.RemoveScroll")
  , vC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, position: s="item-aligned", onCloseAutoFocus: a, onEscapeKeyDown: i, onPointerDownOutside: o, side: l, sideOffset: c, align: d, alignOffset: f, arrowPadding: m, collisionBoundary: h, collisionPadding: g, sticky: w, hideWhenDetached: x, avoidCollisions: y, ...v} = e
      , p = qa(Ii, n)
      , [j,N] = u.useState(null)
      , [S,k] = u.useState(null)
      , C = He(t, $ => N($))
      , [E,A] = u.useState(null)
      , [z,G] = u.useState(null)
      , R = zf(n)
      , [B,U] = u.useState(!1)
      , J = u.useRef(!1);
    u.useEffect( () => {
        if (j)
            return ag(j)
    }
    , [j]),
    sg();
    const q = u.useCallback($ => {
        const [te,...Ie] = R().map($e => $e.ref.current)
          , [Le] = Ie.slice(-1)
          , Ve = document.activeElement;
        for (const $e of $)
            if ($e === Ve || ($e == null || $e.scrollIntoView({
                block: "nearest"
            }),
            $e === te && S && (S.scrollTop = 0),
            $e === Le && S && (S.scrollTop = S.scrollHeight),
            $e == null || $e.focus(),
            document.activeElement !== Ve))
                return
    }
    , [R, S])
      , pe = u.useCallback( () => q([E, j]), [q, E, j]);
    u.useEffect( () => {
        B && pe()
    }
    , [B, pe]);
    const {onOpenChange: D, triggerPointerDownPosRef: V} = p;
    u.useEffect( () => {
        if (j) {
            let $ = {
                x: 0,
                y: 0
            };
            const te = Le => {
                var Ve, $e;
                $ = {
                    x: Math.abs(Math.round(Le.pageX) - (((Ve = V.current) == null ? void 0 : Ve.x) ?? 0)),
                    y: Math.abs(Math.round(Le.pageY) - ((($e = V.current) == null ? void 0 : $e.y) ?? 0))
                }
            }
              , Ie = Le => {
                $.x <= 10 && $.y <= 10 ? Le.preventDefault() : j.contains(Le.target) || D(!1),
                document.removeEventListener("pointermove", te),
                V.current = null
            }
            ;
            return V.current !== null && (document.addEventListener("pointermove", te),
            document.addEventListener("pointerup", Ie, {
                capture: !0,
                once: !0
            })),
            () => {
                document.removeEventListener("pointermove", te),
                document.removeEventListener("pointerup", Ie, {
                    capture: !0
                })
            }
        }
    }
    , [j, D, V]),
    u.useEffect( () => {
        const $ = () => D(!1);
        return window.addEventListener("blur", $),
        window.addEventListener("resize", $),
        () => {
            window.removeEventListener("blur", $),
            window.removeEventListener("resize", $)
        }
    }
    , [D]);
    const [W,de] = DC($ => {
        const te = R().filter(Ve => !Ve.disabled)
          , Ie = te.find(Ve => Ve.ref.current === document.activeElement)
          , Le = OC(te, $, Ie);
        Le && setTimeout( () => Le.ref.current.focus())
    }
    )
      , ke = u.useCallback( ($, te, Ie) => {
        const Le = !J.current && !Ie;
        (p.value !== void 0 && p.value === te || Le) && (A($),
        Le && (J.current = !0))
    }
    , [p.value])
      , Ye = u.useCallback( () => j == null ? void 0 : j.focus(), [j])
      , at = u.useCallback( ($, te, Ie) => {
        const Le = !J.current && !Ie;
        (p.value !== void 0 && p.value === te || Le) && G($)
    }
    , [p.value])
      , ut = s === "popper" ? Sp : yC
      , we = ut === Sp ? {
        side: l,
        sideOffset: c,
        align: d,
        alignOffset: f,
        arrowPadding: m,
        collisionBoundary: h,
        collisionPadding: g,
        sticky: w,
        hideWhenDetached: x,
        avoidCollisions: y
    } : {};
    return r.jsx(gC, {
        scope: n,
        content: j,
        viewport: S,
        onViewportChange: k,
        itemRefCallback: ke,
        selectedItem: E,
        onItemLeave: Ye,
        itemTextRefCallback: at,
        focusSelectedItem: pe,
        selectedItemText: z,
        position: s,
        isPositioned: B,
        searchRef: W,
        children: r.jsx(Af, {
            as: yL,
            allowPinchZoom: !0,
            children: r.jsx(Pf, {
                asChild: !0,
                trapped: p.open,
                onMountAutoFocus: $ => {
                    $.preventDefault()
                }
                ,
                onUnmountAutoFocus: ne(a, $ => {
                    var te;
                    (te = p.trigger) == null || te.focus({
                        preventScroll: !0
                    }),
                    $.preventDefault()
                }
                ),
                children: r.jsx(nl, {
                    asChild: !0,
                    disableOutsidePointerEvents: !0,
                    onEscapeKeyDown: i,
                    onPointerDownOutside: o,
                    onFocusOutside: $ => $.preventDefault(),
                    onDismiss: () => p.onOpenChange(!1),
                    children: r.jsx(ut, {
                        role: "listbox",
                        id: p.contentId,
                        "data-state": p.open ? "open" : "closed",
                        dir: p.dir,
                        onContextMenu: $ => $.preventDefault(),
                        ...v,
                        ...we,
                        onPlaced: () => U(!0),
                        ref: C,
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            outline: "none",
                            ...v.style
                        },
                        onKeyDown: ne(v.onKeyDown, $ => {
                            const te = $.ctrlKey || $.altKey || $.metaKey;
                            if ($.key === "Tab" && $.preventDefault(),
                            !te && $.key.length === 1 && de($.key),
                            ["ArrowUp", "ArrowDown", "Home", "End"].includes($.key)) {
                                let Le = R().filter(Ve => !Ve.disabled).map(Ve => Ve.ref.current);
                                if (["ArrowUp", "End"].includes($.key) && (Le = Le.slice().reverse()),
                                ["ArrowUp", "ArrowDown"].includes($.key)) {
                                    const Ve = $.target
                                      , $e = Le.indexOf(Ve);
                                    Le = Le.slice($e + 1)
                                }
                                setTimeout( () => q(Le)),
                                $.preventDefault()
                            }
                        }
                        )
                    })
                })
            })
        })
    })
}
);
vC.displayName = vL;
var jL = "SelectItemAlignedPosition"
  , yC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, onPlaced: s, ...a} = e
      , i = qa(Ii, n)
      , o = Ka(Ii, n)
      , [l,c] = u.useState(null)
      , [d,f] = u.useState(null)
      , m = He(t, C => f(C))
      , h = zf(n)
      , g = u.useRef(!1)
      , w = u.useRef(!0)
      , {viewport: x, selectedItem: y, selectedItemText: v, focusSelectedItem: p} = o
      , j = u.useCallback( () => {
        if (i.trigger && i.valueNode && l && d && x && y && v) {
            const C = i.trigger.getBoundingClientRect()
              , E = d.getBoundingClientRect()
              , A = i.valueNode.getBoundingClientRect()
              , z = v.getBoundingClientRect();
            if (i.dir !== "rtl") {
                const Ve = z.left - E.left
                  , $e = A.left - Ve
                  , jt = C.left - $e
                  , Ot = C.width + jt
                  , ln = Math.max(Ot, E.width)
                  , Qt = window.innerWidth - Er
                  , wt = Np($e, [Er, Math.max(Er, Qt - ln)]);
                l.style.minWidth = Ot + "px",
                l.style.left = wt + "px"
            } else {
                const Ve = E.right - z.right
                  , $e = window.innerWidth - A.right - Ve
                  , jt = window.innerWidth - C.right - $e
                  , Ot = C.width + jt
                  , ln = Math.max(Ot, E.width)
                  , Qt = window.innerWidth - Er
                  , wt = Np($e, [Er, Math.max(Er, Qt - ln)]);
                l.style.minWidth = Ot + "px",
                l.style.right = wt + "px"
            }
            const G = h()
              , R = window.innerHeight - Er * 2
              , B = x.scrollHeight
              , U = window.getComputedStyle(d)
              , J = parseInt(U.borderTopWidth, 10)
              , q = parseInt(U.paddingTop, 10)
              , pe = parseInt(U.borderBottomWidth, 10)
              , D = parseInt(U.paddingBottom, 10)
              , V = J + q + B + D + pe
              , W = Math.min(y.offsetHeight * 5, V)
              , de = window.getComputedStyle(x)
              , ke = parseInt(de.paddingTop, 10)
              , Ye = parseInt(de.paddingBottom, 10)
              , at = C.top + C.height / 2 - Er
              , ut = R - at
              , we = y.offsetHeight / 2
              , $ = y.offsetTop + we
              , te = J + q + $
              , Ie = V - te;
            if (te <= at) {
                const Ve = G.length > 0 && y === G[G.length - 1].ref.current;
                l.style.bottom = "0px";
                const $e = d.clientHeight - x.offsetTop - x.offsetHeight
                  , jt = Math.max(ut, we + (Ve ? Ye : 0) + $e + pe)
                  , Ot = te + jt;
                l.style.height = Ot + "px"
            } else {
                const Ve = G.length > 0 && y === G[0].ref.current;
                l.style.top = "0px";
                const jt = Math.max(at, J + x.offsetTop + (Ve ? ke : 0) + we) + Ie;
                l.style.height = jt + "px",
                x.scrollTop = te - at + x.offsetTop
            }
            l.style.margin = `${Er}px 0`,
            l.style.minHeight = W + "px",
            l.style.maxHeight = R + "px",
            s == null || s(),
            requestAnimationFrame( () => g.current = !0)
        }
    }
    , [h, i.trigger, i.valueNode, l, d, x, y, v, i.dir, s]);
    tn( () => j(), [j]);
    const [N,S] = u.useState();
    tn( () => {
        d && S(window.getComputedStyle(d).zIndex)
    }
    , [d]);
    const k = u.useCallback(C => {
        C && w.current === !0 && (j(),
        p == null || p(),
        w.current = !1)
    }
    , [j, p]);
    return r.jsx(bL, {
        scope: n,
        contentWrapper: l,
        shouldExpandOnScrollRef: g,
        onScrollButtonChange: k,
        children: r.jsx("div", {
            ref: c,
            style: {
                display: "flex",
                flexDirection: "column",
                position: "fixed",
                zIndex: N
            },
            children: r.jsx(Ce.div, {
                ...a,
                ref: m,
                style: {
                    boxSizing: "border-box",
                    maxHeight: "100%",
                    ...a.style
                }
            })
        })
    })
}
);
yC.displayName = jL;
var wL = "SelectPopperPosition"
  , Sp = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, align: s="start", collisionPadding: a=Er, ...i} = e
      , o = Vf(n);
    return r.jsx(Qx, {
        ...o,
        ...i,
        ref: t,
        align: s,
        collisionPadding: a,
        style: {
            boxSizing: "border-box",
            ...i.style,
            "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-select-content-available-width": "var(--radix-popper-available-width)",
            "--radix-select-content-available-height": "var(--radix-popper-available-height)",
            "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
Sp.displayName = wL;
var [bL,Pg] = dl(Ii, {})
  , Cp = "SelectViewport"
  , jC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, nonce: s, ...a} = e
      , i = Ka(Cp, n)
      , o = Pg(Cp, n)
      , l = He(t, i.onViewportChange)
      , c = u.useRef(0);
    return r.jsxs(r.Fragment, {
        children: [r.jsx("style", {
            dangerouslySetInnerHTML: {
                __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
            },
            nonce: s
        }), r.jsx($f.Slot, {
            scope: n,
            children: r.jsx(Ce.div, {
                "data-radix-select-viewport": "",
                role: "presentation",
                ...a,
                ref: l,
                style: {
                    position: "relative",
                    flex: 1,
                    overflow: "hidden auto",
                    ...a.style
                },
                onScroll: ne(a.onScroll, d => {
                    const f = d.currentTarget
                      , {contentWrapper: m, shouldExpandOnScrollRef: h} = o;
                    if (h != null && h.current && m) {
                        const g = Math.abs(c.current - f.scrollTop);
                        if (g > 0) {
                            const w = window.innerHeight - Er * 2
                              , x = parseFloat(m.style.minHeight)
                              , y = parseFloat(m.style.height)
                              , v = Math.max(x, y);
                            if (v < w) {
                                const p = v + g
                                  , j = Math.min(w, p)
                                  , N = p - j;
                                m.style.height = j + "px",
                                m.style.bottom === "0px" && (f.scrollTop = N > 0 ? N : 0,
                                m.style.justifyContent = "flex-end")
                            }
                        }
                    }
                    c.current = f.scrollTop
                }
                )
            })
        })]
    })
}
);
jC.displayName = Cp;
var wC = "SelectGroup"
  , [NL,SL] = dl(wC)
  , CL = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = zr();
    return r.jsx(NL, {
        scope: n,
        id: a,
        children: r.jsx(Ce.div, {
            role: "group",
            "aria-labelledby": a,
            ...s,
            ref: t
        })
    })
}
);
CL.displayName = wC;
var bC = "SelectLabel"
  , NC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = SL(bC, n);
    return r.jsx(Ce.div, {
        id: a.id,
        ...s,
        ref: t
    })
}
);
NC.displayName = bC;
var qu = "SelectItem"
  , [kL,SC] = dl(qu)
  , CC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, value: s, disabled: a=!1, textValue: i, ...o} = e
      , l = qa(qu, n)
      , c = Ka(qu, n)
      , d = l.value === s
      , [f,m] = u.useState(i ?? "")
      , [h,g] = u.useState(!1)
      , w = He(t, p => {
        var j;
        return (j = c.itemRefCallback) == null ? void 0 : j.call(c, p, s, a)
    }
    )
      , x = zr()
      , y = u.useRef("touch")
      , v = () => {
        a || (l.onValueChange(s),
        l.onOpenChange(!1))
    }
    ;
    if (s === "")
        throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");
    return r.jsx(kL, {
        scope: n,
        value: s,
        disabled: a,
        textId: x,
        isSelected: d,
        onItemTextChange: u.useCallback(p => {
            m(j => j || ((p == null ? void 0 : p.textContent) ?? "").trim())
        }
        , []),
        children: r.jsx($f.ItemSlot, {
            scope: n,
            value: s,
            disabled: a,
            textValue: f,
            children: r.jsx(Ce.div, {
                role: "option",
                "aria-labelledby": x,
                "data-highlighted": h ? "" : void 0,
                "aria-selected": d && h,
                "data-state": d ? "checked" : "unchecked",
                "aria-disabled": a || void 0,
                "data-disabled": a ? "" : void 0,
                tabIndex: a ? void 0 : -1,
                ...o,
                ref: w,
                onFocus: ne(o.onFocus, () => g(!0)),
                onBlur: ne(o.onBlur, () => g(!1)),
                onClick: ne(o.onClick, () => {
                    y.current !== "mouse" && v()
                }
                ),
                onPointerUp: ne(o.onPointerUp, () => {
                    y.current === "mouse" && v()
                }
                ),
                onPointerDown: ne(o.onPointerDown, p => {
                    y.current = p.pointerType
                }
                ),
                onPointerMove: ne(o.onPointerMove, p => {
                    var j;
                    y.current = p.pointerType,
                    a ? (j = c.onItemLeave) == null || j.call(c) : y.current === "mouse" && p.currentTarget.focus({
                        preventScroll: !0
                    })
                }
                ),
                onPointerLeave: ne(o.onPointerLeave, p => {
                    var j;
                    p.currentTarget === document.activeElement && ((j = c.onItemLeave) == null || j.call(c))
                }
                ),
                onKeyDown: ne(o.onKeyDown, p => {
                    var N;
                    ((N = c.searchRef) == null ? void 0 : N.current) !== "" && p.key === " " || (uL.includes(p.key) && v(),
                    p.key === " " && p.preventDefault())
                }
                )
            })
        })
    })
}
);
CC.displayName = qu;
var Il = "SelectItemText"
  , kC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, className: s, style: a, ...i} = e
      , o = qa(Il, n)
      , l = Ka(Il, n)
      , c = SC(Il, n)
      , d = pL(Il, n)
      , [f,m] = u.useState(null)
      , h = He(t, v => m(v), c.onItemTextChange, v => {
        var p;
        return (p = l.itemTextRefCallback) == null ? void 0 : p.call(l, v, c.value, c.disabled)
    }
    )
      , g = f == null ? void 0 : f.textContent
      , w = u.useMemo( () => r.jsx("option", {
        value: c.value,
        disabled: c.disabled,
        children: g
    }, c.value), [c.disabled, c.value, g])
      , {onNativeOptionAdd: x, onNativeOptionRemove: y} = d;
    return tn( () => (x(w),
    () => y(w)), [x, y, w]),
    r.jsxs(r.Fragment, {
        children: [r.jsx(Ce.span, {
            id: c.textId,
            ...i,
            ref: h
        }), c.isSelected && o.valueNode && !o.valueNodeHasChildren ? Fi.createPortal(i.children, o.valueNode) : null]
    })
}
);
kC.displayName = Il;
var EC = "SelectItemIndicator"
  , TC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e;
    return SC(EC, n).isSelected ? r.jsx(Ce.span, {
        "aria-hidden": !0,
        ...s,
        ref: t
    }) : null
}
);
TC.displayName = EC;
var kp = "SelectScrollUpButton"
  , _C = u.forwardRef( (e, t) => {
    const n = Ka(kp, e.__scopeSelect)
      , s = Pg(kp, e.__scopeSelect)
      , [a,i] = u.useState(!1)
      , o = He(t, s.onScrollButtonChange);
    return tn( () => {
        if (n.viewport && n.isPositioned) {
            let l = function() {
                const d = c.scrollTop > 0;
                i(d)
            };
            const c = n.viewport;
            return l(),
            c.addEventListener("scroll", l),
            () => c.removeEventListener("scroll", l)
        }
    }
    , [n.viewport, n.isPositioned]),
    a ? r.jsx(RC, {
        ...e,
        ref: o,
        onAutoScroll: () => {
            const {viewport: l, selectedItem: c} = n;
            l && c && (l.scrollTop = l.scrollTop - c.offsetHeight)
        }
    }) : null
}
);
_C.displayName = kp;
var Ep = "SelectScrollDownButton"
  , PC = u.forwardRef( (e, t) => {
    const n = Ka(Ep, e.__scopeSelect)
      , s = Pg(Ep, e.__scopeSelect)
      , [a,i] = u.useState(!1)
      , o = He(t, s.onScrollButtonChange);
    return tn( () => {
        if (n.viewport && n.isPositioned) {
            let l = function() {
                const d = c.scrollHeight - c.clientHeight
                  , f = Math.ceil(c.scrollTop) < d;
                i(f)
            };
            const c = n.viewport;
            return l(),
            c.addEventListener("scroll", l),
            () => c.removeEventListener("scroll", l)
        }
    }
    , [n.viewport, n.isPositioned]),
    a ? r.jsx(RC, {
        ...e,
        ref: o,
        onAutoScroll: () => {
            const {viewport: l, selectedItem: c} = n;
            l && c && (l.scrollTop = l.scrollTop + c.offsetHeight)
        }
    }) : null
}
);
PC.displayName = Ep;
var RC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, onAutoScroll: s, ...a} = e
      , i = Ka("SelectScrollButton", n)
      , o = u.useRef(null)
      , l = zf(n)
      , c = u.useCallback( () => {
        o.current !== null && (window.clearInterval(o.current),
        o.current = null)
    }
    , []);
    return u.useEffect( () => () => c(), [c]),
    tn( () => {
        var f;
        const d = l().find(m => m.ref.current === document.activeElement);
        (f = d == null ? void 0 : d.ref.current) == null || f.scrollIntoView({
            block: "nearest"
        })
    }
    , [l]),
    r.jsx(Ce.div, {
        "aria-hidden": !0,
        ...a,
        ref: t,
        style: {
            flexShrink: 0,
            ...a.style
        },
        onPointerDown: ne(a.onPointerDown, () => {
            o.current === null && (o.current = window.setInterval(s, 50))
        }
        ),
        onPointerMove: ne(a.onPointerMove, () => {
            var d;
            (d = i.onItemLeave) == null || d.call(i),
            o.current === null && (o.current = window.setInterval(s, 50))
        }
        ),
        onPointerLeave: ne(a.onPointerLeave, () => {
            c()
        }
        )
    })
}
)
  , EL = "SelectSeparator"
  , AC = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e;
    return r.jsx(Ce.div, {
        "aria-hidden": !0,
        ...s,
        ref: t
    })
}
);
AC.displayName = EL;
var Tp = "SelectArrow"
  , TL = u.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = Vf(n)
      , i = qa(Tp, n)
      , o = Ka(Tp, n);
    return i.open && o.position === "popper" ? r.jsx(Gx, {
        ...a,
        ...s,
        ref: t
    }) : null
}
);
TL.displayName = Tp;
function MC(e) {
    return e === "" || e === void 0
}
var IC = u.forwardRef( (e, t) => {
    const {value: n, ...s} = e
      , a = u.useRef(null)
      , i = He(t, a)
      , o = _g(n);
    return u.useEffect( () => {
        const l = a.current
          , c = window.HTMLSelectElement.prototype
          , f = Object.getOwnPropertyDescriptor(c, "value").set;
        if (o !== n && f) {
            const m = new Event("change",{
                bubbles: !0
            });
            f.call(l, n),
            l.dispatchEvent(m)
        }
    }
    , [o, n]),
    r.jsx(qc, {
        asChild: !0,
        children: r.jsx("select", {
            ...s,
            ref: i,
            defaultValue: n
        })
    })
}
);
IC.displayName = "BubbleSelect";
function DC(e) {
    const t = Pt(e)
      , n = u.useRef("")
      , s = u.useRef(0)
      , a = u.useCallback(o => {
        const l = n.current + o;
        t(l),
        function c(d) {
            n.current = d,
            window.clearTimeout(s.current),
            d !== "" && (s.current = window.setTimeout( () => c(""), 1e3))
        }(l)
    }
    , [t])
      , i = u.useCallback( () => {
        n.current = "",
        window.clearTimeout(s.current)
    }
    , []);
    return u.useEffect( () => () => window.clearTimeout(s.current), []),
    [n, a, i]
}
function OC(e, t, n) {
    const a = t.length > 1 && Array.from(t).every(d => d === t[0]) ? t[0] : t
      , i = n ? e.indexOf(n) : -1;
    let o = _L(e, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== n));
    const c = o.find(d => d.textValue.toLowerCase().startsWith(a.toLowerCase()));
    return c !== n ? c : void 0
}
function _L(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
var PL = cC
  , LC = uC
  , RL = mC
  , AL = hC
  , ML = pC
  , FC = xC
  , IL = jC
  , $C = NC
  , zC = CC
  , DL = kC
  , OL = TC
  , VC = _C
  , UC = PC
  , WC = AC;
const Jt = PL
  , en = RL
  , Ht = u.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(LC, {
    ref: s,
    className: le("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", e),
    ...n,
    children: [t, r.jsx(AL, {
        asChild: !0,
        children: r.jsx(qb, {
            className: "h-4 w-4 opacity-50"
        })
    })]
}));
Ht.displayName = LC.displayName;
const BC = u.forwardRef( ({className: e, ...t}, n) => r.jsx(VC, {
    ref: n,
    className: le("flex cursor-default items-center justify-center py-1", e),
    ...t,
    children: r.jsx(uR, {
        className: "h-4 w-4"
    })
}));
BC.displayName = VC.displayName;
const HC = u.forwardRef( ({className: e, ...t}, n) => r.jsx(UC, {
    ref: n,
    className: le("flex cursor-default items-center justify-center py-1", e),
    ...t,
    children: r.jsx(qb, {
        className: "h-4 w-4"
    })
}));
HC.displayName = UC.displayName;
const qt = u.forwardRef( ({className: e, children: t, position: n="popper", ...s}, a) => r.jsx(ML, {
    children: r.jsxs(FC, {
        ref: a,
        className: le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]", n === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", e),
        position: n,
        ...s,
        children: [r.jsx(BC, {}), r.jsx(IL, {
            className: le("p-1", n === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),
            children: t
        }), r.jsx(HC, {})]
    })
}));
qt.displayName = FC.displayName;
const LL = u.forwardRef( ({className: e, ...t}, n) => r.jsx($C, {
    ref: n,
    className: le("py-1.5 pl-8 pr-2 text-sm font-semibold", e),
    ...t
}));
LL.displayName = $C.displayName;
const Ae = u.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(zC, {
    ref: s,
    className: le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    ...n,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(OL, {
            children: r.jsx(jf, {
                className: "h-4 w-4"
            })
        })
    }), r.jsx(DL, {
        children: t
    })]
}));
Ae.displayName = zC.displayName;
const FL = u.forwardRef( ({className: e, ...t}, n) => r.jsx(WC, {
    ref: n,
    className: le("-mx-1 my-1 h-px bg-muted", e),
    ...t
}));
FL.displayName = WC.displayName;
var Rg = "Checkbox"
  , [$L,s5] = En(Rg)
  , [zL,VL] = $L(Rg)
  , qC = u.forwardRef( (e, t) => {
    const {__scopeCheckbox: n, name: s, checked: a, defaultChecked: i, required: o, disabled: l, value: c="on", onCheckedChange: d, form: f, ...m} = e
      , [h,g] = u.useState(null)
      , w = He(t, N => g(N))
      , x = u.useRef(!1)
      , y = h ? f || !!h.closest("form") : !0
      , [v=!1,p] = vs({
        prop: a,
        defaultProp: i,
        onChange: d
    })
      , j = u.useRef(v);
    return u.useEffect( () => {
        const N = h == null ? void 0 : h.form;
        if (N) {
            const S = () => p(j.current);
            return N.addEventListener("reset", S),
            () => N.removeEventListener("reset", S)
        }
    }
    , [h, p]),
    r.jsxs(zL, {
        scope: n,
        state: v,
        disabled: l,
        children: [r.jsx(Ce.button, {
            type: "button",
            role: "checkbox",
            "aria-checked": _a(v) ? "mixed" : v,
            "aria-required": o,
            "data-state": GC(v),
            "data-disabled": l ? "" : void 0,
            disabled: l,
            value: c,
            ...m,
            ref: w,
            onKeyDown: ne(e.onKeyDown, N => {
                N.key === "Enter" && N.preventDefault()
            }
            ),
            onClick: ne(e.onClick, N => {
                p(S => _a(S) ? !0 : !S),
                y && (x.current = N.isPropagationStopped(),
                x.current || N.stopPropagation())
            }
            )
        }), y && r.jsx(UL, {
            control: h,
            bubbles: !x.current,
            name: s,
            value: c,
            checked: v,
            required: o,
            disabled: l,
            form: f,
            style: {
                transform: "translateX(-100%)"
            },
            defaultChecked: _a(i) ? !1 : i
        })]
    })
}
);
qC.displayName = Rg;
var KC = "CheckboxIndicator"
  , QC = u.forwardRef( (e, t) => {
    const {__scopeCheckbox: n, forceMount: s, ...a} = e
      , i = VL(KC, n);
    return r.jsx(gn, {
        present: s || _a(i.state) || i.state === !0,
        children: r.jsx(Ce.span, {
            "data-state": GC(i.state),
            "data-disabled": i.disabled ? "" : void 0,
            ...a,
            ref: t,
            style: {
                pointerEvents: "none",
                ...e.style
            }
        })
    })
}
);
QC.displayName = KC;
var UL = e => {
    const {control: t, checked: n, bubbles: s=!0, defaultChecked: a, ...i} = e
      , o = u.useRef(null)
      , l = _g(n)
      , c = Wx(t);
    u.useEffect( () => {
        const f = o.current
          , m = window.HTMLInputElement.prototype
          , g = Object.getOwnPropertyDescriptor(m, "checked").set;
        if (l !== n && g) {
            const w = new Event("click",{
                bubbles: s
            });
            f.indeterminate = _a(n),
            g.call(f, _a(n) ? !1 : n),
            f.dispatchEvent(w)
        }
    }
    , [l, n, s]);
    const d = u.useRef(_a(n) ? !1 : n);
    return r.jsx("input", {
        type: "checkbox",
        "aria-hidden": !0,
        defaultChecked: a ?? d.current,
        ...i,
        tabIndex: -1,
        ref: o,
        style: {
            ...e.style,
            ...c,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
}
;
function _a(e) {
    return e === "indeterminate"
}
function GC(e) {
    return _a(e) ? "indeterminate" : e ? "checked" : "unchecked"
}
var ZC = qC
  , WL = QC;
const Ac = u.forwardRef( ({className: e, ...t}, n) => r.jsx(ZC, {
    ref: n,
    className: le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground", e),
    ...t,
    children: r.jsx(WL, {
        className: le("flex items-center justify-center text-current"),
        children: r.jsx(jf, {
            className: "h-4 w-4"
        })
    })
}));
Ac.displayName = ZC.displayName;
function BL({open: e, onOpenChange: t, requestId: n, transporters: s}) {
    const {toast: a} = on()
      , [i,o] = u.useState(!1)
      , l = Xe({
        mutationFn: async () => {
            const m = s.map(h => h.id);
            return ze("POST", `/api/requests/${n}/notify-transporters`, {
                transporterIds: m
            })
        }
        ,
        onSuccess: m => {
            a({
                title: "Notifications envoyes",
                description: m.message || "Les transporteurs ont t notifis"
            }),
            t(!1)
        }
        ,
        onError: () => {
            a({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi des notifications"
            })
        }
    })
      , c = async () => {
        o(!0),
        await l.mutateAsync(),
        o(!1)
    }
      , d = () => {
        t(!1)
    }
      , f = m => {
        switch (m) {
        case "retour":
            return "Retour annonc";
        case "ville_residence":
            return "Ville de rsidence";
        case "top_rated":
            return "Mieux not";
        default:
            return ""
        }
    }
    ;
    return r.jsx(yt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(pt, {
            className: "sm:max-w-[600px] max-h-[80vh] overflow-y-auto",
            children: [r.jsxs(xt, {
                children: [r.jsxs(gt, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(Xt, {
                        className: "h-6 w-6 text-primary"
                    }), "Transporteurs disponibles"]
                }), r.jsx(Rt, {
                    children: s.length > 0 ? r.jsxs(r.Fragment, {
                        children: [" ", s.length, " transporteur", s.length > 1 ? "s" : "", " disponible", s.length > 1 ? "s" : "", " sur ce trajet.", r.jsx("br", {}), "Souhaitez-vous leur envoyer une notification ?"]
                    }) : "Aucun transporteur disponible pour ce trajet pour le moment."
                })]
            }), s.length > 0 && r.jsx("div", {
                className: "space-y-3 my-4",
                children: s.map(m => r.jsx(ce, {
                    className: "p-4",
                    children: r.jsx("div", {
                        className: "flex items-start justify-between gap-3",
                        children: r.jsxs("div", {
                            className: "flex-1",
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-2 mb-2",
                                children: [r.jsx("h4", {
                                    className: "font-medium",
                                    children: m.name || "Transporteur"
                                }), m.availabilityType === "retour" && r.jsxs("span", {
                                    className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",
                                    children: [r.jsx(lR, {
                                        className: "h-3 w-3 mr-1"
                                    }), f(m.availabilityType)]
                                })]
                            }), r.jsxs("div", {
                                className: "flex flex-wrap items-center gap-3 text-sm text-muted-foreground",
                                children: [m.city && r.jsxs("div", {
                                    className: "flex items-center gap-1",
                                    children: [r.jsx(Mr, {
                                        className: "h-4 w-4"
                                    }), m.city]
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-1",
                                    children: [r.jsx(Bs, {
                                        className: "h-4 w-4 fill-yellow-400 text-yellow-400"
                                    }), r.jsx("span", {
                                        className: "font-medium text-foreground",
                                        children: m.rating.toFixed(1)
                                    })]
                                }), r.jsxs("div", {
                                    className: "text-xs",
                                    children: [m.totalTrips, " trajet", m.totalTrips > 1 ? "s" : ""]
                                })]
                            })]
                        })
                    })
                }, m.id))
            }), r.jsxs(xs, {
                className: "flex gap-2 sm:gap-2",
                children: [r.jsx(M, {
                    variant: "outline",
                    onClick: d,
                    disabled: i,
                    "data-testid": "button-notify-later",
                    children: "Non, plus tard"
                }), s.length > 0 && r.jsx(M, {
                    onClick: c,
                    disabled: i,
                    "data-testid": "button-notify-now",
                    children: i ? "Envoi en cours..." : "Oui, notifier"
                })]
            })]
        })
    })
}
const HL = We.object({
    fromCity: We.string().min(2, "Ville de dpart requise"),
    toCity: We.string().min(2, "Ville d'arrive requise"),
    description: We.string().min(10, "Description minimale: 10 caractres"),
    goodsType: We.string().min(1, "Type de marchandise requis"),
    dateTime: We.string().optional(),
    dateFlexible: We.boolean().default(!1),
    invoiceRequired: We.boolean().default(!1),
    budget: We.string().optional()
})
  , qL = ["Meubles", "lectromnager", "Marchandises", "Dmnagement", "Matriaux de construction", "Colis", "Vhicule", "Autre"];
function KL({onSuccess: e}) {
    const [t,n] = u.useState([])
      , [s,a] = u.useState(!1)
      , [i,o] = u.useState([])
      , [l,c] = u.useState("")
      , {toast: d} = on()
      , {data: f=[], isLoading: m} = Ge({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , h = Da({
        resolver: Oa(HL),
        defaultValues: {
            fromCity: "",
            toCity: "",
            description: "",
            goodsType: "",
            dateTime: "",
            dateFlexible: !1,
            invoiceRequired: !1,
            budget: ""
        }
    })
      , g = y => {
        y.target.files && n(Array.from(y.target.files))
    }
      , w = y => new Promise( (v, p) => {
        const j = new FileReader;
        j.readAsDataURL(y),
        j.onload = () => v(j.result),
        j.onerror = N => p(N)
    }
    )
      , x = async y => {
        try {
            const v = JSON.parse(localStorage.getItem("camionback_user") || "{}")
              , p = t.map(C => w(C))
              , j = await Promise.all(p)
              , N = {
                fromCity: y.fromCity,
                toCity: y.toCity,
                description: y.description,
                goodsType: y.goodsType,
                clientId: v.id,
                dateTime: y.dateTime ? new Date(y.dateTime).toISOString() : new Date().toISOString(),
                dateFlexible: y.dateFlexible,
                invoiceRequired: y.invoiceRequired,
                photos: j
            };
            y.budget && (N.budget = y.budget);
            const S = await fetch("/api/requests", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(N)
            });
            if (!S.ok)
                throw new Error;
            const k = await S.json();
            c(k.id),
            d({
                title: "Demande cre",
                description: "Votre demande de transport a t publie avec succs"
            });
            try {
                const C = await fetch(`/api/requests/${k.id}/recommended-transporters`);
                if (C.ok) {
                    const E = await C.json();
                    o(E.transporters || []),
                    a(!0)
                } else
                    h.reset(),
                    n([]),
                    e == null || e()
            } catch (C) {
                console.error("Failed to fetch recommendations:", C),
                h.reset(),
                n([]),
                e == null || e()
            }
        } catch {
            d({
                variant: "destructive",
                title: "Erreur",
                description: "chec de cration de la demande"
            })
        }
    }
    ;
    return r.jsxs(ce, {
        children: [r.jsx(Ee, {
            children: r.jsx(Te, {
                className: "text-2xl",
                children: "Nouvelle demande de transport"
            })
        }), r.jsx(ue, {
            children: r.jsx(Ua, {
                ...h,
                children: r.jsxs("form", {
                    onSubmit: h.handleSubmit(x),
                    className: "space-y-6",
                    children: [r.jsxs("div", {
                        className: "grid gap-4 md:grid-cols-2",
                        children: [r.jsx(ot, {
                            control: h.control,
                            name: "fromCity",
                            render: ({field: y}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Ville de dpart"
                                }), r.jsxs(Jt, {
                                    onValueChange: y.onChange,
                                    value: y.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-from-city",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(qt, {
                                        children: m ? r.jsx("div", {
                                            className: "p-2 text-sm text-muted-foreground",
                                            children: "Chargement..."
                                        }) : f.map(v => r.jsx(Ae, {
                                            value: v.name,
                                            children: v.name
                                        }, v.id))
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: h.control,
                            name: "toCity",
                            render: ({field: y}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Ville d'arrive"
                                }), r.jsxs(Jt, {
                                    onValueChange: y.onChange,
                                    value: y.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-to-city",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(qt, {
                                        children: m ? r.jsx("div", {
                                            className: "p-2 text-sm text-muted-foreground",
                                            children: "Chargement..."
                                        }) : f.map(v => r.jsx(Ae, {
                                            value: v.name,
                                            children: v.name
                                        }, v.id))
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        })]
                    }), r.jsx(ot, {
                        control: h.control,
                        name: "goodsType",
                        render: ({field: y}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Type de marchandise"
                            }), r.jsxs(Jt, {
                                onValueChange: y.onChange,
                                value: y.value,
                                children: [r.jsx(st, {
                                    children: r.jsx(Ht, {
                                        "data-testid": "select-goods-type",
                                        children: r.jsx(en, {
                                            placeholder: "Slectionner"
                                        })
                                    })
                                }), r.jsx(qt, {
                                    children: qL.map(v => r.jsx(Ae, {
                                        value: v,
                                        children: v
                                    }, v))
                                })]
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: h.control,
                        name: "description",
                        render: ({field: y}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Description"
                            }), r.jsx(st, {
                                children: r.jsx(Va, {
                                    placeholder: "Dcrivez votre demande de transport...",
                                    className: "min-h-24",
                                    "data-testid": "input-description",
                                    ...y
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: h.control,
                        name: "budget",
                        render: ({field: y}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Budget (optionnel)"
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    placeholder: "ex: 500 MAD",
                                    "data-testid": "input-budget",
                                    ...y
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: h.control,
                        name: "dateTime",
                        render: ({field: y}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Date et heure souhaites (optionnel)"
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    type: "datetime-local",
                                    "data-testid": "input-datetime",
                                    ...y
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "grid gap-4 grid-cols-2",
                        children: [r.jsx(ot, {
                            control: h.control,
                            name: "dateFlexible",
                            render: ({field: y}) => r.jsxs(et, {
                                className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                children: [r.jsx(st, {
                                    children: r.jsx(Ac, {
                                        checked: y.value,
                                        onCheckedChange: y.onChange,
                                        "data-testid": "checkbox-date-flexible"
                                    })
                                }), r.jsx("div", {
                                    className: "space-y-1 leading-none",
                                    children: r.jsx(Je, {
                                        className: "cursor-pointer",
                                        children: "Date flexible"
                                    })
                                })]
                            })
                        }), r.jsx(ot, {
                            control: h.control,
                            name: "invoiceRequired",
                            render: ({field: y}) => r.jsxs(et, {
                                className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                children: [r.jsx(st, {
                                    children: r.jsx(Ac, {
                                        checked: y.value,
                                        onCheckedChange: y.onChange,
                                        "data-testid": "checkbox-invoice-required"
                                    })
                                }), r.jsx("div", {
                                    className: "space-y-1 leading-none",
                                    children: r.jsx(Je, {
                                        className: "cursor-pointer",
                                        children: "Besoin d'une facture TTC"
                                    })
                                })]
                            })
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Photos (optionnel)"
                        }), r.jsxs("div", {
                            className: "border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",
                            children: [r.jsx("input", {
                                type: "file",
                                multiple: !0,
                                accept: "image/*",
                                onChange: g,
                                className: "hidden",
                                id: "photo-upload",
                                "data-testid": "input-photos"
                            }), r.jsxs("label", {
                                htmlFor: "photo-upload",
                                className: "cursor-pointer",
                                children: [r.jsx(wf, {
                                    className: "mx-auto h-10 w-10 text-muted-foreground mb-2"
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: t.length > 0 ? `${t.length} photo(s) slectionne(s)` : "Cliquez pour ajouter des photos"
                                })]
                            })]
                        })]
                    }), r.jsx(M, {
                        type: "submit",
                        size: "lg",
                        className: "w-full",
                        "data-testid": "button-create-request",
                        children: "Publier la demande"
                    })]
                })
            })
        }), r.jsx(BL, {
            open: s,
            onOpenChange: y => {
                a(y),
                y || (h.reset(),
                n([]),
                e == null || e())
            }
            ,
            requestId: l,
            transporters: i
        })]
    })
}
function Gr(e) {
    const t = Object.prototype.toString.call(e);
    return e instanceof Date || typeof e == "object" && t === "[object Date]" ? new e.constructor(+e) : typeof e == "number" || t === "[object Number]" || typeof e == "string" || t === "[object String]" ? new Date(e) : new Date(NaN)
}
function Di(e, t) {
    return e instanceof Date ? new e.constructor(t) : new Date(t)
}
const YC = 6048e5
  , QL = 864e5;
let GL = {};
function Uf() {
    return GL
}
function Mc(e, t) {
    var l, c, d, f;
    const n = Uf()
      , s = (t == null ? void 0 : t.weekStartsOn) ?? ((c = (l = t == null ? void 0 : t.locale) == null ? void 0 : l.options) == null ? void 0 : c.weekStartsOn) ?? n.weekStartsOn ?? ((f = (d = n.locale) == null ? void 0 : d.options) == null ? void 0 : f.weekStartsOn) ?? 0
      , a = Gr(e)
      , i = a.getDay()
      , o = (i < s ? 7 : 0) + i - s;
    return a.setDate(a.getDate() - o),
    a.setHours(0, 0, 0, 0),
    a
}
function Ku(e) {
    return Mc(e, {
        weekStartsOn: 1
    })
}
function XC(e) {
    const t = Gr(e)
      , n = t.getFullYear()
      , s = Di(e, 0);
    s.setFullYear(n + 1, 0, 4),
    s.setHours(0, 0, 0, 0);
    const a = Ku(s)
      , i = Di(e, 0);
    i.setFullYear(n, 0, 4),
    i.setHours(0, 0, 0, 0);
    const o = Ku(i);
    return t.getTime() >= a.getTime() ? n + 1 : t.getTime() >= o.getTime() ? n : n - 1
}
function uj(e) {
    const t = Gr(e);
    return t.setHours(0, 0, 0, 0),
    t
}
function fj(e) {
    const t = Gr(e)
      , n = new Date(Date.UTC(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds()));
    return n.setUTCFullYear(t.getFullYear()),
    +e - +n
}
function ZL(e, t) {
    const n = uj(e)
      , s = uj(t)
      , a = +n - fj(n)
      , i = +s - fj(s);
    return Math.round((a - i) / QL)
}
function YL(e) {
    const t = XC(e)
      , n = Di(e, 0);
    return n.setFullYear(t, 0, 4),
    n.setHours(0, 0, 0, 0),
    Ku(n)
}
function XL(e) {
    return e instanceof Date || typeof e == "object" && Object.prototype.toString.call(e) === "[object Date]"
}
function JL(e) {
    if (!XL(e) && typeof e != "number")
        return !1;
    const t = Gr(e);
    return !isNaN(Number(t))
}
function eF(e) {
    const t = Gr(e)
      , n = Di(e, 0);
    return n.setFullYear(t.getFullYear(), 0, 1),
    n.setHours(0, 0, 0, 0),
    n
}
const tF = {
    lessThanXSeconds: {
        one: "less than a second",
        other: "less than {{count}} seconds"
    },
    xSeconds: {
        one: "1 second",
        other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
        one: "less than a minute",
        other: "less than {{count}} minutes"
    },
    xMinutes: {
        one: "1 minute",
        other: "{{count}} minutes"
    },
    aboutXHours: {
        one: "about 1 hour",
        other: "about {{count}} hours"
    },
    xHours: {
        one: "1 hour",
        other: "{{count}} hours"
    },
    xDays: {
        one: "1 day",
        other: "{{count}} days"
    },
    aboutXWeeks: {
        one: "about 1 week",
        other: "about {{count}} weeks"
    },
    xWeeks: {
        one: "1 week",
        other: "{{count}} weeks"
    },
    aboutXMonths: {
        one: "about 1 month",
        other: "about {{count}} months"
    },
    xMonths: {
        one: "1 month",
        other: "{{count}} months"
    },
    aboutXYears: {
        one: "about 1 year",
        other: "about {{count}} years"
    },
    xYears: {
        one: "1 year",
        other: "{{count}} years"
    },
    overXYears: {
        one: "over 1 year",
        other: "over {{count}} years"
    },
    almostXYears: {
        one: "almost 1 year",
        other: "almost {{count}} years"
    }
}
  , nF = (e, t, n) => {
    let s;
    const a = tF[e];
    return typeof a == "string" ? s = a : t === 1 ? s = a.one : s = a.other.replace("{{count}}", t.toString()),
    n != null && n.addSuffix ? n.comparison && n.comparison > 0 ? "in " + s : s + " ago" : s
}
;
function wo(e) {
    return (t={}) => {
        const n = t.width ? String(t.width) : e.defaultWidth;
        return e.formats[n] || e.formats[e.defaultWidth]
    }
}
const rF = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
}
  , sF = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
}
  , aF = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
}
  , iF = {
    date: wo({
        formats: rF,
        defaultWidth: "full"
    }),
    time: wo({
        formats: sF,
        defaultWidth: "full"
    }),
    dateTime: wo({
        formats: aF,
        defaultWidth: "full"
    })
}
  , oF = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
}
  , lF = (e, t, n, s) => oF[e];
function cs(e) {
    return (t, n) => {
        const s = n != null && n.context ? String(n.context) : "standalone";
        let a;
        if (s === "formatting" && e.formattingValues) {
            const o = e.defaultFormattingWidth || e.defaultWidth
              , l = n != null && n.width ? String(n.width) : o;
            a = e.formattingValues[l] || e.formattingValues[o]
        } else {
            const o = e.defaultWidth
              , l = n != null && n.width ? String(n.width) : e.defaultWidth;
            a = e.values[l] || e.values[o]
        }
        const i = e.argumentCallback ? e.argumentCallback(t) : t;
        return a[i]
    }
}
const cF = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
}
  , dF = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
}
  , uF = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
}
  , fF = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
}
  , mF = {
    narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    },
    wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    }
}
  , hF = {
    narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    },
    wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    }
}
  , pF = (e, t) => {
    const n = Number(e)
      , s = n % 100;
    if (s > 20 || s < 10)
        switch (s % 10) {
        case 1:
            return n + "st";
        case 2:
            return n + "nd";
        case 3:
            return n + "rd"
        }
    return n + "th"
}
  , xF = {
    ordinalNumber: pF,
    era: cs({
        values: cF,
        defaultWidth: "wide"
    }),
    quarter: cs({
        values: dF,
        defaultWidth: "wide",
        argumentCallback: e => e - 1
    }),
    month: cs({
        values: uF,
        defaultWidth: "wide"
    }),
    day: cs({
        values: fF,
        defaultWidth: "wide"
    }),
    dayPeriod: cs({
        values: mF,
        defaultWidth: "wide",
        formattingValues: hF,
        defaultFormattingWidth: "wide"
    })
};
function ds(e) {
    return (t, n={}) => {
        const s = n.width
          , a = s && e.matchPatterns[s] || e.matchPatterns[e.defaultMatchWidth]
          , i = t.match(a);
        if (!i)
            return null;
        const o = i[0]
          , l = s && e.parsePatterns[s] || e.parsePatterns[e.defaultParseWidth]
          , c = Array.isArray(l) ? vF(l, m => m.test(o)) : gF(l, m => m.test(o));
        let d;
        d = e.valueCallback ? e.valueCallback(c) : c,
        d = n.valueCallback ? n.valueCallback(d) : d;
        const f = t.slice(o.length);
        return {
            value: d,
            rest: f
        }
    }
}
function gF(e, t) {
    for (const n in e)
        if (Object.prototype.hasOwnProperty.call(e, n) && t(e[n]))
            return n
}
function vF(e, t) {
    for (let n = 0; n < e.length; n++)
        if (t(e[n]))
            return n
}
function JC(e) {
    return (t, n={}) => {
        const s = t.match(e.matchPattern);
        if (!s)
            return null;
        const a = s[0]
          , i = t.match(e.parsePattern);
        if (!i)
            return null;
        let o = e.valueCallback ? e.valueCallback(i[0]) : i[0];
        o = n.valueCallback ? n.valueCallback(o) : o;
        const l = t.slice(a.length);
        return {
            value: o,
            rest: l
        }
    }
}
const yF = /^(\d+)(th|st|nd|rd)?/i
  , jF = /\d+/i
  , wF = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
}
  , bF = {
    any: [/^b/i, /^(a|c)/i]
}
  , NF = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
}
  , SF = {
    any: [/1/i, /2/i, /3/i, /4/i]
}
  , CF = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
}
  , kF = {
    narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
    any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
}
  , EF = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
}
  , TF = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
}
  , _F = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
}
  , PF = {
    any: {
        am: /^a/i,
        pm: /^p/i,
        midnight: /^mi/i,
        noon: /^no/i,
        morning: /morning/i,
        afternoon: /afternoon/i,
        evening: /evening/i,
        night: /night/i
    }
}
  , RF = {
    ordinalNumber: JC({
        matchPattern: yF,
        parsePattern: jF,
        valueCallback: e => parseInt(e, 10)
    }),
    era: ds({
        matchPatterns: wF,
        defaultMatchWidth: "wide",
        parsePatterns: bF,
        defaultParseWidth: "any"
    }),
    quarter: ds({
        matchPatterns: NF,
        defaultMatchWidth: "wide",
        parsePatterns: SF,
        defaultParseWidth: "any",
        valueCallback: e => e + 1
    }),
    month: ds({
        matchPatterns: CF,
        defaultMatchWidth: "wide",
        parsePatterns: kF,
        defaultParseWidth: "any"
    }),
    day: ds({
        matchPatterns: EF,
        defaultMatchWidth: "wide",
        parsePatterns: TF,
        defaultParseWidth: "any"
    }),
    dayPeriod: ds({
        matchPatterns: _F,
        defaultMatchWidth: "any",
        parsePatterns: PF,
        defaultParseWidth: "any"
    })
}
  , AF = {
    code: "en-US",
    formatDistance: nF,
    formatLong: iF,
    formatRelative: lF,
    localize: xF,
    match: RF,
    options: {
        weekStartsOn: 0,
        firstWeekContainsDate: 1
    }
};
function MF(e) {
    const t = Gr(e);
    return ZL(t, eF(t)) + 1
}
function IF(e) {
    const t = Gr(e)
      , n = +Ku(t) - +YL(t);
    return Math.round(n / YC) + 1
}
function ek(e, t) {
    var f, m, h, g;
    const n = Gr(e)
      , s = n.getFullYear()
      , a = Uf()
      , i = (t == null ? void 0 : t.firstWeekContainsDate) ?? ((m = (f = t == null ? void 0 : t.locale) == null ? void 0 : f.options) == null ? void 0 : m.firstWeekContainsDate) ?? a.firstWeekContainsDate ?? ((g = (h = a.locale) == null ? void 0 : h.options) == null ? void 0 : g.firstWeekContainsDate) ?? 1
      , o = Di(e, 0);
    o.setFullYear(s + 1, 0, i),
    o.setHours(0, 0, 0, 0);
    const l = Mc(o, t)
      , c = Di(e, 0);
    c.setFullYear(s, 0, i),
    c.setHours(0, 0, 0, 0);
    const d = Mc(c, t);
    return n.getTime() >= l.getTime() ? s + 1 : n.getTime() >= d.getTime() ? s : s - 1
}
function DF(e, t) {
    var l, c, d, f;
    const n = Uf()
      , s = (t == null ? void 0 : t.firstWeekContainsDate) ?? ((c = (l = t == null ? void 0 : t.locale) == null ? void 0 : l.options) == null ? void 0 : c.firstWeekContainsDate) ?? n.firstWeekContainsDate ?? ((f = (d = n.locale) == null ? void 0 : d.options) == null ? void 0 : f.firstWeekContainsDate) ?? 1
      , a = ek(e, t)
      , i = Di(e, 0);
    return i.setFullYear(a, 0, s),
    i.setHours(0, 0, 0, 0),
    Mc(i, t)
}
function OF(e, t) {
    const n = Gr(e)
      , s = +Mc(n, t) - +DF(n, t);
    return Math.round(s / YC) + 1
}
function ht(e, t) {
    const n = e < 0 ? "-" : ""
      , s = Math.abs(e).toString().padStart(t, "0");
    return n + s
}
const ta = {
    y(e, t) {
        const n = e.getFullYear()
          , s = n > 0 ? n : 1 - n;
        return ht(t === "yy" ? s % 100 : s, t.length)
    },
    M(e, t) {
        const n = e.getMonth();
        return t === "M" ? String(n + 1) : ht(n + 1, 2)
    },
    d(e, t) {
        return ht(e.getDate(), t.length)
    },
    a(e, t) {
        const n = e.getHours() / 12 >= 1 ? "pm" : "am";
        switch (t) {
        case "a":
        case "aa":
            return n.toUpperCase();
        case "aaa":
            return n;
        case "aaaaa":
            return n[0];
        case "aaaa":
        default:
            return n === "am" ? "a.m." : "p.m."
        }
    },
    h(e, t) {
        return ht(e.getHours() % 12 || 12, t.length)
    },
    H(e, t) {
        return ht(e.getHours(), t.length)
    },
    m(e, t) {
        return ht(e.getMinutes(), t.length)
    },
    s(e, t) {
        return ht(e.getSeconds(), t.length)
    },
    S(e, t) {
        const n = t.length
          , s = e.getMilliseconds()
          , a = Math.trunc(s * Math.pow(10, n - 3));
        return ht(a, t.length)
    }
}
  , Qi = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
}
  , mj = {
    G: function(e, t, n) {
        const s = e.getFullYear() > 0 ? 1 : 0;
        switch (t) {
        case "G":
        case "GG":
        case "GGG":
            return n.era(s, {
                width: "abbreviated"
            });
        case "GGGGG":
            return n.era(s, {
                width: "narrow"
            });
        case "GGGG":
        default:
            return n.era(s, {
                width: "wide"
            })
        }
    },
    y: function(e, t, n) {
        if (t === "yo") {
            const s = e.getFullYear()
              , a = s > 0 ? s : 1 - s;
            return n.ordinalNumber(a, {
                unit: "year"
            })
        }
        return ta.y(e, t)
    },
    Y: function(e, t, n, s) {
        const a = ek(e, s)
          , i = a > 0 ? a : 1 - a;
        if (t === "YY") {
            const o = i % 100;
            return ht(o, 2)
        }
        return t === "Yo" ? n.ordinalNumber(i, {
            unit: "year"
        }) : ht(i, t.length)
    },
    R: function(e, t) {
        const n = XC(e);
        return ht(n, t.length)
    },
    u: function(e, t) {
        const n = e.getFullYear();
        return ht(n, t.length)
    },
    Q: function(e, t, n) {
        const s = Math.ceil((e.getMonth() + 1) / 3);
        switch (t) {
        case "Q":
            return String(s);
        case "QQ":
            return ht(s, 2);
        case "Qo":
            return n.ordinalNumber(s, {
                unit: "quarter"
            });
        case "QQQ":
            return n.quarter(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "QQQQQ":
            return n.quarter(s, {
                width: "narrow",
                context: "formatting"
            });
        case "QQQQ":
        default:
            return n.quarter(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    q: function(e, t, n) {
        const s = Math.ceil((e.getMonth() + 1) / 3);
        switch (t) {
        case "q":
            return String(s);
        case "qq":
            return ht(s, 2);
        case "qo":
            return n.ordinalNumber(s, {
                unit: "quarter"
            });
        case "qqq":
            return n.quarter(s, {
                width: "abbreviated",
                context: "standalone"
            });
        case "qqqqq":
            return n.quarter(s, {
                width: "narrow",
                context: "standalone"
            });
        case "qqqq":
        default:
            return n.quarter(s, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    M: function(e, t, n) {
        const s = e.getMonth();
        switch (t) {
        case "M":
        case "MM":
            return ta.M(e, t);
        case "Mo":
            return n.ordinalNumber(s + 1, {
                unit: "month"
            });
        case "MMM":
            return n.month(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "MMMMM":
            return n.month(s, {
                width: "narrow",
                context: "formatting"
            });
        case "MMMM":
        default:
            return n.month(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    L: function(e, t, n) {
        const s = e.getMonth();
        switch (t) {
        case "L":
            return String(s + 1);
        case "LL":
            return ht(s + 1, 2);
        case "Lo":
            return n.ordinalNumber(s + 1, {
                unit: "month"
            });
        case "LLL":
            return n.month(s, {
                width: "abbreviated",
                context: "standalone"
            });
        case "LLLLL":
            return n.month(s, {
                width: "narrow",
                context: "standalone"
            });
        case "LLLL":
        default:
            return n.month(s, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    w: function(e, t, n, s) {
        const a = OF(e, s);
        return t === "wo" ? n.ordinalNumber(a, {
            unit: "week"
        }) : ht(a, t.length)
    },
    I: function(e, t, n) {
        const s = IF(e);
        return t === "Io" ? n.ordinalNumber(s, {
            unit: "week"
        }) : ht(s, t.length)
    },
    d: function(e, t, n) {
        return t === "do" ? n.ordinalNumber(e.getDate(), {
            unit: "date"
        }) : ta.d(e, t)
    },
    D: function(e, t, n) {
        const s = MF(e);
        return t === "Do" ? n.ordinalNumber(s, {
            unit: "dayOfYear"
        }) : ht(s, t.length)
    },
    E: function(e, t, n) {
        const s = e.getDay();
        switch (t) {
        case "E":
        case "EE":
        case "EEE":
            return n.day(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "EEEEE":
            return n.day(s, {
                width: "narrow",
                context: "formatting"
            });
        case "EEEEEE":
            return n.day(s, {
                width: "short",
                context: "formatting"
            });
        case "EEEE":
        default:
            return n.day(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    e: function(e, t, n, s) {
        const a = e.getDay()
          , i = (a - s.weekStartsOn + 8) % 7 || 7;
        switch (t) {
        case "e":
            return String(i);
        case "ee":
            return ht(i, 2);
        case "eo":
            return n.ordinalNumber(i, {
                unit: "day"
            });
        case "eee":
            return n.day(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "eeeee":
            return n.day(a, {
                width: "narrow",
                context: "formatting"
            });
        case "eeeeee":
            return n.day(a, {
                width: "short",
                context: "formatting"
            });
        case "eeee":
        default:
            return n.day(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    c: function(e, t, n, s) {
        const a = e.getDay()
          , i = (a - s.weekStartsOn + 8) % 7 || 7;
        switch (t) {
        case "c":
            return String(i);
        case "cc":
            return ht(i, t.length);
        case "co":
            return n.ordinalNumber(i, {
                unit: "day"
            });
        case "ccc":
            return n.day(a, {
                width: "abbreviated",
                context: "standalone"
            });
        case "ccccc":
            return n.day(a, {
                width: "narrow",
                context: "standalone"
            });
        case "cccccc":
            return n.day(a, {
                width: "short",
                context: "standalone"
            });
        case "cccc":
        default:
            return n.day(a, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    i: function(e, t, n) {
        const s = e.getDay()
          , a = s === 0 ? 7 : s;
        switch (t) {
        case "i":
            return String(a);
        case "ii":
            return ht(a, t.length);
        case "io":
            return n.ordinalNumber(a, {
                unit: "day"
            });
        case "iii":
            return n.day(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "iiiii":
            return n.day(s, {
                width: "narrow",
                context: "formatting"
            });
        case "iiiiii":
            return n.day(s, {
                width: "short",
                context: "formatting"
            });
        case "iiii":
        default:
            return n.day(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    a: function(e, t, n) {
        const a = e.getHours() / 12 >= 1 ? "pm" : "am";
        switch (t) {
        case "a":
        case "aa":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "aaa":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            }).toLowerCase();
        case "aaaaa":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "aaaa":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    b: function(e, t, n) {
        const s = e.getHours();
        let a;
        switch (s === 12 ? a = Qi.noon : s === 0 ? a = Qi.midnight : a = s / 12 >= 1 ? "pm" : "am",
        t) {
        case "b":
        case "bb":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "bbb":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            }).toLowerCase();
        case "bbbbb":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "bbbb":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    B: function(e, t, n) {
        const s = e.getHours();
        let a;
        switch (s >= 17 ? a = Qi.evening : s >= 12 ? a = Qi.afternoon : s >= 4 ? a = Qi.morning : a = Qi.night,
        t) {
        case "B":
        case "BB":
        case "BBB":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "BBBBB":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "BBBB":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    h: function(e, t, n) {
        if (t === "ho") {
            let s = e.getHours() % 12;
            return s === 0 && (s = 12),
            n.ordinalNumber(s, {
                unit: "hour"
            })
        }
        return ta.h(e, t)
    },
    H: function(e, t, n) {
        return t === "Ho" ? n.ordinalNumber(e.getHours(), {
            unit: "hour"
        }) : ta.H(e, t)
    },
    K: function(e, t, n) {
        const s = e.getHours() % 12;
        return t === "Ko" ? n.ordinalNumber(s, {
            unit: "hour"
        }) : ht(s, t.length)
    },
    k: function(e, t, n) {
        let s = e.getHours();
        return s === 0 && (s = 24),
        t === "ko" ? n.ordinalNumber(s, {
            unit: "hour"
        }) : ht(s, t.length)
    },
    m: function(e, t, n) {
        return t === "mo" ? n.ordinalNumber(e.getMinutes(), {
            unit: "minute"
        }) : ta.m(e, t)
    },
    s: function(e, t, n) {
        return t === "so" ? n.ordinalNumber(e.getSeconds(), {
            unit: "second"
        }) : ta.s(e, t)
    },
    S: function(e, t) {
        return ta.S(e, t)
    },
    X: function(e, t, n) {
        const s = e.getTimezoneOffset();
        if (s === 0)
            return "Z";
        switch (t) {
        case "X":
            return pj(s);
        case "XXXX":
        case "XX":
            return Ya(s);
        case "XXXXX":
        case "XXX":
        default:
            return Ya(s, ":")
        }
    },
    x: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "x":
            return pj(s);
        case "xxxx":
        case "xx":
            return Ya(s);
        case "xxxxx":
        case "xxx":
        default:
            return Ya(s, ":")
        }
    },
    O: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "O":
        case "OO":
        case "OOO":
            return "GMT" + hj(s, ":");
        case "OOOO":
        default:
            return "GMT" + Ya(s, ":")
        }
    },
    z: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "z":
        case "zz":
        case "zzz":
            return "GMT" + hj(s, ":");
        case "zzzz":
        default:
            return "GMT" + Ya(s, ":")
        }
    },
    t: function(e, t, n) {
        const s = Math.trunc(e.getTime() / 1e3);
        return ht(s, t.length)
    },
    T: function(e, t, n) {
        const s = e.getTime();
        return ht(s, t.length)
    }
};
function hj(e, t="") {
    const n = e > 0 ? "-" : "+"
      , s = Math.abs(e)
      , a = Math.trunc(s / 60)
      , i = s % 60;
    return i === 0 ? n + String(a) : n + String(a) + t + ht(i, 2)
}
function pj(e, t) {
    return e % 60 === 0 ? (e > 0 ? "-" : "+") + ht(Math.abs(e) / 60, 2) : Ya(e, t)
}
function Ya(e, t="") {
    const n = e > 0 ? "-" : "+"
      , s = Math.abs(e)
      , a = ht(Math.trunc(s / 60), 2)
      , i = ht(s % 60, 2);
    return n + a + t + i
}
const xj = (e, t) => {
    switch (e) {
    case "P":
        return t.date({
            width: "short"
        });
    case "PP":
        return t.date({
            width: "medium"
        });
    case "PPP":
        return t.date({
            width: "long"
        });
    case "PPPP":
    default:
        return t.date({
            width: "full"
        })
    }
}
  , tk = (e, t) => {
    switch (e) {
    case "p":
        return t.time({
            width: "short"
        });
    case "pp":
        return t.time({
            width: "medium"
        });
    case "ppp":
        return t.time({
            width: "long"
        });
    case "pppp":
    default:
        return t.time({
            width: "full"
        })
    }
}
  , LF = (e, t) => {
    const n = e.match(/(P+)(p+)?/) || []
      , s = n[1]
      , a = n[2];
    if (!a)
        return xj(e, t);
    let i;
    switch (s) {
    case "P":
        i = t.dateTime({
            width: "short"
        });
        break;
    case "PP":
        i = t.dateTime({
            width: "medium"
        });
        break;
    case "PPP":
        i = t.dateTime({
            width: "long"
        });
        break;
    case "PPPP":
    default:
        i = t.dateTime({
            width: "full"
        });
        break
    }
    return i.replace("{{date}}", xj(s, t)).replace("{{time}}", tk(a, t))
}
  , FF = {
    p: tk,
    P: LF
}
  , $F = /^D+$/
  , zF = /^Y+$/
  , VF = ["D", "DD", "YY", "YYYY"];
function UF(e) {
    return $F.test(e)
}
function WF(e) {
    return zF.test(e)
}
function BF(e, t, n) {
    const s = HF(e, t, n);
    if (console.warn(s),
    VF.includes(e))
        throw new RangeError(s)
}
function HF(e, t, n) {
    const s = e[0] === "Y" ? "years" : "days of the month";
    return `Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`
}
const qF = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g
  , KF = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g
  , QF = /^'([^]*?)'?$/
  , GF = /''/g
  , ZF = /[a-zA-Z]/;
function Ur(e, t, n) {
    var f, m, h, g, w, x, y, v;
    const s = Uf()
      , a = (n == null ? void 0 : n.locale) ?? s.locale ?? AF
      , i = (n == null ? void 0 : n.firstWeekContainsDate) ?? ((m = (f = n == null ? void 0 : n.locale) == null ? void 0 : f.options) == null ? void 0 : m.firstWeekContainsDate) ?? s.firstWeekContainsDate ?? ((g = (h = s.locale) == null ? void 0 : h.options) == null ? void 0 : g.firstWeekContainsDate) ?? 1
      , o = (n == null ? void 0 : n.weekStartsOn) ?? ((x = (w = n == null ? void 0 : n.locale) == null ? void 0 : w.options) == null ? void 0 : x.weekStartsOn) ?? s.weekStartsOn ?? ((v = (y = s.locale) == null ? void 0 : y.options) == null ? void 0 : v.weekStartsOn) ?? 0
      , l = Gr(e);
    if (!JL(l))
        throw new RangeError("Invalid time value");
    let c = t.match(KF).map(p => {
        const j = p[0];
        if (j === "p" || j === "P") {
            const N = FF[j];
            return N(p, a.formatLong)
        }
        return p
    }
    ).join("").match(qF).map(p => {
        if (p === "''")
            return {
                isToken: !1,
                value: "'"
            };
        const j = p[0];
        if (j === "'")
            return {
                isToken: !1,
                value: YF(p)
            };
        if (mj[j])
            return {
                isToken: !0,
                value: p
            };
        if (j.match(ZF))
            throw new RangeError("Format string contains an unescaped latin alphabet character `" + j + "`");
        return {
            isToken: !1,
            value: p
        }
    }
    );
    a.localize.preprocessor && (c = a.localize.preprocessor(l, c));
    const d = {
        firstWeekContainsDate: i,
        weekStartsOn: o,
        locale: a
    };
    return c.map(p => {
        if (!p.isToken)
            return p.value;
        const j = p.value;
        (!(n != null && n.useAdditionalWeekYearTokens) && WF(j) || !(n != null && n.useAdditionalDayOfYearTokens) && UF(j)) && BF(j, t, String(e));
        const N = mj[j[0]];
        return N(l, j, a.localize, d)
    }
    ).join("")
}
function YF(e) {
    const t = e.match(QF);
    return t ? t[1].replace(GF, "'") : e
}
const XF = {
    lessThanXSeconds: {
        one: "moins dune seconde",
        other: "moins de {{count}} secondes"
    },
    xSeconds: {
        one: "1 seconde",
        other: "{{count}} secondes"
    },
    halfAMinute: "30 secondes",
    lessThanXMinutes: {
        one: "moins dune minute",
        other: "moins de {{count}} minutes"
    },
    xMinutes: {
        one: "1 minute",
        other: "{{count}} minutes"
    },
    aboutXHours: {
        one: "environ 1 heure",
        other: "environ {{count}} heures"
    },
    xHours: {
        one: "1 heure",
        other: "{{count}} heures"
    },
    xDays: {
        one: "1 jour",
        other: "{{count}} jours"
    },
    aboutXWeeks: {
        one: "environ 1 semaine",
        other: "environ {{count}} semaines"
    },
    xWeeks: {
        one: "1 semaine",
        other: "{{count}} semaines"
    },
    aboutXMonths: {
        one: "environ 1 mois",
        other: "environ {{count}} mois"
    },
    xMonths: {
        one: "1 mois",
        other: "{{count}} mois"
    },
    aboutXYears: {
        one: "environ 1 an",
        other: "environ {{count}} ans"
    },
    xYears: {
        one: "1 an",
        other: "{{count}} ans"
    },
    overXYears: {
        one: "plus dun an",
        other: "plus de {{count}} ans"
    },
    almostXYears: {
        one: "presquun an",
        other: "presque {{count}} ans"
    }
}
  , JF = (e, t, n) => {
    let s;
    const a = XF[e];
    return typeof a == "string" ? s = a : t === 1 ? s = a.one : s = a.other.replace("{{count}}", String(t)),
    n != null && n.addSuffix ? n.comparison && n.comparison > 0 ? "dans " + s : "il y a " + s : s
}
  , e3 = {
    full: "EEEE d MMMM y",
    long: "d MMMM y",
    medium: "d MMM y",
    short: "dd/MM/y"
}
  , t3 = {
    full: "HH:mm:ss zzzz",
    long: "HH:mm:ss z",
    medium: "HH:mm:ss",
    short: "HH:mm"
}
  , n3 = {
    full: "{{date}} '' {{time}}",
    long: "{{date}} '' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
}
  , r3 = {
    date: wo({
        formats: e3,
        defaultWidth: "full"
    }),
    time: wo({
        formats: t3,
        defaultWidth: "full"
    }),
    dateTime: wo({
        formats: n3,
        defaultWidth: "full"
    })
}
  , s3 = {
    lastWeek: "eeee 'dernier ' p",
    yesterday: "'hier ' p",
    today: "'aujourdhui ' p",
    tomorrow: "'demain ' p'",
    nextWeek: "eeee 'prochain ' p",
    other: "P"
}
  , a3 = (e, t, n, s) => s3[e]
  , i3 = {
    narrow: ["av. J.-C", "ap. J.-C"],
    abbreviated: ["av. J.-C", "ap. J.-C"],
    wide: ["avant Jsus-Christ", "aprs Jsus-Christ"]
}
  , o3 = {
    narrow: ["T1", "T2", "T3", "T4"],
    abbreviated: ["1er trim.", "2me trim.", "3me trim.", "4me trim."],
    wide: ["1er trimestre", "2me trimestre", "3me trimestre", "4me trimestre"]
}
  , l3 = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: ["janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aot", "sept.", "oct.", "nov.", "dc."],
    wide: ["janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aot", "septembre", "octobre", "novembre", "dcembre"]
}
  , c3 = {
    narrow: ["D", "L", "M", "M", "J", "V", "S"],
    short: ["di", "lu", "ma", "me", "je", "ve", "sa"],
    abbreviated: ["dim.", "lun.", "mar.", "mer.", "jeu.", "ven.", "sam."],
    wide: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"]
}
  , d3 = {
    narrow: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "mat.",
        afternoon: "ap.m.",
        evening: "soir",
        night: "mat."
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "matin",
        afternoon: "aprs-midi",
        evening: "soir",
        night: "matin"
    },
    wide: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "du matin",
        afternoon: "de laprs-midi",
        evening: "du soir",
        night: "du matin"
    }
}
  , u3 = (e, t) => {
    const n = Number(e)
      , s = t == null ? void 0 : t.unit;
    if (n === 0)
        return "0";
    const a = ["year", "week", "hour", "minute", "second"];
    let i;
    return n === 1 ? i = s && a.includes(s) ? "re" : "er" : i = "me",
    n + i
}
  , f3 = ["MMM", "MMMM"]
  , m3 = {
    preprocessor: (e, t) => e.getDate() === 1 || !t.some(s => s.isToken && f3.includes(s.value)) ? t : t.map(s => s.isToken && s.value === "do" ? {
        isToken: !0,
        value: "d"
    } : s),
    ordinalNumber: u3,
    era: cs({
        values: i3,
        defaultWidth: "wide"
    }),
    quarter: cs({
        values: o3,
        defaultWidth: "wide",
        argumentCallback: e => e - 1
    }),
    month: cs({
        values: l3,
        defaultWidth: "wide"
    }),
    day: cs({
        values: c3,
        defaultWidth: "wide"
    }),
    dayPeriod: cs({
        values: d3,
        defaultWidth: "wide"
    })
}
  , h3 = /^(\d+)(ime|re|me|er|e)?/i
  , p3 = /\d+/i
  , x3 = {
    narrow: /^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,
    abbreviated: /^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,
    wide: /^(avant Jsus-Christ|aprs Jsus-Christ)/i
}
  , g3 = {
    any: [/^av/i, /^ap/i]
}
  , v3 = {
    narrow: /^T?[1234]/i,
    abbreviated: /^[1234](er|me|e)? trim\.?/i,
    wide: /^[1234](er|me|e)? trimestre/i
}
  , y3 = {
    any: [/1/i, /2/i, /3/i, /4/i]
}
  , j3 = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,
    wide: /^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i
}
  , w3 = {
    narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
    any: [/^ja/i, /^f/i, /^mar/i, /^av/i, /^ma/i, /^juin/i, /^juil/i, /^ao/i, /^s/i, /^o/i, /^n/i, /^d/i]
}
  , b3 = {
    narrow: /^[lmjvsd]/i,
    short: /^(di|lu|ma|me|je|ve|sa)/i,
    abbreviated: /^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,
    wide: /^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i
}
  , N3 = {
    narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],
    any: [/^di/i, /^lu/i, /^ma/i, /^me/i, /^je/i, /^ve/i, /^sa/i]
}
  , S3 = {
    narrow: /^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,
    any: /^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i
}
  , C3 = {
    any: {
        am: /^a/i,
        pm: /^p/i,
        midnight: /^min/i,
        noon: /^mid/i,
        morning: /mat/i,
        afternoon: /ap/i,
        evening: /soir/i,
        night: /nuit/i
    }
}
  , k3 = {
    ordinalNumber: JC({
        matchPattern: h3,
        parsePattern: p3,
        valueCallback: e => parseInt(e)
    }),
    era: ds({
        matchPatterns: x3,
        defaultMatchWidth: "wide",
        parsePatterns: g3,
        defaultParseWidth: "any"
    }),
    quarter: ds({
        matchPatterns: v3,
        defaultMatchWidth: "wide",
        parsePatterns: y3,
        defaultParseWidth: "any",
        valueCallback: e => e + 1
    }),
    month: ds({
        matchPatterns: j3,
        defaultMatchWidth: "wide",
        parsePatterns: w3,
        defaultParseWidth: "any"
    }),
    day: ds({
        matchPatterns: b3,
        defaultMatchWidth: "wide",
        parsePatterns: N3,
        defaultParseWidth: "any"
    }),
    dayPeriod: ds({
        matchPatterns: S3,
        defaultMatchWidth: "any",
        parsePatterns: C3,
        defaultParseWidth: "any"
    })
}
  , Wr = {
    code: "fr",
    formatDistance: JF,
    formatLong: r3,
    formatRelative: a3,
    localize: m3,
    match: k3,
    options: {
        weekStartsOn: 1,
        firstWeekContainsDate: 4
    }
};
function E3({offer: e, onAccept: t, onDecline: n, onChat: s}) {
    const a = e.status === "accepted"
      , i = e.status === "pending"
      , o = c => {
        if (!c)
            return "";
        try {
            const d = new Date(c);
            return Ur(d, "d MMMM yyyy", {
                locale: Wr
            })
        } catch {
            return c
        }
    }
      , l = c => c === "return" ? "Retour (camion vide qui rentre)" : c === "shared" ? "Groupage / Partag" : "";
    return r.jsxs(ce, {
        className: "overflow-hidden hover-elevate",
        children: [r.jsx(ue, {
            className: "p-4 space-y-4",
            children: r.jsxs("div", {
                className: "flex items-start gap-4",
                children: [r.jsx("div", {
                    className: "w-20 h-20 rounded-lg overflow-hidden bg-muted flex-shrink-0",
                    children: e.truckPhoto ? r.jsx("img", {
                        src: e.truckPhoto,
                        alt: "Camion",
                        className: "w-full h-full object-cover"
                    }) : r.jsx("div", {
                        className: "w-full h-full flex items-center justify-center",
                        children: r.jsx(Xt, {
                            className: "w-8 h-8 text-muted-foreground"
                        })
                    })
                }), r.jsxs("div", {
                    className: "flex-1 min-w-0",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-1",
                        children: [r.jsx("h3", {
                            className: "font-semibold text-lg truncate",
                            "data-testid": `text-transporter-${e.id}`,
                            children: e.transporterName || "Transporteur"
                        }), a && r.jsx(he, {
                            variant: "default",
                            className: "bg-green-600",
                            children: "Accepte"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center gap-1 mb-2",
                        children: [[...Array(5)].map( (c, d) => r.jsx(Bs, {
                            className: `w-4 h-4 ${d < Math.floor(e.rating) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                        }, d)), r.jsx("span", {
                            className: "text-sm font-medium text-foreground ml-1",
                            children: e.rating > 0 ? e.rating.toFixed(1) : "0.0"
                        }), r.jsxs("span", {
                            className: "text-sm text-muted-foreground",
                            children: ["(", e.totalTrips, " ", e.totalTrips === 1 ? "course ralise" : "courses ralises", ")"]
                        })]
                    }), r.jsxs("div", {
                        className: "text-2xl font-bold text-primary mb-3",
                        "data-testid": `text-amount-${e.id}`,
                        children: [e.clientAmount || e.amount, " MAD"]
                    }), r.jsxs("div", {
                        className: "space-y-1.5 text-sm",
                        children: [e.pickupDate && r.jsxs("div", {
                            className: "flex items-center gap-2 text-foreground",
                            "data-testid": `text-pickup-date-${e.id}`,
                            children: [r.jsx(hs, {
                                className: "w-4 h-4 text-muted-foreground flex-shrink-0"
                            }), r.jsxs("span", {
                                children: ["Date de prise en charge : ", r.jsx("span", {
                                    className: "font-medium",
                                    children: o(e.pickupDate)
                                })]
                            })]
                        }), e.loadType && r.jsxs("div", {
                            className: "flex items-center gap-2 text-foreground",
                            "data-testid": `text-load-type-${e.id}`,
                            children: [r.jsx(Xt, {
                                className: "w-4 h-4 text-muted-foreground flex-shrink-0"
                            }), r.jsxs("span", {
                                children: ["Type de chargement : ", r.jsx("span", {
                                    className: "font-medium",
                                    children: l(e.loadType)
                                })]
                            })]
                        })]
                    })]
                })]
            })
        }), r.jsxs(Xx, {
            className: "p-4 pt-0 gap-2 flex-col sm:flex-row",
            children: [!a && i && r.jsxs(r.Fragment, {
                children: [r.jsx(M, {
                    onClick: () => t(e.id),
                    className: "w-full sm:flex-1",
                    size: "lg",
                    "data-testid": `button-accept-${e.id}`,
                    children: "Choisir cette offre"
                }), r.jsx(M, {
                    onClick: () => n(e.id),
                    variant: "destructive",
                    className: "w-full sm:flex-1",
                    size: "lg",
                    "data-testid": `button-decline-${e.id}`,
                    children: "Dcliner"
                })]
            }), r.jsxs(M, {
                onClick: s,
                variant: a ? "default" : "outline",
                className: a ? "w-full gap-2" : "w-full sm:flex-1",
                size: "lg",
                "data-testid": `button-chat-${e.id}`,
                children: [r.jsx(rr, {
                    className: "h-5 w-5"
                }), "Envoyer un message"]
            })]
        })]
    })
}
var Ag = "Avatar"
  , [T3,a5] = En(Ag)
  , [_3,nk] = T3(Ag)
  , rk = u.forwardRef( (e, t) => {
    const {__scopeAvatar: n, ...s} = e
      , [a,i] = u.useState("idle");
    return r.jsx(_3, {
        scope: n,
        imageLoadingStatus: a,
        onImageLoadingStatusChange: i,
        children: r.jsx(Ce.span, {
            ...s,
            ref: t
        })
    })
}
);
rk.displayName = Ag;
var sk = "AvatarImage"
  , ak = u.forwardRef( (e, t) => {
    const {__scopeAvatar: n, src: s, onLoadingStatusChange: a= () => {}
    , ...i} = e
      , o = nk(sk, n)
      , l = P3(s, i)
      , c = Pt(d => {
        a(d),
        o.onImageLoadingStatusChange(d)
    }
    );
    return tn( () => {
        l !== "idle" && c(l)
    }
    , [l, c]),
    l === "loaded" ? r.jsx(Ce.img, {
        ...i,
        ref: t,
        src: s
    }) : null
}
);
ak.displayName = sk;
var ik = "AvatarFallback"
  , ok = u.forwardRef( (e, t) => {
    const {__scopeAvatar: n, delayMs: s, ...a} = e
      , i = nk(ik, n)
      , [o,l] = u.useState(s === void 0);
    return u.useEffect( () => {
        if (s !== void 0) {
            const c = window.setTimeout( () => l(!0), s);
            return () => window.clearTimeout(c)
        }
    }
    , [s]),
    o && i.imageLoadingStatus !== "loaded" ? r.jsx(Ce.span, {
        ...a,
        ref: t
    }) : null
}
);
ok.displayName = ik;
function gj(e, t) {
    return e ? t ? (e.src !== t && (e.src = t),
    e.complete && e.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle"
}
function P3(e, {referrerPolicy: t, crossOrigin: n}) {
    const s = A3()
      , a = u.useRef(null)
      , i = s ? (a.current || (a.current = new window.Image),
    a.current) : null
      , [o,l] = u.useState( () => gj(i, e));
    return tn( () => {
        l(gj(i, e))
    }
    , [i, e]),
    tn( () => {
        const c = m => () => {
            l(m)
        }
        ;
        if (!i)
            return;
        const d = c("loaded")
          , f = c("error");
        return i.addEventListener("load", d),
        i.addEventListener("error", f),
        t && (i.referrerPolicy = t),
        typeof n == "string" && (i.crossOrigin = n),
        () => {
            i.removeEventListener("load", d),
            i.removeEventListener("error", f)
        }
    }
    , [i, n, t]),
    o
}
function R3() {
    return () => {}
}
function A3() {
    return u.useSyncExternalStore(R3, () => !0, () => !1)
}
var lk = rk
  , ck = ak
  , dk = ok;
const uk = u.forwardRef( ({className: e, ...t}, n) => r.jsx(lk, {
    ref: n,
    className: le(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`, e),
    ...t
}));
uk.displayName = lk.displayName;
const M3 = u.forwardRef( ({className: e, ...t}, n) => r.jsx(ck, {
    ref: n,
    className: le("aspect-square h-full w-full", e),
    ...t
}));
M3.displayName = ck.displayName;
const fk = u.forwardRef( ({className: e, ...t}, n) => r.jsx(dk, {
    ref: n,
    className: le("flex h-full w-full items-center justify-center rounded-full bg-muted", e),
    ...t
}));
fk.displayName = dk.displayName;
function I3(e, t) {
    return u.useReducer( (n, s) => t[n][s] ?? n, e)
}
var Mg = "ScrollArea"
  , [mk,i5] = En(Mg)
  , [D3,br] = mk(Mg)
  , hk = u.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, type: s="hover", dir: a, scrollHideDelay: i=600, ...o} = e
      , [l,c] = u.useState(null)
      , [d,f] = u.useState(null)
      , [m,h] = u.useState(null)
      , [g,w] = u.useState(null)
      , [x,y] = u.useState(null)
      , [v,p] = u.useState(0)
      , [j,N] = u.useState(0)
      , [S,k] = u.useState(!1)
      , [C,E] = u.useState(!1)
      , A = He(t, G => c(G))
      , z = ll(a);
    return r.jsx(D3, {
        scope: n,
        type: s,
        dir: z,
        scrollHideDelay: i,
        scrollArea: l,
        viewport: d,
        onViewportChange: f,
        content: m,
        onContentChange: h,
        scrollbarX: g,
        onScrollbarXChange: w,
        scrollbarXEnabled: S,
        onScrollbarXEnabledChange: k,
        scrollbarY: x,
        onScrollbarYChange: y,
        scrollbarYEnabled: C,
        onScrollbarYEnabledChange: E,
        onCornerWidthChange: p,
        onCornerHeightChange: N,
        children: r.jsx(Ce.div, {
            dir: z,
            ...o,
            ref: A,
            style: {
                position: "relative",
                "--radix-scroll-area-corner-width": v + "px",
                "--radix-scroll-area-corner-height": j + "px",
                ...e.style
            }
        })
    })
}
);
hk.displayName = Mg;
var pk = "ScrollAreaViewport"
  , xk = u.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, children: s, nonce: a, ...i} = e
      , o = br(pk, n)
      , l = u.useRef(null)
      , c = He(t, l, o.onViewportChange);
    return r.jsxs(r.Fragment, {
        children: [r.jsx("style", {
            dangerouslySetInnerHTML: {
                __html: "[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"
            },
            nonce: a
        }), r.jsx(Ce.div, {
            "data-radix-scroll-area-viewport": "",
            ...i,
            ref: c,
            style: {
                overflowX: o.scrollbarXEnabled ? "scroll" : "hidden",
                overflowY: o.scrollbarYEnabled ? "scroll" : "hidden",
                ...e.style
            },
            children: r.jsx("div", {
                ref: o.onContentChange,
                style: {
                    minWidth: "100%",
                    display: "table"
                },
                children: s
            })
        })]
    })
}
);
xk.displayName = pk;
var Ns = "ScrollAreaScrollbar"
  , Ig = u.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = br(Ns, e.__scopeScrollArea)
      , {onScrollbarXEnabledChange: i, onScrollbarYEnabledChange: o} = a
      , l = e.orientation === "horizontal";
    return u.useEffect( () => (l ? i(!0) : o(!0),
    () => {
        l ? i(!1) : o(!1)
    }
    ), [l, i, o]),
    a.type === "hover" ? r.jsx(O3, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "scroll" ? r.jsx(L3, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "auto" ? r.jsx(gk, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "always" ? r.jsx(Dg, {
        ...s,
        ref: t
    }) : null
}
);
Ig.displayName = Ns;
var O3 = u.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = br(Ns, e.__scopeScrollArea)
      , [i,o] = u.useState(!1);
    return u.useEffect( () => {
        const l = a.scrollArea;
        let c = 0;
        if (l) {
            const d = () => {
                window.clearTimeout(c),
                o(!0)
            }
              , f = () => {
                c = window.setTimeout( () => o(!1), a.scrollHideDelay)
            }
            ;
            return l.addEventListener("pointerenter", d),
            l.addEventListener("pointerleave", f),
            () => {
                window.clearTimeout(c),
                l.removeEventListener("pointerenter", d),
                l.removeEventListener("pointerleave", f)
            }
        }
    }
    , [a.scrollArea, a.scrollHideDelay]),
    r.jsx(gn, {
        present: n || i,
        children: r.jsx(gk, {
            "data-state": i ? "visible" : "hidden",
            ...s,
            ref: t
        })
    })
}
)
  , L3 = u.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = br(Ns, e.__scopeScrollArea)
      , i = e.orientation === "horizontal"
      , o = Bf( () => c("SCROLL_END"), 100)
      , [l,c] = I3("hidden", {
        hidden: {
            SCROLL: "scrolling"
        },
        scrolling: {
            SCROLL_END: "idle",
            POINTER_ENTER: "interacting"
        },
        interacting: {
            SCROLL: "interacting",
            POINTER_LEAVE: "idle"
        },
        idle: {
            HIDE: "hidden",
            SCROLL: "scrolling",
            POINTER_ENTER: "interacting"
        }
    });
    return u.useEffect( () => {
        if (l === "idle") {
            const d = window.setTimeout( () => c("HIDE"), a.scrollHideDelay);
            return () => window.clearTimeout(d)
        }
    }
    , [l, a.scrollHideDelay, c]),
    u.useEffect( () => {
        const d = a.viewport
          , f = i ? "scrollLeft" : "scrollTop";
        if (d) {
            let m = d[f];
            const h = () => {
                const g = d[f];
                m !== g && (c("SCROLL"),
                o()),
                m = g
            }
            ;
            return d.addEventListener("scroll", h),
            () => d.removeEventListener("scroll", h)
        }
    }
    , [a.viewport, i, c, o]),
    r.jsx(gn, {
        present: n || l !== "hidden",
        children: r.jsx(Dg, {
            "data-state": l === "hidden" ? "hidden" : "visible",
            ...s,
            ref: t,
            onPointerEnter: ne(e.onPointerEnter, () => c("POINTER_ENTER")),
            onPointerLeave: ne(e.onPointerLeave, () => c("POINTER_LEAVE"))
        })
    })
}
)
  , gk = u.forwardRef( (e, t) => {
    const n = br(Ns, e.__scopeScrollArea)
      , {forceMount: s, ...a} = e
      , [i,o] = u.useState(!1)
      , l = e.orientation === "horizontal"
      , c = Bf( () => {
        if (n.viewport) {
            const d = n.viewport.offsetWidth < n.viewport.scrollWidth
              , f = n.viewport.offsetHeight < n.viewport.scrollHeight;
            o(l ? d : f)
        }
    }
    , 10);
    return Yo(n.viewport, c),
    Yo(n.content, c),
    r.jsx(gn, {
        present: s || i,
        children: r.jsx(Dg, {
            "data-state": i ? "visible" : "hidden",
            ...a,
            ref: t
        })
    })
}
)
  , Dg = u.forwardRef( (e, t) => {
    const {orientation: n="vertical", ...s} = e
      , a = br(Ns, e.__scopeScrollArea)
      , i = u.useRef(null)
      , o = u.useRef(0)
      , [l,c] = u.useState({
        content: 0,
        viewport: 0,
        scrollbar: {
            size: 0,
            paddingStart: 0,
            paddingEnd: 0
        }
    })
      , d = bk(l.viewport, l.content)
      , f = {
        ...s,
        sizes: l,
        onSizesChange: c,
        hasThumb: d > 0 && d < 1,
        onThumbChange: h => i.current = h,
        onThumbPointerUp: () => o.current = 0,
        onThumbPointerDown: h => o.current = h
    };
    function m(h, g) {
        return W3(h, o.current, l, g)
    }
    return n === "horizontal" ? r.jsx(F3, {
        ...f,
        ref: t,
        onThumbPositionChange: () => {
            if (a.viewport && i.current) {
                const h = a.viewport.scrollLeft
                  , g = vj(h, l, a.dir);
                i.current.style.transform = `translate3d(${g}px, 0, 0)`
            }
        }
        ,
        onWheelScroll: h => {
            a.viewport && (a.viewport.scrollLeft = h)
        }
        ,
        onDragScroll: h => {
            a.viewport && (a.viewport.scrollLeft = m(h, a.dir))
        }
    }) : n === "vertical" ? r.jsx($3, {
        ...f,
        ref: t,
        onThumbPositionChange: () => {
            if (a.viewport && i.current) {
                const h = a.viewport.scrollTop
                  , g = vj(h, l);
                i.current.style.transform = `translate3d(0, ${g}px, 0)`
            }
        }
        ,
        onWheelScroll: h => {
            a.viewport && (a.viewport.scrollTop = h)
        }
        ,
        onDragScroll: h => {
            a.viewport && (a.viewport.scrollTop = m(h))
        }
    }) : null
}
)
  , F3 = u.forwardRef( (e, t) => {
    const {sizes: n, onSizesChange: s, ...a} = e
      , i = br(Ns, e.__scopeScrollArea)
      , [o,l] = u.useState()
      , c = u.useRef(null)
      , d = He(t, c, i.onScrollbarXChange);
    return u.useEffect( () => {
        c.current && l(getComputedStyle(c.current))
    }
    , [c]),
    r.jsx(yk, {
        "data-orientation": "horizontal",
        ...a,
        ref: d,
        sizes: n,
        style: {
            bottom: 0,
            left: i.dir === "rtl" ? "var(--radix-scroll-area-corner-width)" : 0,
            right: i.dir === "ltr" ? "var(--radix-scroll-area-corner-width)" : 0,
            "--radix-scroll-area-thumb-width": Wf(n) + "px",
            ...e.style
        },
        onThumbPointerDown: f => e.onThumbPointerDown(f.x),
        onDragScroll: f => e.onDragScroll(f.x),
        onWheelScroll: (f, m) => {
            if (i.viewport) {
                const h = i.viewport.scrollLeft + f.deltaX;
                e.onWheelScroll(h),
                Sk(h, m) && f.preventDefault()
            }
        }
        ,
        onResize: () => {
            c.current && i.viewport && o && s({
                content: i.viewport.scrollWidth,
                viewport: i.viewport.offsetWidth,
                scrollbar: {
                    size: c.current.clientWidth,
                    paddingStart: Gu(o.paddingLeft),
                    paddingEnd: Gu(o.paddingRight)
                }
            })
        }
    })
}
)
  , $3 = u.forwardRef( (e, t) => {
    const {sizes: n, onSizesChange: s, ...a} = e
      , i = br(Ns, e.__scopeScrollArea)
      , [o,l] = u.useState()
      , c = u.useRef(null)
      , d = He(t, c, i.onScrollbarYChange);
    return u.useEffect( () => {
        c.current && l(getComputedStyle(c.current))
    }
    , [c]),
    r.jsx(yk, {
        "data-orientation": "vertical",
        ...a,
        ref: d,
        sizes: n,
        style: {
            top: 0,
            right: i.dir === "ltr" ? 0 : void 0,
            left: i.dir === "rtl" ? 0 : void 0,
            bottom: "var(--radix-scroll-area-corner-height)",
            "--radix-scroll-area-thumb-height": Wf(n) + "px",
            ...e.style
        },
        onThumbPointerDown: f => e.onThumbPointerDown(f.y),
        onDragScroll: f => e.onDragScroll(f.y),
        onWheelScroll: (f, m) => {
            if (i.viewport) {
                const h = i.viewport.scrollTop + f.deltaY;
                e.onWheelScroll(h),
                Sk(h, m) && f.preventDefault()
            }
        }
        ,
        onResize: () => {
            c.current && i.viewport && o && s({
                content: i.viewport.scrollHeight,
                viewport: i.viewport.offsetHeight,
                scrollbar: {
                    size: c.current.clientHeight,
                    paddingStart: Gu(o.paddingTop),
                    paddingEnd: Gu(o.paddingBottom)
                }
            })
        }
    })
}
)
  , [z3,vk] = mk(Ns)
  , yk = u.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, sizes: s, hasThumb: a, onThumbChange: i, onThumbPointerUp: o, onThumbPointerDown: l, onThumbPositionChange: c, onDragScroll: d, onWheelScroll: f, onResize: m, ...h} = e
      , g = br(Ns, n)
      , [w,x] = u.useState(null)
      , y = He(t, A => x(A))
      , v = u.useRef(null)
      , p = u.useRef("")
      , j = g.viewport
      , N = s.content - s.viewport
      , S = Pt(f)
      , k = Pt(c)
      , C = Bf(m, 10);
    function E(A) {
        if (v.current) {
            const z = A.clientX - v.current.left
              , G = A.clientY - v.current.top;
            d({
                x: z,
                y: G
            })
        }
    }
    return u.useEffect( () => {
        const A = z => {
            const G = z.target;
            (w == null ? void 0 : w.contains(G)) && S(z, N)
        }
        ;
        return document.addEventListener("wheel", A, {
            passive: !1
        }),
        () => document.removeEventListener("wheel", A, {
            passive: !1
        })
    }
    , [j, w, N, S]),
    u.useEffect(k, [s, k]),
    Yo(w, C),
    Yo(g.content, C),
    r.jsx(z3, {
        scope: n,
        scrollbar: w,
        hasThumb: a,
        onThumbChange: Pt(i),
        onThumbPointerUp: Pt(o),
        onThumbPositionChange: k,
        onThumbPointerDown: Pt(l),
        children: r.jsx(Ce.div, {
            ...h,
            ref: y,
            style: {
                position: "absolute",
                ...h.style
            },
            onPointerDown: ne(e.onPointerDown, A => {
                A.button === 0 && (A.target.setPointerCapture(A.pointerId),
                v.current = w.getBoundingClientRect(),
                p.current = document.body.style.webkitUserSelect,
                document.body.style.webkitUserSelect = "none",
                g.viewport && (g.viewport.style.scrollBehavior = "auto"),
                E(A))
            }
            ),
            onPointerMove: ne(e.onPointerMove, E),
            onPointerUp: ne(e.onPointerUp, A => {
                const z = A.target;
                z.hasPointerCapture(A.pointerId) && z.releasePointerCapture(A.pointerId),
                document.body.style.webkitUserSelect = p.current,
                g.viewport && (g.viewport.style.scrollBehavior = ""),
                v.current = null
            }
            )
        })
    })
}
)
  , Qu = "ScrollAreaThumb"
  , jk = u.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = vk(Qu, e.__scopeScrollArea);
    return r.jsx(gn, {
        present: n || a.hasThumb,
        children: r.jsx(V3, {
            ref: t,
            ...s
        })
    })
}
)
  , V3 = u.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, style: s, ...a} = e
      , i = br(Qu, n)
      , o = vk(Qu, n)
      , {onThumbPositionChange: l} = o
      , c = He(t, m => o.onThumbChange(m))
      , d = u.useRef(void 0)
      , f = Bf( () => {
        d.current && (d.current(),
        d.current = void 0)
    }
    , 100);
    return u.useEffect( () => {
        const m = i.viewport;
        if (m) {
            const h = () => {
                if (f(),
                !d.current) {
                    const g = B3(m, l);
                    d.current = g,
                    l()
                }
            }
            ;
            return l(),
            m.addEventListener("scroll", h),
            () => m.removeEventListener("scroll", h)
        }
    }
    , [i.viewport, f, l]),
    r.jsx(Ce.div, {
        "data-state": o.hasThumb ? "visible" : "hidden",
        ...a,
        ref: c,
        style: {
            width: "var(--radix-scroll-area-thumb-width)",
            height: "var(--radix-scroll-area-thumb-height)",
            ...s
        },
        onPointerDownCapture: ne(e.onPointerDownCapture, m => {
            const g = m.target.getBoundingClientRect()
              , w = m.clientX - g.left
              , x = m.clientY - g.top;
            o.onThumbPointerDown({
                x: w,
                y: x
            })
        }
        ),
        onPointerUp: ne(e.onPointerUp, o.onThumbPointerUp)
    })
}
);
jk.displayName = Qu;
var Og = "ScrollAreaCorner"
  , wk = u.forwardRef( (e, t) => {
    const n = br(Og, e.__scopeScrollArea)
      , s = !!(n.scrollbarX && n.scrollbarY);
    return n.type !== "scroll" && s ? r.jsx(U3, {
        ...e,
        ref: t
    }) : null
}
);
wk.displayName = Og;
var U3 = u.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, ...s} = e
      , a = br(Og, n)
      , [i,o] = u.useState(0)
      , [l,c] = u.useState(0)
      , d = !!(i && l);
    return Yo(a.scrollbarX, () => {
        var m;
        const f = ((m = a.scrollbarX) == null ? void 0 : m.offsetHeight) || 0;
        a.onCornerHeightChange(f),
        c(f)
    }
    ),
    Yo(a.scrollbarY, () => {
        var m;
        const f = ((m = a.scrollbarY) == null ? void 0 : m.offsetWidth) || 0;
        a.onCornerWidthChange(f),
        o(f)
    }
    ),
    d ? r.jsx(Ce.div, {
        ...s,
        ref: t,
        style: {
            width: i,
            height: l,
            position: "absolute",
            right: a.dir === "ltr" ? 0 : void 0,
            left: a.dir === "rtl" ? 0 : void 0,
            bottom: 0,
            ...e.style
        }
    }) : null
}
);
function Gu(e) {
    return e ? parseInt(e, 10) : 0
}
function bk(e, t) {
    const n = e / t;
    return isNaN(n) ? 0 : n
}
function Wf(e) {
    const t = bk(e.viewport, e.content)
      , n = e.scrollbar.paddingStart + e.scrollbar.paddingEnd
      , s = (e.scrollbar.size - n) * t;
    return Math.max(s, 18)
}
function W3(e, t, n, s="ltr") {
    const a = Wf(n)
      , i = a / 2
      , o = t || i
      , l = a - o
      , c = n.scrollbar.paddingStart + o
      , d = n.scrollbar.size - n.scrollbar.paddingEnd - l
      , f = n.content - n.viewport
      , m = s === "ltr" ? [0, f] : [f * -1, 0];
    return Nk([c, d], m)(e)
}
function vj(e, t, n="ltr") {
    const s = Wf(t)
      , a = t.scrollbar.paddingStart + t.scrollbar.paddingEnd
      , i = t.scrollbar.size - a
      , o = t.content - t.viewport
      , l = i - s
      , c = n === "ltr" ? [0, o] : [o * -1, 0]
      , d = Np(e, c);
    return Nk([0, o], [0, l])(d)
}
function Nk(e, t) {
    return n => {
        if (e[0] === e[1] || t[0] === t[1])
            return t[0];
        const s = (t[1] - t[0]) / (e[1] - e[0]);
        return t[0] + s * (n - e[0])
    }
}
function Sk(e, t) {
    return e > 0 && e < t
}
var B3 = (e, t= () => {}
) => {
    let n = {
        left: e.scrollLeft,
        top: e.scrollTop
    }
      , s = 0;
    return function a() {
        const i = {
            left: e.scrollLeft,
            top: e.scrollTop
        }
          , o = n.left !== i.left
          , l = n.top !== i.top;
        (o || l) && t(),
        n = i,
        s = window.requestAnimationFrame(a)
    }(),
    () => window.cancelAnimationFrame(s)
}
;
function Bf(e, t) {
    const n = Pt(e)
      , s = u.useRef(0);
    return u.useEffect( () => () => window.clearTimeout(s.current), []),
    u.useCallback( () => {
        window.clearTimeout(s.current),
        s.current = window.setTimeout(n, t)
    }
    , [n, t])
}
function Yo(e, t) {
    const n = Pt(t);
    tn( () => {
        let s = 0;
        if (e) {
            const a = new ResizeObserver( () => {
                cancelAnimationFrame(s),
                s = window.requestAnimationFrame(n)
            }
            );
            return a.observe(e),
            () => {
                window.cancelAnimationFrame(s),
                a.unobserve(e)
            }
        }
    }
    , [e, n])
}
var Ck = hk
  , H3 = xk
  , q3 = wk;
const kk = u.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(Ck, {
    ref: s,
    className: le("relative overflow-hidden", e),
    ...n,
    children: [r.jsx(H3, {
        className: "h-full w-full rounded-[inherit]",
        children: t
    }), r.jsx(Ek, {}), r.jsx(q3, {})]
}));
kk.displayName = Ck.displayName;
const Ek = u.forwardRef( ({className: e, orientation: t="vertical", ...n}, s) => r.jsx(Ig, {
    ref: s,
    orientation: t,
    className: le("flex touch-none select-none transition-colors", t === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]", t === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]", e),
    ...n,
    children: r.jsx(jk, {
        className: "relative flex-1 rounded-full bg-border"
    })
}));
Ek.displayName = Ig.displayName;
function Tk({onVoiceRecorded: e, disabled: t}) {
    const [n,s] = u.useState(!1)
      , [a,i] = u.useState(0)
      , [o,l] = u.useState(!1)
      , c = u.useRef(null)
      , d = u.useRef([])
      , f = u.useRef(null)
      , {toast: m} = on()
      , h = 60;
    u.useEffect( () => () => {
        f.current && clearInterval(f.current)
    }
    , []);
    const g = async () => {
        try {
            const y = await navigator.mediaDevices.getUserMedia({
                audio: !0
            })
              , v = new MediaRecorder(y,{
                mimeType: MediaRecorder.isTypeSupported("audio/webm") ? "audio/webm" : "audio/mp4"
            });
            c.current = v,
            d.current = [],
            v.ondataavailable = p => {
                p.data.size > 0 && d.current.push(p.data)
            }
            ,
            v.onstop = () => {
                const p = new Blob(d.current,{
                    type: v.mimeType
                });
                if (console.log("Voice recording completed:", {
                    size: p.size,
                    type: p.type,
                    chunks: d.current.length
                }),
                p.size === 0) {
                    m({
                        variant: "destructive",
                        title: "Erreur",
                        description: "L'enregistrement est vide"
                    }),
                    l(!1),
                    y.getTracks().forEach(j => j.stop());
                    return
                }
                e(p),
                y.getTracks().forEach(j => j.stop()),
                l(!1)
            }
            ,
            v.start(),
            s(!0),
            i(0),
            f.current = setInterval( () => {
                i(p => {
                    const j = p + 1;
                    return j >= h && (w(),
                    m({
                        title: "Limite atteinte",
                        description: "Dure maximale d'enregistrement: 1 minute"
                    })),
                    j
                }
                )
            }
            , 1e3)
        } catch (y) {
            console.error("Error accessing microphone:", y),
            m({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible d'accder au microphone"
            })
        }
    }
      , w = () => {
        c.current && n && (l(!0),
        c.current.stop(),
        s(!1),
        f.current && (clearInterval(f.current),
        f.current = null))
    }
      , x = y => {
        const v = Math.floor(y / 60)
          , p = y % 60;
        return `${v}:${p.toString().padStart(2, "0")}`
    }
    ;
    return n ? r.jsxs("div", {
        className: "flex items-center gap-2",
        children: [r.jsx(M, {
            onClick: w,
            size: "icon",
            variant: "destructive",
            "data-testid": "button-stop-recording",
            children: r.jsx(kR, {
                className: "h-4 w-4"
            })
        }), r.jsxs("span", {
            className: "text-sm text-muted-foreground",
            children: [x(a), " / ", x(h)]
        })]
    }) : o ? r.jsx(M, {
        size: "icon",
        disabled: !0,
        children: r.jsx(Gb, {
            className: "h-4 w-4 animate-spin"
        })
    }) : r.jsx(M, {
        onClick: g,
        size: "icon",
        variant: "outline",
        disabled: t,
        "data-testid": "button-start-recording",
        children: r.jsx(yR, {
            className: "h-4 w-4"
        })
    })
}
function _k({audioUrl: e}) {
    const [t,n] = u.useState(!1)
      , [s,a] = u.useState(0)
      , [i,o] = u.useState(0)
      , l = u.useRef(null);
    u.useEffect( () => {
        const m = l.current;
        if (!m)
            return;
        const h = () => {
            o(m.duration)
        }
          , g = () => {
            a(m.currentTime)
        }
          , w = () => {
            n(!1),
            a(0)
        }
        ;
        return m.addEventListener("loadedmetadata", h),
        m.addEventListener("timeupdate", g),
        m.addEventListener("ended", w),
        () => {
            m.removeEventListener("loadedmetadata", h),
            m.removeEventListener("timeupdate", g),
            m.removeEventListener("ended", w)
        }
    }
    , []);
    const c = () => {
        const m = l.current;
        m && (t ? m.pause() : m.play(),
        n(!t))
    }
      , d = m => {
        const h = l.current;
        if (!h)
            return;
        const g = parseFloat(m.target.value);
        h.currentTime = g,
        a(g)
    }
      , f = m => {
        const h = Math.floor(m / 60)
          , g = Math.floor(m % 60);
        return `${h}:${g.toString().padStart(2, "0")}`
    }
    ;
    return r.jsxs("div", {
        className: "flex items-center gap-2 bg-muted/50 rounded-lg p-3 min-w-[250px]",
        children: [r.jsx("audio", {
            ref: l,
            src: e,
            preload: "metadata"
        }), r.jsx(M, {
            onClick: c,
            size: "icon",
            variant: "ghost",
            className: "shrink-0",
            "data-testid": "button-play-pause-voice",
            children: t ? r.jsx(jR, {
                className: "h-4 w-4"
            }) : r.jsx(wR, {
                className: "h-4 w-4"
            })
        }), r.jsxs("div", {
            className: "flex-1 space-y-1",
            children: [r.jsx("input", {
                type: "range",
                min: 0,
                max: i || 0,
                value: s,
                onChange: d,
                className: "w-full h-1 bg-primary/20 rounded-lg appearance-none cursor-pointer",
                style: {
                    background: `linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${s / i * 100}%, hsl(var(--primary) / 0.2) ${s / i * 100}%, hsl(var(--primary) / 0.2) 100%)`
                }
            }), r.jsxs("div", {
                className: "flex justify-between text-xs text-muted-foreground",
                children: [r.jsx("span", {
                    children: f(s)
                }), r.jsx("span", {
                    children: f(i)
                })]
            })]
        })]
    })
}
function Lg({open: e, onClose: t, otherUser: n, currentUserId: s, currentUserRole: a, requestId: i}) {
    const [o,l] = u.useState("")
      , [c,d] = u.useState(null)
      , [f,m] = u.useState(!1)
      , h = u.useRef(null)
      , g = u.useRef(null)
      , {toast: w} = on()
      , {data: x=[], refetch: y} = Ge({
        queryKey: [`/api/chat/messages?requestId=${i}`],
        enabled: e && !!i,
        refetchInterval: 5e3
    });
    u.useEffect( () => {
        h.current && (h.current.scrollTop = h.current.scrollHeight)
    }
    , [x]),
    u.useEffect( () => {
        if (!e) {
            c && (c.close(),
            d(null));
            return
        }
        const C = `${window.location.protocol === "https:" ? "wss:" : "ws:"}//${window.location.host}/ws-chat`
          , E = new WebSocket(C);
        return E.onopen = () => {
            console.log("Chat WebSocket connected")
        }
        ,
        E.onmessage = A => {
            try {
                const z = JSON.parse(A.data);
                z.type === "chat" && z.requestId === i && y()
            } catch (z) {
                console.error("WebSocket message error:", z)
            }
        }
        ,
        E.onerror = A => {
            console.error("WebSocket error:", A)
        }
        ,
        d(E),
        () => {
            E.close(),
            d(null)
        }
    }
    , [e, i, y]);
    const v = Xe({
        mutationFn: async k => ze("POST", "/api/chat/messages", {
            requestId: i,
            senderId: s,
            receiverId: n.id,
            senderType: a,
            ...k
        }),
        onSuccess: k => {
            c && c.readyState === WebSocket.OPEN && c.send(JSON.stringify({
                type: "chat",
                requestId: i,
                message: k
            })),
            ye.invalidateQueries({
                queryKey: [`/api/chat/messages?requestId=${i}`]
            }),
            l("")
        }
    })
      , p = async k => {
        try {
            console.log("Starting voice upload:", {
                size: k.size,
                type: k.type
            });
            const C = new FormData
              , E = `voice-${Date.now()}.webm`;
            C.append("audio", k, E),
            console.log("Sending to /api/messages/upload-voice...");
            const A = await fetch("/api/messages/upload-voice", {
                method: "POST",
                body: C
            });
            if (console.log("Response status:", A.status),
            !A.ok) {
                const R = await A.json().catch( () => ({
                    error: "Unknown error"
                }));
                throw console.error("Upload error response:", R),
                new Error(R.error || "Upload failed")
            }
            const z = await A.json();
            console.log("Upload successful:", z);
            const {fileUrl: G} = z;
            await v.mutateAsync({
                messageType: "voice",
                fileUrl: G
            })
        } catch (C) {
            console.error("Voice message error:", C),
            w({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du message vocal"
            })
        }
    }
      , j = async k => {
        try {
            if (m(!0),
            console.log("Starting media upload:", {
                size: k.size,
                type: k.type,
                name: k.name
            }),
            k.size > 10 * 1024 * 1024) {
                w({
                    variant: "destructive",
                    title: "Erreur",
                    description: "Le fichier est trop volumineux (max 10MB)"
                });
                return
            }
            const C = new FormData;
            C.append("media", k);
            const E = await fetch("/api/messages/upload-media", {
                method: "POST",
                body: C
            });
            if (!E.ok) {
                const U = await E.json().catch( () => ({
                    error: "Erreur inconnue"
                }));
                throw new Error(U.error || "Upload chou")
            }
            const A = await E.json()
              , {fileUrl: z, fileName: G, fileSize: R, messageType: B} = A;
            await v.mutateAsync({
                messageType: B,
                fileUrl: z,
                fileName: G,
                fileSize: R
            }),
            w({
                title: "Mdia envoy",
                description: "Le fichier a t envoy avec succs"
            })
        } catch (C) {
            console.error("Media upload error:", C),
            w({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du mdia"
            })
        } finally {
            m(!1),
            g.current && (g.current.value = "")
        }
    }
      , N = k => {
        var E;
        const C = (E = k.target.files) == null ? void 0 : E[0];
        C && j(C)
    }
      , S = () => {
        const k = o.trim();
        k && v.mutate({
            message: k,
            messageType: "text"
        })
    }
    ;
    return e ? r.jsxs(ce, {
        className: "fixed bottom-4 right-4 w-96 max-w-[calc(100vw-2rem)] h-[500px] flex flex-col z-50 shadow-xl",
        children: [r.jsxs(Ee, {
            className: "flex-row items-center justify-between space-y-0 pb-4 border-b",
            children: [r.jsxs("div", {
                className: "flex items-center gap-3",
                children: [r.jsx(uk, {
                    children: r.jsx(fk, {
                        children: n.name[0]
                    })
                }), r.jsxs("div", {
                    children: [r.jsx(Te, {
                        className: "text-base",
                        children: n.name
                    }), r.jsx("p", {
                        className: "text-xs text-muted-foreground capitalize",
                        children: n.role
                    })]
                })]
            }), r.jsx(M, {
                variant: "ghost",
                size: "icon",
                onClick: t,
                "data-testid": "button-close-chat",
                children: r.jsx(rl, {
                    className: "h-4 w-4"
                })
            })]
        }), r.jsx(kk, {
            className: "flex-1 p-4",
            ref: h,
            children: r.jsx("div", {
                className: "space-y-4",
                children: x.length === 0 ? r.jsx("p", {
                    className: "text-sm text-muted-foreground text-center py-8",
                    children: "Aucun message. Dmarrez la conversation!"
                }) : x.map(k => {
                    const C = k.senderId === s
                      , E = k.messageType === "voice" || k.messageType === "photo" || k.messageType === "video"
                      , A = k.filteredMessage || k.message;
                    return r.jsx("div", {
                        className: `flex ${C ? "justify-end" : "justify-start"}`,
                        "data-testid": `message-${k.id}`,
                        children: r.jsx("div", {
                            className: `max-w-[80%] ${E ? "" : "rounded-lg px-4 py-2"} ${C ? E ? "" : "bg-primary text-primary-foreground" : E ? "" : "bg-muted"}`,
                            children: k.messageType === "voice" && k.fileUrl ? r.jsx(_k, {
                                audioUrl: k.fileUrl
                            }) : k.messageType === "photo" && k.fileUrl ? r.jsxs("div", {
                                className: "rounded-lg overflow-hidden",
                                children: [r.jsx("img", {
                                    src: k.fileUrl,
                                    alt: "Photo partage",
                                    className: "max-w-full h-auto max-h-64 cursor-pointer hover:opacity-90 transition-opacity",
                                    onClick: () => k.fileUrl && window.open(k.fileUrl, "_blank"),
                                    "data-testid": `img-photo-${k.id}`
                                }), k.fileName && r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1 px-2 pb-1",
                                    children: k.fileName
                                })]
                            }) : k.messageType === "video" && k.fileUrl ? r.jsxs("div", {
                                className: "rounded-lg overflow-hidden",
                                children: [r.jsxs("video", {
                                    controls: !0,
                                    className: "max-w-full h-auto max-h-64",
                                    "data-testid": `video-${k.id}`,
                                    children: [r.jsx("source", {
                                        src: k.fileUrl,
                                        type: "video/mp4"
                                    }), "Votre navigateur ne supporte pas la lecture vido."]
                                }), k.fileName && r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1 px-2 pb-1",
                                    children: k.fileName
                                })]
                            }) : r.jsxs(r.Fragment, {
                                children: [r.jsx("p", {
                                    className: "text-sm",
                                    children: A
                                }), k.filteredMessage && r.jsx("p", {
                                    className: "text-xs opacity-70 mt-1",
                                    children: "[Contenu filtr]"
                                })]
                            })
                        })
                    }, k.id)
                }
                )
            })
        }), r.jsx(ue, {
            className: "p-4 pt-0 border-t",
            children: r.jsxs("div", {
                className: "flex gap-2",
                children: [r.jsx(Fe, {
                    value: o,
                    onChange: k => l(k.target.value),
                    onKeyPress: k => k.key === "Enter" && !v.isPending && S(),
                    placeholder: "Tapez votre message...",
                    disabled: v.isPending || f,
                    "data-testid": "input-chat-message"
                }), r.jsx("input", {
                    ref: g,
                    type: "file",
                    accept: "image/*,video/*",
                    onChange: N,
                    className: "hidden",
                    "data-testid": "input-file-media"
                }), r.jsx(M, {
                    size: "icon",
                    variant: "ghost",
                    onClick: () => {
                        var k;
                        return (k = g.current) == null ? void 0 : k.click()
                    }
                    ,
                    disabled: v.isPending || f,
                    "data-testid": "button-upload-media",
                    title: "Envoyer une photo ou vido",
                    children: f ? r.jsx(Gb, {
                        className: "h-4 w-4 animate-spin"
                    }) : r.jsx(Eu, {
                        className: "h-4 w-4"
                    })
                }), r.jsx(Tk, {
                    onVoiceRecorded: p,
                    disabled: v.isPending || f
                }), r.jsx(M, {
                    onClick: S,
                    size: "icon",
                    disabled: v.isPending || !o.trim() || f,
                    "data-testid": "button-send-message",
                    children: r.jsx(ni, {
                        className: "h-4 w-4"
                    })
                })]
            })
        })]
    }) : null
}
function Xa({message: e="Chargement en cours...", size: t="md"}) {
    const s = {
        sm: {
            container: "w-32 h-16",
            truck: "w-12 h-12",
            text: "text-sm"
        },
        md: {
            container: "w-48 h-24",
            truck: "w-16 h-16",
            text: "text-lg"
        },
        lg: {
            container: "w-64 h-32",
            truck: "w-20 h-20",
            text: "text-xl"
        }
    }[t];
    return r.jsxs("div", {
        className: "flex flex-col items-center justify-center gap-4 p-6",
        "data-testid": "loading-truck",
        children: [r.jsxs("div", {
            className: `relative ${s.container}`,
            children: [r.jsx("div", {
                className: "absolute bottom-8 left-0 w-full h-1 bg-gray-300 rounded-full overflow-hidden",
                children: r.jsx("div", {
                    className: "h-full bg-gradient-to-r from-[#17cfcf] to-[#13b3b3] rounded-full animate-pulse"
                })
            }), r.jsx("div", {
                className: `absolute bottom-0 left-0 ${s.truck} animate-[drive_2s_ease-in-out_infinite]`,
                children: r.jsx(Xt, {
                    className: "w-full h-full text-[#17cfcf]"
                })
            })]
        }), e && r.jsx("p", {
            className: `${s.text} font-medium text-[#17cfcf] animate-pulse`,
            children: e
        })]
    })
}
var Pk = "AlertDialog"
  , [K3,o5] = En(Pk, [pS])
  , Gs = pS()
  , Rk = e => {
    const {__scopeAlertDialog: t, ...n} = e
      , s = Gs(t);
    return r.jsx(RS, {
        ...s,
        ...n,
        modal: !0
    })
}
;
Rk.displayName = Pk;
var Q3 = "AlertDialogTrigger"
  , G3 = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Gs(n);
    return r.jsx(E4, {
        ...a,
        ...s,
        ref: t
    })
}
);
G3.displayName = Q3;
var Z3 = "AlertDialogPortal"
  , Ak = e => {
    const {__scopeAlertDialog: t, ...n} = e
      , s = Gs(t);
    return r.jsx(AS, {
        ...s,
        ...n
    })
}
;
Ak.displayName = Z3;
var Y3 = "AlertDialogOverlay"
  , Mk = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Gs(n);
    return r.jsx(yg, {
        ...a,
        ...s,
        ref: t
    })
}
);
Mk.displayName = Y3;
var bo = "AlertDialogContent"
  , [X3,J3] = K3(bo)
  , e$ = yb("AlertDialogContent")
  , Ik = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, children: s, ...a} = e
      , i = Gs(n)
      , o = u.useRef(null)
      , l = He(t, o)
      , c = u.useRef(null);
    return r.jsx(N4, {
        contentName: bo,
        titleName: Dk,
        docsSlug: "alert-dialog",
        children: r.jsx(X3, {
            scope: n,
            cancelRef: c,
            children: r.jsxs(jg, {
                role: "alertdialog",
                ...i,
                ...a,
                ref: l,
                onOpenAutoFocus: ne(a.onOpenAutoFocus, d => {
                    var f;
                    d.preventDefault(),
                    (f = c.current) == null || f.focus({
                        preventScroll: !0
                    })
                }
                ),
                onPointerDownOutside: d => d.preventDefault(),
                onInteractOutside: d => d.preventDefault(),
                children: [r.jsx(e$, {
                    children: s
                }), r.jsx(n$, {
                    contentRef: o
                })]
            })
        })
    })
}
);
Ik.displayName = bo;
var Dk = "AlertDialogTitle"
  , Ok = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Gs(n);
    return r.jsx(wg, {
        ...a,
        ...s,
        ref: t
    })
}
);
Ok.displayName = Dk;
var Lk = "AlertDialogDescription"
  , Fk = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Gs(n);
    return r.jsx(bg, {
        ...a,
        ...s,
        ref: t
    })
}
);
Fk.displayName = Lk;
var t$ = "AlertDialogAction"
  , $k = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Gs(n);
    return r.jsx(Ng, {
        ...a,
        ...s,
        ref: t
    })
}
);
$k.displayName = t$;
var zk = "AlertDialogCancel"
  , Vk = u.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , {cancelRef: a} = J3(zk, n)
      , i = Gs(n)
      , o = He(t, a);
    return r.jsx(Ng, {
        ...i,
        ...s,
        ref: o
    })
}
);
Vk.displayName = zk;
var n$ = ({contentRef: e}) => {
    const t = `\`${bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bo}\` by passing a \`${Lk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;
    return u.useEffect( () => {
        var s;
        document.getElementById((s = e.current) == null ? void 0 : s.getAttribute("aria-describedby")) || console.warn(t)
    }
    , [t, e]),
    null
}
  , r$ = Rk
  , s$ = Ak
  , Uk = Mk
  , Wk = Ik
  , Bk = $k
  , Hk = Vk
  , qk = Ok
  , Kk = Fk;
const No = r$
  , a$ = s$
  , Qk = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Uk, {
    className: le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e),
    ...t,
    ref: n
}));
Qk.displayName = Uk.displayName;
const pi = u.forwardRef( ({className: e, ...t}, n) => r.jsxs(a$, {
    children: [r.jsx(Qk, {}), r.jsx(Wk, {
        ref: n,
        className: le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e),
        ...t
    })]
}));
pi.displayName = Wk.displayName;
const xi = ({className: e, ...t}) => r.jsx("div", {
    className: le("flex flex-col space-y-2 text-center sm:text-left", e),
    ...t
});
xi.displayName = "AlertDialogHeader";
const gi = ({className: e, ...t}) => r.jsx("div", {
    className: le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e),
    ...t
});
gi.displayName = "AlertDialogFooter";
const vi = u.forwardRef( ({className: e, ...t}, n) => r.jsx(qk, {
    ref: n,
    className: le("text-lg font-semibold", e),
    ...t
}));
vi.displayName = qk.displayName;
const yi = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Kk, {
    ref: n,
    className: le("text-sm text-muted-foreground", e),
    ...t
}));
yi.displayName = Kk.displayName;
const ji = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Bk, {
    ref: n,
    className: le(Yx(), e),
    ...t
}));
ji.displayName = Bk.displayName;
const Ic = u.forwardRef( ({className: e, ...t}, n) => r.jsx(Hk, {
    ref: n,
    className: le(Yx({
        variant: "outline"
    }), "mt-2 sm:mt-0", e),
    ...t
}));
Ic.displayName = Hk.displayName;
const i$ = ["Meubles", "lectromnager", "Marchandises", "Dmnagement", "Matriaux de construction", "Colis", "Vhicule", "Autre"]
  , o$ = We.object({
    fromCity: We.string().min(2, "Ville de dpart requise"),
    toCity: We.string().min(2, "Ville d'arrive requise"),
    description: We.string().min(10, "Description minimale: 10 caractres"),
    goodsType: We.string().min(1, "Type de marchandise requis"),
    dateTime: We.string().optional(),
    dateFlexible: We.boolean().default(!1),
    invoiceRequired: We.boolean().default(!1),
    budget: We.string().optional()
})
  , l$ = We.object({
    description: We.string().min(10, "Description minimale: 10 caractres"),
    type: We.string().min(1, "Type de problme requis")
});
function c$({request: e, onAcceptOffer: t, onDeclineOffer: n, onChat: s, onDelete: a, onViewTransporter: i, onUpdateStatus: o, onReport: l, users: c, cities: d, citiesLoading: f, currentUserId: m}) {
    var V, W, de, ke, Ye, at, ut, we;
    const [h,g] = u.useState(!1)
      , [w,x] = u.useState(!1)
      , [y,v] = u.useState(!1)
      , [p,j] = u.useState(!1)
      , [N,S] = u.useState(0)
      , k = e.status === "accepted"
      , {toast: C} = on()
      , {data: E=[]} = Ge({
        queryKey: ["/api/offers", e.id],
        queryFn: async () => (await fetch(`/api/offers?requestId=${e.id}`)).json()
    })
      , A = E.map($ => {
        var Ie;
        const te = c.find(Le => Le.id === $.transporterId);
        return {
            ...$,
            transporterName: (te == null ? void 0 : te.name) || "Transporteur",
            rating: parseFloat((te == null ? void 0 : te.rating) || "0"),
            totalTrips: (te == null ? void 0 : te.totalTrips) || 0,
            truckPhoto: (Ie = te == null ? void 0 : te.truckPhotos) == null ? void 0 : Ie[0]
        }
    }
    )
      , z = e.createdAt ? typeof e.createdAt == "string" ? new Date(e.createdAt) : e.createdAt : null
      , G = $ => {
        if (!$)
            return "";
        const te = typeof $ == "string" ? new Date($) : $
          , Ie = te.getFullYear()
          , Le = String(te.getMonth() + 1).padStart(2, "0")
          , Ve = String(te.getDate()).padStart(2, "0")
          , $e = String(te.getHours()).padStart(2, "0")
          , jt = String(te.getMinutes()).padStart(2, "0");
        return `${Ie}-${Le}-${Ve}T${$e}:${jt}`
    }
      , R = Da({
        resolver: Oa(o$),
        defaultValues: {
            fromCity: e.fromCity || "",
            toCity: e.toCity || "",
            description: e.description || "",
            goodsType: e.goodsType || "",
            dateTime: G(e.dateTime),
            dateFlexible: e.dateFlexible || !1,
            invoiceRequired: e.invoiceRequired || !1,
            budget: e.budget || ""
        }
    });
    u.useEffect( () => {
        y && R.reset({
            fromCity: e.fromCity || "",
            toCity: e.toCity || "",
            description: e.description || "",
            goodsType: e.goodsType || "",
            dateTime: G(e.dateTime),
            dateFlexible: e.dateFlexible || !1,
            invoiceRequired: e.invoiceRequired || !1,
            budget: e.budget || ""
        })
    }
    , [y, e, R]);
    const B = Xe({
        mutationFn: async $ => await ze("PATCH", `/api/requests/${e.id}`, $),
        onSuccess: () => {
            C({
                title: "Commande modifie",
                description: "Vos modifications ont t enregistres avec succs"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            v(!1)
        }
        ,
        onError: () => {
            C({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la modification de la commande"
            })
        }
    })
      , U = $ => {
        const te = {
            fromCity: $.fromCity,
            toCity: $.toCity,
            description: $.description,
            goodsType: $.goodsType,
            dateFlexible: $.dateFlexible,
            invoiceRequired: $.invoiceRequired
        };
        $.dateTime && (te.dateTime = new Date($.dateTime).toISOString()),
        $.budget && (te.budget = $.budget),
        B.mutate(te)
    }
      , {data: J=[], isLoading: q} = Ge({
        queryKey: ["/api/recommendations", e.id],
        queryFn: async () => (await fetch(`/api/recommendations/${e.id}`)).json(),
        enabled: p
    });
    u.useEffect( () => {
        p && S(0)
    }
    , [p]);
    const pe = Xe({
        mutationFn: async $ => await ze("POST", "/api/client-transporter-contacts", {
            requestId: e.id,
            clientId: m,
            transporterId: $
        }),
        onSuccess: () => {
            C({
                title: "Contact enregistr",
                description: "Vous pouvez maintenant contacter ce transporteur"
            })
        }
    })
      , D = () => {
        const $ = "+212664373534"
          , te = encodeURIComponent(`Bonjour, j'ai besoin d'aide pour ma commande ${e.referenceId} (${e.fromCity}  ${e.toCity}). Pouvez-vous m'assister ?`)
          , Ie = `https://wa.me/${$.replace(/\+/g, "")}?text=${te}`;
        window.open(Ie, "_blank")
    }
    ;
    return r.jsxs(r.Fragment, {
        children: [r.jsx(ce, {
            className: "overflow-hidden hover-elevate bg-[#0f324f]/30 border-[#1d3c57]",
            children: r.jsxs(ue, {
                className: "p-4 space-y-3",
                children: [r.jsxs("div", {
                    className: "flex items-start justify-between gap-2",
                    children: [r.jsx("h3", {
                        className: "text-lg font-semibold",
                        "data-testid": `text-reference-${e.id}`,
                        children: e.referenceId
                    }), r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [!k && r.jsx(M, {
                            variant: "ghost",
                            size: "icon",
                            onClick: () => v(!0),
                            "data-testid": `button-edit-${e.id}`,
                            className: "h-8 w-8 text-[#1abc9c] hover:text-[#1abc9c] hover:bg-[#1abc9c]/10",
                            children: r.jsx(Yb, {
                                className: "h-4 w-4"
                            })
                        }), r.jsx(M, {
                            variant: "ghost",
                            size: "icon",
                            onClick: () => g(!0),
                            "data-testid": `button-delete-${e.id}`,
                            className: "h-8 w-8 text-[#e74c3c] hover:text-[#e74c3c] hover:bg-[#e74c3c]/10",
                            children: r.jsx(ts, {
                                className: "h-4 w-4"
                            })
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center justify-between flex-wrap gap-2",
                    children: [r.jsx("div", {
                        className: "flex items-center gap-2 text-sm",
                        children: r.jsxs("span", {
                            className: "font-medium",
                            children: [e.fromCity, "  ", e.toCity]
                        })
                    }), k && r.jsx(he, {
                        variant: "default",
                        className: "bg-green-600",
                        children: "Accepte"
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center gap-4 text-xs text-muted-foreground",
                    children: [e.viewCount !== void 0 && r.jsxs("span", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(is, {
                            className: "w-3 h-3"
                        }), e.viewCount, " vue", e.viewCount > 1 ? "s" : ""]
                    }), z && r.jsxs("span", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(hs, {
                            className: "w-3 h-3"
                        }), "Cre le ", Ur(z, "d MMM yyyy", {
                            locale: Wr
                        })]
                    })]
                }), e.description && r.jsxs("div", {
                    className: "text-sm",
                    children: [r.jsx("p", {
                        className: "text-muted-foreground text-xs mb-1",
                        children: "Description :"
                    }), r.jsx("p", {
                        className: "line-clamp-2",
                        children: e.description
                    })]
                }), !k && r.jsxs(M, {
                    variant: "secondary",
                    className: "w-full gap-2 bg-[#1d3c57] hover:bg-[#1d3c57]/80",
                    onClick: () => x(!0),
                    "data-testid": `button-view-offers-${e.id}`,
                    children: [r.jsx(rr, {
                        className: "w-4 h-4"
                    }), "Offres reues (", A.length, ")"]
                }), !k && r.jsxs("div", {
                    className: "flex flex-wrap gap-2.5",
                    children: [r.jsxs(M, {
                        onClick: () => j(!0),
                        "data-testid": `button-camiomatch-${e.id}`,
                        className: "flex-1 min-w-[135px] gap-2 rounded-xl font-semibold text-white bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] border-0 shadow-md hover:shadow-lg hover:shadow-[#17cfcf]/30 transition-shadow duration-300 hover-elevate",
                        children: [r.jsx(Am, {
                            className: "w-5 h-5"
                        }), "CamioMatch"]
                    }), r.jsxs(M, {
                        onClick: D,
                        "data-testid": `button-coordinator-${e.id}`,
                        className: "flex-1 min-w-[135px] gap-2 rounded-xl font-semibold text-white bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] border-0 shadow-md hover:shadow-lg hover:shadow-[#17cfcf]/25 transition-shadow duration-300 hover-elevate",
                        children: [r.jsx($r, {
                            className: "w-5 h-5"
                        }), "Coordinateur"]
                    })]
                }), k && r.jsxs("div", {
                    className: "flex flex-col sm:flex-row gap-2 pt-2",
                    children: [r.jsxs(M, {
                        variant: "secondary",
                        size: "sm",
                        onClick: () => i(e.id),
                        "data-testid": `button-view-transporter-${e.id}`,
                        className: "gap-2 flex-1",
                        children: [r.jsx(Qd, {
                            className: "h-4 w-4"
                        }), "Infos transporteur"]
                    }), r.jsxs(M, {
                        variant: "default",
                        size: "sm",
                        onClick: () => {
                            const $ = A.find(te => te.id === e.acceptedOfferId);
                            $ && s($.transporterId, $.transporterName, e.id)
                        }
                        ,
                        "data-testid": `button-chat-active-${e.id}`,
                        className: "gap-2 flex-1 bg-[#00cc88] hover:bg-[#00cc88]/90 border-[#00cc88]",
                        style: {
                            textShadow: "0 1px 1px rgba(0,0,0,0.2)"
                        },
                        children: [r.jsx(rr, {
                            className: "h-4 w-4"
                        }), r.jsx("span", {
                            className: "hidden sm:inline",
                            children: "Message"
                        })]
                    }), r.jsxs(uS, {
                        children: [r.jsx(fS, {
                            asChild: !0,
                            children: r.jsxs(M, {
                                variant: "secondary",
                                size: "sm",
                                "data-testid": `button-update-status-${e.id}`,
                                className: "gap-2 flex-1",
                                children: [r.jsx(ap, {
                                    className: "h-4 w-4"
                                }), "Statut"]
                            })
                        }), r.jsxs(hg, {
                            align: "end",
                            children: [r.jsxs(vc, {
                                onClick: () => o(e.id, "completed"),
                                "data-testid": `button-complete-${e.id}`,
                                className: "gap-2",
                                children: [r.jsx(Hn, {
                                    className: "h-4 w-4"
                                }), "Termine"]
                            }), r.jsxs(vc, {
                                onClick: () => o(e.id, "republish"),
                                "data-testid": `button-republish-${e.id}`,
                                className: "gap-2",
                                children: [r.jsx(ap, {
                                    className: "h-4 w-4"
                                }), "Republier"]
                            })]
                        })]
                    }), r.jsxs(M, {
                        variant: "destructive",
                        size: "sm",
                        onClick: () => l(e.id),
                        "data-testid": `button-report-active-${e.id}`,
                        className: "gap-2",
                        children: [r.jsx(mi, {
                            className: "h-4 w-4"
                        }), r.jsx("span", {
                            className: "hidden sm:inline",
                            children: "Signaler"
                        })]
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: w,
            onOpenChange: x,
            children: r.jsxs(pt, {
                className: "max-w-4xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsxs(gt, {
                        children: ["Offres reues - ", e.referenceId]
                    }), r.jsxs(Rt, {
                        children: [e.fromCity, "  ", e.toCity]
                    })]
                }), r.jsx("div", {
                    className: "space-y-4 mt-4",
                    children: A.length > 0 ? r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2",
                        children: A.map($ => r.jsx(E3, {
                            offer: $,
                            onAccept: te => {
                                t(te),
                                x(!1)
                            }
                            ,
                            onDecline: te => {
                                n(te)
                            }
                            ,
                            onChat: () => {
                                s($.transporterId, $.transporterName, e.id),
                                x(!1)
                            }
                        }, $.id))
                    }) : r.jsx("p", {
                        className: "text-sm text-muted-foreground text-center py-8",
                        children: "Aucune offre pour le moment"
                    })
                })]
            })
        }), r.jsx(yt, {
            open: p,
            onOpenChange: j,
            children: r.jsxs(pt, {
                className: "max-w-2xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx("div", {
                        className: "text-center mb-2",
                        children: r.jsxs("p", {
                            className: "text-sm text-[#17cfcf] font-medium animate-pulse flex items-center justify-center gap-2",
                            children: [r.jsx(Xt, {
                                className: "w-4 h-4"
                            }), "Trouvons le bon camion pour vous..."]
                        })
                    }), r.jsxs(gt, {
                        className: "text-2xl font-bold text-center flex items-center justify-center gap-2",
                        children: [r.jsx(Am, {
                            className: "w-6 h-6 text-[#17cfcf]"
                        }), "CamioMatch"]
                    }), r.jsx(Rt, {
                        className: "text-center text-base",
                        children: "Voici les meilleurs matches pour votre trajet"
                    })]
                }), r.jsx("div", {
                    className: "py-6",
                    children: q ? r.jsxs("div", {
                        className: "flex flex-col items-center justify-center py-12 space-y-6",
                        children: [r.jsxs("div", {
                            className: "relative w-48 h-24",
                            children: [r.jsx("div", {
                                className: "absolute bottom-8 left-0 w-full h-1 bg-gray-300 rounded-full overflow-hidden",
                                children: r.jsx("div", {
                                    className: "h-full bg-gradient-to-r from-[#17cfcf] to-[#13b3b3] rounded-full animate-pulse"
                                })
                            }), r.jsx("div", {
                                className: "absolute bottom-0 left-0 w-16 h-16 animate-[drive_2s_ease-in-out_infinite]",
                                children: r.jsx(Xt, {
                                    className: "w-full h-full text-[#17cfcf]"
                                })
                            })]
                        }), r.jsx("p", {
                            className: "text-lg font-medium text-[#17cfcf] animate-pulse",
                            children: "Recherche des meilleurs transporteurs..."
                        })]
                    }) : J.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Xt, {
                            className: "w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"
                        }), r.jsx("p", {
                            className: "text-lg font-medium text-muted-foreground",
                            children: "Aucun match disponible pour le moment"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground mt-2",
                            children: "Essayez de republier votre demande ou contactez le coordinateur"
                        })]
                    }) : r.jsxs("div", {
                        className: "space-y-4",
                        children: [r.jsxs("div", {
                            className: "relative transition-all duration-300",
                            children: [r.jsx(ce, {
                                className: "overflow-hidden border-2 border-[#17cfcf]/40 shadow-2xl bg-gradient-to-br from-card via-card to-[#17cfcf]/10 backdrop-blur-sm",
                                children: r.jsxs(ue, {
                                    className: "p-4 space-y-3",
                                    children: [r.jsx("div", {
                                        className: "w-full h-40 bg-gradient-to-br from-[#0a2540] via-[#1d3c57] to-[#17cfcf]/20 rounded-xl overflow-hidden flex items-center justify-center relative shadow-inner",
                                        children: (V = J[N]) != null && V.truckPhoto ? r.jsx("img", {
                                            src: J[N].truckPhoto,
                                            alt: "Camion du transporteur",
                                            className: "w-full h-full object-cover transition-transform duration-300 hover:scale-105"
                                        }) : r.jsx(Xt, {
                                            className: "w-24 h-24 text-[#17cfcf] opacity-40"
                                        })
                                    }), r.jsxs("div", {
                                        className: "space-y-3",
                                        children: [r.jsxs("div", {
                                            className: "flex items-center justify-between",
                                            children: [r.jsx("h3", {
                                                className: "text-xl font-bold",
                                                children: ((W = J[N]) == null ? void 0 : W.name) || `Transporteur ${(ke = (de = J[N]) == null ? void 0 : de.id) == null ? void 0 : ke.substring(0, 8)}`
                                            }), ((Ye = J[N]) == null ? void 0 : Ye.priority) && r.jsxs(he, {
                                                className: "bg-[#17cfcf] text-white font-semibold flex items-center gap-1",
                                                children: [J[N].priority === "empty_return" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(ER, {
                                                        className: "w-3 h-3"
                                                    }), "Retour  vide"]
                                                }), J[N].priority === "active" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(Am, {
                                                        className: "w-3 h-3"
                                                    }), "Actif rcemment"]
                                                }), J[N].priority === "rating" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(Bs, {
                                                        className: "w-3 h-3 fill-white"
                                                    }), "Bien not"]
                                                })]
                                            })]
                                        }), r.jsx("div", {
                                            className: "flex items-center gap-4 text-sm",
                                            children: r.jsxs("span", {
                                                className: "flex items-center gap-1",
                                                children: [r.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Ville:"
                                                }), r.jsx("span", {
                                                    className: "font-medium",
                                                    children: ((at = J[N]) == null ? void 0 : at.city) || "N/A"
                                                })]
                                            })
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsx("div", {
                                                className: "flex items-center gap-1",
                                                children: [...Array(5)].map( ($, te) => {
                                                    var Ie;
                                                    return r.jsx(Bs, {
                                                        className: `w-5 h-5 ${te < Math.round(((Ie = J[N]) == null ? void 0 : Ie.rating) || 0) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                                                    }, te)
                                                }
                                                )
                                            }), r.jsxs("span", {
                                                className: "text-sm font-medium",
                                                children: [(((ut = J[N]) == null ? void 0 : ut.rating) || 0).toFixed(1), " / 5.0"]
                                            }), r.jsxs("span", {
                                                className: "text-sm text-muted-foreground",
                                                children: ["(", ((we = J[N]) == null ? void 0 : we.totalTrips) || 0, " trajets)"]
                                            })]
                                        })]
                                    })]
                                })
                            }), J.length > 1 && r.jsxs(r.Fragment, {
                                children: [r.jsx(M, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: () => S($ => $ === 0 ? J.length - 1 : $ - 1),
                                    className: "absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 h-14 w-14 rounded-full bg-background shadow-lg border-2 border-[#17cfcf] z-10",
                                    "data-testid": "button-previous-match",
                                    children: r.jsx(np, {
                                        className: "w-8 h-8 text-[#17cfcf]"
                                    })
                                }), r.jsx(M, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: () => S($ => $ === J.length - 1 ? 0 : $ + 1),
                                    className: "absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 h-14 w-14 rounded-full bg-background shadow-lg border-2 border-[#17cfcf] z-10",
                                    "data-testid": "button-next-match",
                                    children: r.jsx(ku, {
                                        className: "w-8 h-8 text-[#17cfcf]"
                                    })
                                })]
                            })]
                        }), J.length > 1 && r.jsx("div", {
                            className: "flex items-center justify-center gap-2 mt-2",
                            children: J.map( ($, te) => r.jsx("div", {
                                className: `h-1.5 rounded-full transition-all duration-300 ${te === N ? "w-6 bg-[#17cfcf]" : "w-1.5 bg-gray-300"}`
                            }, te))
                        }), r.jsxs("div", {
                            className: "flex items-center justify-center gap-8 pt-2",
                            children: [r.jsx(M, {
                                variant: "outline",
                                size: "icon",
                                onClick: () => {
                                    N < J.length - 1 ? S(N + 1) : C({
                                        title: "Fin des matches",
                                        description: "Vous avez vu tous les transporteurs disponibles"
                                    })
                                }
                                ,
                                className: "rounded-full border-2 border-red-500/60 text-red-500 shadow-lg",
                                "data-testid": "button-skip-match",
                                children: r.jsx(rl, {
                                    className: "w-8 h-8"
                                })
                            }), r.jsx(M, {
                                size: "icon",
                                onClick: () => {
                                    const $ = J[N];
                                    pe.mutate($.id),
                                    s($.id, $.name || "Transporteur", e.id),
                                    j(!1)
                                }
                                ,
                                className: "rounded-full bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] text-white border-0 shadow-xl animate-pulse-glow",
                                "data-testid": "button-contact-match",
                                children: r.jsx(rr, {
                                    className: "w-8 h-8"
                                })
                            })]
                        }), r.jsxs("p", {
                            className: "text-center text-[10px] text-muted-foreground/60 mt-1",
                            children: [N + 1, " / ", J.length]
                        })]
                    })
                })]
            })
        }), r.jsx(yt, {
            open: y,
            onOpenChange: v,
            children: r.jsxs(pt, {
                className: "max-w-2xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Modifier la commande"
                    }), r.jsx(Rt, {
                        children: "Modifiez les informations de votre commande"
                    })]
                }), r.jsx(Ua, {
                    ...R,
                    children: r.jsxs("form", {
                        onSubmit: R.handleSubmit(U),
                        className: "space-y-4 py-4",
                        children: [r.jsxs("div", {
                            className: "grid gap-4 md:grid-cols-2",
                            children: [r.jsx(ot, {
                                control: R.control,
                                name: "fromCity",
                                render: ({field: $}) => r.jsxs(et, {
                                    children: [r.jsx(Je, {
                                        children: "Ville de dpart"
                                    }), r.jsxs(Jt, {
                                        onValueChange: $.onChange,
                                        value: $.value,
                                        children: [r.jsx(st, {
                                            children: r.jsx(Ht, {
                                                "data-testid": "edit-select-from-city",
                                                children: r.jsx(en, {
                                                    placeholder: "Slectionner"
                                                })
                                            })
                                        }), r.jsx(qt, {
                                            children: f ? r.jsx("div", {
                                                className: "p-2 text-sm text-muted-foreground",
                                                children: "Chargement..."
                                            }) : d.map(te => r.jsx(Ae, {
                                                value: te.name,
                                                children: te.name
                                            }, te.id))
                                        })]
                                    }), r.jsx(dt, {})]
                                })
                            }), r.jsx(ot, {
                                control: R.control,
                                name: "toCity",
                                render: ({field: $}) => r.jsxs(et, {
                                    children: [r.jsx(Je, {
                                        children: "Ville d'arrive"
                                    }), r.jsxs(Jt, {
                                        onValueChange: $.onChange,
                                        value: $.value,
                                        children: [r.jsx(st, {
                                            children: r.jsx(Ht, {
                                                "data-testid": "edit-select-to-city",
                                                children: r.jsx(en, {
                                                    placeholder: "Slectionner"
                                                })
                                            })
                                        }), r.jsx(qt, {
                                            children: f ? r.jsx("div", {
                                                className: "p-2 text-sm text-muted-foreground",
                                                children: "Chargement..."
                                            }) : d.map(te => r.jsx(Ae, {
                                                value: te.name,
                                                children: te.name
                                            }, te.id))
                                        })]
                                    }), r.jsx(dt, {})]
                                })
                            })]
                        }), r.jsx(ot, {
                            control: R.control,
                            name: "goodsType",
                            render: ({field: $}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Type de marchandise"
                                }), r.jsxs(Jt, {
                                    onValueChange: $.onChange,
                                    value: $.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "edit-select-goods-type",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(qt, {
                                        children: i$.map(te => r.jsx(Ae, {
                                            value: te,
                                            children: te
                                        }, te))
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: R.control,
                            name: "description",
                            render: ({field: $}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Description"
                                }), r.jsx(st, {
                                    children: r.jsx(Va, {
                                        placeholder: "Dcrivez votre demande de transport...",
                                        className: "min-h-24",
                                        "data-testid": "edit-input-description",
                                        ...$
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: R.control,
                            name: "budget",
                            render: ({field: $}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Budget (optionnel)"
                                }), r.jsx(st, {
                                    children: r.jsx(Fe, {
                                        placeholder: "ex: 500 MAD",
                                        "data-testid": "edit-input-budget",
                                        ...$
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: R.control,
                            name: "dateTime",
                            render: ({field: $}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Date et heure souhaites (optionnel)"
                                }), r.jsx(st, {
                                    children: r.jsx(Fe, {
                                        type: "datetime-local",
                                        "data-testid": "edit-input-datetime",
                                        ...$
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsxs("div", {
                            className: "grid gap-4 sm:grid-cols-2",
                            children: [r.jsx(ot, {
                                control: R.control,
                                name: "dateFlexible",
                                render: ({field: $}) => r.jsxs(et, {
                                    className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ac, {
                                            checked: $.value,
                                            onCheckedChange: $.onChange,
                                            "data-testid": "edit-checkbox-date-flexible"
                                        })
                                    }), r.jsx("div", {
                                        className: "space-y-1 leading-none",
                                        children: r.jsx(Je, {
                                            className: "cursor-pointer",
                                            children: "Date flexible"
                                        })
                                    })]
                                })
                            }), r.jsx(ot, {
                                control: R.control,
                                name: "invoiceRequired",
                                render: ({field: $}) => r.jsxs(et, {
                                    className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ac, {
                                            checked: $.value,
                                            onCheckedChange: $.onChange,
                                            "data-testid": "edit-checkbox-invoice-required"
                                        })
                                    }), r.jsx("div", {
                                        className: "space-y-1 leading-none",
                                        children: r.jsx(Je, {
                                            className: "cursor-pointer",
                                            children: "Besoin d'une facture TTC"
                                        })
                                    })]
                                })
                            })]
                        }), r.jsxs(xs, {
                            className: "gap-2",
                            children: [r.jsx(M, {
                                type: "button",
                                variant: "secondary",
                                onClick: () => v(!1),
                                "data-testid": "button-cancel-edit",
                                children: "Annuler"
                            }), r.jsx(M, {
                                type: "submit",
                                disabled: B.isPending,
                                "data-testid": "button-save-edit",
                                children: B.isPending ? "Enregistrement..." : "Enregistrer les changements"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(No, {
            open: h,
            onOpenChange: g,
            children: r.jsxs(pi, {
                children: [r.jsxs(xi, {
                    children: [r.jsx(vi, {
                        children: "Supprimer la commande"
                    }), r.jsx(yi, {
                        children: "tes-vous sr de vouloir supprimer cette commande ? Cette action supprimera galement toutes les offres et messages associs. Cette action est irrversible."
                    })]
                }), r.jsxs(gi, {
                    children: [r.jsx(Ic, {
                        "data-testid": "button-cancel-delete",
                        children: "Annuler"
                    }), r.jsx(ji, {
                        onClick: () => {
                            a(e.id),
                            g(!1)
                        }
                        ,
                        "data-testid": "button-confirm-delete",
                        className: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                        children: "Supprimer"
                    })]
                })]
            })
        })]
    })
}
function Gk() {
    Zn();
    const [e,t] = u.useState(!1)
      , [n,s] = u.useState(!1)
      , [a,i] = u.useState(null)
      , [o,l] = u.useState("")
      , [c,d] = u.useState(!1)
      , [f,m] = u.useState(null)
      , [h,g] = u.useState(!1)
      , [w,x] = u.useState(null)
      , [y,v] = u.useState(!1)
      , [p,j] = u.useState(0)
      , [N,S] = u.useState(0)
      , [k,C] = u.useState("")
      , [E,A] = u.useState(!1)
      , [z,G] = u.useState("")
      , [R,B] = u.useState("")
      , [U,J] = u.useState(!1)
      , [q,pe] = u.useState("")
      , [D,V] = u.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    u.useEffect( () => {
        const L = async () => {
            try {
                const _e = await fetch(`/api/auth/me/${D.id}`);
                if (_e.ok) {
                    const {user: Ct} = await _e.json();
                    localStorage.setItem("camionback_user", JSON.stringify(Ct)),
                    V(Ct)
                } else
                    _e.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (_e) {
                console.error("Failed to refresh user data:", _e)
            }
        }
        ;
        D.id && L()
    }
    , [D.id]);
    const W = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: de=[], isLoading: ke} = Ge({
        queryKey: ["/api/requests", D.id],
        queryFn: async () => (await fetch(`/api/requests?clientId=${D.id}`)).json()
    })
      , {data: Ye=[]} = Ge({
        queryKey: ["/api/users"],
        queryFn: async () => (await fetch("/api/users")).json()
    })
      , {data: at=[], isLoading: ut} = Ge({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , we = Xe({
        mutationFn: async L => (await fetch(`/api/offers/${L}/accept`, {
            method: "POST"
        })).json(),
        onSuccess: L => {
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            m({
                transporterPhone: L.transporterPhone,
                transporterName: L.transporterName,
                commission: L.commission,
                total: L.total
            }),
            d(!0)
        }
    })
      , $ = Xe({
        mutationFn: async L => {
            const _e = await fetch(`/api/offers/${L}/decline`, {
                method: "POST"
            });
            if (!_e.ok)
                throw new Error("Failed to decline offer");
            return _e.json()
        }
        ,
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            wt({
                title: "Offre dcline",
                description: "L'offre a t dcline et le transporteur a t notifi."
            })
        }
        ,
        onError: () => {
            wt({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de dcliner l'offre"
            })
        }
    })
      , te = Xe({
        mutationFn: async L => {
            const _e = await fetch(`/api/requests/${L}`, {
                method: "DELETE"
            });
            if (!_e.ok)
                throw new Error("Failed to delete request");
            return _e.json()
        }
        ,
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/notifications"]
            })
        }
    })
      , Ie = Xe({
        mutationFn: async L => {
            const _e = await fetch(`/api/requests/${L}/accepted-transporter`);
            if (!_e.ok)
                throw new Error("Failed to fetch transporter info");
            return _e.json()
        }
        ,
        onSuccess: L => {
            x(L),
            g(!0)
        }
    })
      , Le = Xe({
        mutationFn: async ({requestId: L, action: _e}) => {
            const Ct = _e === "completed" ? `/api/requests/${L}/complete` : `/api/requests/${L}/republish`
              , Lt = await fetch(Ct, {
                method: "POST"
            });
            if (!Lt.ok)
                throw new Error(`Failed to ${_e} request`);
            return Lt.json()
        }
        ,
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
    })
      , Ve = L => {
        we.mutate(L)
    }
      , $e = L => {
        $.mutate(L)
    }
      , jt = L => {
        te.mutate(L)
    }
      , Ot = L => {
        Ie.mutate(L)
    }
      , ln = (L, _e) => {
        _e === "completed" ? (C(L),
        j(0),
        S(0),
        v(!0)) : Le.mutate({
            requestId: L,
            action: _e
        })
    }
      , Qt = Xe({
        mutationFn: async ({requestId: L, rating: _e}) => {
            const Ct = await fetch(`/api/requests/${L}/complete`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    rating: _e
                })
            });
            if (!Ct.ok)
                throw new Error("Failed to complete request with rating");
            return Ct.json()
        }
        ,
        onSuccess: () => {
            wt({
                title: "Commande termine",
                description: "Merci pour votre valuation ! La commande est maintenant termine."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            v(!1)
        }
        ,
        onError: () => {
            wt({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de terminer la commande"
            })
        }
    })
      , {toast: wt} = on()
      , cr = Xe({
        mutationFn: async ({requestId: L, receipt: _e}) => await ze("POST", `/api/requests/${L}/mark-as-paid`, {
            clientId: D.id,
            paymentReceipt: _e
        }),
        onSuccess: (L, _e) => {
            wt({
                title: "Succs",
                description: "Merci ! Veuillez maintenant valuer le transporteur"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            A(!1),
            B(""),
            C(_e.requestId),
            j(0),
            S(0),
            v(!0),
            G("")
        }
        ,
        onError: () => {
            wt({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la confirmation du paiement"
            })
        }
    })
      , Gt = Da({
        resolver: Oa(l$),
        defaultValues: {
            description: "",
            type: ""
        }
    })
      , Ss = Xe({
        mutationFn: async L => {
            const _e = de.find(Lt => Lt.id === L.requestId);
            let Ct = "";
            if (_e != null && _e.acceptedOfferId)
                try {
                    const vn = (await (await fetch(`/api/offers?requestId=${L.requestId}`)).json()).find(Zr => Zr.id === _e.acceptedOfferId);
                    Ct = (vn == null ? void 0 : vn.transporterId) || ""
                } catch (Lt) {
                    console.error("Error fetching offers:", Lt)
                }
            return await ze("POST", "/api/reports", {
                requestId: L.requestId,
                reporterId: D.id,
                reporterType: "client",
                reportedUserId: Ct,
                reason: L.type,
                details: L.description
            })
        }
        ,
        onSuccess: () => {
            wt({
                title: "Signalement envoy",
                description: "Votre signalement a t envoy  l'quipe support"
            }),
            J(!1),
            Gt.reset()
        }
        ,
        onError: () => {
            wt({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du signalement"
            })
        }
    })
      , Zs = () => {
        p > 0 && k && Qt.mutate({
            requestId: k,
            rating: p
        })
    }
      , T = L => {
        pe(L),
        Gt.reset(),
        J(!0)
    }
      , I = L => {
        q && Ss.mutate({
            requestId: q,
            description: L.description,
            type: L.type
        })
    }
      , F = L => {
        G(L),
        B(""),
        A(!0)
    }
      , ae = async L => {
        var dr;
        const _e = (dr = L.target.files) == null ? void 0 : dr[0];
        if (!_e)
            return;
        if (!_e.type.startsWith("image/")) {
            wt({
                variant: "destructive",
                title: "Format non accept",
                description: "Veuillez tlverser une image"
            }),
            L.target.value = "";
            return
        }
        const Ct = 10 * 1024 * 1024;
        if (_e.size > Ct) {
            wt({
                variant: "destructive",
                title: "Fichier trop volumineux",
                description: "La taille maximale autorise est de 10 Mo"
            }),
            L.target.value = "";
            return
        }
        const Lt = new FileReader;
        Lt.onloadend = () => {
            B(Lt.result),
            wt({
                title: "Reu tlvers",
                description: "Le reu de paiement a t charg avec succs"
            })
        }
        ,
        Lt.onerror = vn => {
            console.error("FileReader error:", vn),
            wt({
                variant: "destructive",
                title: "Erreur de lecture",
                description: "Impossible de lire le fichier. Veuillez ressayer avec une autre image."
            }),
            L.target.value = ""
        }
        ,
        Lt.readAsDataURL(_e)
    }
      , re = () => {
        if (!R) {
            wt({
                variant: "destructive",
                title: "Erreur",
                description: "Veuillez tlverser le reu de paiement"
            });
            return
        }
        cr.mutate({
            requestId: z,
            receipt: R
        })
    }
      , Y = (L, _e, Ct) => {
        i({
            id: L,
            name: _e || "Transporteur",
            role: "transporter"
        }),
        l(Ct),
        s(!0)
    }
    ;
    if (ke)
        return r.jsx("div", {
            className: "min-h-screen flex items-center justify-center",
            children: r.jsx(Xa, {
                message: "Chargement de votre tableau de bord...",
                size: "lg"
            })
        });
    const se = de.filter(L => (L.status === "open" || L.status === "accepted") && L.paymentStatus !== "paid")
      , Oe = de.filter(L => L.status === "completed" || L.paymentStatus === "paid")
      , nt = de.filter(L => L.paymentStatus === "awaiting_payment");
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: D,
            onNewRequest: () => t(!0),
            onLogout: W
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Mes demandes"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Grez vos demandes de transport"
                })]
            }), e ? r.jsx(KL, {
                onSuccess: () => {
                    t(!1),
                    ye.invalidateQueries({
                        queryKey: ["/api/requests"]
                    })
                }
            }) : r.jsxs(rg, {
                defaultValue: "active",
                className: "w-full",
                children: [r.jsxs(pc, {
                    className: "grid w-full max-w-3xl grid-cols-3",
                    children: [r.jsxs($t, {
                        value: "active",
                        "data-testid": "tab-active",
                        children: [r.jsx(Ut, {
                            className: "mr-2 h-4 w-4"
                        }), "Actives"]
                    }), r.jsxs($t, {
                        value: "to-pay",
                        "data-testid": "tab-to-pay",
                        children: [r.jsx(Ls, {
                            className: "mr-2 h-4 w-4"
                        }), " payer (", nt.length, ")"]
                    }), r.jsx($t, {
                        value: "completed",
                        "data-testid": "tab-completed",
                        children: "Termines"
                    })]
                }), r.jsx(zt, {
                    value: "active",
                    className: "mt-6 space-y-6",
                    children: se.length > 0 ? se.map(L => r.jsx(c$, {
                        request: L,
                        users: Ye,
                        cities: at,
                        citiesLoading: ut,
                        currentUserId: D.id,
                        onAcceptOffer: Ve,
                        onDeclineOffer: $e,
                        onChat: Y,
                        onDelete: jt,
                        onViewTransporter: Ot,
                        onUpdateStatus: ln,
                        onReport: T
                    }, L.id)) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Ut, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Vous n'avez pas encore de demandes"
                        }), r.jsx(M, {
                            onClick: () => t(!0),
                            className: "mt-4",
                            children: "Crer une demande"
                        })]
                    })
                }), r.jsx(zt, {
                    value: "to-pay",
                    className: "mt-6",
                    children: nt.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Ls, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune commande  payer"
                        })]
                    }) : r.jsx("div", {
                        className: "space-y-4",
                        children: nt.map(L => (L.acceptedOfferId && Ye.find(_e => _e.role === "transporter"),
                        r.jsxs("div", {
                            className: "p-4 rounded-lg border space-y-4",
                            children: [r.jsx("div", {
                                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",
                                children: r.jsxs("div", {
                                    className: "flex-1",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1 flex-wrap",
                                        children: [r.jsx("p", {
                                            className: "font-semibold text-lg",
                                            children: L.referenceId
                                        }), r.jsx(he, {
                                            variant: "default",
                                            className: "bg-blue-600",
                                            children: " facturer"
                                        })]
                                    }), r.jsxs("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: [L.fromCity, "  ", L.toCity]
                                    })]
                                })
                            }), r.jsxs("div", {
                                className: "grid grid-cols-2 gap-4 text-sm",
                                children: [r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Type de marchandise"
                                    }), r.jsx("p", {
                                        className: "font-medium",
                                        children: L.goodsType
                                    })]
                                }), L.estimatedWeight && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Poids estim"
                                    }), r.jsx("p", {
                                        className: "font-medium",
                                        children: L.estimatedWeight
                                    })]
                                })]
                            }), L.description && r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Description"
                                }), r.jsx("p", {
                                    className: "text-sm",
                                    children: L.description
                                })]
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2 pt-2 border-t",
                                children: [L.acceptedOfferId && r.jsxs(M, {
                                    variant: "secondary",
                                    size: "sm",
                                    onClick: () => Ot(L.id),
                                    "data-testid": `button-view-transporter-payment-${L.id}`,
                                    className: "gap-2",
                                    children: [r.jsx(Qd, {
                                        className: "h-4 w-4"
                                    }), r.jsx("span", {
                                        className: "hidden sm:inline",
                                        children: "Infos transporteur"
                                    }), r.jsx("span", {
                                        className: "sm:hidden",
                                        children: "Infos"
                                    })]
                                }), r.jsxs(M, {
                                    variant: "default",
                                    size: "sm",
                                    onClick: () => F(L.id),
                                    className: "gap-2",
                                    "data-testid": `button-mark-paid-${L.id}`,
                                    children: [r.jsx(Hn, {
                                        className: "h-4 w-4"
                                    }), "Marquer comme pay"]
                                })]
                            })]
                        }, L.id)))
                    })
                }), r.jsx(zt, {
                    value: "completed",
                    className: "mt-6",
                    children: Oe.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Ut, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune demande termine"
                        })]
                    }) : r.jsx("div", {
                        className: "space-y-4",
                        children: Oe.map(L => r.jsx("div", {
                            className: "p-4 rounded-lg border space-y-3",
                            children: r.jsxs("div", {
                                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",
                                children: [r.jsxs("div", {
                                    className: "flex-1",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1 flex-wrap",
                                        children: [r.jsx("p", {
                                            className: "font-semibold",
                                            children: L.referenceId
                                        }), r.jsx(he, {
                                            variant: "default",
                                            className: "bg-gray-600",
                                            children: "Termine"
                                        })]
                                    }), r.jsxs("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: [L.fromCity, "  ", L.toCity]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [L.acceptedOfferId && r.jsxs(r.Fragment, {
                                        children: [r.jsxs(M, {
                                            variant: "secondary",
                                            size: "sm",
                                            onClick: () => Ot(L.id),
                                            "data-testid": `button-view-transporter-completed-${L.id}`,
                                            className: "gap-2",
                                            children: [r.jsx(Qd, {
                                                className: "h-4 w-4"
                                            }), r.jsx("span", {
                                                className: "hidden sm:inline",
                                                children: "Infos transporteur"
                                            }), r.jsx("span", {
                                                className: "sm:hidden",
                                                children: "Infos"
                                            })]
                                        }), r.jsxs(M, {
                                            variant: "secondary",
                                            size: "sm",
                                            onClick: () => ln(L.id, "republish"),
                                            "data-testid": `button-republish-completed-${L.id}`,
                                            className: "gap-2",
                                            children: [r.jsx(ap, {
                                                className: "h-4 w-4"
                                            }), "Republier"]
                                        })]
                                    }), r.jsxs(M, {
                                        variant: "destructive",
                                        size: "sm",
                                        onClick: () => T(L.id),
                                        "data-testid": `button-report-completed-${L.id}`,
                                        className: "gap-2",
                                        children: [r.jsx(mi, {
                                            className: "h-4 w-4"
                                        }), r.jsx("span", {
                                            className: "hidden sm:inline",
                                            children: "Signaler"
                                        })]
                                    }), r.jsx(M, {
                                        variant: "ghost",
                                        size: "icon",
                                        onClick: () => jt(L.id),
                                        "data-testid": `button-delete-completed-${L.id}`,
                                        className: "text-destructive hover:text-destructive",
                                        children: r.jsx(ts, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })]
                            })
                        }, L.id))
                    })
                })]
            })]
        }), a && r.jsx(Lg, {
            open: n,
            onClose: () => s(!1),
            otherUser: a,
            currentUserId: D.id,
            currentUserRole: "client",
            requestId: o
        }), r.jsx(No, {
            open: c,
            onOpenChange: d,
            children: r.jsxs(pi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xi, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-green-600 flex items-center justify-center",
                            children: r.jsx(Hn, {
                                className: "w-6 h-6 text-white"
                            })
                        }), r.jsx(vi, {
                            className: "text-xl",
                            children: "Offre accepte !"
                        })]
                    }), r.jsxs(yi, {
                        className: "space-y-4 text-base",
                        children: [r.jsxs("p", {
                            className: "text-foreground",
                            children: ["Le transporteur ", r.jsx("span", {
                                className: "font-semibold",
                                children: f == null ? void 0 : f.transporterName
                            }), " a t inform que vous avez choisi son offre."]
                        }), r.jsxs("div", {
                            className: "bg-primary/10 border border-primary/20 rounded-lg p-4",
                            children: [r.jsx("p", {
                                className: "font-medium text-foreground mb-2",
                                children: "Vous pouvez maintenant le contacter :"
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2 text-lg font-semibold text-primary",
                                children: [r.jsx($r, {
                                    className: "w-5 h-5"
                                }), r.jsx("a", {
                                    href: `tel:${f == null ? void 0 : f.transporterPhone}`,
                                    className: "hover:underline",
                                    children: f == null ? void 0 : f.transporterPhone
                                })]
                            })]
                        }), (f == null ? void 0 : f.total) && r.jsx("div", {
                            className: "text-sm border-t pt-3",
                            children: r.jsxs("p", {
                                className: "font-semibold text-foreground",
                                children: ["Total  payer : ", f.total.toFixed(2), " MAD"]
                            })
                        })]
                    })]
                }), r.jsx(gi, {
                    children: r.jsx(ji, {
                        className: "w-full",
                        "data-testid": "button-close-contact-dialog",
                        children: "J'ai compris"
                    })
                })]
            })
        }), r.jsx(No, {
            open: h,
            onOpenChange: g,
            children: r.jsxs(pi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xi, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-primary flex items-center justify-center",
                            children: r.jsx(Qd, {
                                className: "w-6 h-6 text-primary-foreground"
                            })
                        }), r.jsx(vi, {
                            className: "text-xl",
                            children: "Informations du transporteur"
                        })]
                    }), r.jsxs(yi, {
                        className: "space-y-4 text-base",
                        children: [r.jsxs("div", {
                            className: "space-y-3",
                            children: [r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Nom"
                                }), r.jsx("p", {
                                    className: "font-semibold text-foreground",
                                    children: (w == null ? void 0 : w.transporterName) || "Non disponible"
                                })]
                            }), (w == null ? void 0 : w.transporterCity) && r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Ville"
                                }), r.jsx("p", {
                                    className: "font-semibold text-foreground",
                                    children: w.transporterCity
                                })]
                            }), r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Tlphone"
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx($r, {
                                        className: "w-4 h-4 text-primary"
                                    }), r.jsx("a", {
                                        href: `tel:${w == null ? void 0 : w.transporterPhone}`,
                                        className: "font-semibold text-primary hover:underline",
                                        "data-testid": "link-transporter-phone",
                                        children: w == null ? void 0 : w.transporterPhone
                                    })]
                                })]
                            })]
                        }), (w == null ? void 0 : w.totalAmount) && r.jsx("div", {
                            className: "border-t pt-3",
                            children: r.jsxs("div", {
                                className: "flex justify-between",
                                children: [r.jsx("span", {
                                    className: "font-semibold text-foreground",
                                    children: "Montant"
                                }), r.jsxs("span", {
                                    className: "font-bold text-primary text-xl",
                                    children: [w.totalAmount.toFixed(2), " MAD"]
                                })]
                            })
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground italic",
                            children: "Vous pouvez contacter directement le transporteur pour finaliser les dtails du transport."
                        })]
                    })]
                }), r.jsx(gi, {
                    children: r.jsx(ji, {
                        className: "w-full",
                        "data-testid": "button-close-transporter-info",
                        children: "Fermer"
                    })
                })]
            })
        }), r.jsx(No, {
            open: y,
            onOpenChange: v,
            children: r.jsxs(pi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xi, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-yellow-500 flex items-center justify-center",
                            children: r.jsx(Bs, {
                                className: "w-6 h-6 text-white fill-white"
                            })
                        }), r.jsx(vi, {
                            className: "text-xl",
                            children: "valuer le transporteur"
                        })]
                    }), r.jsxs(yi, {
                        className: "space-y-6 text-base",
                        children: [r.jsx("p", {
                            className: "text-foreground text-center",
                            children: "Merci d'valuer le transporteur pour cette commande."
                        }), r.jsx("div", {
                            className: "flex justify-center items-center gap-2",
                            children: [1, 2, 3, 4, 5].map(L => r.jsx("button", {
                                type: "button",
                                onClick: () => j(L),
                                onMouseEnter: () => S(L),
                                onMouseLeave: () => S(0),
                                className: "p-1 hover-elevate active-elevate-2",
                                "data-testid": `button-star-${L}`,
                                children: r.jsx(Bs, {
                                    className: `w-10 h-10 ${L <= (N || p) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"} transition-colors`
                                })
                            }, L))
                        }), p > 0 && r.jsxs("p", {
                            className: "text-center text-sm text-muted-foreground",
                            children: ["Note slectionne : ", p, " ", p === 1 ? "toile" : "toiles"]
                        })]
                    })]
                }), r.jsxs(gi, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(Ic, {
                        onClick: () => v(!1),
                        "data-testid": "button-cancel-rating",
                        children: "Annuler"
                    }), r.jsx(ji, {
                        onClick: Zs,
                        disabled: p === 0 || Qt.isPending,
                        className: "bg-yellow-500 hover:bg-yellow-600 text-white",
                        "data-testid": "button-submit-rating",
                        children: Qt.isPending ? "Enregistrement..." : "Valider la note"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: E,
            onOpenChange: A,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Confirmer le paiement"
                    }), r.jsxs(Rt, {
                        className: "space-y-4 pt-4",
                        children: [r.jsxs("div", {
                            className: "p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800 space-y-3",
                            children: [r.jsx("p", {
                                className: "text-sm font-medium text-blue-900 dark:text-blue-100",
                                children: "Merci d'effectuer le virement sur le compte suivant :"
                            }), r.jsxs("div", {
                                className: "space-y-1",
                                children: [r.jsxs("p", {
                                    className: "text-sm text-blue-800 dark:text-blue-200",
                                    children: [r.jsx("span", {
                                        className: "font-semibold",
                                        children: "RIB :"
                                    }), " 011815000005210001099713"]
                                }), r.jsxs("p", {
                                    className: "text-sm text-blue-800 dark:text-blue-200",
                                    children: [r.jsx("span", {
                                        className: "font-semibold",
                                        children: " l'ordre de :"
                                    }), " CamionBack"]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(bn, {
                                htmlFor: "receipt-upload",
                                className: "text-sm font-medium",
                                children: ["Reu de paiement ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "Veuillez tlverser votre reu de paiement (formats accepts : JPEG, PNG, WebP - max. 5 Mo)."
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [r.jsxs(M, {
                                    type: "button",
                                    variant: "outline",
                                    onClick: () => {
                                        var L;
                                        return (L = document.getElementById("receipt-upload")) == null ? void 0 : L.click()
                                    }
                                    ,
                                    className: "w-full gap-2",
                                    "data-testid": "button-upload-receipt",
                                    children: [r.jsx(wf, {
                                        className: "w-4 h-4"
                                    }), R ? "Reu tlvers" : "Tlverser le reu"]
                                }), r.jsx("input", {
                                    id: "receipt-upload",
                                    type: "file",
                                    accept: "image/*",
                                    onChange: ae,
                                    className: "hidden",
                                    "data-testid": "input-receipt-upload"
                                })]
                            }), R && r.jsx("div", {
                                className: "mt-2",
                                children: r.jsx("img", {
                                    src: R,
                                    alt: "Reu de paiement",
                                    className: "w-full h-40 object-cover rounded-lg border"
                                })
                            })]
                        })]
                    })]
                }), r.jsxs(xs, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(M, {
                        type: "button",
                        variant: "outline",
                        onClick: () => A(!1),
                        "data-testid": "button-cancel-payment",
                        children: "Annuler"
                    }), r.jsx(M, {
                        type: "button",
                        onClick: re,
                        disabled: !R || cr.isPending,
                        "data-testid": "button-confirm-payment",
                        children: cr.isPending ? "Envoi en cours..." : "Confirmer le paiement"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: U,
            onOpenChange: J,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Signaler un problme"
                    }), r.jsx(Rt, {
                        children: "Dcrivez le problme rencontr avec cette commande."
                    })]
                }), r.jsx(Ua, {
                    ...Gt,
                    children: r.jsxs("form", {
                        onSubmit: Gt.handleSubmit(I),
                        className: "space-y-4",
                        children: [r.jsx(ot, {
                            control: Gt.control,
                            name: "type",
                            render: ({field: L}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Type de problme ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Jt, {
                                    onValueChange: L.onChange,
                                    value: L.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-report-type",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionnez un type"
                                            })
                                        })
                                    }), r.jsxs(qt, {
                                        children: [r.jsx(Ae, {
                                            value: "service",
                                            children: "Problme de service"
                                        }), r.jsx(Ae, {
                                            value: "payment",
                                            children: "Problme de paiement"
                                        }), r.jsx(Ae, {
                                            value: "communication",
                                            children: "Problme de communication"
                                        }), r.jsx(Ae, {
                                            value: "quality",
                                            children: "Problme de qualit"
                                        }), r.jsx(Ae, {
                                            value: "damage",
                                            children: "Marchandises endommages"
                                        }), r.jsx(Ae, {
                                            value: "delay",
                                            children: "Retard de livraison"
                                        }), r.jsx(Ae, {
                                            value: "other",
                                            children: "Autre"
                                        })]
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: Gt.control,
                            name: "description",
                            render: ({field: L}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Description dtaille ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(st, {
                                    children: r.jsx(Va, {
                                        placeholder: "Dcrivez en dtail le problme rencontr...",
                                        className: "resize-none h-32",
                                        "data-testid": "textarea-report-description",
                                        ...L
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsxs(xs, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(M, {
                                type: "button",
                                variant: "outline",
                                onClick: () => J(!1),
                                "data-testid": "button-cancel-report",
                                children: "Annuler"
                            }), r.jsx(M, {
                                type: "submit",
                                disabled: Ss.isPending,
                                "data-testid": "button-submit-report",
                                children: Ss.isPending ? "Envoi en cours..." : "Envoyer le signalement"
                            })]
                        })]
                    })
                })]
            })
        })]
    })
}
const d$ = Kc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground", {
    variants: {
        variant: {
            default: "bg-background text-foreground",
            destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"
        }
    },
    defaultVariants: {
        variant: "default"
    }
})
  , Zu = u.forwardRef( ({className: e, variant: t, ...n}, s) => r.jsx("div", {
    ref: s,
    role: "alert",
    className: le(d$({
        variant: t
    }), e),
    ...n
}));
Zu.displayName = "Alert";
const u$ = u.forwardRef( ({className: e, ...t}, n) => r.jsx("h5", {
    ref: n,
    className: le("mb-1 font-medium leading-none tracking-tight", e),
    ...t
}));
u$.displayName = "AlertTitle";
const Yu = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: le("text-sm [&_p]:leading-relaxed", e),
    ...t
}));
Yu.displayName = "AlertDescription";
function Zk({open: e, onClose: t, photos: n, referenceId: s}) {
    const [a,i] = u.useState(0)
      , [o,l] = u.useState(!1);
    if (!n || n.length === 0)
        return null;
    const c = () => {
        i(h => h === 0 ? n.length - 1 : h - 1)
    }
      , d = () => {
        i(h => h === n.length - 1 ? 0 : h + 1)
    }
      , f = () => {
        l(!0)
    }
      , m = () => {
        l(!1)
    }
    ;
    return r.jsxs(yt, {
        open: e,
        onOpenChange: t,
        children: [r.jsxs(pt, {
            className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] p-0 overflow-hidden",
            "data-testid": "dialog-photo-gallery",
            children: [r.jsx(xt, {
                className: "p-4 sm:p-6 pb-3 sm:pb-4",
                children: r.jsxs(gt, {
                    className: "text-base sm:text-lg",
                    children: ["Photos du chargement  Commande ", s]
                })
            }), r.jsxs("div", {
                className: "relative px-4 sm:px-6 pb-4 sm:pb-6",
                children: [r.jsxs("div", {
                    className: "relative aspect-video bg-muted rounded-lg overflow-hidden",
                    children: [r.jsx("img", {
                        src: n[a],
                        alt: `Photo ${a + 1}`,
                        className: "w-full h-full object-cover sm:object-contain cursor-pointer",
                        onClick: f,
                        "data-testid": `img-gallery-${a}`
                    }), n.length > 1 && r.jsxs(r.Fragment, {
                        children: [r.jsx(M, {
                            variant: "ghost",
                            size: "icon",
                            className: "absolute left-1 sm:left-2 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background h-8 w-8 sm:h-10 sm:w-10",
                            onClick: c,
                            "data-testid": "button-previous-photo",
                            children: r.jsx(np, {
                                className: "h-5 w-5 sm:h-6 sm:w-6"
                            })
                        }), r.jsx(M, {
                            variant: "ghost",
                            size: "icon",
                            className: "absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background h-8 w-8 sm:h-10 sm:w-10",
                            onClick: d,
                            "data-testid": "button-next-photo",
                            children: r.jsx(ku, {
                                className: "h-5 w-5 sm:h-6 sm:w-6"
                            })
                        }), r.jsxs("div", {
                            className: "absolute bottom-2 sm:bottom-4 left-1/2 -translate-x-1/2 bg-background/90 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",
                            children: [a + 1, " / ", n.length]
                        })]
                    })]
                }), r.jsx("div", {
                    className: "mt-3 sm:mt-4 flex gap-2 overflow-x-auto pb-2",
                    children: n.map( (h, g) => r.jsx("button", {
                        onClick: () => i(g),
                        className: `relative w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 border-2 transition-colors ${g === a ? "border-primary" : "border-transparent"}`,
                        "data-testid": `button-thumbnail-${g}`,
                        children: r.jsx("img", {
                            src: h,
                            alt: `Miniature ${g + 1}`,
                            className: "w-full h-full object-cover"
                        })
                    }, g))
                })]
            })]
        }), o && r.jsxs("div", {
            className: "fixed inset-0 z-[100] bg-black/95 flex items-center justify-center",
            onClick: m,
            "data-testid": "fullscreen-overlay",
            children: [r.jsx(M, {
                variant: "ghost",
                size: "icon",
                className: "absolute top-4 right-4 text-white hover:bg-white/20 h-10 w-10",
                onClick: m,
                "data-testid": "button-close-fullscreen",
                children: r.jsx(rl, {
                    className: "h-6 w-6"
                })
            }), n.length > 1 && r.jsxs(r.Fragment, {
                children: [r.jsx(M, {
                    variant: "ghost",
                    size: "icon",
                    className: "absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12",
                    onClick: h => {
                        h.stopPropagation(),
                        c()
                    }
                    ,
                    "data-testid": "button-fullscreen-previous",
                    children: r.jsx(np, {
                        className: "h-8 w-8"
                    })
                }), r.jsx(M, {
                    variant: "ghost",
                    size: "icon",
                    className: "absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12",
                    onClick: h => {
                        h.stopPropagation(),
                        d()
                    }
                    ,
                    "data-testid": "button-fullscreen-next",
                    children: r.jsx(ku, {
                        className: "h-8 w-8"
                    })
                }), r.jsxs("div", {
                    className: "absolute bottom-8 left-1/2 -translate-x-1/2 bg-white/90 px-4 py-2 rounded-full text-sm font-medium",
                    children: [a + 1, " / ", n.length]
                })]
            }), r.jsx("img", {
                src: n[a],
                alt: `Photo ${a + 1} en plein cran`,
                className: "max-w-[95vw] max-h-[95vh] object-contain",
                onClick: h => h.stopPropagation(),
                "data-testid": "img-fullscreen"
            })]
        })]
    })
}
function f$({request: e, onMakeOffer: t, showOfferButton: n=!0, userStatus: s, offerCount: a, onDecline: i, onTrackView: o}) {
    const [l,c] = u.useState(!1)
      , [d,f] = u.useState(!1)
      , m = u.useRef(!1)
      , h = typeof e.dateTime == "string" ? new Date(e.dateTime) : e.dateTime
      , g = e.createdAt ? typeof e.createdAt == "string" ? new Date(e.createdAt) : e.createdAt : null
      , w = s === "validated"
      , x = () => {
        w ? t(e.id) : f(!0)
    }
      , y = () => {
        c(!0)
    }
    ;
    return u.useEffect( () => {
        o && !m.current && (m.current = !0,
        o())
    }
    , [e.id, o]),
    r.jsxs(r.Fragment, {
        children: [r.jsxs(ce, {
            className: "overflow-hidden hover-elevate",
            children: [r.jsxs(ue, {
                className: "p-4 space-y-3",
                children: [r.jsxs("div", {
                    className: "flex items-start justify-between gap-2",
                    children: [r.jsxs("div", {
                        children: [r.jsx(he, {
                            variant: "outline",
                            className: "mb-2",
                            "data-testid": `text-reference-${e.id}`,
                            children: e.referenceId
                        }), r.jsx("h3", {
                            className: "font-semibold text-lg mb-1",
                            children: e.goodsType
                        })]
                    }), e.status === "open" && r.jsx(he, {
                        variant: "default",
                        className: "bg-green-600",
                        children: "Disponible"
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center gap-2 text-sm",
                    children: [r.jsx(Mr, {
                        className: "w-4 h-4 text-primary flex-shrink-0"
                    }), r.jsx("span", {
                        className: "font-medium truncate",
                        children: e.fromCity
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: ""
                    }), r.jsx("span", {
                        className: "font-medium truncate",
                        children: e.toCity
                    })]
                }), r.jsx("p", {
                    className: "text-sm text-muted-foreground line-clamp-2",
                    children: e.description
                }), r.jsxs("div", {
                    className: "grid grid-cols-2 gap-3 text-sm",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(hs, {
                            className: "w-4 h-4 text-muted-foreground"
                        }), r.jsx("span", {
                            className: "truncate",
                            children: Ur(h, "d MMM yyyy", {
                                locale: Wr
                            })
                        })]
                    }), e.estimatedWeight && r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(Ut, {
                            className: "w-4 h-4 text-muted-foreground"
                        }), r.jsx("span", {
                            className: "truncate",
                            children: e.estimatedWeight
                        })]
                    })]
                }), e.budget && r.jsxs("div", {
                    className: "flex items-center gap-2 text-primary font-semibold",
                    children: [r.jsx(Hl, {
                        className: "w-4 h-4"
                    }), r.jsxs("span", {
                        children: ["Budget: ", e.budget]
                    })]
                }), r.jsxs("div", {
                    className: "grid grid-cols-2 gap-2 text-xs text-muted-foreground",
                    children: [a !== void 0 && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(ia, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: [a, " offre", a > 1 ? "s" : ""]
                        })]
                    }), e.viewCount !== void 0 && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(is, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: [e.viewCount, " vue", e.viewCount > 1 ? "s" : ""]
                        })]
                    }), e.dateFlexible !== void 0 && e.dateFlexible !== null && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(hs, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Date flexible : ", e.dateFlexible ? "Oui" : "Non"]
                        })]
                    }), e.invoiceRequired !== void 0 && e.invoiceRequired !== null && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(ia, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Facture TTC : ", e.invoiceRequired ? "Oui" : "Non"]
                        })]
                    }), g && r.jsxs("div", {
                        className: "flex items-center gap-1 col-span-2",
                        children: [r.jsx(hs, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Cre le ", Ur(g, "d MMM", {
                                locale: Wr
                            })]
                        })]
                    })]
                }), e.photos && e.photos.length > 0 && r.jsxs(M, {
                    variant: "outline",
                    size: "sm",
                    onClick: y,
                    className: "w-full gap-2",
                    "data-testid": `button-view-photos-${e.id}`,
                    children: [r.jsx(Eu, {
                        className: "w-4 h-4"
                    }), "Voir les photos (", e.photos.length, ")"]
                }), d && !w && r.jsxs(Zu, {
                    variant: "destructive",
                    children: [r.jsx(Ix, {
                        className: "h-4 w-4"
                    }), r.jsx(Yu, {
                        children: "Votre compte est en cours de validation par l'quipe CamionBack. Vous pourrez soumettre des offres ds que votre profil sera approuv."
                    })]
                })]
            }), n && e.status === "open" && r.jsxs(Xx, {
                className: "p-4 pt-0 flex flex-row gap-2",
                children: [i && r.jsxs(M, {
                    onClick: () => i(e.id),
                    className: "flex-1 bg-red-600 hover:bg-red-700",
                    variant: "destructive",
                    "data-testid": `button-decline-${e.id}`,
                    children: [r.jsx(rl, {
                        className: "w-4 h-4 mr-1"
                    }), "Dcliner"]
                }), r.jsx(M, {
                    onClick: x,
                    className: "flex-1",
                    variant: w ? "default" : "secondary",
                    "data-testid": `button-make-offer-${e.id}`,
                    children: "Faire une offre"
                })]
            })]
        }), r.jsx(Zk, {
            open: l,
            onClose: () => c(!1),
            photos: e.photos || [],
            referenceId: e.referenceId
        })]
    })
}
var Fg = "Radio"
  , [m$,Yk] = En(Fg)
  , [h$,p$] = m$(Fg)
  , Xk = u.forwardRef( (e, t) => {
    const {__scopeRadio: n, name: s, checked: a=!1, required: i, disabled: o, value: l="on", onCheck: c, form: d, ...f} = e
      , [m,h] = u.useState(null)
      , g = He(t, y => h(y))
      , w = u.useRef(!1)
      , x = m ? d || !!m.closest("form") : !0;
    return r.jsxs(h$, {
        scope: n,
        checked: a,
        disabled: o,
        children: [r.jsx(Ce.button, {
            type: "button",
            role: "radio",
            "aria-checked": a,
            "data-state": t2(a),
            "data-disabled": o ? "" : void 0,
            disabled: o,
            value: l,
            ...f,
            ref: g,
            onClick: ne(e.onClick, y => {
                a || c == null || c(),
                x && (w.current = y.isPropagationStopped(),
                w.current || y.stopPropagation())
            }
            )
        }), x && r.jsx(x$, {
            control: m,
            bubbles: !w.current,
            name: s,
            value: l,
            checked: a,
            required: i,
            disabled: o,
            form: d,
            style: {
                transform: "translateX(-100%)"
            }
        })]
    })
}
);
Xk.displayName = Fg;
var Jk = "RadioIndicator"
  , e2 = u.forwardRef( (e, t) => {
    const {__scopeRadio: n, forceMount: s, ...a} = e
      , i = p$(Jk, n);
    return r.jsx(gn, {
        present: s || i.checked,
        children: r.jsx(Ce.span, {
            "data-state": t2(i.checked),
            "data-disabled": i.disabled ? "" : void 0,
            ...a,
            ref: t
        })
    })
}
);
e2.displayName = Jk;
var x$ = e => {
    const {control: t, checked: n, bubbles: s=!0, ...a} = e
      , i = u.useRef(null)
      , o = _g(n)
      , l = Wx(t);
    return u.useEffect( () => {
        const c = i.current
          , d = window.HTMLInputElement.prototype
          , m = Object.getOwnPropertyDescriptor(d, "checked").set;
        if (o !== n && m) {
            const h = new Event("click",{
                bubbles: s
            });
            m.call(c, n),
            c.dispatchEvent(h)
        }
    }
    , [o, n, s]),
    r.jsx("input", {
        type: "radio",
        "aria-hidden": !0,
        defaultChecked: n,
        ...a,
        tabIndex: -1,
        ref: i,
        style: {
            ...e.style,
            ...l,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
}
;
function t2(e) {
    return e ? "checked" : "unchecked"
}
var g$ = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"]
  , $g = "RadioGroup"
  , [v$,l5] = En($g, [cl, Yk])
  , n2 = cl()
  , r2 = Yk()
  , [y$,j$] = v$($g)
  , s2 = u.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, name: s, defaultValue: a, value: i, required: o=!1, disabled: l=!1, orientation: c, dir: d, loop: f=!0, onValueChange: m, ...h} = e
      , g = n2(n)
      , w = ll(d)
      , [x,y] = vs({
        prop: i,
        defaultProp: a,
        onChange: m
    });
    return r.jsx(y$, {
        scope: n,
        name: s,
        required: o,
        disabled: l,
        value: x,
        onValueChange: y,
        children: r.jsx(Jx, {
            asChild: !0,
            ...g,
            orientation: c,
            dir: w,
            loop: f,
            children: r.jsx(Ce.div, {
                role: "radiogroup",
                "aria-required": o,
                "aria-orientation": c,
                "data-disabled": l ? "" : void 0,
                dir: w,
                ...h,
                ref: t
            })
        })
    })
}
);
s2.displayName = $g;
var a2 = "RadioGroupItem"
  , i2 = u.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, disabled: s, ...a} = e
      , i = j$(a2, n)
      , o = i.disabled || s
      , l = n2(n)
      , c = r2(n)
      , d = u.useRef(null)
      , f = He(t, d)
      , m = i.value === a.value
      , h = u.useRef(!1);
    return u.useEffect( () => {
        const g = x => {
            g$.includes(x.key) && (h.current = !0)
        }
          , w = () => h.current = !1;
        return document.addEventListener("keydown", g),
        document.addEventListener("keyup", w),
        () => {
            document.removeEventListener("keydown", g),
            document.removeEventListener("keyup", w)
        }
    }
    , []),
    r.jsx(eg, {
        asChild: !0,
        ...l,
        focusable: !o,
        active: m,
        children: r.jsx(Xk, {
            disabled: o,
            required: i.required,
            checked: m,
            ...c,
            ...a,
            name: i.name,
            ref: f,
            onCheck: () => i.onValueChange(a.value),
            onKeyDown: ne(g => {
                g.key === "Enter" && g.preventDefault()
            }
            ),
            onFocus: ne(a.onFocus, () => {
                var g;
                h.current && ((g = d.current) == null || g.click())
            }
            )
        })
    })
}
);
i2.displayName = a2;
var w$ = "RadioGroupIndicator"
  , o2 = u.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, ...s} = e
      , a = r2(n);
    return r.jsx(e2, {
        ...a,
        ...s,
        ref: t
    })
}
);
o2.displayName = w$;
var l2 = s2
  , c2 = i2
  , b$ = o2;
const d2 = u.forwardRef( ({className: e, ...t}, n) => r.jsx(l2, {
    className: le("grid gap-2", e),
    ...t,
    ref: n
}));
d2.displayName = l2.displayName;
const _p = u.forwardRef( ({className: e, ...t}, n) => r.jsx(c2, {
    ref: n,
    className: le("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", e),
    ...t,
    children: r.jsx(b$, {
        className: "flex items-center justify-center",
        children: r.jsx(Kb, {
            className: "h-2.5 w-2.5 fill-current text-current"
        })
    })
}));
_p.displayName = c2.displayName;
const N$ = We.object({
    amount: We.string().min(1, "Montant requis").refine(e => !isNaN(Number(e)) && Number(e) > 0, {
        message: "Montant invalide"
    }),
    pickupDate: We.string().min(1, "Date de prise en charge requise"),
    loadType: We.enum(["return", "shared"], {
        required_error: "Type de chargement requis"
    })
});
function S$({open: e, onClose: t, requestId: n, onSuccess: s}) {
    const {toast: a} = on()
      , i = Da({
        resolver: Oa(N$),
        defaultValues: {
            amount: "",
            pickupDate: "",
            loadType: void 0
        }
    })
      , o = async l => {
        try {
            const c = JSON.parse(localStorage.getItem("camionback_user") || "{}")
              , d = await fetch("/api/offers", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    requestId: n,
                    transporterId: c.id,
                    amount: l.amount,
                    pickupDate: l.pickupDate,
                    loadType: l.loadType
                })
            });
            if (!d.ok) {
                if (d.status === 409) {
                    const f = await d.json();
                    a({
                        variant: "destructive",
                        title: "Offre dj soumise",
                        description: f.error || "Vous avez dj soumis une offre pour cette demande"
                    }),
                    t();
                    return
                }
                throw new Error
            }
            a({
                title: "Offre envoye",
                description: "Votre offre a t envoye au client avec succs"
            }),
            i.reset(),
            t(),
            s == null || s()
        } catch {
            a({
                variant: "destructive",
                title: "Erreur",
                description: "chec d'envoi de l'offre"
            })
        }
    }
    ;
    return r.jsx(yt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(pt, {
            className: "sm:max-w-md",
            children: [r.jsx(xt, {
                children: r.jsx(gt, {
                    className: "text-xl",
                    children: "Faire une offre"
                })
            }), r.jsx(Ua, {
                ...i,
                children: r.jsxs("form", {
                    onSubmit: i.handleSubmit(o),
                    className: "space-y-6",
                    children: [r.jsx(ot, {
                        control: i.control,
                        name: "amount",
                        render: ({field: l}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Montant (MAD)"
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    type: "number",
                                    placeholder: "500",
                                    "data-testid": "input-offer-amount",
                                    ...l
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: i.control,
                        name: "pickupDate",
                        render: ({field: l}) => r.jsxs(et, {
                            children: [r.jsxs(Je, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(hs, {
                                    className: "w-4 h-4"
                                }), "Date de prise en charge"]
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    type: "date",
                                    "data-testid": "input-offer-pickup-date",
                                    ...l
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: i.control,
                        name: "loadType",
                        render: ({field: l}) => r.jsxs(et, {
                            children: [r.jsxs(Je, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Xt, {
                                    className: "w-4 h-4"
                                }), "Type de chargement"]
                            }), r.jsx(st, {
                                children: r.jsxs(d2, {
                                    onValueChange: l.onChange,
                                    value: l.value,
                                    className: "flex flex-col space-y-2",
                                    "data-testid": "radio-group-load-type",
                                    children: [r.jsxs(et, {
                                        className: "flex items-center space-x-3 space-y-0",
                                        children: [r.jsx(st, {
                                            children: r.jsx(_p, {
                                                value: "return",
                                                "data-testid": "radio-load-type-return"
                                            })
                                        }), r.jsx(Je, {
                                            className: "font-normal cursor-pointer",
                                            children: "Retour (camion vide qui rentre)"
                                        })]
                                    }), r.jsxs(et, {
                                        className: "flex items-center space-x-3 space-y-0",
                                        children: [r.jsx(st, {
                                            children: r.jsx(_p, {
                                                value: "shared",
                                                "data-testid": "radio-load-type-shared"
                                            })
                                        }), r.jsx(Je, {
                                            className: "font-normal cursor-pointer",
                                            children: "Groupage / Partag"
                                        })]
                                    })]
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "flex gap-3",
                        children: [r.jsx(M, {
                            type: "button",
                            variant: "outline",
                            onClick: t,
                            className: "flex-1",
                            "data-testid": "button-cancel-offer",
                            children: "Annuler"
                        }), r.jsx(M, {
                            type: "submit",
                            className: "flex-1",
                            "data-testid": "button-submit-offer",
                            children: "Envoyer l'offre"
                        })]
                    })]
                })
            })]
        })
    })
}
const C$ = We.object({
    description: We.string().min(10, "Description minimale: 10 caractres"),
    type: We.string().min(1, "Type de problme requis")
})
  , k$ = We.object({
    amount: We.coerce.number().min(1, "Le montant doit tre suprieur  0"),
    pickupDate: We.string().min(1, "Date de prise en charge requise"),
    loadType: We.enum(["return", "shared"], {
        required_error: "Type de chargement requis"
    })
});
function u2() {
    Zn();
    const [e,t] = u.useState("Toutes les villes")
      , [n,s] = u.useState("")
      , [a,i] = u.useState(!1)
      , [o,l] = u.useState("")
      , [c,d] = u.useState(!1)
      , [f,m] = u.useState(null)
      , [h,g] = u.useState("")
      , [w,x] = u.useState(!1)
      , [y,v] = u.useState([])
      , [p,j] = u.useState("")
      , [N,S] = u.useState(!1)
      , [k,C] = u.useState(null)
      , [E,A] = u.useState(!1)
      , [z,G] = u.useState("")
      , [R,B] = u.useState("")
      , [U,J] = u.useState("")
      , [q,pe] = u.useState(!1)
      , [D,V] = u.useState("")
      , [W,de] = u.useState(!1)
      , [ke,Ye] = u.useState(null)
      , [at,ut] = u.useState(!1)
      , [we,$] = u.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    u.useEffect( () => {
        const O = async () => {
            try {
                const Se = await fetch(`/api/auth/me/${we.id}`);
                if (Se.ok) {
                    const {user: bt} = await Se.json();
                    localStorage.setItem("camionback_user", JSON.stringify(bt)),
                    $(bt)
                } else
                    Se.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (Se) {
                console.error("Failed to refresh user data:", Se)
            }
        }
        ;
        we.id && O()
    }
    , [we.id]),
    u.useEffect( () => {
        ke && W && nt.reset({
            amount: ke.amount.toString(),
            pickupDate: ke.pickupDate ? new Date(ke.pickupDate).toISOString().split("T")[0] : "",
            loadType: ke.loadType || "return"
        })
    }
    , [ke, W]);
    const te = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , Ie = () => {
        we.status === "validated" ? A(!0) : ut(!0)
    }
      , {data: Le=[], isLoading: Ve} = Ge({
        queryKey: ["/api/requests", we.id],
        queryFn: async () => (await fetch(`/api/requests?status=open&transporterId=${we.id}`)).json()
    })
      , {data: $e=[], isLoading: jt} = Ge({
        queryKey: ["/api/offers", we.id],
        queryFn: async () => (await fetch(`/api/offers?transporterId=${we.id}`)).json(),
        refetchInterval: 5e3
    })
      , {data: Ot=[]} = Ge({
        queryKey: ["/api/requests/all"],
        queryFn: async () => (await fetch("/api/requests")).json()
    })
      , {data: ln=[]} = Ge({
        queryKey: ["/api/users"],
        queryFn: async () => (await fetch("/api/users")).json()
    })
      , {data: Qt=[], isLoading: wt} = Ge({
        queryKey: ["/api/requests/accepted", we.id],
        queryFn: async () => (await fetch(`/api/requests?accepted=true&transporterId=${we.id}`)).json(),
        refetchInterval: 5e3
    })
      , cr = O => {
        l(O),
        i(!0)
    }
      , Gt = (O, Se, bt) => {
        if (!bt) {
            console.error("Cannot open chat: requestId is missing");
            return
        }
        m({
            id: O,
            name: Se || "Client",
            role: "client"
        }),
        g(bt),
        d(!0)
    }
      , Ss = (O, Se) => {
        v(O),
        j(Se),
        x(!0)
    }
      , Zs = O => {
        const Se = ln.find(bt => bt.id === O.clientId);
        C({
            ...O,
            clientId: Se == null ? void 0 : Se.clientId,
            clientPhone: Se == null ? void 0 : Se.phoneNumber,
            clientCity: Se == null ? void 0 : Se.city
        }),
        S(!0)
    }
      , {data: T=[], isLoading: I} = Ge({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , {toast: F} = on()
      , ae = Xe({
        mutationFn: async O => await ze("POST", `/api/requests/${O}/mark-for-billing`, {
            transporterId: we.id
        }),
        onSuccess: () => {
            F({
                title: "Succs",
                description: "La commande a t marque comme  facturer"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests/accepted"]
            })
        }
        ,
        onError: () => {
            F({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la mise  jour"
            })
        }
    })
      , re = Xe({
        mutationFn: async O => await ze("POST", `/api/requests/${O}/decline`, {
            transporterId: we.id
        }),
        onSuccess: () => {
            F({
                title: "Commande masque",
                description: "Cette commande ne sera plus affiche"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            F({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'opration"
            })
        }
    })
      , Y = Xe({
        mutationFn: async O => await ze("POST", `/api/requests/${O}/track-view`, {})
    })
      , se = Xe({
        mutationFn: async O => await ze("POST", "/api/empty-returns", {
            transporterId: we.id,
            ...O
        }),
        onSuccess: () => {
            F({
                title: "Succs",
                description: "Votre retour  vide a t annonc"
            }),
            A(!1),
            G(""),
            B(""),
            J("")
        }
        ,
        onError: () => {
            F({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'annonce du retour"
            })
        }
    })
      , Oe = Da({
        resolver: Oa(C$),
        defaultValues: {
            description: "",
            type: ""
        }
    })
      , nt = Da({
        resolver: Oa(k$),
        defaultValues: {
            amount: "",
            pickupDate: "",
            loadType: "return"
        }
    })
      , L = Xe({
        mutationFn: async O => await ze("PATCH", `/api/offers/${O.offerId}`, {
            amount: O.amount,
            pickupDate: O.pickupDate,
            loadType: O.loadType
        }),
        onSuccess: () => {
            F({
                title: "Offre modifie",
                description: "Votre offre a t mise  jour avec succs"
            }),
            de(!1),
            nt.reset(),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            F({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la modification de l'offre"
            })
        }
    })
      , _e = Xe({
        mutationFn: async O => {
            const Se = [...Le, ...Qt].find(Fn => Fn.id === O.requestId)
              , bt = (Se == null ? void 0 : Se.clientId) || "";
            return await ze("POST", "/api/reports", {
                requestId: O.requestId,
                reporterId: we.id,
                reporterType: "transporter",
                reportedUserId: bt,
                reason: O.type,
                details: O.description
            })
        }
        ,
        onSuccess: () => {
            F({
                title: "Signalement envoy",
                description: "Votre signalement a t envoy  l'quipe support"
            }),
            pe(!1),
            Oe.reset()
        }
        ,
        onError: () => {
            F({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du signalement"
            })
        }
    })
      , Ct = O => {
        V(O),
        Oe.reset(),
        pe(!0)
    }
      , Lt = O => {
        D && _e.mutate({
            requestId: D,
            description: O.description,
            type: O.type
        })
    }
      , dr = O => {
        confirm("Voulez-vous vraiment masquer cette commande ? Elle ne sera plus visible dans votre liste.") && re.mutate(O)
    }
      , vn = Le.filter(O => {
        const Se = !O.declinedBy || !O.declinedBy.includes(we.id)
          , bt = e === "Toutes les villes" || O.fromCity === e || O.toCity === e
          , Fn = n === "" || O.description.toLowerCase().includes(n.toLowerCase()) || O.goodsType.toLowerCase().includes(n.toLowerCase());
        return Se && bt && Fn
    }
    ).sort( (O, Se) => new Date(Se.createdAt).getTime() - new Date(O.createdAt).getTime())
      , Zr = $e.reduce( (O, Se) => (O[Se.requestId] = (O[Se.requestId] || 0) + 1,
    O), {});
    return Ve || jt ? r.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: r.jsxs("div", {
            className: "text-center",
            children: [r.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"
            }), r.jsx("p", {
                className: "text-muted-foreground",
                children: "Chargement..."
            })]
        })
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: we,
            onAnnounceReturn: Ie,
            onLogout: te
        }), we.status === "pending" && r.jsx("div", {
            className: "bg-amber-50 dark:bg-amber-950/30 border-l-4 border-amber-500 p-4 mx-4 mt-4",
            children: r.jsxs("div", {
                className: "flex items-start gap-3",
                children: [r.jsx(rp, {
                    className: "w-5 h-5 text-amber-600 dark:text-amber-500 mt-0.5 flex-shrink-0"
                }), r.jsxs("div", {
                    children: [r.jsx("h3", {
                        className: "font-semibold text-amber-900 dark:text-amber-100",
                        children: "Compte en cours de validation"
                    }), r.jsx("p", {
                        className: "text-sm text-amber-800 dark:text-amber-200 mt-1",
                        children: "Votre compte est en cours de validation par l'quipe CamionBack. Vous serez notifi ds son approbation et pourrez alors accder  toutes les fonctionnalits."
                    })]
                })]
            })
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Tableau de bord"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Trouvez des demandes de transport"
                })]
            }), r.jsxs(rg, {
                defaultValue: "available",
                className: "w-full",
                children: [r.jsxs(pc, {
                    className: "grid w-full max-w-3xl grid-cols-3",
                    children: [r.jsxs($t, {
                        value: "available",
                        "data-testid": "tab-available",
                        children: [r.jsx(hr, {
                            className: "mr-2 h-4 w-4"
                        }), "Disponibles (", r.jsx("span", {
                            className: "text-[#00ff99]",
                            children: vn.length
                        }), ")"]
                    }), r.jsxs($t, {
                        value: "my-offers",
                        "data-testid": "tab-my-offers",
                        children: [r.jsx(Ut, {
                            className: "mr-2 h-4 w-4"
                        }), "Mes offres"]
                    }), r.jsxs($t, {
                        value: "to-process",
                        "data-testid": "tab-to-process",
                        children: [r.jsx(Hn, {
                            className: "mr-2 h-4 w-4"
                        }), " traiter (", Qt.length, ")"]
                    })]
                }), r.jsxs(zt, {
                    value: "available",
                    className: "mt-6 space-y-6",
                    children: [r.jsxs("div", {
                        className: "flex flex-col sm:flex-row gap-4",
                        children: [r.jsxs("div", {
                            className: "relative flex-1",
                            children: [r.jsx(hr, {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                            }), r.jsx(Fe, {
                                placeholder: "Rechercher par description...",
                                value: n,
                                onChange: O => s(O.target.value),
                                className: "pl-10",
                                "data-testid": "input-search-requests"
                            })]
                        }), r.jsxs(Jt, {
                            value: e,
                            onValueChange: t,
                            children: [r.jsxs(Ht, {
                                className: "w-full sm:w-48",
                                "data-testid": "select-city-filter",
                                children: [r.jsx(pR, {
                                    className: "mr-2 h-4 w-4"
                                }), r.jsx(en, {})]
                            }), r.jsxs(qt, {
                                children: [r.jsx(Ae, {
                                    value: "Toutes les villes",
                                    children: "Toutes les villes"
                                }), I ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : T.map(O => r.jsx(Ae, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))]
                            })]
                        })]
                    }), vn.length > 0 ? r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: vn.map(O => r.jsx(f$, {
                            request: O,
                            onMakeOffer: cr,
                            userStatus: we.status,
                            offerCount: Zr[O.id] || 0,
                            onDecline: dr,
                            onTrackView: () => Y.mutate(O.id)
                        }, O.id))
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(hr, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune demande trouve"
                        })]
                    })]
                }), r.jsx(zt, {
                    value: "my-offers",
                    className: "mt-6 space-y-6",
                    children: $e.length > 0 ? r.jsx("div", {
                        className: "space-y-4",
                        children: $e.map(O => {
                            const Se = Ot.find(Ys => Ys.id === O.requestId)
                              , bt = ln.find(Ys => Ys.id === (Se == null ? void 0 : Se.clientId))
                              , Fn = O.status === "accepted";
                            return r.jsx(ce, {
                                className: "hover-elevate",
                                children: r.jsxs(ue, {
                                    className: "p-6 space-y-4",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [r.jsxs("div", {
                                            className: "flex items-center gap-3",
                                            children: [r.jsxs(he, {
                                                variant: O.status === "pending" ? "outline" : O.status === "accepted" ? "default" : "secondary",
                                                className: Fn ? "bg-green-600" : "",
                                                children: [Fn && r.jsx(Hn, {
                                                    className: "w-3 h-3 mr-1"
                                                }), O.status === "pending" ? "En attente" : O.status === "accepted" ? "Accepte" : "Refuse"]
                                            }), r.jsxs("span", {
                                                className: "text-sm text-muted-foreground",
                                                children: ["Rfrence: ", r.jsx("span", {
                                                    className: "font-semibold text-foreground",
                                                    children: Se == null ? void 0 : Se.referenceId
                                                })]
                                            })]
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsxs("span", {
                                                className: "text-xl font-bold text-primary",
                                                children: [O.amount, " MAD"]
                                            }), O.status === "pending" && r.jsx(M, {
                                                size: "icon",
                                                variant: "ghost",
                                                onClick: () => {
                                                    Ye(O),
                                                    de(!0)
                                                }
                                                ,
                                                "data-testid": `button-edit-offer-${O.id}`,
                                                children: r.jsx(Yb, {
                                                    className: "w-4 h-4"
                                                })
                                            })]
                                        })]
                                    }), Se && r.jsxs(r.Fragment, {
                                        children: [r.jsxs("div", {
                                            className: "flex items-center gap-2 text-sm text-muted-foreground",
                                            children: [r.jsx(Mr, {
                                                className: "w-4 h-4"
                                            }), r.jsxs("span", {
                                                children: [Se.fromCity, "  ", Se.toCity]
                                            })]
                                        }), Se.photos && Se.photos.length > 0 && r.jsxs(M, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => Ss(Se.photos, Se.referenceId),
                                            className: "gap-2",
                                            "data-testid": `button-view-offer-photos-${O.id}`,
                                            children: [r.jsx(Eu, {
                                                className: "w-4 h-4"
                                            }), "Voir les photos (", Se.photos.length, ")"]
                                        })]
                                    }), Fn && bt && r.jsxs("div", {
                                        className: "bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-900 rounded-lg p-4 space-y-3",
                                        children: [r.jsxs("p", {
                                            className: "text-sm font-medium text-green-900 dark:text-green-100 flex items-center gap-2",
                                            children: [r.jsx(Hn, {
                                                className: "w-4 h-4"
                                            }), "Votre offre a t accepte !"]
                                        }), r.jsxs("div", {
                                            className: "space-y-2",
                                            children: [r.jsx("p", {
                                                className: "text-sm text-green-800 dark:text-green-200",
                                                children: "Vous pouvez maintenant contacter le client :"
                                            }), r.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [r.jsx($r, {
                                                    className: "w-4 h-4 text-green-700 dark:text-green-300"
                                                }), r.jsx("a", {
                                                    href: `tel:${bt.phoneNumber}`,
                                                    className: "text-lg font-semibold text-green-700 dark:text-green-300 hover:underline",
                                                    "data-testid": `link-client-phone-${O.id}`,
                                                    children: bt.phoneNumber
                                                })]
                                            }), r.jsxs("p", {
                                                className: "text-xs text-green-700 dark:text-green-400",
                                                children: ["Client ", bt.clientId || "Non dfini"]
                                            }), Se && r.jsxs(M, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => Gt(bt.id, bt.clientId || "Client", Se.id),
                                                className: "gap-2 mt-2 w-full",
                                                "data-testid": `button-chat-${O.id}`,
                                                children: [r.jsx(rr, {
                                                    className: "w-4 h-4"
                                                }), "Envoyer un message"]
                                            })]
                                        })]
                                    }), O.message && r.jsx("p", {
                                        className: "text-sm text-muted-foreground border-l-2 border-primary pl-3",
                                        children: O.message
                                    })]
                                })
                            }, O.id)
                        }
                        )
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Ut, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Vous n'avez pas encore fait d'offres"
                        })]
                    })
                }), r.jsx(zt, {
                    value: "to-process",
                    className: "mt-6 space-y-6",
                    children: Qt.length > 0 ? r.jsx("div", {
                        className: "space-y-4",
                        children: Qt.map(O => {
                            const Se = ln.find(Fn => Fn.id === O.clientId)
                              , bt = O.paymentStatus === "awaiting_payment";
                            return r.jsx(ce, {
                                className: "hover-elevate",
                                children: r.jsxs(ue, {
                                    className: "p-6 space-y-4",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center justify-between flex-wrap gap-3",
                                        children: [r.jsxs("div", {
                                            children: [r.jsxs("div", {
                                                className: "flex items-center gap-2 mb-1",
                                                children: [r.jsx("h3", {
                                                    className: "text-lg font-semibold",
                                                    children: O.referenceId
                                                }), bt && r.jsx(he, {
                                                    variant: "default",
                                                    className: "bg-orange-600",
                                                    children: "En attente de paiement client"
                                                })]
                                            }), r.jsxs("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: [O.fromCity, "  ", O.toCity]
                                            })]
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2 flex-wrap",
                                            children: [r.jsxs(M, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => Zs(O),
                                                className: "gap-2",
                                                "data-testid": `button-view-client-${O.id}`,
                                                children: [r.jsx($r, {
                                                    className: "h-4 w-4"
                                                }), "Voir les dtails"]
                                            }), !bt && O.status !== "completed" && O.paymentStatus !== "paid" && r.jsxs(M, {
                                                variant: "default",
                                                size: "sm",
                                                onClick: () => ae.mutate(O.id),
                                                disabled: ae.isPending,
                                                className: "gap-2",
                                                "data-testid": `button-mark-billing-${O.id}`,
                                                children: [r.jsx(Hn, {
                                                    className: "h-4 w-4"
                                                }), "Marquer comme  facturer"]
                                            }), r.jsxs(M, {
                                                variant: "destructive",
                                                size: "sm",
                                                onClick: () => Ct(O.id),
                                                "data-testid": `button-report-${O.id}`,
                                                className: "gap-2",
                                                children: [r.jsx(mi, {
                                                    className: "h-4 w-4"
                                                }), r.jsx("span", {
                                                    className: "hidden sm:inline",
                                                    children: "Signaler"
                                                })]
                                            })]
                                        })]
                                    }), r.jsxs("div", {
                                        className: "space-y-2",
                                        children: [r.jsxs("div", {
                                            className: "grid grid-cols-2 gap-4 text-sm",
                                            children: [r.jsxs("div", {
                                                children: [r.jsx("p", {
                                                    className: "text-muted-foreground",
                                                    children: "Type de marchandise"
                                                }), r.jsx("p", {
                                                    className: "font-medium",
                                                    children: O.goodsType
                                                })]
                                            }), O.estimatedWeight && r.jsxs("div", {
                                                children: [r.jsx("p", {
                                                    className: "text-muted-foreground",
                                                    children: "Poids estim"
                                                }), r.jsx("p", {
                                                    className: "font-medium",
                                                    children: O.estimatedWeight
                                                })]
                                            })]
                                        }), O.description && r.jsxs("div", {
                                            children: [r.jsx("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: "Description"
                                            }), r.jsx("p", {
                                                className: "text-sm",
                                                children: O.description
                                            })]
                                        }), O.photos && O.photos.length > 0 && r.jsxs(M, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => Ss(O.photos, O.referenceId),
                                            className: "gap-2",
                                            "data-testid": `button-view-request-photos-${O.id}`,
                                            children: [r.jsx(Eu, {
                                                className: "w-4 h-4"
                                            }), "Voir les photos (", O.photos.length, ")"]
                                        })]
                                    }), Se && r.jsxs(M, {
                                        variant: "outline",
                                        size: "sm",
                                        onClick: () => Gt(Se.id, Se.clientId || "Client", O.id),
                                        className: "gap-2 w-full sm:w-auto bg-[#00cc88] hover:bg-[#00cc88]/90 text-white border-[#00cc88]",
                                        "data-testid": `button-chat-request-${O.id}`,
                                        style: {
                                            textShadow: "0 1px 1px rgba(0,0,0,0.2)"
                                        },
                                        children: [r.jsx(rr, {
                                            className: "w-4 w-4"
                                        }), "Envoyer un message au client"]
                                    })]
                                })
                            }, O.id)
                        }
                        )
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Hn, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune commande  traiter"
                        })]
                    })
                })]
            })]
        }), r.jsx(S$, {
            open: a,
            onClose: () => i(!1),
            requestId: o,
            onSuccess: () => {
                ye.invalidateQueries({
                    queryKey: ["/api/offers"]
                })
            }
        }), f && r.jsx(Lg, {
            open: c,
            onClose: () => d(!1),
            otherUser: f,
            currentUserId: we.id,
            currentUserRole: "transporter",
            requestId: h
        }), r.jsx(Zk, {
            open: w,
            onClose: () => x(!1),
            photos: y,
            referenceId: p
        }), r.jsx(yt, {
            open: N,
            onOpenChange: S,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsx(xt, {
                    children: r.jsx(gt, {
                        className: "text-xl",
                        children: "Dtails du client"
                    })
                }), k && r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Commande"
                        }), r.jsx("p", {
                            className: "font-semibold text-lg",
                            children: k.referenceId
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Identifiant"
                        }), r.jsxs("p", {
                            className: "font-medium",
                            children: ["Client ", k.clientId || "Non dfini"]
                        })]
                    }), k.clientCity && r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Ville"
                        }), r.jsx("p", {
                            className: "font-medium",
                            children: k.clientCity
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Tlphone"
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx($r, {
                                className: "w-4 h-4 text-primary"
                            }), r.jsx("a", {
                                href: `tel:${k.clientPhone}`,
                                className: "font-semibold text-primary hover:underline text-lg",
                                "data-testid": "link-client-phone-details",
                                children: k.clientPhone
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground mb-2",
                            children: "Trajet"
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Mr, {
                                className: "w-4 h-4 text-muted-foreground"
                            }), r.jsxs("p", {
                                className: "font-medium",
                                children: [k.fromCity, "  ", k.toCity]
                            })]
                        })]
                    }), r.jsx(M, {
                        onClick: () => S(!1),
                        className: "w-full",
                        "data-testid": "button-close-client-details",
                        children: "Fermer"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: E,
            onOpenChange: A,
            children: r.jsxs(pt, {
                className: "sm:max-w-md",
                children: [r.jsx(xt, {
                    children: r.jsx(gt, {
                        children: "Annoncer un retour  vide"
                    })
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Ville de dpart"
                        }), r.jsxs(Jt, {
                            value: z,
                            onValueChange: G,
                            children: [r.jsx(Ht, {
                                "data-testid": "select-return-from-city",
                                children: r.jsx(en, {
                                    placeholder: "Slectionner la ville de dpart"
                                })
                            }), r.jsx(qt, {
                                children: I ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : T.map(O => r.jsx(Ae, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Ville d'arrive"
                        }), r.jsxs(Jt, {
                            value: R,
                            onValueChange: B,
                            children: [r.jsx(Ht, {
                                "data-testid": "select-return-to-city",
                                children: r.jsx(en, {
                                    placeholder: "Slectionner la ville d'arrive"
                                })
                            }), r.jsx(qt, {
                                children: I ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : T.map(O => r.jsx(Ae, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Date de retour"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx(hs, {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                            }), r.jsx(Fe, {
                                type: "date",
                                value: U,
                                onChange: O => J(O.target.value),
                                className: "pl-10",
                                "data-testid": "input-return-date"
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "flex gap-3 pt-4",
                        children: [r.jsx(M, {
                            variant: "outline",
                            onClick: () => A(!1),
                            className: "flex-1",
                            "data-testid": "button-cancel-return",
                            children: "Annuler"
                        }), r.jsx(M, {
                            onClick: () => {
                                if (!z || !R || !U) {
                                    F({
                                        variant: "destructive",
                                        title: "Erreur",
                                        description: "Veuillez remplir tous les champs"
                                    });
                                    return
                                }
                                se.mutate({
                                    fromCity: z,
                                    toCity: R,
                                    returnDate: U
                                })
                            }
                            ,
                            disabled: se.isPending,
                            className: "flex-1 bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                            "data-testid": "button-submit-return",
                            children: se.isPending ? "En cours..." : "Annoncer"
                        })]
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: W,
            onOpenChange: O => {
                de(O),
                O || (nt.reset(),
                Ye(null))
            }
            ,
            children: r.jsxs(pt, {
                className: "max-w-md",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Modifier votre offre"
                    }), r.jsx(Rt, {
                        children: "Modifiez le montant, la date ou le type de chargement de votre offre"
                    })]
                }), r.jsx(Ua, {
                    ...nt,
                    children: r.jsxs("form", {
                        onSubmit: nt.handleSubmit(O => {
                            if (!ke)
                                return;
                            const Se = typeof O.amount == "number" ? O.amount : Number(O.amount);
                            L.mutate({
                                offerId: ke.id,
                                amount: Se,
                                pickupDate: O.pickupDate,
                                loadType: O.loadType
                            })
                        }
                        ),
                        className: "space-y-4",
                        children: [r.jsx(ot, {
                            control: nt.control,
                            name: "amount",
                            render: ({field: O}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Montant (MAD) ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(st, {
                                    children: r.jsx(Fe, {
                                        type: "number",
                                        placeholder: "Ex: 5000",
                                        "data-testid": "input-edit-amount",
                                        ...O
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: nt.control,
                            name: "pickupDate",
                            render: ({field: O}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Date de prise en charge ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(st, {
                                    children: r.jsx(Fe, {
                                        type: "date",
                                        "data-testid": "input-edit-pickup-date",
                                        ...O
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: nt.control,
                            name: "loadType",
                            render: ({field: O}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Type de chargement ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Jt, {
                                    onValueChange: O.onChange,
                                    value: O.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-edit-load-type",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionnez le type"
                                            })
                                        })
                                    }), r.jsxs(qt, {
                                        children: [r.jsx(Ae, {
                                            value: "return",
                                            children: "Retour (camion vide)"
                                        }), r.jsx(Ae, {
                                            value: "shared",
                                            children: "Groupage / Partag"
                                        })]
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsxs(xs, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(M, {
                                type: "button",
                                variant: "outline",
                                onClick: () => {
                                    de(!1),
                                    nt.reset(),
                                    Ye(null)
                                }
                                ,
                                "data-testid": "button-cancel-edit-offer",
                                children: "Annuler"
                            }), r.jsx(M, {
                                type: "submit",
                                disabled: L.isPending,
                                "data-testid": "button-submit-edit-offer",
                                children: L.isPending ? "Modification..." : "Modifier l'offre"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(yt, {
            open: q,
            onOpenChange: pe,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Signaler un problme"
                    }), r.jsx(Rt, {
                        children: "Dcrivez le problme rencontr avec ce client."
                    })]
                }), r.jsx(Ua, {
                    ...Oe,
                    children: r.jsxs("form", {
                        onSubmit: Oe.handleSubmit(Lt),
                        className: "space-y-4",
                        children: [r.jsx(ot, {
                            control: Oe.control,
                            name: "type",
                            render: ({field: O}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Type de problme ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Jt, {
                                    onValueChange: O.onChange,
                                    value: O.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-report-type",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionnez un type"
                                            })
                                        })
                                    }), r.jsxs(qt, {
                                        children: [r.jsx(Ae, {
                                            value: "no-show",
                                            children: "Client absent"
                                        }), r.jsx(Ae, {
                                            value: "payment",
                                            children: "Problme de paiement"
                                        }), r.jsx(Ae, {
                                            value: "communication",
                                            children: "Problme de communication"
                                        }), r.jsx(Ae, {
                                            value: "incorrect-info",
                                            children: "Informations incorrectes"
                                        }), r.jsx(Ae, {
                                            value: "damaged-goods",
                                            children: "Marchandises non conformes"
                                        }), r.jsx(Ae, {
                                            value: "other",
                                            children: "Autre"
                                        })]
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: Oe.control,
                            name: "description",
                            render: ({field: O}) => r.jsxs(et, {
                                children: [r.jsxs(Je, {
                                    children: ["Description dtaille ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(st, {
                                    children: r.jsx(Va, {
                                        placeholder: "Dcrivez en dtail le problme rencontr...",
                                        className: "resize-none h-32",
                                        "data-testid": "textarea-report-description",
                                        ...O
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsxs(xs, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(M, {
                                type: "button",
                                variant: "outline",
                                onClick: () => pe(!1),
                                "data-testid": "button-cancel-report",
                                children: "Annuler"
                            }), r.jsx(M, {
                                type: "submit",
                                disabled: _e.isPending,
                                "data-testid": "button-submit-report",
                                children: _e.isPending ? "Envoi en cours..." : "Envoyer le signalement"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(yt, {
            open: at,
            onOpenChange: ut,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsx(xt, {
                    children: r.jsxs(gt, {
                        className: "flex items-center gap-2 text-xl",
                        children: [r.jsx(mi, {
                            className: "h-5 w-5 text-amber-600"
                        }), "Compte non valid"]
                    })
                }), r.jsxs("div", {
                    className: "py-4 space-y-4",
                    children: [r.jsx("p", {
                        className: "text-muted-foreground leading-relaxed",
                        children: "Votre compte CamionBack n'est pas encore valid par notre quipe."
                    }), r.jsx("p", {
                        className: "text-muted-foreground leading-relaxed",
                        children: "Vous pourrez annoncer vos retours et bnficier de toutes les fonctionnalits ds que votre compte sera activ."
                    }), r.jsxs("p", {
                        className: "text-muted-foreground leading-relaxed flex items-center gap-2",
                        children: [r.jsx(Xt, {
                            className: "h-4 w-4 text-[#00d4b2]"
                        }), "Merci pour votre patience."]
                    })]
                }), r.jsx(xs, {
                    children: r.jsx(M, {
                        onClick: () => ut(!1),
                        className: "w-full",
                        "data-testid": "button-close-not-validated",
                        children: "Fermer"
                    })
                })]
            })
        })]
    })
}
const $n = u.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    className: "relative w-full overflow-auto",
    children: r.jsx("table", {
        ref: n,
        className: le("w-full caption-bottom text-sm", e),
        ...t
    })
}));
$n.displayName = "Table";
const zn = u.forwardRef( ({className: e, ...t}, n) => r.jsx("thead", {
    ref: n,
    className: le("[&_tr]:border-b", e),
    ...t
}));
zn.displayName = "TableHeader";
const Vn = u.forwardRef( ({className: e, ...t}, n) => r.jsx("tbody", {
    ref: n,
    className: le("[&_tr:last-child]:border-0", e),
    ...t
}));
Vn.displayName = "TableBody";
const E$ = u.forwardRef( ({className: e, ...t}, n) => r.jsx("tfoot", {
    ref: n,
    className: le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", e),
    ...t
}));
E$.displayName = "TableFooter";
const Nt = u.forwardRef( ({className: e, ...t}, n) => r.jsx("tr", {
    ref: n,
    className: le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted", e),
    ...t
}));
Nt.displayName = "TableRow";
const K = u.forwardRef( ({className: e, ...t}, n) => r.jsx("th", {
    ref: n,
    className: le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", e),
    ...t
}));
K.displayName = "TableHead";
const Q = u.forwardRef( ({className: e, ...t}, n) => r.jsx("td", {
    ref: n,
    className: le("p-4 align-middle [&:has([role=checkbox])]:pr-0", e),
    ...t
}));
Q.displayName = "TableCell";
const T$ = u.forwardRef( ({className: e, ...t}, n) => r.jsx("caption", {
    ref: n,
    className: le("mt-4 text-sm text-muted-foreground", e),
    ...t
}));
T$.displayName = "TableCaption";
function Ad({title: e, value: t, icon: n, trend: s, trendUp: a}) {
    return r.jsx(ce, {
        className: "hover-elevate",
        children: r.jsx(ue, {
            className: "p-6",
            children: r.jsxs("div", {
                className: "flex items-center justify-between",
                children: [r.jsxs("div", {
                    className: "flex-1",
                    children: [r.jsx("p", {
                        className: "text-sm text-muted-foreground mb-1",
                        children: e
                    }), r.jsx("p", {
                        className: "text-3xl font-bold",
                        "data-testid": `kpi-${e.toLowerCase().replace(/\s+/g, "-")}`,
                        children: t
                    }), s && r.jsx("p", {
                        className: `text-sm mt-2 ${a ? "text-green-500" : "text-red-500"}`,
                        children: s
                    })]
                }), r.jsx("div", {
                    className: "w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",
                    children: r.jsx(n, {
                        className: "w-6 h-6 text-primary"
                    })
                })]
            })
        })
    })
}
const _$ = We.object({
    phoneNumber: We.string().min(9, "Numro de tlphone requis (9 chiffres)"),
    name: We.string().min(2, "Nom requis"),
    city: We.string().min(1, "Ville requise"),
    pin: We.string().regex(/^\d{6}$/, "Le code PIN doit contenir exactement 6 chiffres"),
    truckPhoto: We.instanceof(File, {
        message: "Photo du camion requise"
    })
});
function P$({open: e, onClose: t, onSuccess: n}) {
    const {toast: s} = on()
      , {data: a=[], isLoading: i} = Ge({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , o = Da({
        resolver: Oa(_$),
        defaultValues: {
            phoneNumber: "",
            name: "",
            city: "",
            pin: ""
        }
    })
      , l = d => {
        var m;
        const f = (m = d.target.files) == null ? void 0 : m[0];
        f && o.setValue("truckPhoto", f)
    }
      , c = async d => {
        try {
            const f = `+212${d.phoneNumber.replace(/\s/g, "")}`
              , m = await fetch("/api/auth/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: f,
                    pin: d.pin
                })
            });
            if (!m.ok) {
                const p = await m.json();
                throw new Error(p.error || "Erreur lors de l'inscription")
            }
            const {user: h} = await m.json();
            if (!(await fetch("/api/auth/select-role", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    userId: h.id,
                    role: "transporter"
                })
            })).ok)
                throw new Error("Erreur lors de la slection du rle");
            const w = new FormData;
            w.append("userId", h.id),
            w.append("name", d.name),
            w.append("city", d.city),
            w.append("truckPhoto", d.truckPhoto);
            const x = await fetch("/api/auth/complete-profile", {
                method: "POST",
                body: w
            });
            if (!x.ok)
                throw new Error("Erreur lors de la compltion du profil");
            const {user: y} = await x.json();
            if (!(await fetch(`/api/admin/validate-driver/${y.id}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    approved: !0
                })
            })).ok)
                throw new Error("Erreur lors de la validation");
            s({
                title: "Transporteur ajout",
                description: `${d.name} a t ajout et valid avec succs`
            }),
            o.reset(),
            t(),
            n == null || n()
        } catch (f) {
            s({
                variant: "destructive",
                title: "Erreur",
                description: f.message || "chec de l'ajout du transporteur"
            })
        }
    }
    ;
    return r.jsx(yt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(pt, {
            className: "sm:max-w-md max-h-[90vh] overflow-y-auto",
            children: [r.jsx(xt, {
                children: r.jsx(gt, {
                    className: "text-xl",
                    children: "Ajouter un transporteur"
                })
            }), r.jsx(Ua, {
                ...o,
                children: r.jsxs("form", {
                    onSubmit: o.handleSubmit(c),
                    className: "space-y-4",
                    children: [r.jsx(ot, {
                        control: o.control,
                        name: "name",
                        render: ({field: d}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Nom complet"
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    placeholder: "Ahmed El Mansouri",
                                    "data-testid": "input-transporter-name",
                                    ...d
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: o.control,
                        name: "phoneNumber",
                        render: ({field: d}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Numro de tlphone"
                            }), r.jsxs("div", {
                                className: "relative",
                                children: [r.jsx("span", {
                                    className: "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",
                                    children: "+212"
                                }), r.jsx(Fe, {
                                    type: "tel",
                                    placeholder: "6 12 34 56 78",
                                    className: "pl-16",
                                    "data-testid": "input-transporter-phone",
                                    ...d
                                })]
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: o.control,
                        name: "city",
                        render: ({field: d}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Ville de rsidence"
                            }), r.jsxs(Jt, {
                                onValueChange: d.onChange,
                                defaultValue: d.value,
                                children: [r.jsx(st, {
                                    children: r.jsx(Ht, {
                                        "data-testid": "select-transporter-city",
                                        children: r.jsx(en, {
                                            placeholder: "Slectionnez une ville"
                                        })
                                    })
                                }), r.jsx(qt, {
                                    children: i ? r.jsx("div", {
                                        className: "p-2 text-sm text-muted-foreground",
                                        children: "Chargement..."
                                    }) : a.map(f => r.jsx(Ae, {
                                        value: f.name,
                                        children: f.name
                                    }, f.id))
                                })]
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: o.control,
                        name: "pin",
                        render: ({field: d}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Code PIN (6 chiffres)"
                            }), r.jsx(st, {
                                children: r.jsx(Fe, {
                                    type: "password",
                                    placeholder: "",
                                    maxLength: 6,
                                    "data-testid": "input-transporter-pin",
                                    ...d
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsx(ot, {
                        control: o.control,
                        name: "truckPhoto",
                        render: ({field: {value: d, onChange: f, ...m}}) => r.jsxs(et, {
                            children: [r.jsx(Je, {
                                children: "Photo du camion"
                            }), r.jsx(st, {
                                children: r.jsxs("div", {
                                    className: "border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",
                                    children: [r.jsx("input", {
                                        type: "file",
                                        accept: "image/*",
                                        onChange: h => {
                                            var w;
                                            l(h);
                                            const g = (w = h.target.files) == null ? void 0 : w[0];
                                            g && f(g)
                                        }
                                        ,
                                        className: "hidden",
                                        id: "truck-photo-upload",
                                        "data-testid": "input-truck-photo",
                                        ...m
                                    }), r.jsxs("label", {
                                        htmlFor: "truck-photo-upload",
                                        className: "cursor-pointer",
                                        children: [r.jsx(wf, {
                                            className: "mx-auto h-10 w-10 text-muted-foreground mb-2"
                                        }), r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: (d == null ? void 0 : d.name) || "Cliquez pour ajouter une photo"
                                        })]
                                    })]
                                })
                            }), r.jsx(dt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "flex gap-3 pt-2",
                        children: [r.jsx(M, {
                            type: "button",
                            variant: "outline",
                            onClick: t,
                            className: "flex-1",
                            "data-testid": "button-cancel-transporter",
                            children: "Annuler"
                        }), r.jsx(M, {
                            type: "submit",
                            className: "flex-1",
                            "data-testid": "button-submit-transporter",
                            children: "Ajouter"
                        })]
                    })]
                })
            })]
        })
    })
}
function R$({open: e, onOpenChange: t, transporterId: n, transporterName: s}) {
    const {toast: a} = on()
      , [i,o] = u.useState("")
      , [l,c] = u.useState("")
      , d = localStorage.getItem("camionback_user")
      , f = d ? JSON.parse(d) : null
      , {data: m, isLoading: h} = Ge({
        queryKey: ["/api/admin/users", n, "rib"],
        queryFn: async () => {
            if (!n || !(f != null && f.id))
                return null;
            const x = await fetch(`/api/admin/users/${n}/rib?adminId=${f.id}`);
            if (!x.ok)
                throw new Error("chec de rcupration du RIB");
            return x.json()
        }
        ,
        enabled: e && !!n && !!(f != null && f.id)
    });
    u.useEffect( () => {
        m && (o(m.ribName || ""),
        c(m.ribNumber || ""))
    }
    , [m]);
    const g = Xe({
        mutationFn: async x => {
            if (!(f != null && f.id))
                throw new Error("Admin non trouv");
            return await ze("PATCH", `/api/admin/users/${n}/rib`, {
                ...x,
                adminId: f.id
            })
        }
        ,
        onSuccess: () => {
            a({
                title: "Succs",
                description: " Le RIB a t enregistr avec succs."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/users", n, "rib"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            t(!1)
        }
        ,
        onError: x => {
            a({
                variant: "destructive",
                title: "Erreur",
                description: x.message || " Le RIB doit contenir exactement 24 chiffres."
            })
        }
    })
      , w = x => {
        if (x.preventDefault(),
        l && !/^\d{24}$/.test(l)) {
            a({
                variant: "destructive",
                title: "Erreur de validation",
                description: " Le RIB doit contenir exactement 24 chiffres."
            });
            return
        }
        g.mutate({
            ribName: i,
            ribNumber: l
        })
    }
    ;
    return r.jsx(yt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(pt, {
            className: "max-w-[90vw] sm:max-w-md",
            children: [r.jsxs(xt, {
                children: [r.jsxs(gt, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(Ls, {
                        className: "h-5 w-5 text-primary"
                    }), "RIB du transporteur"]
                }), r.jsx(Rt, {
                    children: s
                })]
            }), h ? r.jsx("div", {
                className: "text-center py-8 text-muted-foreground",
                children: "Chargement..."
            }) : r.jsxs("form", {
                onSubmit: w,
                className: "space-y-4",
                children: [r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs(bn, {
                        htmlFor: "admin-rib-name",
                        children: ["Nom (personnel ou socit) ", r.jsx("span", {
                            className: "text-destructive",
                            children: "*"
                        })]
                    }), r.jsx(Fe, {
                        id: "admin-rib-name",
                        type: "text",
                        value: i,
                        onChange: x => o(x.target.value),
                        placeholder: "Ex: Mohammed Alami ou Socit Transport ABC",
                        required: !0,
                        "data-testid": "input-admin-rib-name"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs(bn, {
                        htmlFor: "admin-rib-number",
                        children: ["Numro RIB ", r.jsx("span", {
                            className: "text-destructive",
                            children: "*"
                        })]
                    }), r.jsx(Fe, {
                        id: "admin-rib-number",
                        type: "text",
                        value: l,
                        onChange: x => {
                            const y = x.target.value.replace(/\D/g, "");
                            c(y)
                        }
                        ,
                        placeholder: "24 chiffres exactement",
                        maxLength: 24,
                        required: !0,
                        "data-testid": "input-admin-rib-number",
                        className: "font-mono"
                    }), r.jsxs("p", {
                        className: "text-xs text-muted-foreground",
                        children: [l.length, "/24 chiffres"]
                    })]
                }), r.jsxs(xs, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(M, {
                        type: "button",
                        variant: "outline",
                        onClick: () => t(!1),
                        "data-testid": "button-cancel-admin-rib",
                        children: "Annuler"
                    }), r.jsxs(M, {
                        type: "submit",
                        disabled: g.isPending || !i || !l,
                        "data-testid": "button-save-admin-rib",
                        className: "gap-2",
                        children: [r.jsx(Zb, {
                            className: "h-4 w-4"
                        }), g.isPending ? "Enregistrement..." : "Enregistrer"]
                    })]
                })]
            })]
        })
    })
}
function A$() {
    const {toast: e} = on()
      , [t,n] = u.useState("")
      , [s,a] = u.useState("transporters")
      , [i,o] = u.useState(null)
      , [l,c] = u.useState("")
      , [d,f] = u.useState("")
      , m = localStorage.getItem("camionback_user")
      , h = m ? JSON.parse(m) : null
      , {data: g=[], isLoading: w} = Ge({
        queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`],
        enabled: !!(h != null && h.id)
    })
      , x = Xe({
        mutationFn: async () => (await ze("POST", "/api/admin/sms/notify-transporters", {
            adminId: h == null ? void 0 : h.id
        })).json(),
        onSuccess: E => {
            e({
                title: "SMS envoys avec succs",
                description: `${E.sent} SMS envoys  ${E.total} transporteurs valids`
            }),
            ye.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            n("")
        }
        ,
        onError: E => {
            e({
                title: "Erreur d'envoi",
                description: E.message || "Impossible d'envoyer les SMS",
                variant: "destructive"
            })
        }
    })
      , y = Xe({
        mutationFn: async () => (await ze("POST", "/api/admin/sms/send", {
            adminId: h == null ? void 0 : h.id,
            targetAudience: s,
            message: t
        })).json(),
        onSuccess: E => {
            e({
                title: "SMS envoys avec succs",
                description: `${E.sent} SMS envoys  ${E.total} destinataires`
            }),
            ye.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            n("")
        }
        ,
        onError: E => {
            e({
                title: "Erreur d'envoi",
                description: E.message || "Impossible d'envoyer les SMS",
                variant: "destructive"
            })
        }
    })
      , v = Xe({
        mutationFn: async () => (await ze("POST", "/api/admin/sms/send-single", {
            adminId: h == null ? void 0 : h.id,
            phoneNumber: l.startsWith("+") ? l : `+212${l}`,
            message: d
        })).json(),
        onSuccess: () => {
            e({
                title: " SMS envoy avec succs via CamionBack",
                description: `Le message a t envoy au numro ${l}`
            }),
            ye.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            c(""),
            f("")
        }
        ,
        onError: E => {
            e({
                title: "Erreur d'envoi",
                description: E.message || "Impossible d'envoyer le SMS",
                variant: "destructive"
            })
        }
    })
      , p = Xe({
        mutationFn: async E => (await ze("DELETE", `/api/admin/sms/history/${E}?adminId=${h == null ? void 0 : h.id}`)).json(),
        onSuccess: () => {
            e({
                title: "Supprim",
                description: "L'entre a t supprime de l'historique"
            }),
            ye.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            })
        }
        ,
        onError: () => {
            e({
                title: "Erreur",
                description: "Impossible de supprimer l'entre",
                variant: "destructive"
            })
        }
    })
      , j = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        x.mutate()
    }
      , N = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        if (!t.trim()) {
            e({
                title: "Message requis",
                description: "Veuillez saisir un message  envoyer",
                variant: "destructive"
            });
            return
        }
        if (t.length > 160) {
            e({
                title: "Message trop long",
                description: "Le message ne peut pas dpasser 160 caractres",
                variant: "destructive"
            });
            return
        }
        y.mutate()
    }
      , S = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        if (!l.trim()) {
            e({
                title: "Numro requis",
                description: "Veuillez saisir un numro de tlphone",
                variant: "destructive"
            });
            return
        }
        if (!d.trim()) {
            e({
                title: "Message requis",
                description: "Veuillez saisir un message  envoyer",
                variant: "destructive"
            });
            return
        }
        if (d.length > 160) {
            e({
                title: "Message trop long",
                description: "Le message ne peut pas dpasser 160 caractres",
                variant: "destructive"
            });
            return
        }
        v.mutate()
    }
      , k = E => {
        switch (E) {
        case "transporters":
            return "Transporteurs";
        case "clients":
            return "Clients";
        case "both":
            return "Clients et Transporteurs";
        default:
            return E
        }
    }
      , C = E => E === "sent" ? r.jsx("span", {
        className: "text-xs px-2 py-1 bg-green-100 text-green-800 rounded",
        children: "Envoy"
    }) : r.jsx("span", {
        className: "text-xs px-2 py-1 bg-red-100 text-red-800 rounded",
        children: "chec"
    });
    return r.jsxs("div", {
        className: "container mx-auto p-4 space-y-6",
        children: [r.jsxs("div", {
            className: "flex items-center gap-2 mb-6",
            children: [r.jsx(gR, {
                className: "h-6 w-6 text-primary"
            }), r.jsx("h1", {
                className: "text-2xl font-bold",
                children: "Communications & SMS"
            })]
        }), r.jsxs(ce, {
            children: [r.jsxs(Ee, {
                children: [r.jsxs(Te, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(ni, {
                        className: "h-5 w-5"
                    }), "Envoi rapide aux transporteurs"]
                }), r.jsx(Sn, {
                    children: "Notifier tous les transporteurs valids des nouvelles offres disponibles"
                })]
            }), r.jsx(ue, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "p-4 bg-muted rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground mb-2",
                            children: "Message qui sera envoy :"
                        }), r.jsx("p", {
                            className: "text-sm italic",
                            children: '" De nouvelles offres de transport sont disponibles sur CamionBack ! Connectez-vous ds maintenant pour proposer vos tarifs."'
                        })]
                    }), r.jsxs(M, {
                        onClick: j,
                        disabled: x.isPending,
                        className: "w-full",
                        "data-testid": "button-notify-transporters",
                        children: [r.jsx(Ts, {
                            className: "h-4 w-4 mr-2"
                        }), x.isPending ? "Envoi en cours..." : "Notifier les transporteurs valids"]
                    })]
                })
            })]
        }), r.jsxs(ce, {
            children: [r.jsxs(Ee, {
                children: [r.jsxs(Te, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(ni, {
                        className: "h-5 w-5"
                    }), "Envoi libre de SMS personnaliss"]
                }), r.jsx(Sn, {
                    children: "Rdigez et envoyez un message personnalis  votre audience cible"
                })]
            }), r.jsx(ue, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Public cibl"
                        }), r.jsxs(Jt, {
                            value: s,
                            onValueChange: a,
                            children: [r.jsx(Ht, {
                                "data-testid": "select-target-audience",
                                children: r.jsx(en, {
                                    placeholder: "Slectionner le public"
                                })
                            }), r.jsxs(qt, {
                                children: [r.jsx(Ae, {
                                    value: "transporters",
                                    children: "Tous les transporteurs"
                                }), r.jsx(Ae, {
                                    value: "clients",
                                    children: "Tous les clients"
                                }), r.jsx(Ae, {
                                    value: "both",
                                    children: "Les deux (transporteurs + clients)"
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsxs("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [r.jsx("label", {
                                className: "text-sm font-medium",
                                children: "Message SMS"
                            }), r.jsxs("span", {
                                className: `text-xs ${t.length > 160 ? "text-red-500" : "text-muted-foreground"}`,
                                children: [t.length, "/160"]
                            })]
                        }), r.jsx(Va, {
                            placeholder: "Rdigez votre message ici (max 160 caractres)...",
                            value: t,
                            onChange: E => n(E.target.value),
                            rows: 4,
                            maxLength: 160,
                            "data-testid": "textarea-custom-message"
                        })]
                    }), r.jsxs(M, {
                        onClick: N,
                        disabled: y.isPending || !t.trim() || t.length > 160,
                        className: "w-full bg-green-600 hover:bg-green-700",
                        "data-testid": "button-send-custom-sms",
                        children: [r.jsx(ni, {
                            className: "h-4 w-4 mr-2"
                        }), y.isPending ? "Envoi en cours..." : "Envoyer le SMS"]
                    })]
                })
            })]
        }), r.jsxs(ce, {
            children: [r.jsxs(Ee, {
                children: [r.jsxs(Te, {
                    className: "flex items-center gap-2",
                    children: [r.jsx($r, {
                        className: "h-5 w-5"
                    }), "Envoi SMS  un numro spcifique"]
                }), r.jsx(Sn, {
                    children: "Envoyez un SMS personnalis  un seul numro de tlphone"
                })]
            }), r.jsx(ue, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx(bn, {
                            htmlFor: "single-phone",
                            children: "Numro de tlphone"
                        }), r.jsxs("div", {
                            className: "flex gap-2 mt-2",
                            children: [r.jsx("div", {
                                className: "flex items-center bg-muted px-3 rounded-md border",
                                children: r.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "+212"
                                })
                            }), r.jsx(Fe, {
                                id: "single-phone",
                                placeholder: "6XXXXXXXX",
                                value: l,
                                onChange: E => c(E.target.value.replace(/[^0-9]/g, "")),
                                maxLength: 9,
                                className: "flex-1",
                                "data-testid": "input-single-phone"
                            })]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground mt-1",
                            children: "Format: 9 chiffres (ex: 664373534)"
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsxs("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [r.jsx(bn, {
                                htmlFor: "single-message",
                                children: "Message SMS"
                            }), r.jsxs("span", {
                                className: `text-xs ${d.length > 160 ? "text-red-500" : "text-muted-foreground"}`,
                                children: [d.length, "/160"]
                            })]
                        }), r.jsx(Va, {
                            id: "single-message",
                            placeholder: "Votre message personnalis ici...",
                            value: d,
                            onChange: E => f(E.target.value),
                            rows: 4,
                            maxLength: 160,
                            "data-testid": "textarea-single-message"
                        })]
                    }), r.jsxs(M, {
                        onClick: S,
                        disabled: v.isPending || !l.trim() || !d.trim() || d.length > 160,
                        className: "w-full",
                        "data-testid": "button-send-single-sms",
                        children: [r.jsx(ni, {
                            className: "h-4 w-4 mr-2"
                        }), v.isPending ? "Envoi en cours..." : "Envoyer le SMS"]
                    })]
                })
            })]
        }), r.jsxs(ce, {
            children: [r.jsxs(Ee, {
                children: [r.jsxs(Te, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(fR, {
                        className: "h-5 w-5"
                    }), "Historique d'envois"]
                }), r.jsx(Sn, {
                    children: "Consultez l'historique de tous les SMS envoys depuis la plateforme"
                })]
            }), r.jsx(ue, {
                children: w ? r.jsx("p", {
                    className: "text-center text-muted-foreground py-8",
                    children: "Chargement de l'historique..."
                }) : g.length === 0 ? r.jsx("p", {
                    className: "text-center text-muted-foreground py-8",
                    children: "Aucun SMS envoy pour le moment"
                }) : r.jsx("div", {
                    className: "space-y-3",
                    children: g.map(E => r.jsxs("div", {
                        className: "flex items-center justify-between p-4 border rounded-lg hover-elevate",
                        "data-testid": `history-record-${E.id}`,
                        children: [r.jsxs("div", {
                            className: "flex-1 space-y-1",
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-3",
                                children: [r.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: Ur(new Date(E.createdAt), "dd/MM/yyyy  HH:mm", {
                                        locale: Wr
                                    })
                                }), C(E.status), r.jsx("span", {
                                    className: "text-xs text-muted-foreground",
                                    children: k(E.targetAudience)
                                }), r.jsxs("span", {
                                    className: "text-xs text-muted-foreground",
                                    children: [E.recipientCount, " destinataires"]
                                })]
                            }), r.jsx("p", {
                                className: "text-sm text-muted-foreground truncate",
                                children: E.message
                            })]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(M, {
                                variant: "ghost",
                                size: "icon",
                                onClick: () => o(E),
                                "data-testid": `button-view-${E.id}`,
                                children: r.jsx(is, {
                                    className: "h-4 w-4"
                                })
                            }), r.jsx(M, {
                                variant: "ghost",
                                size: "icon",
                                onClick: () => p.mutate(E.id),
                                disabled: p.isPending,
                                "data-testid": `button-delete-${E.id}`,
                                children: r.jsx(ts, {
                                    className: "h-4 w-4 text-red-500"
                                })
                            })]
                        })]
                    }, E.id))
                })
            })]
        }), r.jsx(yt, {
            open: !!i,
            onOpenChange: () => o(null),
            children: r.jsxs(pt, {
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Dtails du SMS"
                    }), r.jsx(Rt, {
                        children: "Informations compltes sur cet envoi"
                    })]
                }), i && r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Date et heure"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: Ur(new Date(i.createdAt), "dd/MM/yyyy  HH:mm:ss", {
                                locale: Wr
                            })
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Cible"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: k(i.targetAudience)
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Destinataires"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: i.recipientCount
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Statut"
                        }), r.jsx("div", {
                            className: "mt-1",
                            children: C(i.status)
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Message"
                        }), r.jsx("p", {
                            className: "text-sm mt-1 p-3 bg-muted rounded",
                            children: i.message
                        })]
                    }), i.adminName && r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Envoy par"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: i.adminName
                        })]
                    })]
                })]
            })
        })]
    })
}
function f2() {
    var qg, Kg, Qg;
    Zn();
    const [e,t] = u.useState(!1);
    u.useState("");
    const [n,s] = u.useState("10")
      , [a,i] = u.useState("")
      , [o,l] = u.useState(!1)
      , [c,d] = u.useState(!1)
      , [f,m] = u.useState(null)
      , [h,g] = u.useState(null)
      , [w,x] = u.useState(!1)
      , [y,v] = u.useState(null)
      , [p,j] = u.useState(!1)
      , [N,S] = u.useState(null)
      , [k,C] = u.useState("")
      , [E,A] = u.useState("")
      , [z,G] = u.useState("all")
      , [R,B] = u.useState("")
      , [U,J] = u.useState("")
      , [q,pe] = u.useState(null)
      , [D,V] = u.useState(!1)
      , [W,de] = u.useState(null)
      , [ke,Ye] = u.useState(!1)
      , [at,ut] = u.useState("")
      , [we,$] = u.useState(null)
      , [te,Ie] = u.useState(null)
      , [Le,Ve] = u.useState(null)
      , [$e,jt] = u.useState(null)
      , [Ot,ln] = u.useState("")
      , [Qt,wt] = u.useState("")
      , [cr,Gt] = u.useState("")
      , [Ss,Zs] = u.useState("")
      , [T,I] = u.useState(!1)
      , [F,ae] = u.useState("")
      , [re,Y] = u.useState("all")
      , [se,Oe] = u.useState(null)
      , [nt,L] = u.useState(!1)
      , [_e,Ct] = u.useState("")
      , [Lt,dr] = u.useState("")
      , [vn,Zr] = u.useState("")
      , [O,Se] = u.useState("")
      , [bt,Fn] = u.useState(null)
      , [Ys,zg] = u.useState(null)
      , [Vg,Hf] = u.useState(!1)
      , {toast: De} = on()
      , [Vi,m2] = u.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"))
      , {data: Ug=[]} = Ge({
        queryKey: ["/api/chat/messages", y == null ? void 0 : y.requestId],
        queryFn: async () => y != null && y.requestId ? (await fetch(`/api/chat/messages?requestId=${y.requestId}`)).json() : [],
        enabled: p && !!(y != null && y.requestId)
    });
    u.useEffect( () => {
        const b = async () => {
            try {
                const _ = await fetch(`/api/auth/me/${Vi.id}`);
                if (_.ok) {
                    const {user: ee} = await _.json();
                    localStorage.setItem("camionback_user", JSON.stringify(ee)),
                    m2(ee)
                } else
                    _.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (_) {
                console.error("Failed to refresh user data:", _)
            }
        }
        ;
        Vi.id && b()
    }
    , [Vi.id]);
    const h2 = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: td=[], isLoading: p2} = Ge({
        queryKey: ["/api/admin/pending-drivers"],
        queryFn: async () => (await fetch("/api/admin/pending-drivers")).json()
    })
      , {data: Nr=[]} = Ge({
        queryKey: ["/api/requests"],
        queryFn: async () => (await fetch("/api/requests")).json()
    })
      , {data: Zt=[]} = Ge({
        queryKey: ["/api/users"],
        queryFn: async () => (await fetch("/api/users")).json()
    })
      , {data: ur} = Ge({
        queryKey: ["/api/admin/settings"],
        queryFn: async () => (await fetch("/api/admin/settings")).json()
    })
      , {data: Yr=[]} = Ge({
        queryKey: ["/api/offers/all"],
        queryFn: async () => (await fetch("/api/offers")).json()
    })
      , {data: nd=[], isLoading: x2} = Ge({
        queryKey: ["/api/empty-returns"],
        queryFn: async () => (await fetch("/api/empty-returns")).json()
    })
      , {data: Qa=[]} = Ge({
        queryKey: ["/api/contracts"],
        queryFn: async () => (await fetch("/api/contracts")).json()
    })
      , {data: ul=[]} = Ge({
        queryKey: ["/api/admin/conversations"],
        queryFn: async () => (await fetch("/api/admin/conversations")).json()
    })
      , {data: be} = Ge({
        queryKey: ["/api/admin/stats"],
        queryFn: async () => (await fetch("/api/admin/stats")).json()
    })
      , {data: Xr=[], isLoading: qf, error: Ui} = Ge({
        queryKey: ["/api/admin/transporters"],
        queryFn: async () => {
            console.log(" [ADMIN] Fetching transporters from /api/admin/transporters");
            const b = await fetch("/api/admin/transporters");
            if (console.log(" [ADMIN] Response status:", b.status, b.statusText),
            !b.ok) {
                const ee = await b.text();
                throw console.error(" [ADMIN] API Error:", ee),
                new Error(`Failed to fetch transporters: ${b.status} - ${ee}`)
            }
            const _ = await b.json();
            return console.log(" [ADMIN] Transporters data received:", {
                count: _.length,
                firstItem: _[0],
                allItems: _
            }),
            _
        }
    });
    u.useEffect( () => {
        console.log(" [ADMIN] Transporters state update:", {
            loading: qf,
            error: Ui == null ? void 0 : Ui.message,
            count: Xr == null ? void 0 : Xr.length,
            hasData: Array.isArray(Xr),
            data: Xr
        })
    }
    , [Xr, qf, Ui]);
    const {data: Sr, isLoading: g2} = Ge({
        queryKey: ["/api/admin/transporters", Ys, "photo"],
        queryFn: async () => {
            if (!Ys)
                return null;
            const b = await fetch(`/api/admin/transporters/${Ys}/photo`);
            return b.ok ? b.json() : null
        }
        ,
        enabled: Vg && !!Ys
    })
      , {data: Kf=[]} = Ge({
        queryKey: ["/api/admin/clients"],
        queryFn: async () => (await fetch("/api/admin/clients")).json()
    })
      , {data: fl=[], isLoading: v2} = Ge({
        queryKey: ["/api/reports"],
        queryFn: async () => (await fetch("/api/reports")).json()
    })
      , {data: Qf=[], isLoading: y2} = Ge({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    });
    Qa.filter(b => b.status === "in_progress" || b.status === "marked_paid_transporter" || b.status === "marked_paid_client").length,
    Qa.filter(b => b.status === "completed").length;
    const rd = Nr.filter(b => b.paymentStatus === "pending_admin_validation")
      , ml = [...Nr].filter(b => {
        var _, ee, je, H;
        if (re !== "all" && re !== b.status)
            return !1;
        if (F.trim() !== "") {
            const ve = F.toLowerCase().trim()
              , rt = Zt.find(qe => qe.id === b.clientId);
            return !!((_ = b.referenceId) != null && _.toString().toLowerCase().includes(ve) || (ee = rt == null ? void 0 : rt.phoneNumber) != null && ee.toString().toLowerCase().includes(ve) || (je = b.fromCity) != null && je.toString().toLowerCase().includes(ve) || (H = b.toCity) != null && H.toString().toLowerCase().includes(ve))
        }
        return !0
    }
    ).sort( (b, _) => {
        const ee = b.createdAt ? new Date(b.createdAt).getTime() : 0;
        return (_.createdAt ? new Date(_.createdAt).getTime() : 0) - ee
    }
    )
      , Wg = async (b, _) => {
        try {
            if (!(await fetch(`/api/admin/validate-driver/${b}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    validated: _
                })
            })).ok)
                throw new Error;
            De({
                title: _ ? "Transporteur valid" : "Transporteur refus",
                description: _ ? "Le transporteur a t valid avec succs" : "Le transporteur a t refus"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            })
        } catch {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la validation"
            })
        }
    }
      , j2 = async b => {
        try {
            if (!(await fetch(`/api/requests/${b}/admin-validate-payment`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                }
            })).ok)
                throw new Error;
            De({
                title: "Paiement valid",
                description: "Le paiement a t valid avec succs"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la validation du paiement"
            })
        }
    }
      , w2 = async b => {
        try {
            if (!(await fetch(`/api/requests/${b}/admin-reject-receipt`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                }
            })).ok)
                throw new Error;
            De({
                title: "Reu refus",
                description: "Le reu a t refus. Le client pourra tlverser un nouveau reu."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec du refus du reu"
            })
        }
    }
      , Bg = async (b, _) => {
        try {
            await ze("POST", `/api/offers/${b}/accept`, {
                adminAccept: !0
            }),
            De({
                title: "Offre accepte",
                description: "L'offre a t accepte avec succs. Le transporteur et le client ont t notifis."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers/all"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'acceptation de l'offre"
            })
        }
    }
      , Gf = async (b, _) => {
        if (confirm(`Voulez-vous bloquer ce ${_ === "client" ? "client" : "transporteur"} ? Il ne pourra plus se connecter ni utiliser la plateforme.`))
            try {
                await ze("POST", `/api/admin/block-user/${b}`, {}),
                De({
                    title: "Utilisateur bloqu",
                    description: "L'utilisateur a t bloqu avec succs et a reu une notification."
                }),
                ye.invalidateQueries({
                    queryKey: ["/api/admin/transporters"]
                }),
                ye.invalidateQueries({
                    queryKey: ["/api/admin/clients"]
                })
            } catch {
                De({
                    variant: "destructive",
                    title: "Erreur",
                    description: "chec du blocage de l'utilisateur"
                })
            }
    }
      , Hg = async (b, _) => {
        try {
            await ze("POST", `/api/admin/unblock-user/${b}`, {}),
            De({
                title: "Utilisateur dbloqu",
                description: "L'utilisateur a t dbloqu avec succs et peut  nouveau utiliser la plateforme."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/clients"]
            })
        } catch {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec du dblocage de l'utilisateur"
            })
        }
    }
      , Zf = Xe({
        mutationFn: async ({emptyReturnId: b, requestId: _}) => await ze("POST", `/api/empty-returns/${b}/assign`, {
            requestId: _
        }),
        onSuccess: () => {
            De({
                title: "Commande affecte",
                description: "La commande a t affecte au transporteur avec succs"
            }),
            d(!1),
            m(null),
            ye.invalidateQueries({
                queryKey: ["/api/empty-returns"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'affectation de la commande"
            })
        }
    })
      , sd = Xe({
        mutationFn: async ({reportId: b, status: _, resolution: ee}) => await ze("PATCH", `/api/reports/${b}`, {
            status: _,
            resolution: ee
        }),
        onSuccess: () => {
            De({
                title: "Signalement mis  jour",
                description: "Le statut du signalement a t modifi avec succs"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/reports"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la mise  jour du signalement"
            })
        }
    })
      , b2 = Xe({
        mutationFn: async ({requestId: b, isHidden: _}) => await ze("PATCH", `/api/requests/${b}/toggle-hide`, {
            isHidden: _
        }),
        onSuccess: (b, _) => {
            De({
                title: _.isHidden ? "Demande masque" : "Demande raffiche",
                description: _.isHidden ? "La demande a t masque aux transporteurs" : "La demande est  nouveau visible pour les transporteurs"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier la visibilit de la demande"
            })
        }
    })
      , N2 = Xe({
        mutationFn: async b => await ze("DELETE", `/api/requests/${b}`),
        onSuccess: () => {
            De({
                title: "Demande supprime",
                description: "La demande a t supprime dfinitivement"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer la demande"
            })
        }
    })
      , S2 = Xe({
        mutationFn: async ({requestId: b, updates: _}) => await ze("PATCH", `/api/requests/${b}`, _),
        onSuccess: () => {
            De({
                title: "Statut modifi",
                description: "Le statut de la demande a t mis  jour"
            }),
            ye.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            Ye(!1)
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier le statut"
            })
        }
    })
      , C2 = Xe({
        mutationFn: async b => await ze("DELETE", `/api/admin/offers/${b}`),
        onSuccess: () => {
            De({
                title: "Offre supprime",
                description: "L'offre a t supprime avec succs"
            }),
            Ve(null),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer l'offre"
            })
        }
    })
      , k2 = Xe({
        mutationFn: async ({offerId: b, updates: _}) => await ze("PATCH", `/api/admin/offers/${b}`, _),
        onSuccess: () => {
            De({
                title: "Offre modifie",
                description: "L'offre a t modifie avec succs"
            }),
            jt(null),
            ln(""),
            wt(""),
            Gt(""),
            ye.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier l'offre"
            })
        }
    })
      , Yf = Xe({
        mutationFn: async b => await ze("DELETE", `/api/admin/users/${b}`),
        onSuccess: () => {
            De({
                title: "Compte supprim",
                description: " Compte supprim avec succs. L'utilisateur peut dsormais se rinscrire librement."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/users"]
            }),
            ye.invalidateQueries({
                queryKey: ["/api/admin/client-statistics"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer le compte"
            })
        }
    })
      , E2 = Xe({
        mutationFn: async ({transporterId: b, formData: _}) => {
            const ee = await fetch(`/api/admin/transporters/${b}`, {
                method: "PATCH",
                body: _
            });
            if (!ee.ok)
                throw new Error("chec de la mise  jour");
            return ee.json()
        }
        ,
        onSuccess: () => {
            De({
                title: "Succs",
                description: " Les informations du transporteur ont t mises  jour avec succs."
            }),
            L(!1),
            Oe(null),
            Ct(""),
            dr(""),
            Zr(""),
            Se(""),
            Fn(null),
            ye.invalidateQueries({
                queryKey: ["/api/users"]
            })
        }
        ,
        onError: () => {
            De({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de mettre  jour le transporteur"
            })
        }
    })
      , T2 = () => {
        if (!se)
            return;
        const b = new FormData;
        _e.trim() && b.append("name", _e.trim()),
        Lt.trim() && b.append("city", Lt.trim()),
        vn.trim() && b.append("phoneNumber", vn.trim()),
        O.trim() && b.append("newPassword", O.trim()),
        bt && b.append("truckPhoto", bt),
        E2.mutate({
            transporterId: se.id,
            formData: b
        })
    }
      , Xf = b => b === 0 ? "Aucun changement" : `${b > 0 ? "+" : ""}${b}% ce mois`;
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: Vi,
            onLogout: h2
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                className: "flex items-center justify-between",
                children: [r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Administration"
                    }), r.jsx("p", {
                        className: "text-muted-foreground mt-1",
                        children: "Grez la plateforme CamionBack"
                    })]
                }), r.jsxs("div", {
                    className: "flex gap-2",
                    children: [r.jsxs(M, {
                        variant: "outline",
                        onClick: () => {
                            ye.invalidateQueries(),
                            De({
                                title: " Donnes actualises",
                                description: "Toutes les donnes ont t rafrachies avec succs"
                            })
                        }
                        ,
                        "data-testid": "button-refresh-dashboard",
                        className: "hover:text-[#17cfcf] hover:border-[#17cfcf]",
                        children: [r.jsx(NR, {
                            className: "mr-2 h-4 w-4"
                        }), "Actualiser"]
                    }), r.jsxs(M, {
                        onClick: () => t(!0),
                        "data-testid": "button-add-transporter",
                        children: [r.jsx(sp, {
                            className: "mr-2 h-5 w-5"
                        }), "Ajouter transporteur"]
                    })]
                })]
            }), r.jsxs("div", {
                className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                children: [r.jsx(Ad, {
                    title: "Clients actifs",
                    value: (be == null ? void 0 : be.activeClients) || 0,
                    icon: Ts,
                    trend: (be == null ? void 0 : be.activeClientsTrend) !== void 0 ? Xf(be.activeClientsTrend) : "...",
                    trendUp: be != null && be.activeClientsTrend ? be.activeClientsTrend > 0 : void 0
                }), r.jsx(Ad, {
                    title: "Transporteurs actifs",
                    value: (be == null ? void 0 : be.activeDrivers) || 0,
                    icon: Ts,
                    trend: (be == null ? void 0 : be.activeDriversTrend) !== void 0 ? Xf(be.activeDriversTrend) : "...",
                    trendUp: be != null && be.activeDriversTrend ? be.activeDriversTrend > 0 : void 0
                }), r.jsx(Ad, {
                    title: "Demandes totales",
                    value: (be == null ? void 0 : be.totalRequests) || 0,
                    icon: Ut,
                    trend: "",
                    trendUp: void 0
                }), r.jsx(Ad, {
                    title: "Commissions totales",
                    value: `${((qg = be == null ? void 0 : be.totalCommissions) == null ? void 0 : qg.toLocaleString("fr-MA")) || 0} MAD`,
                    icon: Hl,
                    trend: (be == null ? void 0 : be.commissionsTrend) !== void 0 ? Xf(be.commissionsTrend) : "...",
                    trendUp: be != null && be.commissionsTrend ? be.commissionsTrend > 0 : void 0
                })]
            }), r.jsxs(rg, {
                defaultValue: "requests",
                className: "w-full",
                children: [r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs("div", {
                        className: "bg-muted/30 p-2 rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-xs text-muted-foreground mb-2 px-2 font-medium",
                            children: "Oprations"
                        }), r.jsxs(pc, {
                            className: "flex lg:grid w-full lg:grid-cols-7 overflow-x-auto text-xs sm:text-sm",
                            children: [r.jsx($t, {
                                value: "requests",
                                "data-testid": "tab-requests",
                                className: "flex-shrink-0",
                                children: "Demandes"
                            }), r.jsxs($t, {
                                value: "offers",
                                "data-testid": "tab-offers",
                                className: "flex-shrink-0",
                                children: ["Offres", Yr.length > 0 && r.jsx(he, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: Yr.length
                                })]
                            }), r.jsxs($t, {
                                value: "contracts",
                                "data-testid": "tab-contracts",
                                className: "flex-shrink-0",
                                children: ["Contrats", Qa.length > 0 && r.jsx(he, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: Qa.length
                                })]
                            }), r.jsxs($t, {
                                value: "messages",
                                "data-testid": "tab-messages",
                                className: "flex-shrink-0",
                                children: [r.jsx(rr, {
                                    className: "w-4 h-4 mr-1"
                                }), "Messages", ul.length > 0 && r.jsx(he, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    "data-testid": "badge-messages-count",
                                    children: ul.length
                                })]
                            }), r.jsxs($t, {
                                value: "to-pay",
                                "data-testid": "tab-to-pay",
                                className: "flex-shrink-0",
                                children: [" payer", rd.length > 0 && r.jsx(he, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: rd.length
                                })]
                            }), r.jsxs($t, {
                                value: "validation",
                                "data-testid": "tab-validation",
                                className: "flex-shrink-0",
                                children: ["Validation", td.length > 0 && r.jsx(he, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: td.length
                                })]
                            }), r.jsxs($t, {
                                value: "empty-returns",
                                "data-testid": "tab-empty-returns",
                                className: "flex-shrink-0",
                                children: [r.jsx(Xt, {
                                    className: "w-4 h-4 mr-1"
                                }), "Retours", nd.length > 0 && r.jsx(he, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs bg-[#00d4b2]",
                                    children: nd.length
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "bg-muted/30 p-2 rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-xs text-muted-foreground mb-2 px-2 font-medium",
                            children: "Gestion & Configuration"
                        }), r.jsxs(pc, {
                            className: "flex lg:grid w-full lg:grid-cols-8 overflow-x-auto text-xs sm:text-sm",
                            children: [r.jsx($t, {
                                value: "drivers",
                                "data-testid": "tab-drivers",
                                className: "flex-shrink-0",
                                children: "Transporteurs"
                            }), r.jsx($t, {
                                value: "clients",
                                "data-testid": "tab-clients",
                                className: "flex-shrink-0",
                                children: "Clients"
                            }), r.jsxs($t, {
                                value: "reports",
                                "data-testid": "tab-reports",
                                className: "flex-shrink-0",
                                children: [r.jsx(mi, {
                                    className: "w-4 h-4 mr-1"
                                }), "Signalements", fl.filter(b => b.status === "pending").length > 0 && r.jsx(he, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: fl.filter(b => b.status === "pending").length
                                })]
                            }), r.jsxs($t, {
                                value: "communications",
                                "data-testid": "tab-communications",
                                className: "flex-shrink-0",
                                children: [r.jsx(ni, {
                                    className: "w-4 h-4 mr-1"
                                }), "Communications"]
                            }), r.jsx($t, {
                                value: "facturation",
                                "data-testid": "tab-facturation",
                                className: "flex-shrink-0",
                                children: "Facturation"
                            }), r.jsx($t, {
                                value: "cities",
                                "data-testid": "tab-cities",
                                className: "flex-shrink-0",
                                children: "Villes"
                            }), r.jsx($t, {
                                value: "stats",
                                "data-testid": "tab-stats",
                                className: "flex-shrink-0",
                                children: "Statistiques"
                            }), r.jsx($t, {
                                value: "settings",
                                "data-testid": "tab-settings",
                                className: "flex-shrink-0",
                                children: "Paramtres"
                            })]
                        })]
                    })]
                }), r.jsx(zt, {
                    value: "requests",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(ia, {
                                    className: "w-5 h-5"
                                }), "Toutes les demandes", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-requests",
                                    children: ["Total: ", Nr.length]
                                })]
                            })
                        }), r.jsxs(ue, {
                            children: [r.jsxs("div", {
                                className: "mb-6 space-y-4",
                                children: [r.jsxs("div", {
                                    className: "flex flex-col sm:flex-row gap-4",
                                    children: [r.jsx("div", {
                                        className: "flex-1",
                                        children: r.jsxs("div", {
                                            className: "relative",
                                            children: [r.jsx(hr, {
                                                className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"
                                            }), r.jsx(Fe, {
                                                type: "text",
                                                placeholder: "Rechercher par n commande, tlphone, ville dpart ou arrive...",
                                                value: F,
                                                onChange: b => ae(b.target.value),
                                                className: "pl-10",
                                                "data-testid": "input-search-requests"
                                            })]
                                        })
                                    }), r.jsx("div", {
                                        className: "w-full sm:w-64",
                                        children: r.jsxs(Jt, {
                                            value: re,
                                            onValueChange: Y,
                                            children: [r.jsx(Ht, {
                                                "data-testid": "select-filter-status",
                                                children: r.jsx(en, {
                                                    placeholder: "Filtrer par statut"
                                                })
                                            }), r.jsxs(qt, {
                                                children: [r.jsx(Ae, {
                                                    value: "all",
                                                    children: "Tous les statuts"
                                                }), r.jsx(Ae, {
                                                    value: "open",
                                                    children: " En attente d'offre"
                                                }), r.jsx(Ae, {
                                                    value: "accepted",
                                                    children: " Accepte"
                                                }), r.jsx(Ae, {
                                                    value: "completed",
                                                    children: " Termine"
                                                }), r.jsx(Ae, {
                                                    value: "cancelled",
                                                    children: " Annule"
                                                })]
                                            })]
                                        })
                                    })]
                                }), (F || re !== "all") && r.jsxs("div", {
                                    className: "flex items-center gap-2 text-sm text-muted-foreground",
                                    children: [r.jsxs("span", {
                                        children: [ml.length, " rsultat", ml.length > 1 ? "s" : "", " trouv", ml.length > 1 ? "s" : ""]
                                    }), (F || re !== "all") && r.jsx(M, {
                                        variant: "ghost",
                                        size: "sm",
                                        onClick: () => {
                                            ae(""),
                                            Y("all")
                                        }
                                        ,
                                        className: "h-6 px-2",
                                        "data-testid": "button-clear-filters",
                                        children: "Rinitialiser les filtres"
                                    })]
                                })]
                            }), Nr.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(ia, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune demande pour le moment"
                                })]
                            }) : ml.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(hr, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune demande ne correspond  vos critres de recherche"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs($n, {
                                    children: [r.jsx(zn, {
                                        children: r.jsxs(Nt, {
                                            children: [r.jsx(K, {
                                                children: "Rfrence"
                                            }), r.jsx(K, {
                                                children: "Date de publication"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "De  Vers"
                                            }), r.jsx(K, {
                                                children: "Date souhaite"
                                            }), r.jsx(K, {
                                                children: "Prix estim"
                                            }), r.jsx(K, {
                                                children: "Offres"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Vn, {
                                        children: ml.map(b => {
                                            var ve;
                                            const _ = Zt.find(rt => rt.id === b.clientId)
                                              , ee = rt => {
                                                if (!rt)
                                                    return "N/A";
                                                try {
                                                    const qe = new Date(rt)
                                                      , un = String(qe.getDate()).padStart(2, "0")
                                                      , Cr = String(qe.getMonth() + 1).padStart(2, "0")
                                                      , _2 = qe.getFullYear()
                                                      , P2 = String(qe.getHours()).padStart(2, "0")
                                                      , R2 = String(qe.getMinutes()).padStart(2, "0");
                                                    return `${un}/${Cr}/${_2} - ${P2}:${R2}`
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , je = rt => {
                                                if (!rt)
                                                    return "N/A";
                                                try {
                                                    return new Date(rt).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , H = rt => rt === "open" ? r.jsx(he, {
                                                variant: "default",
                                                children: "Ouverte"
                                            }) : rt === "accepted" ? r.jsx(he, {
                                                className: "bg-blue-600",
                                                children: "Accepte"
                                            }) : rt === "completed" ? r.jsx(he, {
                                                className: "bg-green-600",
                                                children: "Complte"
                                            }) : r.jsx(he, {
                                                variant: "secondary",
                                                children: rt
                                            });
                                            return r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: b.referenceId
                                                }), r.jsx(Q, {
                                                    className: "text-sm",
                                                    children: ee(b.createdAt)
                                                }), r.jsx(Q, {
                                                    children: (_ == null ? void 0 : _.phoneNumber) || "Non dfini"
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "text-sm",
                                                        children: [b.fromCity, "  ", b.toCity]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: je(b.dateTime)
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold text-primary",
                                                    children: [(ve = b.estimatedPrice) == null ? void 0 : ve.toLocaleString("fr-MA"), " MAD"]
                                                }), r.jsx(Q, {
                                                    children: r.jsxs(he, {
                                                        variant: "secondary",
                                                        "data-testid": `badge-offers-count-${b.id}`,
                                                        children: [b.offersCount || 0, " ", b.offersCount === 1 ? "offre" : "offres"]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: H(b.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex justify-end gap-2",
                                                        children: [r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                de(b),
                                                                Ye(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-request-${b.id}`,
                                                            children: r.jsx(is, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                b2.mutate({
                                                                    requestId: b.id,
                                                                    isHidden: !b.isHidden
                                                                })
                                                            }
                                                            ,
                                                            "data-testid": `button-toggle-hide-${b.id}`,
                                                            className: b.isHidden ? "text-yellow-600 hover:text-yellow-700" : "",
                                                            children: b.isHidden ? r.jsx(is, {
                                                                className: "h-4 w-4"
                                                            }) : r.jsx(Qb, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(`Voulez-vous vraiment supprimer dfinitivement la demande ${b.referenceId} ?`) && N2.mutate(b.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-request-${b.id}`,
                                                            children: r.jsx(ts, {
                                                                className: "h-4 w-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, b.id)
                                        }
                                        )
                                    })]
                                })
                            })]
                        })]
                    })
                }), r.jsx(zt, {
                    value: "offers",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ut, {
                                    className: "w-5 h-5"
                                }), "Offres transporteurs", r.jsxs(he, {
                                    className: "ml-2",
                                    children: ["Total: ", Yr.length]
                                })]
                            })
                        }), r.jsx(ue, {
                            children: Yr.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ut, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune offre pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs($n, {
                                    children: [r.jsx(zn, {
                                        children: r.jsxs(Nt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Date client"
                                            }), r.jsx(K, {
                                                children: "Date transporteur"
                                            }), r.jsx(K, {
                                                children: "Prix initial"
                                            }), r.jsx(K, {
                                                children: "Prix propos"
                                            }), r.jsx(K, {
                                                children: "Type chargement"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Action"
                                            })]
                                        })
                                    }), r.jsx(Vn, {
                                        children: Yr.map(b => {
                                            const _ = Nr.find(qe => qe.id === b.requestId)
                                              , ee = Zt.find(qe => qe.id === (_ == null ? void 0 : _.clientId))
                                              , je = Zt.find(qe => qe.id === b.transporterId)
                                              , H = qe => {
                                                if (!qe)
                                                    return "N/A";
                                                try {
                                                    return new Date(qe).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , ve = qe => qe === "return" ? "Retour" : qe === "shared" ? "Groupage" : "N/A"
                                              , rt = qe => qe === "accepted" ? r.jsx(he, {
                                                className: "bg-green-600",
                                                children: "Accepte"
                                            }) : qe === "rejected" ? r.jsx(he, {
                                                variant: "destructive",
                                                children: "Refuse"
                                            }) : qe === "completed" ? r.jsx(he, {
                                                className: "bg-blue-600",
                                                children: "Complte"
                                            }) : r.jsx(he, {
                                                variant: "secondary",
                                                children: "En attente"
                                            });
                                            return r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-ref-${b.id}`,
                                                    children: (_ == null ? void 0 : _.referenceId) || "N/A"
                                                }), r.jsxs(Q, {
                                                    "data-testid": `text-client-${b.id}`,
                                                    children: ["Client ", (ee == null ? void 0 : ee.clientId) || "Non dfini"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-transporter-${b.id}`,
                                                    children: (je == null ? void 0 : je.phoneNumber) || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-date-${b.id}`,
                                                    children: H(_ == null ? void 0 : _.dateTime)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-transporter-date-${b.id}`,
                                                    children: H(b.pickupDate)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-budget-${b.id}`,
                                                    children: _ != null && _.budget ? `${_.budget} MAD` : "N/A"
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold",
                                                    "data-testid": `text-amount-${b.id}`,
                                                    children: [b.amount, " MAD"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-load-type-${b.id}`,
                                                    children: ve(b.loadType)
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-status-${b.id}`,
                                                    children: rt(b.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex items-center justify-end gap-2",
                                                        children: [b.status === "pending" && r.jsxs(r.Fragment, {
                                                            children: [r.jsx(M, {
                                                                size: "sm",
                                                                variant: "ghost",
                                                                onClick: () => {
                                                                    jt(b),
                                                                    ln(b.amount),
                                                                    wt(b.pickupDate ? new Date(b.pickupDate).toISOString().split("T")[0] : ""),
                                                                    Gt(b.loadType || "")
                                                                }
                                                                ,
                                                                "data-testid": `button-edit-offer-${b.id}`,
                                                                title: "Modifier l'offre",
                                                                children: r.jsx(Rm, {
                                                                    className: "h-4 w-4"
                                                                })
                                                            }), r.jsx(M, {
                                                                size: "sm",
                                                                className: "bg-[#00cc88] hover:bg-[#00b377]",
                                                                onClick: () => Bg(b.id, _ == null ? void 0 : _.id),
                                                                "data-testid": `button-accept-offer-${b.id}`,
                                                                children: "Accepter"
                                                            })]
                                                        }), r.jsx(M, {
                                                            size: "sm",
                                                            variant: "ghost",
                                                            onClick: () => Ve(b.id),
                                                            "data-testid": `button-delete-offer-${b.id}`,
                                                            title: "Supprimer l'offre",
                                                            children: r.jsx(ts, {
                                                                className: "h-4 w-4 text-destructive"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, b.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "contracts",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ut, {
                                    className: "w-5 h-5"
                                }), "Contrats", r.jsxs(he, {
                                    className: "ml-2",
                                    children: ["Total: ", Qa.length]
                                })]
                            })
                        }), r.jsx(ue, {
                            children: Qa.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ut, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun contrat pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs($n, {
                                    children: [r.jsx(zn, {
                                        children: r.jsxs(Nt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Montant"
                                            }), r.jsx(K, {
                                                children: "Date cration"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Action"
                                            })]
                                        })
                                    }), r.jsx(Vn, {
                                        children: Qa.map(b => {
                                            const _ = Zt.find(ve => ve.id === b.clientId)
                                              , ee = Zt.find(ve => ve.id === b.transporterId)
                                              , je = ve => {
                                                if (!ve)
                                                    return "N/A";
                                                try {
                                                    return new Date(ve).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , H = ve => ve === "in_progress" ? r.jsx(he, {
                                                className: "bg-blue-600",
                                                children: "En cours d'excution"
                                            }) : ve === "marked_paid_transporter" ? r.jsx(he, {
                                                className: "bg-yellow-600",
                                                children: "Pay ct transporteur"
                                            }) : ve === "marked_paid_client" ? r.jsx(he, {
                                                className: "bg-orange-600",
                                                children: "Pay ct client"
                                            }) : ve === "completed" ? r.jsx(he, {
                                                className: "bg-green-600",
                                                children: "Termin"
                                            }) : r.jsx(he, {
                                                variant: "secondary",
                                                children: "Inconnu"
                                            });
                                            return r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-contract-ref-${b.id}`,
                                                    children: b.referenceId || "N/A"
                                                }), r.jsxs(Q, {
                                                    "data-testid": `text-contract-client-${b.id}`,
                                                    children: ["Client ", (_ == null ? void 0 : _.clientId) || "Non dfini"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-contract-transporter-${b.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [r.jsx("span", {
                                                            children: (ee == null ? void 0 : ee.name) || "N/A"
                                                        }), r.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: (ee == null ? void 0 : ee.phoneNumber) || ""
                                                        })]
                                                    })
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold",
                                                    "data-testid": `text-contract-amount-${b.id}`,
                                                    children: [b.amount, " MAD"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-contract-date-${b.id}`,
                                                    children: je(b.createdAt)
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-contract-status-${b.id}`,
                                                    children: H(b.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsx(M, {
                                                        size: "icon",
                                                        variant: "ghost",
                                                        className: "hover:bg-[#3498db]/10",
                                                        onClick: () => {
                                                            g(b),
                                                            x(!0)
                                                        }
                                                        ,
                                                        "data-testid": `button-view-contract-${b.id}`,
                                                        children: r.jsx(is, {
                                                            className: "w-5 h-5 text-[#3498db]"
                                                        })
                                                    })
                                                })]
                                            }, b.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "messages",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(rr, {
                                    className: "w-5 h-5"
                                }), "Messages", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-conversations",
                                    children: ["Total: ", ul.length]
                                })]
                            })
                        }), r.jsx(ue, {
                            children: ul.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(rr, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune conversation pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs($n, {
                                    children: [r.jsx(zn, {
                                        children: r.jsxs(Nt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Dernier message"
                                            }), r.jsx(K, {
                                                children: "Nb messages"
                                            }), r.jsx(K, {
                                                children: "Aperu"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Vn, {
                                        children: ul.map(b => {
                                            const _ = je => {
                                                if (!je)
                                                    return "N/A";
                                                try {
                                                    return new Date(je).toLocaleString("fr-FR", {
                                                        day: "2-digit",
                                                        month: "2-digit",
                                                        year: "numeric",
                                                        hour: "2-digit",
                                                        minute: "2-digit"
                                                    })
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , ee = (je, H=50) => je ? je.length > H ? je.substring(0, H) + "..." : je : "";
                                            return r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-conv-ref-${b.requestId}`,
                                                    children: b.referenceId || "N/A"
                                                }), r.jsxs(Q, {
                                                    "data-testid": `text-conv-client-${b.requestId}`,
                                                    children: ["Client ", b.clientId || "Non dfini"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-transporter-${b.requestId}`,
                                                    children: b.transporterName || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-date-${b.requestId}`,
                                                    children: _(b.lastMessage.createdAt)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-count-${b.requestId}`,
                                                    children: r.jsx(he, {
                                                        variant: "secondary",
                                                        children: b.messageCount
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "max-w-xs",
                                                    "data-testid": `text-conv-preview-${b.requestId}`,
                                                    children: r.jsxs("span", {
                                                        className: "text-sm text-muted-foreground italic",
                                                        children: ['"', ee(b.lastMessage.text), '"']
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex justify-end gap-2",
                                                        children: [r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "hover:bg-[#3498db]/10",
                                                            onClick: () => {
                                                                v(b),
                                                                j(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-conversation-${b.requestId}`,
                                                            children: r.jsx(is, {
                                                                className: "w-5 h-5 text-[#3498db]"
                                                            })
                                                        }), r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "hover:bg-destructive/10",
                                                            onClick: () => {
                                                                S(b.requestId)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-conversation-${b.requestId}`,
                                                            children: r.jsx(ts, {
                                                                className: "w-5 h-5 text-destructive"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, b.requestId)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "validation",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ey, {
                                    className: "w-5 h-5"
                                }), "Validation des transporteurs"]
                            })
                        }), r.jsx(ue, {
                            children: p2 ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(Xa, {
                                    message: "Chargement des transporteurs...",
                                    size: "md"
                                })
                            }) : td.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ey, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun transporteur en attente de validation"
                                })]
                            }) : r.jsxs($n, {
                                children: [r.jsx(zn, {
                                    children: r.jsxs(Nt, {
                                        children: [r.jsx(K, {
                                            children: "Nom"
                                        }), r.jsx(K, {
                                            children: "Tlphone"
                                        }), r.jsx(K, {
                                            children: "Ville"
                                        }), r.jsx(K, {
                                            children: "Photo camion"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Vn, {
                                    children: td.map(b => r.jsxs(Nt, {
                                        children: [r.jsx(Q, {
                                            className: "font-medium",
                                            children: b.name
                                        }), r.jsx(Q, {
                                            children: b.phoneNumber
                                        }), r.jsx(Q, {
                                            children: b.city
                                        }), r.jsx(Q, {
                                            children: b.truckPhotos && b.truckPhotos.length > 0 ? r.jsx("img", {
                                                src: b.truckPhotos[0],
                                                alt: "Camion",
                                                className: "w-16 h-16 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",
                                                onClick: () => {
                                                    Zs(b.truckPhotos[0]),
                                                    I(!0)
                                                }
                                                ,
                                                "data-testid": `img-truck-${b.id}`
                                            }) : r.jsx("span", {
                                                className: "text-muted-foreground text-sm",
                                                children: "Aucune photo"
                                            })
                                        }), r.jsx(Q, {
                                            className: "text-right",
                                            children: r.jsxs("div", {
                                                className: "flex gap-2 justify-end",
                                                children: [r.jsxs(M, {
                                                    size: "sm",
                                                    variant: "default",
                                                    onClick: () => Wg(b.id, !0),
                                                    "data-testid": `button-validate-${b.id}`,
                                                    children: [r.jsx(Hn, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Valider"]
                                                }), r.jsxs(M, {
                                                    size: "sm",
                                                    variant: "destructive",
                                                    onClick: () => Wg(b.id, !1),
                                                    "data-testid": `button-reject-${b.id}`,
                                                    children: [r.jsx(kd, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Refuser"]
                                                }), r.jsx(M, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    className: "text-destructive hover:text-destructive",
                                                    onClick: () => {
                                                        confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte transporteur ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (offres, messages, etc.).`) && Yf.mutate(b.id)
                                                    }
                                                    ,
                                                    "data-testid": `button-delete-user-${b.id}`,
                                                    children: r.jsx(ts, {
                                                        className: "w-4 h-4"
                                                    })
                                                })]
                                            })
                                        })]
                                    }, b.id))
                                })]
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "to-pay",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ls, {
                                    className: "w-5 h-5"
                                }), "Paiements en attente de validation"]
                            })
                        }), r.jsx(ue, {
                            children: rd.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ls, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun paiement en attente de validation"
                                })]
                            }) : r.jsxs($n, {
                                children: [r.jsx(zn, {
                                    children: r.jsxs(Nt, {
                                        children: [r.jsx(K, {
                                            children: "N Commande"
                                        }), r.jsx(K, {
                                            children: "Client"
                                        }), r.jsx(K, {
                                            children: "Transporteur"
                                        }), r.jsx(K, {
                                            children: "Montant net"
                                        }), r.jsx(K, {
                                            children: "Total client"
                                        }), r.jsx(K, {
                                            children: "Commission"
                                        }), r.jsx(K, {
                                            children: "Reu"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Vn, {
                                    children: rd.map(b => {
                                        const _ = Zt.find(un => un.id === b.clientId)
                                          , ee = b.acceptedOfferId ? Yr.find(un => un.id === b.acceptedOfferId) : null
                                          , je = ee ? Zt.find(un => un.id === ee.transporterId) : null
                                          , H = ee ? parseFloat(ee.amount) : 0
                                          , ve = (ur == null ? void 0 : ur.commissionPercentage) || 10
                                          , rt = H * (ve / 100)
                                          , qe = H + rt;
                                        return r.jsxs(Nt, {
                                            children: [r.jsx(Q, {
                                                className: "font-medium",
                                                children: b.referenceId
                                            }), r.jsxs(Q, {
                                                children: ["Client ", (_ == null ? void 0 : _.clientId) || "Non dfini"]
                                            }), r.jsx(Q, {
                                                children: r.jsxs("div", {
                                                    children: [r.jsx("p", {
                                                        className: "font-medium",
                                                        children: (je == null ? void 0 : je.name) || "Transporteur"
                                                    }), r.jsxs("div", {
                                                        className: "flex items-center gap-1 text-sm text-muted-foreground",
                                                        children: [r.jsx($r, {
                                                            className: "w-3 h-3"
                                                        }), r.jsx("a", {
                                                            href: `tel:${je == null ? void 0 : je.phoneNumber}`,
                                                            className: "hover:underline",
                                                            children: (je == null ? void 0 : je.phoneNumber) || "N/A"
                                                        })]
                                                    })]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold",
                                                    children: [H.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold text-primary",
                                                    children: [qe.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold text-green-600",
                                                    children: [rt.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: b.paymentReceipt ? r.jsxs(M, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    onClick: () => {
                                                        i(b.paymentReceipt),
                                                        l(!0)
                                                    }
                                                    ,
                                                    className: "gap-1",
                                                    "data-testid": `button-view-receipt-${b.id}`,
                                                    children: [r.jsx(is, {
                                                        className: "w-4 h-4"
                                                    }), "Voir"]
                                                }) : r.jsx("span", {
                                                    className: "text-muted-foreground text-sm",
                                                    children: "Aucun reu"
                                                })
                                            }), r.jsx(Q, {
                                                className: "text-right",
                                                children: r.jsxs("div", {
                                                    className: "flex gap-2 justify-end flex-wrap",
                                                    children: [r.jsxs(M, {
                                                        size: "sm",
                                                        variant: "default",
                                                        onClick: () => j2(b.id),
                                                        "data-testid": `button-validate-payment-${b.id}`,
                                                        children: [r.jsx(Hn, {
                                                            className: "w-4 h-4 mr-1"
                                                        }), "Marquer comme pay"]
                                                    }), r.jsxs(M, {
                                                        size: "sm",
                                                        variant: "destructive",
                                                        onClick: () => w2(b.id),
                                                        "data-testid": `button-reject-receipt-${b.id}`,
                                                        children: [r.jsx(kd, {
                                                            className: "w-4 h-4 mr-1"
                                                        }), "Refuser le reu"]
                                                    })]
                                                })
                                            })]
                                        }, b.id)
                                    }
                                    )
                                })]
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "drivers",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ts, {
                                    className: "w-5 h-5"
                                }), "Tous les transporteurs", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-transporters",
                                    children: ["Total: ", Xr.filter(b => {
                                        const _ = E.toLowerCase()
                                          , ee = !E || b.name.toLowerCase().includes(_) || b.phoneNumber.includes(E)
                                          , je = z === "all" || b.city === z;
                                        return ee && je
                                    }
                                    ).length]
                                })]
                            })
                        }), r.jsxs(ue, {
                            className: "space-y-4",
                            children: [r.jsxs("div", {
                                className: "flex gap-4 flex-wrap",
                                children: [r.jsxs("div", {
                                    className: "relative flex-1 min-w-[200px]",
                                    children: [r.jsx(hr, {
                                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                                    }), r.jsx(Fe, {
                                        placeholder: "Rechercher par nom ou tlphone...",
                                        value: E,
                                        onChange: b => A(b.target.value),
                                        className: "pl-10",
                                        "data-testid": "input-search-transporter"
                                    })]
                                }), r.jsxs(Jt, {
                                    value: z,
                                    onValueChange: G,
                                    children: [r.jsx(Ht, {
                                        className: "w-[200px]",
                                        "data-testid": "select-city-filter",
                                        children: r.jsx(en, {
                                            placeholder: "Filtrer par ville"
                                        })
                                    }), r.jsxs(qt, {
                                        children: [r.jsx(Ae, {
                                            value: "all",
                                            children: "Toutes les villes"
                                        }), Array.from(new Set(Xr.map(b => b.city))).map(b => r.jsx(Ae, {
                                            value: b,
                                            children: b
                                        }, b))]
                                    })]
                                })]
                            }), qf ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(Xa, {
                                    message: "Chargement des transporteurs...",
                                    size: "md"
                                })
                            }) : Ui ? r.jsxs("div", {
                                className: "text-center py-8 text-destructive",
                                children: [r.jsx(kd, {
                                    className: "w-12 h-12 mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "font-semibold",
                                    children: "Erreur lors du chargement"
                                }), r.jsx("p", {
                                    className: "text-sm mt-2",
                                    children: Ui.message
                                })]
                            }) : Xr.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ts, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun transporteur valid"
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-2",
                                    children: "(Vrifiez la console pour plus de dtails)"
                                })]
                            }) : ( () => {
                                const b = Xr.filter(_ => {
                                    const ee = E.toLowerCase()
                                      , je = !E || _.name.toLowerCase().includes(ee) || _.phoneNumber.includes(E)
                                      , H = z === "all" || _.city === z;
                                    return je && H
                                }
                                );
                                return b.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(hr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun transporteur trouv avec ces critres"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs($n, {
                                        children: [r.jsx(zn, {
                                            children: r.jsxs(Nt, {
                                                children: [r.jsx(K, {
                                                    className: "w-16",
                                                    children: "Photo"
                                                }), r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Ville"
                                                }), r.jsx(K, {
                                                    children: "Tlphone"
                                                }), r.jsx(K, {
                                                    children: "Note"
                                                }), r.jsx(K, {
                                                    children: "Trajets"
                                                }), r.jsx(K, {
                                                    children: "Commissions"
                                                }), r.jsx(K, {
                                                    children: "Dernire activit"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    children: "RIB"
                                                }), r.jsx(K, {
                                                    children: "Action"
                                                })]
                                            })
                                        }), r.jsx(Vn, {
                                            children: b.map(_ => r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    children: r.jsx(ON, {
                                                        children: r.jsxs(LM, {
                                                            children: [r.jsx(FM, {
                                                                asChild: !0,
                                                                children: r.jsx(M, {
                                                                    size: "icon",
                                                                    variant: "ghost",
                                                                    onClick: () => {
                                                                        zg(_.id),
                                                                        Hf(!0)
                                                                    }
                                                                    ,
                                                                    disabled: !_.hasTruckPhoto,
                                                                    "data-testid": `button-view-photo-${_.id}`,
                                                                    className: "hover-elevate",
                                                                    children: r.jsx(cR, {
                                                                        className: `w-4 h-4 ${_.hasTruckPhoto ? "text-primary" : "text-muted-foreground"}`
                                                                    })
                                                                })
                                                            }), r.jsx(LN, {
                                                                children: r.jsx("p", {
                                                                    children: _.hasTruckPhoto ? "Voir la photo du camion" : "Aucune photo disponible"
                                                                })
                                                            })]
                                                        })
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: _.name
                                                }), r.jsx(Q, {
                                                    children: _.city
                                                }), r.jsx(Q, {
                                                    children: r.jsx("a", {
                                                        href: `tel:${_.phoneNumber}`,
                                                        className: "text-primary hover:underline",
                                                        children: _.phoneNumber
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [" ", _.rating.toFixed(1), r.jsxs("span", {
                                                            className: "text-xs text-muted-foreground ml-1",
                                                            children: ["(", _.totalRatings, ")"]
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: _.totalTrips
                                                }), r.jsxs(Q, {
                                                    className: "text-primary font-semibold",
                                                    children: [_.totalCommissions.toLocaleString("fr-MA"), " MAD"]
                                                }), r.jsx(Q, {
                                                    className: "text-sm text-muted-foreground",
                                                    children: _.lastActivity ? new Date(_.lastActivity).toLocaleDateString("fr-FR") : "Aucune"
                                                }), r.jsx(Q, {
                                                    children: r.jsx(he, {
                                                        variant: _.accountStatus === "active" ? "default" : "destructive",
                                                        "data-testid": `badge-status-${_.id}`,
                                                        children: _.accountStatus === "active" ? "Actif" : "Bloqu"
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs(M, {
                                                        size: "sm",
                                                        variant: "outline",
                                                        onClick: () => Ie(_),
                                                        "data-testid": `button-rib-${_.id}`,
                                                        className: "gap-2",
                                                        children: [r.jsx(Ls, {
                                                            className: "w-4 h-4"
                                                        }), "RIB"]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2 flex-wrap",
                                                        children: [r.jsxs(M, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => {
                                                                Oe(_),
                                                                Ct(_.name || ""),
                                                                dr(_.city || ""),
                                                                Zr(_.phoneNumber || ""),
                                                                Se(""),
                                                                Fn(null),
                                                                L(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-edit-${_.id}`,
                                                            className: "gap-1",
                                                            children: [r.jsx(Rm, {
                                                                className: "w-4 h-4"
                                                            }), "Modifier"]
                                                        }), _.accountStatus === "active" ? r.jsx(M, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => Gf(_.id, "transporter"),
                                                            "data-testid": `button-block-${_.id}`,
                                                            children: " Bloquer"
                                                        }) : r.jsx(M, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => Hg(_.id),
                                                            "data-testid": `button-unblock-${_.id}`,
                                                            children: " Dbloquer"
                                                        }), r.jsx(M, {
                                                            size: "icon",
                                                            variant: "outline",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte transporteur ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (offres, messages, etc.).`) && Yf.mutate(_.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-transporter-${_.id}`,
                                                            children: r.jsx(ts, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, _.id))
                                        })]
                                    })
                                })
                            }
                            )()]
                        })]
                    })
                }), r.jsx(zt, {
                    value: "clients",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ts, {
                                    className: "w-5 h-5"
                                }), "Tous les clients", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-clients",
                                    children: ["Total: ", Kf.filter(b => {
                                        const _ = R.toLowerCase();
                                        return !R || b.name.toLowerCase().includes(_) || b.phoneNumber.includes(R) || b.clientId.toLowerCase().includes(_)
                                    }
                                    ).length]
                                })]
                            })
                        }), r.jsxs(ue, {
                            className: "space-y-4",
                            children: [r.jsx("div", {
                                className: "flex gap-4 flex-wrap",
                                children: r.jsxs("div", {
                                    className: "relative flex-1 min-w-[200px]",
                                    children: [r.jsx(hr, {
                                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                                    }), r.jsx(Fe, {
                                        placeholder: "Rechercher par ID, nom ou tlphone...",
                                        value: R,
                                        onChange: b => B(b.target.value),
                                        className: "pl-10",
                                        "data-testid": "input-search-client"
                                    })]
                                })
                            }), Kf.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ts, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun client enregistr"
                                })]
                            }) : ( () => {
                                const b = Kf.filter(_ => {
                                    const ee = R.toLowerCase();
                                    return !R || _.name.toLowerCase().includes(ee) || _.phoneNumber.includes(R) || _.clientId.toLowerCase().includes(ee)
                                }
                                );
                                return b.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(hr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun client trouv avec ces critres"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs($n, {
                                        children: [r.jsx(zn, {
                                            children: r.jsxs(Nt, {
                                                children: [r.jsx(K, {
                                                    children: "ID Client"
                                                }), r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Tlphone"
                                                }), r.jsx(K, {
                                                    children: "Commandes totales"
                                                }), r.jsx(K, {
                                                    children: "Commandes compltes"
                                                }), r.jsx(K, {
                                                    children: "Satisfaction"
                                                }), r.jsx(K, {
                                                    children: "Date d'inscription"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    children: "Action"
                                                })]
                                            })
                                        }), r.jsx(Vn, {
                                            children: b.map(_ => r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-client-id-${_.id}`,
                                                    children: _.clientId
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-name-${_.id}`,
                                                    children: _.name
                                                }), r.jsx(Q, {
                                                    children: r.jsx("a", {
                                                        href: `tel:${_.phoneNumber}`,
                                                        className: "text-primary hover:underline",
                                                        "data-testid": `link-client-phone-${_.id}`,
                                                        children: _.phoneNumber
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-total-orders-${_.id}`,
                                                    children: _.totalOrders
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-completed-orders-${_.id}`,
                                                    children: _.completedOrders
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-rating-${_.id}`,
                                                    children: _.averageRating > 0 ? r.jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [" ", _.averageRating.toFixed(1)]
                                                    }) : r.jsx("span", {
                                                        className: "text-muted-foreground",
                                                        children: "Aucune note"
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-sm text-muted-foreground",
                                                    "data-testid": `text-registration-date-${_.id}`,
                                                    children: _.registrationDate ? new Date(_.registrationDate).toLocaleDateString("fr-FR") : "N/A"
                                                }), r.jsx(Q, {
                                                    children: r.jsx(he, {
                                                        variant: _.accountStatus === "active" ? "default" : "destructive",
                                                        "data-testid": `badge-client-status-${_.id}`,
                                                        children: _.accountStatus === "active" ? "Actif" : "Bloqu"
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [_.accountStatus === "active" ? r.jsx(M, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => Gf(_.id, "client"),
                                                            "data-testid": `button-block-client-${_.id}`,
                                                            children: " Bloquer"
                                                        }) : r.jsx(M, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => Hg(_.id),
                                                            "data-testid": `button-unblock-client-${_.id}`,
                                                            children: " Dbloquer"
                                                        }), r.jsx(M, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte client ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (demandes, messages, etc.).`) && Yf.mutate(_.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-user-${_.id}`,
                                                            children: r.jsx(ts, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, _.id))
                                        })]
                                    })
                                })
                            }
                            )()]
                        })]
                    })
                }), r.jsx(zt, {
                    value: "reports",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(mi, {
                                    className: "w-5 h-5"
                                }), "Tous les signalements", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-reports",
                                    children: ["Total: ", fl.length]
                                })]
                            })
                        }), r.jsx(ue, {
                            className: "space-y-4",
                            children: v2 ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(Xa, {
                                    message: "Chargement des signalements...",
                                    size: "md"
                                })
                            }) : fl.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(mi, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun signalement pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs($n, {
                                    children: [r.jsx(zn, {
                                        children: r.jsxs(Nt, {
                                            children: [r.jsx(K, {
                                                children: "Date"
                                            }), r.jsx(K, {
                                                children: "Commande"
                                            }), r.jsx(K, {
                                                children: "Type"
                                            }), r.jsx(K, {
                                                children: "Signal par"
                                            }), r.jsx(K, {
                                                children: "Utilisateur signal"
                                            }), r.jsx(K, {
                                                children: "Description"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Vn, {
                                        children: fl.map(b => {
                                            const _ = Zt.find(ve => ve.id === b.reporterId)
                                              , ee = Zt.find(ve => ve.id === b.reportedUserId)
                                              , je = Nr.find(ve => ve.id === b.requestId)
                                              , H = ve => ({
                                                "no-show": "Absence",
                                                payment: "Paiement",
                                                communication: "Communication",
                                                "incorrect-info": "Infos incorrectes",
                                                "damaged-goods": "Marchandises non conformes",
                                                other: "Autre"
                                            })[ve] || ve;
                                            return r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "text-sm",
                                                    "data-testid": `text-report-date-${b.id}`,
                                                    children: new Date(b.createdAt).toLocaleDateString("fr-FR")
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-report-request-${b.id}`,
                                                    children: (je == null ? void 0 : je.referenceId) || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-report-type-${b.id}`,
                                                    children: r.jsx(he, {
                                                        variant: "outline",
                                                        children: H(b.type)
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-reporter-${b.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (_ == null ? void 0 : _.name) || "Inconnu"
                                                        }), r.jsx(he, {
                                                            variant: b.reporterRole === "client" ? "default" : "secondary",
                                                            className: "text-xs",
                                                            children: b.reporterRole === "client" ? "Client" : "Transporteur"
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-reported-user-${b.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (ee == null ? void 0 : ee.name) || "Inconnu"
                                                        }), r.jsx("p", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: ee == null ? void 0 : ee.phoneNumber
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "max-w-xs",
                                                    "data-testid": `text-report-description-${b.id}`,
                                                    children: r.jsx("p", {
                                                        className: "text-sm truncate",
                                                        title: b.description,
                                                        children: b.description
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-report-status-${b.id}`,
                                                    children: r.jsx(he, {
                                                        variant: b.status === "pending" ? "destructive" : b.status === "resolved" ? "default" : "secondary",
                                                        children: b.status === "pending" ? "En attente" : b.status === "resolved" ? "Rsolu" : "Rejet"
                                                    })
                                                }), r.jsxs(Q, {
                                                    children: [b.status === "pending" && r.jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [r.jsxs(M, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => {
                                                                sd.mutate({
                                                                    reportId: b.id,
                                                                    status: "resolved",
                                                                    resolution: "Signalement trait et rsolu par l'administrateur"
                                                                })
                                                            }
                                                            ,
                                                            disabled: sd.isPending,
                                                            "data-testid": `button-resolve-${b.id}`,
                                                            children: [r.jsx(Hn, {
                                                                className: "h-4 w-4 mr-1"
                                                            }), "Rsoudre"]
                                                        }), r.jsxs(M, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => {
                                                                sd.mutate({
                                                                    reportId: b.id,
                                                                    status: "rejected",
                                                                    resolution: "Signalement rejet par l'administrateur"
                                                                })
                                                            }
                                                            ,
                                                            disabled: sd.isPending,
                                                            "data-testid": `button-reject-${b.id}`,
                                                            children: [r.jsx(kd, {
                                                                className: "h-4 w-4 mr-1"
                                                            }), "Rejeter"]
                                                        }), ee && r.jsx(M, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => Gf(ee.id, b.reporterRole === "client" ? "transporter" : "client"),
                                                            "data-testid": `button-block-reported-${b.id}`,
                                                            children: " Bloquer"
                                                        })]
                                                    }), b.status !== "pending" && b.resolution && r.jsx("p", {
                                                        className: "text-xs text-muted-foreground",
                                                        children: b.resolution
                                                    })]
                                                })]
                                            }, b.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "communications",
                    className: "mt-6",
                    children: r.jsx(A$, {})
                }), r.jsx(zt, {
                    value: "stats",
                    className: "mt-6",
                    children: r.jsxs("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: [r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Taux de conversion"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [(be == null ? void 0 : be.conversionRate) || 0, "%"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Offres acceptes / Total des offres"
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Demandes compltes"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsx("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: (be == null ? void 0 : be.completedRequests) || 0
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Sur ", (be == null ? void 0 : be.totalRequests) || 0, " demandes totales"]
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Satisfaction transporteurs"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [" ", (be == null ? void 0 : be.averageRating) || 0, " / 5"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Moyenne des notes clients"
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Dure moyenne"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [" ", (be == null ? void 0 : be.averageProcessingTime) || 0, " j"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Traitement des commandes"
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Montant moyen"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [((Kg = be == null ? void 0 : be.averageAmount) == null ? void 0 : Kg.toLocaleString("fr-MA")) || 0, " MAD"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Par mission complte"
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Paiements en attente"
                                })
                            }), r.jsxs(ue, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [((Qg = be == null ? void 0 : be.pendingPaymentsTotal) == null ? void 0 : Qg.toLocaleString("fr-MA")) || 0, " MAD"]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [(be == null ? void 0 : be.pendingPaymentsCount) || 0, " commande(s)"]
                                })]
                            })]
                        })]
                    })
                }), r.jsx(zt, {
                    value: "facturation",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(ia, {
                                    className: "w-5 h-5"
                                }), "Historique des paiements", r.jsxs(he, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-invoices",
                                    children: ["Total: ", Nr.filter(b => b.paymentStatus === "paid").length]
                                })]
                            })
                        }), r.jsx(ue, {
                            children: ( () => {
                                const b = Nr.filter(_ => _.paymentStatus === "paid");
                                return b.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(ia, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun paiement valid pour le moment"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs($n, {
                                        children: [r.jsx(zn, {
                                            children: r.jsxs(Nt, {
                                                children: [r.jsx(K, {
                                                    children: "Rfrence"
                                                }), r.jsx(K, {
                                                    children: "Date validation"
                                                }), r.jsx(K, {
                                                    children: "Client"
                                                }), r.jsx(K, {
                                                    children: "Transporteur"
                                                }), r.jsx(K, {
                                                    children: "Total client"
                                                }), r.jsx(K, {
                                                    children: "Commission"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    className: "text-right",
                                                    children: "Actions"
                                                })]
                                            })
                                        }), r.jsx(Vn, {
                                            children: b.map(_ => {
                                                const ee = Zt.find(Cr => Cr.id === _.clientId)
                                                  , je = _.acceptedOfferId ? Yr.find(Cr => Cr.id === _.acceptedOfferId) : null
                                                  , H = je ? Zt.find(Cr => Cr.id === je.transporterId) : null
                                                  , ve = je ? parseFloat(je.amount) : 0
                                                  , rt = (ur == null ? void 0 : ur.commissionPercentage) || 10
                                                  , qe = ve * (rt / 100)
                                                  , un = ve + qe;
                                                return r.jsxs(Nt, {
                                                    children: [r.jsx(Q, {
                                                        className: "font-medium",
                                                        children: _.referenceId
                                                    }), r.jsx(Q, {
                                                        children: _.updatedAt ? new Date(_.updatedAt).toLocaleDateString("fr-FR") : "N/A"
                                                    }), r.jsxs(Q, {
                                                        children: ["Client ", (ee == null ? void 0 : ee.clientId) || "Non dfini"]
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("div", {
                                                            children: [r.jsx("p", {
                                                                className: "font-medium",
                                                                children: (H == null ? void 0 : H.name) || "Inconnu"
                                                            }), r.jsx("a", {
                                                                href: `tel:${H == null ? void 0 : H.phoneNumber}`,
                                                                className: "text-xs text-primary hover:underline",
                                                                children: H == null ? void 0 : H.phoneNumber
                                                            })]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("span", {
                                                            className: "font-semibold text-primary",
                                                            children: [un.toFixed(2), " MAD"]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("span", {
                                                            className: "font-semibold text-green-600",
                                                            children: [qe.toFixed(2), " MAD"]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsx(he, {
                                                            className: "bg-green-600",
                                                            children: "Pay"
                                                        })
                                                    }), r.jsx(Q, {
                                                        className: "text-right",
                                                        children: r.jsx(M, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                pe(_),
                                                                V(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-invoice-${_.id}`,
                                                            children: r.jsx(is, {
                                                                className: "w-5 h-5 text-[#3498db]"
                                                            })
                                                        })
                                                    })]
                                                }, _.id)
                                            }
                                            )
                                        })]
                                    })
                                })
                            }
                            )()
                        })]
                    })
                }), r.jsx(zt, {
                    value: "cities",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Mr, {
                                    className: "w-5 h-5"
                                }), "Gestion des villes"]
                            })
                        }), r.jsxs(ue, {
                            className: "space-y-6",
                            children: [r.jsxs("div", {
                                className: "bg-muted/50 p-4 rounded-lg space-y-4",
                                children: [r.jsx("h4", {
                                    className: "font-medium",
                                    children: "Ajouter une nouvelle ville"
                                }), r.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [r.jsx(Fe, {
                                        placeholder: "Nom de la ville",
                                        value: we ? we.name : at,
                                        onChange: b => we ? $({
                                            ...we,
                                            name: b.target.value
                                        }) : ut(b.target.value),
                                        "data-testid": "input-city-name"
                                    }), r.jsxs(M, {
                                        onClick: async () => {
                                            const b = we ? we.name : at;
                                            if (!b.trim()) {
                                                De({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: "Le nom de la ville est requis"
                                                });
                                                return
                                            }
                                            try {
                                                we ? (await ze("PATCH", `/api/cities/${we.id}`, {
                                                    name: b.trim()
                                                }),
                                                De({
                                                    title: "Ville modifie",
                                                    description: "La ville a t modifie avec succs"
                                                }),
                                                $(null)) : (await ze("POST", "/api/cities", {
                                                    name: b.trim(),
                                                    isActive: !0
                                                }),
                                                De({
                                                    title: "Ville ajoute",
                                                    description: `${b} a t ajoute avec succs`
                                                }),
                                                ut("")),
                                                ye.invalidateQueries({
                                                    queryKey: ["/api/cities"]
                                                })
                                            } catch (_) {
                                                De({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: _.message || "chec de l'opration"
                                                })
                                            }
                                        }
                                        ,
                                        "data-testid": we ? "button-update-city" : "button-add-city",
                                        children: [r.jsx(sp, {
                                            className: "w-4 h-4 mr-2"
                                        }), we ? "Modifier" : "Ajouter"]
                                    }), we && r.jsx(M, {
                                        variant: "outline",
                                        onClick: () => {
                                            $(null),
                                            ut("")
                                        }
                                        ,
                                        "data-testid": "button-cancel-edit-city",
                                        children: "Annuler"
                                    })]
                                })]
                            }), r.jsxs("div", {
                                children: [r.jsxs("h4", {
                                    className: "font-medium mb-4",
                                    children: ["Liste des villes (", Qf.length, ")"]
                                }), y2 ? r.jsx("div", {
                                    className: "text-center py-8",
                                    children: r.jsx(Xa, {
                                        message: "Chargement des villes...",
                                        size: "md"
                                    })
                                }) : Qf.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(Mr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucune ville enregistre"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs($n, {
                                        children: [r.jsx(zn, {
                                            children: r.jsxs(Nt, {
                                                children: [r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    className: "text-right",
                                                    children: "Actions"
                                                })]
                                            })
                                        }), r.jsx(Vn, {
                                            children: Qf.map(b => r.jsxs(Nt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: b.name
                                                }), r.jsx(Q, {
                                                    children: r.jsx(he, {
                                                        variant: b.isActive ? "default" : "secondary",
                                                        children: b.isActive ? "Active" : "Inactive"
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2 justify-end",
                                                        children: [r.jsx(M, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => {
                                                                $(b),
                                                                ut(b.name)
                                                            }
                                                            ,
                                                            "data-testid": `button-edit-city-${b.id}`,
                                                            children: "Modifier"
                                                        }), r.jsx(M, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: async () => {
                                                                if (confirm(`tes-vous sr de vouloir supprimer ${b.name} ?`))
                                                                    try {
                                                                        await ze("DELETE", `/api/cities/${b.id}`),
                                                                        De({
                                                                            title: "Ville supprime",
                                                                            description: `${b.name} a t supprime avec succs`
                                                                        }),
                                                                        ye.invalidateQueries({
                                                                            queryKey: ["/api/cities"]
                                                                        })
                                                                    } catch {
                                                                        De({
                                                                            variant: "destructive",
                                                                            title: "Erreur",
                                                                            description: "chec de la suppression"
                                                                        })
                                                                    }
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-city-${b.id}`,
                                                            children: r.jsx(ts, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, b.id))
                                        })]
                                    })
                                })]
                            })]
                        })]
                    })
                }), r.jsx(zt, {
                    value: "settings",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Hl, {
                                    className: "w-5 h-5"
                                }), "Paramtres de commission"]
                            })
                        }), r.jsx(ue, {
                            className: "space-y-6",
                            children: r.jsxs("div", {
                                className: "space-y-4",
                                children: [r.jsxs("div", {
                                    children: [r.jsx("label", {
                                        className: "text-sm font-medium block mb-2",
                                        children: "Pourcentage de commission CamionBack (%)"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground mb-4",
                                        children: "Ce pourcentage est automatiquement ajout au prix du transporteur pour calculer le montant total que le client doit payer."
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex gap-4 items-end",
                                    children: [r.jsxs("div", {
                                        className: "flex-1 max-w-xs space-y-2",
                                        children: [r.jsx(Fe, {
                                            type: "number",
                                            min: "0",
                                            max: "100",
                                            step: "0.1",
                                            value: n,
                                            onChange: b => s(b.target.value),
                                            "data-testid": "input-commission-rate"
                                        }), r.jsxs("p", {
                                            className: "text-xs text-muted-foreground",
                                            children: ["Commission actuelle: ", (ur == null ? void 0 : ur.commissionPercentage) || n, "%"]
                                        })]
                                    }), r.jsxs(M, {
                                        onClick: async () => {
                                            try {
                                                await ze("PATCH", "/api/admin/settings", {
                                                    commissionPercentage: parseFloat(n)
                                                }),
                                                De({
                                                    title: "Commission mise  jour",
                                                    description: `Le taux de commission est maintenant de ${n}%`
                                                }),
                                                ye.invalidateQueries({
                                                    queryKey: ["/api/admin/settings"]
                                                })
                                            } catch {
                                                De({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: "chec de la mise  jour de la commission"
                                                })
                                            }
                                        }
                                        ,
                                        "data-testid": "button-update-commission",
                                        children: [r.jsx(Hl, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Mettre  jour"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "bg-muted/50 rounded-lg p-4 mt-6",
                                    children: [r.jsx("h4", {
                                        className: "font-medium mb-2",
                                        children: "Exemple de calcul"
                                    }), r.jsxs("div", {
                                        className: "text-sm space-y-1",
                                        children: [r.jsxs("p", {
                                            children: ["Prix transporteur: ", r.jsx("strong", {
                                                children: "1000 MAD"
                                            })]
                                        }), r.jsxs("p", {
                                            children: ["Commission (", n, "%): ", r.jsxs("strong", {
                                                children: [(1e3 * parseFloat(n || "0") / 100).toFixed(2), " MAD"]
                                            })]
                                        }), r.jsxs("p", {
                                            className: "pt-2 border-t border-border mt-2",
                                            children: ["Total client: ", r.jsxs("strong", {
                                                className: "text-primary",
                                                children: [(1e3 + 1e3 * parseFloat(n || "0") / 100).toFixed(2), " MAD"]
                                            })]
                                        })]
                                    })]
                                })]
                            })
                        })]
                    })
                }), r.jsx(zt, {
                    value: "empty-returns",
                    className: "mt-6",
                    children: r.jsxs(ce, {
                        children: [r.jsx(Ee, {
                            children: r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Xt, {
                                    className: "w-5 h-5"
                                }), "Retours  vide annoncs"]
                            })
                        }), r.jsx(ue, {
                            children: x2 ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(Xa, {
                                    message: "Chargement des retours  vide...",
                                    size: "md"
                                })
                            }) : nd.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Xt, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun retour  vide annonc"
                                })]
                            }) : r.jsxs($n, {
                                children: [r.jsx(zn, {
                                    children: r.jsxs(Nt, {
                                        children: [r.jsx(K, {
                                            children: "Transporteur"
                                        }), r.jsx(K, {
                                            children: "Tlphone"
                                        }), r.jsx(K, {
                                            children: "De"
                                        }), r.jsx(K, {
                                            children: "Vers"
                                        }), r.jsx(K, {
                                            children: "Date de retour"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Vn, {
                                    children: nd.map(b => {
                                        const _ = Zt.find(ee => ee.id === b.transporterId);
                                        return r.jsxs(Nt, {
                                            children: [r.jsx(Q, {
                                                className: "font-medium",
                                                children: (_ == null ? void 0 : _.name) || "Inconnu"
                                            }), r.jsx(Q, {
                                                children: r.jsx("a", {
                                                    href: `tel:${_ == null ? void 0 : _.phoneNumber}`,
                                                    className: "text-primary hover:underline",
                                                    children: (_ == null ? void 0 : _.phoneNumber) || "N/A"
                                                })
                                            }), r.jsx(Q, {
                                                children: b.fromCity
                                            }), r.jsx(Q, {
                                                children: b.toCity
                                            }), r.jsx(Q, {
                                                children: new Date(b.returnDate).toLocaleDateString("fr-FR")
                                            }), r.jsx(Q, {
                                                className: "text-right",
                                                children: r.jsx(M, {
                                                    size: "sm",
                                                    className: "bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                                                    onClick: () => {
                                                        m(b),
                                                        d(!0)
                                                    }
                                                    ,
                                                    "data-testid": `button-assign-order-${b.id}`,
                                                    children: "Affecter une commande"
                                                })
                                            })]
                                        }, b.id)
                                    }
                                    )
                                })]
                            })
                        })]
                    })
                })]
            })]
        }), r.jsx(P$, {
            open: e,
            onClose: () => t(!1),
            onSuccess: () => {}
        }), r.jsx(yt, {
            open: o,
            onOpenChange: l,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-2xl",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Reu de paiement"
                    }), r.jsx(Rt, {
                        children: "Vrifiez le reu de paiement du client avant validation"
                    })]
                }), r.jsx("div", {
                    className: "mt-4",
                    children: a && r.jsx("img", {
                        src: a,
                        alt: "Reu de paiement",
                        className: "w-full h-auto max-h-[70vh] object-contain rounded-lg border"
                    })
                })]
            })
        }), r.jsx(yt, {
            open: c,
            onOpenChange: d,
            children: r.jsxs(pt, {
                className: "max-w-[90vw] sm:max-w-3xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Affecter une commande"
                    }), r.jsxs(Rt, {
                        children: ["Slectionnez une commande ouverte  affecter au transporteur", f && r.jsxs("span", {
                            className: "block mt-2 text-sm",
                            children: ["Retour: ", r.jsxs("strong", {
                                children: [f.fromCity, "  ", f.toCity]
                            }), " ", "le", " ", r.jsx("strong", {
                                children: new Date(f.returnDate).toLocaleDateString("fr-FR")
                            })]
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "mt-4 space-y-4",
                    children: [r.jsxs("div", {
                        className: "relative",
                        children: [r.jsx(hr, {
                            className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                        }), r.jsx(Fe, {
                            placeholder: "Rechercher par rfrence (CMD-XXXX)...",
                            value: U,
                            onChange: b => J(b.target.value),
                            className: "pl-10",
                            "data-testid": "input-search-assign-order"
                        })]
                    }), ( () => {
                        const b = Nr.filter(_ => _.status === "open").filter(_ => !U || _.referenceId.toLowerCase().includes(U.toLowerCase()));
                        return Nr.filter(_ => _.status === "open").length === 0 ? r.jsxs("div", {
                            className: "text-center py-8",
                            children: [r.jsx(Ut, {
                                className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                            }), r.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Aucune commande ouverte disponible"
                            })]
                        }) : b.length === 0 && U ? r.jsxs("div", {
                            className: "text-center py-8",
                            children: [r.jsx(hr, {
                                className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                            }), r.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Aucune commande trouve avec cette rfrence"
                            })]
                        }) : r.jsx("div", {
                            className: "space-y-3",
                            children: b.map(_ => {
                                const ee = Zt.find(je => je.id === _.clientId);
                                return r.jsx(ce, {
                                    className: "hover-elevate cursor-pointer",
                                    onClick: () => {
                                        f && Zf.mutate({
                                            emptyReturnId: f.id,
                                            requestId: _.id
                                        })
                                    }
                                    ,
                                    "data-testid": `card-assign-request-${_.id}`,
                                    children: r.jsx(ue, {
                                        className: "p-4",
                                        children: r.jsxs("div", {
                                            className: "flex justify-between items-start gap-4",
                                            children: [r.jsxs("div", {
                                                className: "flex-1 space-y-2",
                                                children: [r.jsxs("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [r.jsxs(he, {
                                                        variant: "outline",
                                                        children: ["Rf: ", _.referenceId]
                                                    }), r.jsxs("span", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: ["Client ", (ee == null ? void 0 : ee.clientId) || "Non dfini"]
                                                    })]
                                                }), r.jsxs("div", {
                                                    className: "flex items-center gap-2 text-sm",
                                                    children: [r.jsx("span", {
                                                        className: "font-medium",
                                                        children: _.fromCity
                                                    }), r.jsx("span", {
                                                        className: "text-muted-foreground",
                                                        children: ""
                                                    }), r.jsx("span", {
                                                        className: "font-medium",
                                                        children: _.toCity
                                                    })]
                                                }), r.jsx("p", {
                                                    className: "text-sm text-muted-foreground line-clamp-2",
                                                    children: _.description
                                                })]
                                            }), r.jsx(M, {
                                                size: "sm",
                                                className: "bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                                                disabled: Zf.isPending,
                                                children: Zf.isPending ? "Affectation..." : "Affecter"
                                            })]
                                        })
                                    })
                                }, _.id)
                            }
                            )
                        })
                    }
                    )()]
                })]
            })
        }), r.jsx(yt, {
            open: w,
            onOpenChange: x,
            children: r.jsxs(pt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Dtails du contrat"
                    }), r.jsx(Rt, {
                        children: "Informations compltes sur le contrat et la commande associe"
                    })]
                }), h && ( () => {
                    const b = Nr.find(H => H.id === h.requestId)
                      , _ = Yr.find(H => H.id === h.offerId)
                      , ee = Zt.find(H => H.id === h.clientId)
                      , je = Zt.find(H => H.id === h.transporterId);
                    return r.jsxs("div", {
                        className: "mt-4 space-y-6",
                        children: [r.jsxs("div", {
                            className: "flex items-center justify-between pb-4 border-b",
                            children: [r.jsxs("div", {
                                children: [r.jsxs("h3", {
                                    className: "text-lg font-semibold",
                                    children: ["Contrat ", h.referenceId]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Cr le ", new Date(h.createdAt).toLocaleDateString("fr-FR")]
                                })]
                            }), r.jsxs("div", {
                                className: "flex flex-col gap-2",
                                children: [r.jsx("label", {
                                    className: "text-sm font-medium",
                                    children: "Changer le statut"
                                }), r.jsxs(Jt, {
                                    value: h.status,
                                    onValueChange: async H => {
                                        try {
                                            await ze("PATCH", `/api/contracts/${h.id}`, {
                                                status: H
                                            }),
                                            De({
                                                title: "Statut mis  jour",
                                                description: "Le statut du contrat a t modifi avec succs"
                                            }),
                                            ye.invalidateQueries({
                                                queryKey: ["/api/contracts"]
                                            }),
                                            x(!1)
                                        } catch {
                                            De({
                                                variant: "destructive",
                                                title: "Erreur",
                                                description: "chec de la mise  jour du statut"
                                            })
                                        }
                                    }
                                    ,
                                    children: [r.jsx(Ht, {
                                        className: "w-[250px]",
                                        children: r.jsx(en, {})
                                    }), r.jsxs(qt, {
                                        children: [r.jsx(Ae, {
                                            value: "in_progress",
                                            children: "En cours d'excution"
                                        }), r.jsx(Ae, {
                                            value: "marked_paid_transporter",
                                            children: "Pay ct transporteur"
                                        }), r.jsx(Ae, {
                                            value: "marked_paid_client",
                                            children: "Pay ct client"
                                        }), r.jsx(Ae, {
                                            value: "completed",
                                            children: "Termin"
                                        })]
                                    })]
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    className: "text-base",
                                    children: "Informations financires"
                                })
                            }), r.jsx(ue, {
                                className: "space-y-2",
                                children: r.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [r.jsx("span", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Montant convenu"
                                    }), r.jsxs("span", {
                                        className: "font-semibold",
                                        children: [h.amount, " MAD"]
                                    })]
                                })
                            })]
                        }), r.jsxs("div", {
                            className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                            children: [r.jsxs(ce, {
                                children: [r.jsx(Ee, {
                                    children: r.jsxs(Te, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(Ts, {
                                            className: "w-4 h-4"
                                        }), "Client"]
                                    })
                                }), r.jsxs(ue, {
                                    className: "space-y-2",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Identifiant"
                                        }), r.jsxs("p", {
                                            className: "font-medium",
                                            children: ["Client ", (ee == null ? void 0 : ee.clientId) || "Non dfini"]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Mr, {
                                                className: "w-4 h-4"
                                            }), (ee == null ? void 0 : ee.city) || "N/A"]
                                        })]
                                    })]
                                })]
                            }), r.jsxs(ce, {
                                children: [r.jsx(Ee, {
                                    children: r.jsxs(Te, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(Xt, {
                                            className: "w-4 h-4"
                                        }), "Transporteur"]
                                    })
                                }), r.jsxs(ue, {
                                    className: "space-y-2",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Nom"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (je == null ? void 0 : je.name) || "N/A"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Tlphone"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx($r, {
                                                className: "w-4 h-4"
                                            }), (je == null ? void 0 : je.phoneNumber) || "N/A"]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Mr, {
                                                className: "w-4 h-4"
                                            }), (je == null ? void 0 : je.city) || "N/A"]
                                        })]
                                    })]
                                })]
                            })]
                        }), b && r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(ia, {
                                        className: "w-4 h-4"
                                    }), "Dtails de la commande"]
                                })
                            }), r.jsxs(ue, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville de dpart"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: b.fromCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville d'arrive"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: b.toCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(hs, {
                                                className: "w-4 h-4"
                                            }), new Date(b.dateTime).toLocaleDateString("fr-FR")]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de marchandise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: b.goodsType
                                        })]
                                    })]
                                }), r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "mt-1",
                                        children: b.description
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [b.dateFlexible && r.jsx(he, {
                                        variant: "outline",
                                        children: "Date flexible"
                                    }), b.invoiceRequired && r.jsx(he, {
                                        variant: "outline",
                                        children: "Facture TTC requise"
                                    })]
                                }), b.photos && b.photos.length > 0 && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground mb-2",
                                        children: "Photos"
                                    }), r.jsx("div", {
                                        className: "grid grid-cols-2 sm:grid-cols-3 gap-2",
                                        children: b.photos.map( (H, ve) => r.jsx("img", {
                                            src: H,
                                            alt: `Photo ${ve + 1}`,
                                            className: "w-full h-24 object-cover rounded-lg border"
                                        }, ve))
                                    })]
                                })]
                            })]
                        }), _ && r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(Ut, {
                                        className: "w-4 h-4"
                                    }), "Dtails de l'offre"]
                                })
                            }), r.jsx(ue, {
                                className: "space-y-2",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de prise en charge"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(hs, {
                                                className: "w-4 h-4"
                                            }), new Date(_.pickupDate).toLocaleDateString("fr-FR")]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de chargement"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: _.loadType === "return" ? "Retour (camion vide)" : "Groupage / Partag"
                                        })]
                                    })]
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(yt, {
            open: ke,
            onOpenChange: Ye,
            children: r.jsxs(pt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        className: "text-xl font-bold",
                        children: "Dtails de la commande"
                    }), r.jsx(Rt, {
                        children: W == null ? void 0 : W.referenceId
                    })]
                }), W && ( () => {
                    const b = Zt.find(H => H.id === W.clientId)
                      , _ = H => {
                        if (!H)
                            return "N/A";
                        try {
                            return new Date(H).toLocaleDateString("fr-FR", {
                                day: "2-digit",
                                month: "2-digit",
                                year: "numeric",
                                hour: "2-digit",
                                minute: "2-digit"
                            })
                        } catch {
                            return "N/A"
                        }
                    }
                      , ee = H => H === "open" ? r.jsx(he, {
                        variant: "default",
                        children: "Ouverte"
                    }) : H === "accepted" ? r.jsx(he, {
                        className: "bg-blue-600",
                        children: "Accepte"
                    }) : H === "completed" ? r.jsx(he, {
                        className: "bg-green-600",
                        children: "Complte"
                    }) : H === "cancelled" ? r.jsx(he, {
                        variant: "destructive",
                        children: "Annule"
                    }) : r.jsx(he, {
                        variant: "secondary",
                        children: H
                    })
                      , je = H => H === "pending" ? r.jsx(he, {
                        variant: "secondary",
                        children: "En attente"
                    }) : H === "awaiting_payment" ? r.jsx(he, {
                        className: "bg-yellow-600",
                        children: "Attente paiement"
                    }) : H === "pending_admin_validation" ? r.jsx(he, {
                        className: "bg-orange-600",
                        children: "Validation admin"
                    }) : H === "paid" ? r.jsx(he, {
                        className: "bg-green-600",
                        children: "Pay"
                    }) : r.jsx(he, {
                        variant: "secondary",
                        children: H
                    });
                    return r.jsxs("div", {
                        className: "space-y-6 py-4",
                        children: [r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(Ts, {
                                        className: "w-4 h-4"
                                    }), "Informations client"]
                                })
                            }), r.jsx(ue, {
                                className: "space-y-3",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Numro de tlphone"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (b == null ? void 0 : b.phoneNumber) || "Non dfini"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (b == null ? void 0 : b.city) || "N/A"
                                        })]
                                    })]
                                })
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(Ut, {
                                        className: "w-4 h-4"
                                    }), "Dtails du transport"]
                                })
                            }), r.jsxs(ue, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "De"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(Mr, {
                                                className: "w-3 h-3"
                                            }), W.fromCity]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Vers"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(Mr, {
                                                className: "w-3 h-3"
                                            }), W.toCity]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(hs, {
                                                className: "w-3 h-3"
                                            }), _(W.dateTime)]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date flexible"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: W.dateFlexible ? "Oui" : "Non"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de marchandise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: W.goodsType
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Budget estim"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: W.budget ? `${parseFloat(W.budget).toLocaleString("fr-MA")} MAD` : "Non spcifi"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Facture TTC requise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: W.invoiceRequired ? "Oui" : "Non"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Nombre de vues"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: W.viewCount || 0
                                        })]
                                    })]
                                }), r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "font-medium text-sm bg-muted p-3 rounded-md",
                                        children: W.description
                                    })]
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(ia, {
                                        className: "w-4 h-4"
                                    }), "Statut et suivi"]
                                })
                            }), r.jsx(ue, {
                                className: "space-y-3",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Statut de la demande"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: ee(W.status)
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Statut du paiement"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: je(W.paymentStatus)
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Visibilit"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: W.isHidden ? r.jsx(he, {
                                                variant: "secondary",
                                                children: "Masque"
                                            }) : r.jsx(he, {
                                                variant: "default",
                                                children: "Visible"
                                            })
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de cration"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: _(W.createdAt)
                                        })]
                                    })]
                                })
                            })]
                        }), W.photos && W.photos.length > 0 && r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsxs(Te, {
                                    className: "text-base",
                                    children: ["Photos du chargement (", W.photos.length, ")"]
                                })
                            }), r.jsx(ue, {
                                children: r.jsx("div", {
                                    className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",
                                    children: W.photos.map( (H, ve) => r.jsx("div", {
                                        className: "aspect-square rounded-lg overflow-hidden border hover:border-primary cursor-pointer transition-all",
                                        onClick: () => window.open(H, "_blank"),
                                        children: r.jsx("img", {
                                            src: H,
                                            alt: `Photo ${ve + 1}`,
                                            className: "w-full h-full object-cover hover:scale-110 transition-transform"
                                        })
                                    }, ve))
                                })
                            })]
                        }), ( () => {
                            const H = Yr.filter(ve => ve.requestId === W.id);
                            return H.length === 0 ? null : r.jsxs(ce, {
                                children: [r.jsx(Ee, {
                                    children: r.jsxs(Te, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(Ut, {
                                            className: "w-4 h-4"
                                        }), "Offres reues (", H.length, ")"]
                                    })
                                }), r.jsx(ue, {
                                    children: r.jsx("div", {
                                        className: "space-y-3",
                                        children: H.map(ve => {
                                            const rt = Zt.find(un => un.id === ve.transporterId)
                                              , qe = un => {
                                                if (!un)
                                                    return "N/A";
                                                try {
                                                    return new Date(un).toLocaleDateString("fr-FR", {
                                                        day: "2-digit",
                                                        month: "2-digit",
                                                        year: "numeric",
                                                        hour: "2-digit",
                                                        minute: "2-digit"
                                                    })
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                            ;
                                            return r.jsxs("div", {
                                                className: "flex items-center justify-between p-4 border rounded-lg hover-elevate",
                                                children: [r.jsxs("div", {
                                                    className: "flex-1 space-y-1",
                                                    children: [r.jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (rt == null ? void 0 : rt.name) || "Transporteur inconnu"
                                                        }), ve.status === "accepted" && r.jsx(he, {
                                                            className: "bg-green-600",
                                                            children: "Accepte"
                                                        })]
                                                    }), r.jsx("p", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: (rt == null ? void 0 : rt.phoneNumber) || "N/A"
                                                    }), r.jsxs("div", {
                                                        className: "flex items-center gap-4 text-sm",
                                                        children: [r.jsxs("span", {
                                                            className: "font-semibold text-primary",
                                                            children: [parseFloat(ve.amount).toLocaleString("fr-MA"), " MAD"]
                                                        }), r.jsx("span", {
                                                            className: "text-muted-foreground",
                                                            children: qe(ve.createdAt)
                                                        })]
                                                    })]
                                                }), ve.status !== "accepted" && W.status === "open" && r.jsx(M, {
                                                    size: "sm",
                                                    onClick: () => {
                                                        confirm("Voulez-vous accepter cette offre ? Le transporteur et le client seront notifis.") && (Bg(ve.id, W.id),
                                                        Ye(!1))
                                                    }
                                                    ,
                                                    "data-testid": `button-accept-offer-${ve.id}`,
                                                    children: " Accepter l'offre"
                                                })]
                                            }, ve.id)
                                        }
                                        )
                                    })
                                })]
                            })
                        }
                        )(), r.jsxs("div", {
                            className: "flex justify-end gap-3 pt-4 border-t",
                            children: [r.jsx(M, {
                                variant: "outline",
                                onClick: () => Ye(!1),
                                children: "Fermer"
                            }), r.jsxs(Jt, {
                                value: W.status,
                                onValueChange: H => {
                                    S2.mutate({
                                        requestId: W.id,
                                        updates: {
                                            status: H
                                        }
                                    })
                                }
                                ,
                                children: [r.jsx(Ht, {
                                    className: "w-[200px]",
                                    children: r.jsx(en, {
                                        placeholder: "Modifier le statut"
                                    })
                                }), r.jsxs(qt, {
                                    children: [r.jsx(Ae, {
                                        value: "open",
                                        children: "Ouverte"
                                    }), r.jsx(Ae, {
                                        value: "accepted",
                                        children: "Accepte"
                                    }), r.jsx(Ae, {
                                        value: "completed",
                                        children: "Complte"
                                    }), r.jsx(Ae, {
                                        value: "cancelled",
                                        children: "Annule"
                                    })]
                                })]
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(yt, {
            open: p,
            onOpenChange: j,
            children: r.jsxs(pt, {
                className: "max-w-[95vw] sm:max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",
                children: [r.jsxs(xt, {
                    children: [r.jsxs(gt, {
                        children: ["Conversation - ", y == null ? void 0 : y.referenceId]
                    }), r.jsxs(Rt, {
                        children: ["Client ", (y == null ? void 0 : y.clientId) || "Non dfini", "  ", y == null ? void 0 : y.transporterName]
                    })]
                }), y && ( () => {
                    const b = async () => {
                        if (k.trim())
                            try {
                                await ze("POST", "/api/chat/messages", {
                                    requestId: y.requestId,
                                    senderId: Vi.id,
                                    receiverId: y.clientId,
                                    message: k,
                                    messageType: "text",
                                    senderType: "admin"
                                }),
                                De({
                                    title: "Message envoy",
                                    description: "Votre message a t envoy avec succs"
                                }),
                                C(""),
                                ye.invalidateQueries({
                                    queryKey: ["/api/chat/messages", y.requestId]
                                })
                            } catch {
                                De({
                                    variant: "destructive",
                                    title: "Erreur",
                                    description: "chec de l'envoi du message"
                                })
                            }
                    }
                      , _ = async H => {
                        try {
                            const ve = new FormData
                              , rt = `voice-${Date.now()}.webm`;
                            ve.append("audio", H, rt);
                            const qe = await fetch("/api/messages/upload-voice", {
                                method: "POST",
                                body: ve
                            });
                            if (!qe.ok) {
                                const Cr = await qe.json().catch( () => ({
                                    error: "Unknown error"
                                }));
                                throw console.error("Upload error:", Cr),
                                new Error(Cr.error || "Upload failed")
                            }
                            const {fileUrl: un} = await qe.json();
                            await ze("POST", "/api/chat/messages", {
                                requestId: y.requestId,
                                senderId: Vi.id,
                                receiverId: y.clientId,
                                messageType: "voice",
                                fileUrl: un,
                                senderType: "admin"
                            }),
                            De({
                                title: "Message vocal envoy",
                                description: "Votre message vocal a t envoy avec succs"
                            }),
                            ye.invalidateQueries({
                                queryKey: ["/api/chat/messages", y.requestId]
                            })
                        } catch (ve) {
                            console.error("Voice message error:", ve),
                            De({
                                variant: "destructive",
                                title: "Erreur",
                                description: "chec de l'envoi du message vocal"
                            })
                        }
                    }
                      , ee = H => H.senderType === "admin" ? "bg-orange-500/20 border-orange-500/40 ml-4 mr-4" : H.senderId === y.clientId ? "bg-blue-500/20 border-blue-500/40 ml-0 mr-auto" : "bg-green-500/20 border-green-500/40 ml-auto mr-0"
                      , je = H => H.senderType === "admin" ? "Admin CamionBack" : H.senderId === y.clientId ? `Client ${y.clientId || "Non dfini"}` : y.transporterName;
                    return r.jsxs("div", {
                        className: "flex flex-col gap-4 flex-1",
                        children: [r.jsx("div", {
                            className: "flex-1 overflow-y-auto max-h-[50vh] space-y-3 p-4 border rounded-lg",
                            children: Ug.length === 0 ? r.jsx("p", {
                                className: "text-center text-muted-foreground",
                                children: "Aucun message"
                            }) : Ug.map(H => {
                                const ve = H.messageType === "voice";
                                return r.jsxs("div", {
                                    className: `p-3 rounded-lg border max-w-[80%] ${ee(H)}`,
                                    "data-testid": `message-${H.id}`,
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [r.jsx("span", {
                                            className: "text-xs font-semibold",
                                            "data-testid": `message-sender-${H.id}`,
                                            children: je(H)
                                        }), r.jsx("span", {
                                            className: "text-xs text-muted-foreground",
                                            "data-testid": `message-time-${H.id}`,
                                            children: new Date(H.createdAt).toLocaleString("fr-FR", {
                                                hour: "2-digit",
                                                minute: "2-digit"
                                            })
                                        })]
                                    }), ve && H.fileUrl ? r.jsx(_k, {
                                        audioUrl: H.fileUrl
                                    }) : r.jsx("p", {
                                        className: "text-sm",
                                        "data-testid": `message-text-${H.id}`,
                                        children: H.message
                                    })]
                                }, H.id)
                            }
                            )
                        }), r.jsxs("div", {
                            className: "flex gap-2",
                            children: [r.jsx(Va, {
                                placeholder: "Envoyer un message en tant qu'Admin CamionBack...",
                                value: k,
                                onChange: H => C(H.target.value),
                                onKeyDown: H => {
                                    H.key === "Enter" && !H.shiftKey && (H.preventDefault(),
                                    b())
                                }
                                ,
                                className: "flex-1",
                                "data-testid": "textarea-admin-message"
                            }), r.jsx(Tk, {
                                onVoiceRecorded: _,
                                disabled: !1
                            }), r.jsx(M, {
                                onClick: b,
                                disabled: !k.trim(),
                                "data-testid": "button-send-admin-message",
                                children: r.jsx(ni, {
                                    className: "w-4 h-4"
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(No, {
            open: !!N,
            onOpenChange: b => !b && S(null),
            children: r.jsxs(pi, {
                children: [r.jsxs(xi, {
                    children: [r.jsx(vi, {
                        children: "Supprimer la conversation ?"
                    }), r.jsx(yi, {
                        children: "Souhaitez-vous vraiment supprimer cette conversation ? Cette action est irrversible et supprimera tous les messages lis  cette commande."
                    })]
                }), r.jsxs(gi, {
                    children: [r.jsx(Ic, {
                        "data-testid": "button-cancel-delete",
                        children: "Annuler"
                    }), r.jsx(ji, {
                        onClick: async () => {
                            if (N)
                                try {
                                    await ze("DELETE", `/api/chat/conversation/${N}`, {}),
                                    De({
                                        title: "Conversation supprime",
                                        description: "La conversation a t supprime avec succs"
                                    }),
                                    S(null),
                                    ye.invalidateQueries({
                                        queryKey: ["/api/admin/conversations"]
                                    })
                                } catch {
                                    De({
                                        variant: "destructive",
                                        title: "Erreur",
                                        description: "chec de la suppression de la conversation"
                                    })
                                }
                        }
                        ,
                        className: "bg-destructive hover:bg-destructive/90",
                        "data-testid": "button-confirm-delete",
                        children: "Supprimer"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: D,
            onOpenChange: V,
            children: r.jsxs(pt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Dtails de la facture"
                    }), r.jsx(Rt, {
                        children: "Informations compltes sur le paiement valid"
                    })]
                }), q && ( () => {
                    const b = Zt.find(qe => qe.id === q.clientId)
                      , _ = q.acceptedOfferId ? Yr.find(qe => qe.id === q.acceptedOfferId) : null
                      , ee = _ ? Zt.find(qe => qe.id === _.transporterId) : null
                      , je = _ ? parseFloat(_.amount) : 0
                      , H = (ur == null ? void 0 : ur.commissionPercentage) || 10
                      , ve = je * (H / 100)
                      , rt = je + ve;
                    return r.jsxs("div", {
                        className: "mt-4 space-y-6",
                        children: [r.jsxs("div", {
                            className: "flex items-center justify-between pb-4 border-b",
                            children: [r.jsxs("div", {
                                children: [r.jsxs("h3", {
                                    className: "text-lg font-semibold",
                                    children: ["Facture ", q.referenceId]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Pay le ", q.updatedAt ? new Date(q.updatedAt).toLocaleDateString("fr-FR") : "N/A"]
                                })]
                            }), r.jsx(he, {
                                className: "bg-green-600",
                                children: "Pay"
                            })]
                        }), r.jsxs("div", {
                            className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                            children: [r.jsxs(ce, {
                                children: [r.jsx(Ee, {
                                    className: "pb-3",
                                    children: r.jsx(Te, {
                                        className: "text-sm text-muted-foreground",
                                        children: "Client"
                                    })
                                }), r.jsx(ue, {
                                    children: r.jsxs("p", {
                                        className: "font-medium",
                                        children: ["Client ", (b == null ? void 0 : b.clientId) || "Non dfini"]
                                    })
                                })]
                            }), r.jsxs(ce, {
                                children: [r.jsx(Ee, {
                                    className: "pb-3",
                                    children: r.jsx(Te, {
                                        className: "text-sm text-muted-foreground",
                                        children: "Transporteur"
                                    })
                                }), r.jsxs(ue, {
                                    children: [r.jsx("p", {
                                        className: "font-medium",
                                        children: (ee == null ? void 0 : ee.name) || "Inconnu"
                                    }), r.jsxs("div", {
                                        className: "flex items-center gap-1 text-sm text-muted-foreground mt-1",
                                        children: [r.jsx($r, {
                                            className: "w-3 h-3"
                                        }), r.jsx("a", {
                                            href: `tel:${ee == null ? void 0 : ee.phoneNumber}`,
                                            className: "hover:underline",
                                            children: ee == null ? void 0 : ee.phoneNumber
                                        })]
                                    })]
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Dtails financiers"
                                })
                            }), r.jsxs(ue, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "flex justify-between items-center pb-2 border-b",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Montant transporteur"
                                    }), r.jsxs("span", {
                                        className: "font-semibold",
                                        children: [je.toFixed(2), " MAD"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex justify-between items-center pb-2 border-b",
                                    children: [r.jsxs("span", {
                                        className: "text-muted-foreground",
                                        children: ["Commission CamionBack (", H, "%)"]
                                    }), r.jsxs("span", {
                                        className: "font-semibold text-green-600",
                                        children: [ve.toFixed(2), " MAD"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex justify-between items-center pt-2",
                                    children: [r.jsx("span", {
                                        className: "font-semibold text-lg",
                                        children: "Total pay par le client"
                                    }), r.jsxs("span", {
                                        className: "font-bold text-xl text-primary",
                                        children: [rt.toFixed(2), " MAD"]
                                    })]
                                })]
                            })]
                        }), r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Dtails du transport"
                                })
                            }), r.jsxs(ue, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "De"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: q.fromCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Vers"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: q.toCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: new Date(q.desiredDate).toLocaleDateString("fr-FR")
                                        })]
                                    }), _ && r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de prise en charge"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: new Date(_.pickupDate).toLocaleDateString("fr-FR")
                                        })]
                                    })]
                                }), q.description && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "text-sm mt-1",
                                        children: q.description
                                    })]
                                })]
                            })]
                        }), q.paymentReceipt && r.jsxs(ce, {
                            children: [r.jsx(Ee, {
                                children: r.jsx(Te, {
                                    children: "Reu de paiement"
                                })
                            }), r.jsx(ue, {
                                children: r.jsx("img", {
                                    src: q.paymentReceipt,
                                    alt: "Reu de paiement",
                                    className: "w-full h-auto max-h-[400px] object-contain rounded-lg border"
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), te && r.jsx(R$, {
            open: !!te,
            onOpenChange: b => !b && Ie(null),
            transporterId: te.id,
            transporterName: te.name
        }), r.jsx(No, {
            open: !!Le,
            onOpenChange: b => !b && Ve(null),
            children: r.jsxs(pi, {
                "data-testid": "dialog-delete-offer",
                children: [r.jsxs(xi, {
                    children: [r.jsx(vi, {
                        children: "Supprimer cette offre ?"
                    }), r.jsx(yi, {
                        children: "Voulez-vous vraiment supprimer cette offre ? Cette action est irrversible."
                    })]
                }), r.jsxs(gi, {
                    children: [r.jsx(Ic, {
                        "data-testid": "button-cancel-delete-offer",
                        children: "Annuler"
                    }), r.jsx(ji, {
                        onClick: () => Le && C2.mutate(Le),
                        className: "bg-destructive hover:bg-destructive/90",
                        "data-testid": "button-confirm-delete-offer",
                        children: "Supprimer"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: !!$e,
            onOpenChange: b => !b && jt(null),
            children: r.jsxs(pt, {
                "data-testid": "dialog-edit-offer",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Modifier l'offre"
                    }), r.jsx(Rt, {
                        children: "Modifiez le prix, la date ou le type de chargement de l'offre."
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-amount",
                            className: "text-sm font-medium",
                            children: "Prix propos (MAD)"
                        }), r.jsx(Fe, {
                            id: "edit-amount",
                            type: "number",
                            value: Ot,
                            onChange: b => ln(b.target.value),
                            placeholder: "Montant",
                            "data-testid": "input-edit-offer-amount"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-date",
                            className: "text-sm font-medium",
                            children: "Date de prise en charge"
                        }), r.jsx(Fe, {
                            id: "edit-date",
                            type: "date",
                            value: Qt,
                            onChange: b => wt(b.target.value),
                            "data-testid": "input-edit-offer-date"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-load-type",
                            className: "text-sm font-medium",
                            children: "Type de chargement"
                        }), r.jsxs(Jt, {
                            value: cr,
                            onValueChange: Gt,
                            children: [r.jsx(Ht, {
                                "data-testid": "select-edit-offer-load-type",
                                children: r.jsx(en, {
                                    placeholder: "Slectionner le type"
                                })
                            }), r.jsxs(qt, {
                                children: [r.jsx(Ae, {
                                    value: "return",
                                    children: "Retour"
                                }), r.jsx(Ae, {
                                    value: "shared",
                                    children: "Groupage / Partag"
                                })]
                            })]
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex justify-end gap-2",
                    children: [r.jsx(M, {
                        variant: "outline",
                        onClick: () => jt(null),
                        "data-testid": "button-cancel-edit-offer",
                        children: "Annuler"
                    }), r.jsx(M, {
                        onClick: () => {
                            $e && k2.mutate({
                                offerId: $e.id,
                                updates: {
                                    amount: parseFloat(Ot),
                                    pickupDate: Qt,
                                    loadType: cr
                                }
                            })
                        }
                        ,
                        "data-testid": "button-confirm-edit-offer",
                        children: "Enregistrer"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: T,
            onOpenChange: I,
            children: r.jsxs(pt, {
                className: "max-w-4xl",
                "data-testid": "dialog-enlarged-truck-photo",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Photo du camion"
                    }), r.jsx(Rt, {
                        children: "Vrification visuelle de la photo du vhicule"
                    })]
                }), r.jsx("div", {
                    className: "flex items-center justify-center p-4",
                    children: r.jsx("img", {
                        src: Ss,
                        alt: "Camion agrandi",
                        className: "max-w-full max-h-[600px] object-contain rounded-lg",
                        "data-testid": "img-enlarged-truck"
                    })
                })]
            })
        }), r.jsx(yt, {
            open: nt,
            onOpenChange: L,
            children: r.jsxs(pt, {
                className: "max-w-2xl max-h-[90vh] overflow-y-auto",
                "data-testid": "dialog-edit-transporter",
                children: [r.jsxs(xt, {
                    children: [r.jsxs(gt, {
                        className: "flex items-center gap-2",
                        children: [r.jsx(Rm, {
                            className: "w-5 h-5"
                        }), "Modifier le profil du transporteur"]
                    }), r.jsx(Rt, {
                        children: "Modifiez les informations du transporteur. Tous les champs sont facultatifs."
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-name",
                            className: "text-sm font-medium",
                            children: "Nom complet"
                        }), r.jsx(Fe, {
                            id: "edit-transporter-name",
                            value: _e,
                            onChange: b => Ct(b.target.value),
                            placeholder: "Ex: Ahmed Benani",
                            "data-testid": "input-edit-transporter-name"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-city",
                            className: "text-sm font-medium",
                            children: "Ville"
                        }), r.jsx(Fe, {
                            id: "edit-transporter-city",
                            value: Lt,
                            onChange: b => dr(b.target.value),
                            placeholder: "Ex: Casablanca",
                            "data-testid": "input-edit-transporter-city"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-phone",
                            className: "text-sm font-medium",
                            children: "Numro de tlphone"
                        }), r.jsx(Fe, {
                            id: "edit-transporter-phone",
                            value: vn,
                            onChange: b => Zr(b.target.value),
                            placeholder: "Ex: +212612345678",
                            "data-testid": "input-edit-transporter-phone"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-password",
                            className: "text-sm font-medium",
                            children: "Code d'accs (nouveau mot de passe)"
                        }), r.jsx(Fe, {
                            id: "edit-transporter-password",
                            type: "text",
                            value: O,
                            onChange: b => Se(b.target.value),
                            placeholder: "Ex: 040189 (laissez vide pour ne pas changer)",
                            "data-testid": "input-edit-transporter-password"
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Saisissez un nouveau code  6 chiffres pour remplacer le mot de passe actuel"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-photo",
                            className: "text-sm font-medium",
                            children: " Photo du camion (modifier)"
                        }), (se == null ? void 0 : se.truckPhoto) && !bt && r.jsxs("div", {
                            className: "mb-2",
                            children: [r.jsx("img", {
                                src: se.truckPhoto,
                                alt: "Photo actuelle",
                                className: "w-32 h-32 object-cover rounded border"
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: "Photo actuelle"
                            })]
                        }), r.jsx(Fe, {
                            id: "edit-transporter-photo",
                            type: "file",
                            accept: "image/*",
                            onChange: b => {
                                var ee;
                                const _ = (ee = b.target.files) == null ? void 0 : ee[0];
                                _ && Fn(_)
                            }
                            ,
                            "data-testid": "input-edit-transporter-photo"
                        }), bt && r.jsxs("p", {
                            className: "text-sm text-green-600",
                            children: [" Nouvelle photo slectionne: ", bt.name]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Formats accepts: JPG, PNG. Taille max: 5MB"
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex justify-end gap-2 pt-4 border-t",
                    children: [r.jsx(M, {
                        variant: "outline",
                        onClick: () => {
                            L(!1),
                            Oe(null),
                            Ct(""),
                            dr(""),
                            Zr(""),
                            Se(""),
                            Fn(null)
                        }
                        ,
                        "data-testid": "button-cancel-edit-transporter",
                        children: "Annuler"
                    }), r.jsx(M, {
                        onClick: () => {
                            se && T2()
                        }
                        ,
                        "data-testid": "button-confirm-edit-transporter",
                        children: "Enregistrer les modifications"
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: Vg,
            onOpenChange: Hf,
            children: r.jsxs(pt, {
                className: "max-w-3xl",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Photo du camion"
                    }), r.jsx(Rt, {
                        children: (Sr == null ? void 0 : Sr.name) || "Transporteur"
                    })]
                }), r.jsx("div", {
                    className: "space-y-4",
                    children: g2 ? r.jsx("div", {
                        className: "flex flex-col items-center justify-center py-12",
                        children: r.jsx(Xa, {
                            message: "Chargement de la photo...",
                            size: "sm"
                        })
                    }) : !(Sr != null && Sr.hasTruckPhoto) || !(Sr != null && Sr.truckPhoto) ? r.jsxs("div", {
                        className: "flex flex-col items-center justify-center py-12",
                        children: [r.jsx(Xt, {
                            className: "w-16 h-16 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground font-medium",
                            children: "Aucune photo disponible"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground mt-2",
                            children: "Ce transporteur n'a pas encore ajout de photo de camion"
                        })]
                    }) : r.jsx("div", {
                        className: "relative rounded-lg overflow-hidden bg-muted",
                        children: r.jsx("img", {
                            src: Sr.truckPhoto,
                            alt: `Camion de ${Sr.name}`,
                            className: "w-full h-auto max-h-[600px] object-contain",
                            "data-testid": "img-transporter-photo-full"
                        })
                    })
                }), r.jsx("div", {
                    className: "flex justify-end pt-4 border-t",
                    children: r.jsx(M, {
                        variant: "outline",
                        onClick: () => {
                            Hf(!1),
                            zg(null)
                        }
                        ,
                        "data-testid": "button-close-photo-dialog",
                        children: "Fermer"
                    })
                })]
            })
        })]
    })
}
function yj() {
    const [e,t] = u.useState(null)
      , [,n] = Zn();
    u.useEffect( () => {
        const a = localStorage.getItem("camionback_user");
        if (a) {
            const i = JSON.parse(a);
            t(i),
            i.role || n("/select-role")
        }
    }
    , [n]);
    const s = a => {
        localStorage.setItem("camionback_user", JSON.stringify(a)),
        t(a)
    }
    ;
    return e ? e.role === "admin" ? r.jsx(f2, {}) : e.role === "transporter" ? r.jsx(u2, {}) : e.role === "client" ? r.jsx(Gk, {}) : (n("/select-role"),
    null) : r.jsx(QM, {
        onAuthSuccess: s
    })
}
function M$() {
    const [,e] = Zn()
      , t = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , n = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: s, isLoading: a} = Ge({
        queryKey: [`/api/notifications?userId=${t.id}`],
        enabled: !!t.id
    })
      , i = Xe({
        mutationFn: async d => ze("PATCH", `/api/notifications/${d}/read`),
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: [`/api/notifications?userId=${t.id}`]
            }),
            ye.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${t.id}`]
            })
        }
    })
      , o = Xe({
        mutationFn: async () => ze("POST", "/api/notifications/mark-all-read", {
            userId: t.id
        }),
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: [`/api/notifications?userId=${t.id}`]
            }),
            ye.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${t.id}`]
            })
        }
    })
      , l = d => {
        const f = {
            className: "h-6 w-6"
        };
        switch (d) {
        case "offer_received":
            return r.jsx(mR, {
                ...f
            });
        case "offer_accepted":
            return r.jsx(Hn, {
                ...f
            });
        case "message_received":
            return r.jsx(rr, {
                ...f
            });
        case "payment_validated":
            return r.jsx(TR, {
                ...f
            });
        default:
            return r.jsx(Cu, {
                ...f
            })
        }
    }
      , c = (s == null ? void 0 : s.filter(d => !d.read).length) || 0;
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: t,
            onLogout: n
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-4xl",
            children: [r.jsxs("div", {
                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",
                children: [r.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [r.jsx(M, {
                        variant: "ghost",
                        size: "icon",
                        onClick: () => e("/"),
                        "data-testid": "button-back",
                        children: r.jsx(Qc, {
                            className: "h-5 w-5"
                        })
                    }), r.jsxs("div", {
                        children: [r.jsx("h1", {
                            className: "text-2xl sm:text-3xl font-bold",
                            children: "Notifications"
                        }), c > 0 && r.jsxs("p", {
                            className: "text-sm text-muted-foreground mt-1",
                            children: [c, " notification", c > 1 ? "s" : "", " non lue", c > 1 ? "s" : ""]
                        })]
                    })]
                }), c > 0 && r.jsxs(M, {
                    variant: "outline",
                    size: "sm",
                    onClick: () => o.mutate(),
                    disabled: o.isPending,
                    "data-testid": "button-mark-all-read",
                    className: "gap-2 w-full sm:w-auto",
                    children: [r.jsx(dR, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Tout marquer comme lu"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Marquer comme lu"
                    })]
                })]
            }), a ? r.jsx("div", {
                className: "space-y-3",
                children: [...Array(5)].map( (d, f) => r.jsx(ce, {
                    className: "animate-pulse",
                    children: r.jsxs(ue, {
                        className: "p-4",
                        children: [r.jsx("div", {
                            className: "h-4 bg-muted rounded w-3/4 mb-2"
                        }), r.jsx("div", {
                            className: "h-3 bg-muted rounded w-1/2"
                        })]
                    })
                }, f))
            }) : s && s.length > 0 ? r.jsx("div", {
                className: "space-y-3",
                children: s.map(d => r.jsx(ce, {
                    className: `transition-all hover-elevate cursor-pointer ${d.read ? "" : "border-l-4 border-l-primary"}`,
                    onClick: () => {
                        d.read || i.mutate(d.id)
                    }
                    ,
                    "data-testid": `notification-${d.id}`,
                    children: r.jsx(ue, {
                        className: "p-4",
                        children: r.jsxs("div", {
                            className: "flex items-start gap-4",
                            children: [r.jsx("div", {
                                className: "flex-shrink-0 text-primary",
                                children: l(d.type)
                            }), r.jsxs("div", {
                                className: "flex-1 min-w-0",
                                children: [r.jsxs("div", {
                                    className: "flex items-start justify-between gap-2 mb-1",
                                    children: [r.jsx("h3", {
                                        className: "font-semibold text-base",
                                        children: d.title
                                    }), !d.read && r.jsx(he, {
                                        variant: "default",
                                        className: "flex-shrink-0",
                                        children: "Nouveau"
                                    })]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground mb-2",
                                    children: d.message
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground",
                                    children: d.createdAt && Ur(new Date(d.createdAt), "dd MMMM yyyy '' HH:mm", {
                                        locale: Wr
                                    })
                                })]
                            }), !d.read && r.jsx(M, {
                                variant: "ghost",
                                size: "icon",
                                onClick: f => {
                                    f.stopPropagation(),
                                    i.mutate(d.id)
                                }
                                ,
                                "data-testid": `button-mark-read-${d.id}`,
                                className: "flex-shrink-0",
                                children: r.jsx(jf, {
                                    className: "h-4 w-4"
                                })
                            })]
                        })
                    })
                }, d.id))
            }) : r.jsx(ce, {
                children: r.jsxs(ue, {
                    className: "p-12 text-center",
                    children: [r.jsx(Cu, {
                        className: "h-16 w-16 mx-auto mb-4 text-muted-foreground"
                    }), r.jsx("h3", {
                        className: "text-xl font-semibold mb-2",
                        children: "Aucune notification"
                    }), r.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Vous n'avez pas encore de notifications. Elles apparatront ici lorsque vous recevrez des offres, messages ou mises  jour."
                    })]
                })
            })]
        })]
    })
}
function I$() {
    const [,e] = Zn()
      , [t,n] = u.useState(null)
      , [s,a] = u.useState(!1)
      , i = localStorage.getItem("camionback_user")
      , o = i ? JSON.parse(i) : null
      , l = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: c=[], isLoading: d} = Ge({
        queryKey: [`/api/chat/conversations?userId=${o == null ? void 0 : o.id}`],
        enabled: !!(o != null && o.id),
        refetchInterval: 5e3
    })
      , f = Xe({
        mutationFn: async ({userId: g, requestId: w}) => ze("POST", "/api/chat/mark-read", {
            userId: g,
            requestId: w
        }),
        onSuccess: () => {
            ye.invalidateQueries({
                queryKey: [`/api/chat/conversations?userId=${o == null ? void 0 : o.id}`]
            }),
            ye.invalidateQueries({
                queryKey: [`/api/chat/unread-count?userId=${o == null ? void 0 : o.id}`]
            })
        }
    })
      , m = g => {
        n(g),
        a(!0),
        g.unreadCount > 0 && (o != null && o.id) && f.mutate({
            userId: o.id,
            requestId: g.requestId
        })
    }
      , h = () => {
        a(!1),
        n(null)
    }
    ;
    return o ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: o,
            onLogout: l
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-4xl space-y-6",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4",
                children: [r.jsx(M, {
                    variant: "ghost",
                    size: "icon",
                    onClick: () => e("/"),
                    "data-testid": "button-back",
                    children: r.jsx(Qc, {
                        className: "h-5 w-5"
                    })
                }), r.jsxs("div", {
                    className: "flex items-center gap-3",
                    children: [r.jsx(rr, {
                        className: "w-8 h-8 text-primary"
                    }), r.jsxs("div", {
                        children: [r.jsx("h1", {
                            className: "text-3xl font-bold",
                            children: "Messages"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Consultez vos conversations"
                        })]
                    })]
                })]
            }), d ? r.jsx(ce, {
                children: r.jsx(ue, {
                    className: "p-6",
                    children: r.jsx("p", {
                        className: "text-center text-muted-foreground",
                        children: "Chargement..."
                    })
                })
            }) : c.length === 0 ? r.jsx(ce, {
                children: r.jsx(ue, {
                    className: "p-6",
                    children: r.jsx("p", {
                        className: "text-center text-muted-foreground",
                        children: "Aucune conversation pour le moment."
                    })
                })
            }) : r.jsx("div", {
                className: "space-y-4",
                children: c.map(g => r.jsxs(ce, {
                    className: "hover-elevate",
                    "data-testid": `conversation-${g.requestId}`,
                    children: [r.jsx(Ee, {
                        className: "pb-3",
                        children: r.jsxs("div", {
                            className: "flex items-start justify-between gap-4",
                            children: [r.jsxs("div", {
                                className: "flex-1 min-w-0",
                                children: [r.jsxs("div", {
                                    className: "flex items-center gap-2 mb-2",
                                    children: [r.jsx(Te, {
                                        className: "text-lg",
                                        children: g.referenceId
                                    }), g.unreadCount > 0 && r.jsx(he, {
                                        variant: "destructive",
                                        className: "rounded-full",
                                        "data-testid": `badge-unread-${g.requestId}`,
                                        children: g.unreadCount
                                    })]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [g.fromCity, "  ", g.toCity]
                                })]
                            }), r.jsxs(M, {
                                onClick: () => m(g),
                                size: "sm",
                                className: "gap-2 flex-shrink-0",
                                "data-testid": `button-view-conversation-${g.requestId}`,
                                children: ["Voir conversation", r.jsx(Hb, {
                                    className: "w-4 h-4"
                                })]
                            })]
                        })
                    }), r.jsxs(ue, {
                        className: "pt-0",
                        children: [r.jsxs("div", {
                            className: "flex items-center gap-2 text-sm",
                            children: [r.jsxs("span", {
                                className: "font-medium text-muted-foreground",
                                children: [g.otherUser.role === "client" ? "Client" : "Transporteur", " :"]
                            }), r.jsx("span", {
                                className: "text-foreground",
                                children: g.otherUser.name
                            })]
                        }), r.jsxs("div", {
                            className: "mt-2 p-3 bg-muted rounded-md",
                            children: [r.jsxs("p", {
                                className: "text-sm text-muted-foreground line-clamp-2",
                                children: ["Dernier message : ", g.lastMessage.filteredMessage || g.lastMessage.message]
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: new Date(g.lastMessage.createdAt).toLocaleDateString("fr-FR", {
                                    day: "numeric",
                                    month: "short",
                                    hour: "2-digit",
                                    minute: "2-digit"
                                })
                            })]
                        })]
                    })]
                }, g.requestId))
            }), t && r.jsx(Lg, {
                open: s,
                onClose: h,
                otherUser: t.otherUser,
                currentUserId: o.id,
                currentUserRole: o.role,
                requestId: t.requestId
            })]
        })]
    }) : r.jsx("div", {
        className: "container mx-auto p-6",
        children: r.jsx(ce, {
            children: r.jsx(ue, {
                className: "p-6",
                children: r.jsx("p", {
                    className: "text-center text-muted-foreground",
                    children: "Vous devez tre connect pour consulter vos messages."
                })
            })
        })
    })
}
function D$() {
    const [,e] = Zn()
      , [t,n] = u.useState(!1)
      , {toast: s} = on()
      , a = JSON.parse(localStorage.getItem("camionback_user") || "{}");
    if (a.role)
        return e("/"),
        null;
    const i = async o => {
        n(!0);
        try {
            const l = await fetch("/api/auth/select-role", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    userId: a.id,
                    role: o
                })
            });
            if (!l.ok)
                throw new Error("Failed to select role");
            const c = await l.json();
            localStorage.setItem("camionback_user", JSON.stringify(c.user)),
            e(o === "client" ? "/" : "/complete-profile")
        } catch {
            s({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la slection du rle"
            })
        } finally {
            n(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen flex items-center justify-center p-4 bg-background",
        children: r.jsxs("div", {
            className: "w-full max-w-4xl",
            children: [r.jsxs("div", {
                className: "text-center mb-8",
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold mb-2",
                    children: "Bienvenue sur CamionBack"
                }), r.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Choisissez votre rle pour continuer"
                })]
            }), r.jsxs("div", {
                className: "grid md:grid-cols-2 gap-6",
                children: [r.jsxs(ce, {
                    className: "hover-elevate active-elevate-2 cursor-pointer transition-all border-2",
                    onClick: () => !t && i("client"),
                    "data-testid": "card-role-client",
                    children: [r.jsxs(Ee, {
                        className: "text-center space-y-4",
                        children: [r.jsx("div", {
                            className: "mx-auto w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",
                            children: r.jsx(Ut, {
                                className: "w-12 h-12 text-primary"
                            })
                        }), r.jsx(Te, {
                            className: "text-2xl",
                            children: "Expditeur"
                        }), r.jsx(Sn, {
                            className: "text-base",
                            children: "J'ai besoin de transporter des marchandises ou meubles"
                        })]
                    }), r.jsx(ue, {
                        children: r.jsx(M, {
                            className: "w-full",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-select-client",
                            children: t ? "Slection..." : "Demander un CamionBack"
                        })
                    })]
                }), r.jsxs(ce, {
                    className: "hover-elevate active-elevate-2 cursor-pointer transition-all border-2",
                    onClick: () => !t && i("transporter"),
                    "data-testid": "card-role-transporter",
                    children: [r.jsxs(Ee, {
                        className: "text-center space-y-4",
                        children: [r.jsx("div", {
                            className: "mx-auto w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center",
                            children: r.jsx(Xt, {
                                className: "w-12 h-12 text-primary"
                            })
                        }), r.jsx(Te, {
                            className: "text-2xl",
                            children: "Transporteur"
                        }), r.jsx(Sn, {
                            className: "text-base",
                            children: "Je possde un camion et je souhaite proposer mes services de transport"
                        })]
                    }), r.jsx(ue, {
                        children: r.jsx(M, {
                            className: "w-full",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-select-transporter",
                            children: t ? "Slection..." : "Devenir Transporteur"
                        })
                    })]
                })]
            })]
        })
    })
}
const O$ = ["Casablanca", "Rabat", "Fs", "Marrakech", "Tanger", "Agadir", "Mekns", "Oujda", "Kenitra", "Ttouan", "Safi", "El Jadida", "Nador", "Bni Mellal", "Khouribga"]
  , L$ = We.object({
    name: We.string().min(3, "Le nom doit contenir au moins 3 caractres"),
    city: We.string().min(1, "Veuillez slectionner une ville"),
    truckPhoto: We.instanceof(File, {
        message: "La photo du camion est obligatoire"
    })
});
function F$() {
    const [,e] = Zn()
      , [t,n] = u.useState(!1)
      , [s,a] = u.useState(null)
      , {toast: i} = on()
      , o = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , l = Da({
        resolver: Oa(L$),
        defaultValues: {
            name: "",
            city: ""
        }
    })
      , c = f => {
        var h;
        const m = (h = f.target.files) == null ? void 0 : h[0];
        if (m) {
            l.setValue("truckPhoto", m);
            const g = new FileReader;
            g.onloadend = () => {
                a(g.result)
            }
            ,
            g.readAsDataURL(m)
        }
    }
      , d = async f => {
        n(!0);
        try {
            const m = new FormData;
            m.append("userId", o.id),
            m.append("name", f.name),
            m.append("city", f.city),
            m.append("truckPhoto", f.truckPhoto);
            const h = await fetch("/api/auth/complete-profile", {
                method: "POST",
                body: m
            });
            if (!h.ok)
                throw new Error("Failed to complete profile");
            const g = await h.json();
            localStorage.setItem("camionback_user", JSON.stringify(g.user)),
            i({
                title: "Profil complt",
                description: "Votre profil est en cours de validation par notre quipe"
            }),
            e("/")
        } catch {
            i({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la compltion du profil"
            })
        } finally {
            n(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen flex items-center justify-center p-4 bg-background",
        children: r.jsxs(ce, {
            className: "w-full max-w-lg",
            children: [r.jsxs(Ee, {
                className: "text-center space-y-2",
                children: [r.jsx("div", {
                    className: "mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-2",
                    children: r.jsx(Xt, {
                        className: "w-8 h-8 text-primary"
                    })
                }), r.jsx(Te, {
                    className: "text-2xl font-bold",
                    children: "Compltez votre profil"
                }), r.jsx(Sn, {
                    children: "Remplissez ces informations pour commencer  proposer vos services"
                })]
            }), r.jsx(ue, {
                children: r.jsx(Ua, {
                    ...l,
                    children: r.jsxs("form", {
                        onSubmit: l.handleSubmit(d),
                        className: "space-y-6",
                        children: [r.jsx(ot, {
                            control: l.control,
                            name: "name",
                            render: ({field: f}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Nom complet"
                                }), r.jsx(st, {
                                    children: r.jsx(Fe, {
                                        placeholder: "Ahmed El Mansouri",
                                        ...f,
                                        "data-testid": "input-name"
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(ot, {
                            control: l.control,
                            name: "city",
                            render: ({field: f}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Ville de rsidence"
                                }), r.jsxs(Jt, {
                                    onValueChange: f.onChange,
                                    defaultValue: f.value,
                                    children: [r.jsx(st, {
                                        children: r.jsx(Ht, {
                                            "data-testid": "select-city",
                                            children: r.jsx(en, {
                                                placeholder: "Slectionnez une ville"
                                            })
                                        })
                                    }), r.jsx(qt, {
                                        children: O$.map(m => r.jsx(Ae, {
                                            value: m,
                                            children: m
                                        }, m))
                                    })]
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsx(Je, {
                                children: "Numro de tlphone"
                            }), r.jsx(Fe, {
                                value: o.phoneNumber || "",
                                disabled: !0,
                                className: "bg-muted",
                                "data-testid": "input-phone-disabled"
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "Le numro de tlphone ne peut pas tre modifi"
                            })]
                        }), r.jsx(ot, {
                            control: l.control,
                            name: "truckPhoto",
                            render: ({field: {value: f, onChange: m, ...h}}) => r.jsxs(et, {
                                children: [r.jsx(Je, {
                                    children: "Photo du camion *"
                                }), r.jsx(st, {
                                    children: r.jsx("div", {
                                        className: "space-y-4",
                                        children: s ? r.jsxs("div", {
                                            className: "border-2 border-dashed rounded-lg p-4",
                                            children: [r.jsx("img", {
                                                src: s,
                                                alt: "Aperu camion",
                                                className: "max-h-48 mx-auto rounded-lg mb-4"
                                            }), r.jsx(M, {
                                                type: "button",
                                                variant: "outline",
                                                size: "sm",
                                                className: "w-full",
                                                onClick: () => {
                                                    a(null);
                                                    const g = document.getElementById("truck-photo");
                                                    g && (g.value = ""),
                                                    l.resetField("truckPhoto")
                                                }
                                                ,
                                                "data-testid": "button-remove-photo",
                                                children: "Changer la photo"
                                            })]
                                        }) : r.jsxs("div", {
                                            className: "border-2 border-dashed rounded-lg p-6 text-center",
                                            children: [r.jsx(wf, {
                                                className: "w-12 h-12 mx-auto text-muted-foreground mb-2"
                                            }), r.jsx("p", {
                                                className: "text-sm text-muted-foreground mb-4",
                                                children: "Cliquez pour tlcharger une photo de votre camion"
                                            }), r.jsx(Fe, {
                                                type: "file",
                                                accept: "image/*",
                                                onChange: g => {
                                                    var x;
                                                    const w = (x = g.target.files) == null ? void 0 : x[0];
                                                    w && (c(g),
                                                    m(w))
                                                }
                                                ,
                                                id: "truck-photo",
                                                "data-testid": "input-truck-photo",
                                                className: "max-w-xs mx-auto"
                                            })]
                                        })
                                    })
                                }), r.jsx(dt, {})]
                            })
                        }), r.jsx(M, {
                            type: "submit",
                            className: "w-full",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-submit-profile",
                            children: t ? "Enregistrement..." : "Soumettre mon profil"
                        })]
                    })
                })
            })]
        })
    })
}
function $$() {
    const [,e] = Zn()
      , [t,n] = u.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    u.useEffect( () => {
        t.role && t.role !== "transporter" && e("/")
    }
    , [t.role, e]),
    u.useEffect( () => {
        const l = async () => {
            try {
                const c = await fetch(`/api/auth/me/${t.id}`);
                if (c.ok) {
                    const {user: d} = await c.json();
                    localStorage.setItem("camionback_user", JSON.stringify(d)),
                    n(d)
                } else
                    c.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (c) {
                console.error("Failed to refresh user data:", c)
            }
        }
        ;
        t.id && l()
    }
    , [t.id]);
    const s = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: a=[], isLoading: i} = Ge({
        queryKey: ["/api/requests/payments", t.id],
        queryFn: async () => (await fetch(`/api/requests?payments=true&transporterId=${t.id}`)).json(),
        refetchInterval: 5e3,
        enabled: !!t.id && t.role === "transporter"
    })
      , {data: o=[]} = Ge({
        queryKey: ["/api/offers"],
        queryFn: async () => (await fetch("/api/offers")).json()
    });
    return i ? r.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: r.jsxs("div", {
            className: "text-center",
            children: [r.jsx("div", {
                className: "animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"
            }), r.jsx("p", {
                className: "text-muted-foreground",
                children: "Chargement..."
            })]
        })
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: t,
            onLogout: s
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Paiements reus"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Historique de vos paiements CamionBack"
                })]
            }), r.jsxs(ce, {
                children: [r.jsx(Ee, {
                    children: r.jsx(Te, {
                        children: "Liste des paiements"
                    })
                }), r.jsx(ue, {
                    children: a.length > 0 ? r.jsx("div", {
                        className: "overflow-x-auto",
                        children: r.jsxs($n, {
                            children: [r.jsx(zn, {
                                children: r.jsxs(Nt, {
                                    children: [r.jsx(K, {
                                        children: "Numro de commande"
                                    }), r.jsx(K, {
                                        children: "Date de commande"
                                    }), r.jsx(K, {
                                        children: "Dernire mise  jour"
                                    }), r.jsx(K, {
                                        children: "Montant"
                                    }), r.jsx(K, {
                                        children: "Statut"
                                    })]
                                })
                            }), r.jsx(Vn, {
                                children: a.map(l => {
                                    const c = o.find(m => m.id === l.acceptedOfferId)
                                      , d = l.paymentStatus === "pending_admin_validation"
                                      , f = l.paymentStatus === "paid";
                                    return r.jsxs(Nt, {
                                        "data-testid": `row-payment-${l.id}`,
                                        children: [r.jsx(Q, {
                                            className: "font-medium",
                                            "data-testid": `text-reference-${l.id}`,
                                            children: l.referenceId
                                        }), r.jsx(Q, {
                                            "data-testid": `text-created-${l.id}`,
                                            children: l.createdAt ? Ur(new Date(l.createdAt), "dd/MM/yyyy", {
                                                locale: Wr
                                            }) : "N/A"
                                        }), r.jsx(Q, {
                                            "data-testid": `text-updated-${l.id}`,
                                            children: l.updatedAt ? Ur(new Date(l.updatedAt), "dd/MM/yyyy '' HH:mm", {
                                                locale: Wr
                                            }) : l.createdAt ? Ur(new Date(l.createdAt), "dd/MM/yyyy '' HH:mm", {
                                                locale: Wr
                                            }) : "N/A"
                                        }), r.jsx(Q, {
                                            className: "font-semibold",
                                            "data-testid": `text-amount-${l.id}`,
                                            children: c ? `${c.amount} MAD` : "N/A"
                                        }), r.jsxs(Q, {
                                            "data-testid": `status-payment-${l.id}`,
                                            children: [d && r.jsxs(he, {
                                                variant: "default",
                                                className: "bg-orange-600 gap-1",
                                                children: [r.jsx(rp, {
                                                    className: "h-3 w-3"
                                                }), "En attente de paiement par CamionBack"]
                                            }), f && r.jsxs(he, {
                                                variant: "default",
                                                className: "bg-green-600 gap-1",
                                                children: [r.jsx(Hn, {
                                                    className: "h-3 w-3"
                                                }), "Pay par CamionBack"]
                                            })]
                                        })]
                                    }, l.id)
                                }
                                )
                            })]
                        })
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(rp, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucun paiement pour le moment"
                        })]
                    })
                })]
            })]
        })]
    })
}
function z$() {
    const e = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , {data: t, isLoading: n} = Ge({
        queryKey: ["/api/transporters", e == null ? void 0 : e.id, "ratings"],
        enabled: !!(e != null && e.id)
    })
      , s = o => r.jsx("div", {
        className: "flex gap-1",
        "data-testid": `stars-${o}`,
        children: [1, 2, 3, 4, 5].map(l => r.jsx(Bs, {
            className: `w-5 h-5 ${l <= o ? "fill-yellow-400 text-yellow-400" : "fill-gray-600 text-gray-600"}`,
            "data-testid": `star-${l <= o ? "filled" : "empty"}`
        }, l))
    });
    if (n)
        return r.jsx("div", {
            className: "min-h-screen bg-[#0a2540] p-4",
            children: r.jsxs("div", {
                className: "max-w-4xl mx-auto",
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold text-white mb-6",
                    children: "Mes avis clients"
                }), r.jsx("p", {
                    className: "text-gray-300",
                    children: "Chargement..."
                })]
            })
        });
    const a = (t == null ? void 0 : t.summary) || {
        averageRating: "0.0",
        totalRatings: 0
    }
      , i = (t == null ? void 0 : t.ratings) || [];
    return r.jsx("div", {
        className: "min-h-screen bg-[#0a2540] p-4",
        children: r.jsxs("div", {
            className: "max-w-4xl mx-auto",
            children: [r.jsx("h1", {
                className: "text-3xl font-bold text-white mb-6",
                "data-testid": "heading-ratings",
                children: "Mes avis clients"
            }), r.jsx(ce, {
                className: "mb-6 bg-white/10 border-white/20",
                "data-testid": "card-summary",
                children: r.jsx(ue, {
                    className: "p-6",
                    children: r.jsxs("div", {
                        className: "flex items-center gap-4",
                        children: [r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Bs, {
                                className: "w-8 h-8 fill-yellow-400 text-yellow-400"
                            }), r.jsxs("div", {
                                children: [r.jsx("div", {
                                    className: "text-4xl font-bold text-white",
                                    "data-testid": "text-average-rating",
                                    children: a.averageRating
                                }), r.jsx("div", {
                                    className: "text-sm text-gray-300",
                                    children: "/ 5"
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "ml-auto text-right",
                            children: [r.jsx("div", {
                                className: "text-2xl font-semibold text-white",
                                "data-testid": "text-total-ratings",
                                children: a.totalRatings
                            }), r.jsx("div", {
                                className: "text-sm text-gray-300",
                                children: a.totalRatings === 0 || a.totalRatings === 1 ? "valuation" : "valuations"
                            })]
                        })]
                    })
                })
            }), i.length === 0 && r.jsx(ce, {
                className: "bg-white/10 border-white/20",
                "data-testid": "card-no-ratings",
                children: r.jsxs(ue, {
                    className: "p-8 text-center",
                    children: [r.jsx(Ut, {
                        className: "w-16 h-16 text-gray-400 mx-auto mb-4"
                    }), r.jsx("p", {
                        className: "text-lg text-gray-300",
                        children: "Vous n'avez pas encore reu d'avis."
                    }), r.jsx("p", {
                        className: "text-sm text-gray-400 mt-2",
                        children: "Continuez  effectuer vos livraisons pour btir votre rputation sur CamionBack."
                    })]
                })
            }), i.length > 0 && r.jsx("div", {
                className: "space-y-4",
                children: i.map(o => r.jsxs(ce, {
                    className: "bg-white/10 border-white/20",
                    "data-testid": `card-rating-${o.id}`,
                    children: [r.jsx(Ee, {
                        className: "pb-3",
                        children: r.jsxs(Te, {
                            className: "text-lg font-semibold text-white flex items-center justify-between",
                            children: [r.jsx("span", {
                                "data-testid": `text-reference-${o.id}`,
                                children: o.requestReference
                            }), r.jsx("span", {
                                className: "text-sm font-normal text-gray-300",
                                "data-testid": `text-date-${o.id}`,
                                children: o.createdAt ? Ur(new Date(o.createdAt), "d MMMM yyyy", {
                                    locale: Wr
                                }) : "N/A"
                            })]
                        })
                    }), r.jsxs(ue, {
                        children: [s(o.score), o.comment && r.jsx("p", {
                            className: "text-gray-300 mt-3 text-sm",
                            "data-testid": `text-comment-${o.id}`,
                            children: o.comment
                        })]
                    })]
                }, o.id))
            })]
        })
    })
}
function V$() {
    const [,e] = Zn()
      , {toast: t} = on()
      , [n,s] = u.useState(!1)
      , [a,i] = u.useState(!1)
      , [o,l] = u.useState(null)
      , [c,d] = u.useState("")
      , [f,m] = u.useState("")
      , [h,g] = u.useState("")
      , [w,x] = u.useState("")
      , [y,v] = u.useState("")
      , p = localStorage.getItem("camionback_user")
      , j = p ? JSON.parse(p) : null
      , {data: N, isLoading: S} = Ge({
        queryKey: [`/api/users/${j == null ? void 0 : j.id}`],
        enabled: !!(j != null && j.id)
    });
    u.useEffect( () => {
        N && (m(N.phoneNumber),
        g(N.name))
    }
    , [N]);
    const k = Xe({
        mutationFn: async R => {
            const B = await fetch(`/api/users/${j == null ? void 0 : j.id}/profile`, {
                method: "PATCH",
                body: R
            });
            if (!B.ok) {
                const U = await B.json();
                throw new Error(U.error || "Erreur lors de la mise  jour")
            }
            return B.json()
        }
        ,
        onSuccess: R => {
            t({
                title: " Profil mis  jour avec succs",
                description: "Vos informations ont t enregistres"
            }),
            localStorage.setItem("camionback_user", JSON.stringify(R)),
            ye.invalidateQueries({
                queryKey: [`/api/users/${j == null ? void 0 : j.id}`]
            }),
            s(!1),
            l(null),
            d("")
        }
        ,
        onError: R => {
            t({
                title: "Erreur",
                description: R.message || "Impossible de mettre  jour le profil",
                variant: "destructive"
            })
        }
    })
      , C = Xe({
        mutationFn: async R => (await ze("PATCH", `/api/users/${j == null ? void 0 : j.id}/pin`, {
            pin: R
        })).json(),
        onSuccess: () => {
            t({
                title: " Code PIN modifi",
                description: "Votre nouveau code PIN a t enregistr"
            }),
            i(!1),
            x(""),
            v("")
        }
        ,
        onError: R => {
            t({
                title: "Erreur",
                description: R.message || "Impossible de modifier le PIN",
                variant: "destructive"
            })
        }
    })
      , E = () => {
        localStorage.removeItem("camionback_user"),
        e("/")
    }
      , A = R => {
        var U;
        const B = (U = R.target.files) == null ? void 0 : U[0];
        if (B) {
            if (B.size > 5 * 1024 * 1024) {
                t({
                    title: "Fichier trop volumineux",
                    description: "La photo ne doit pas dpasser 5 MB",
                    variant: "destructive"
                });
                return
            }
            l(B),
            d(URL.createObjectURL(B))
        }
    }
      , z = async () => {
        if (!f || !h) {
            t({
                title: "Champs requis",
                description: "Le nom et le tlphone sont obligatoires",
                variant: "destructive"
            });
            return
        }
        if (!/^\+212[5-7]\d{8}$/.test(f)) {
            t({
                title: "Numro invalide",
                description: "Le numro doit tre au format marocain: +212XXXXXXXXX",
                variant: "destructive"
            });
            return
        }
        const B = new FormData;
        B.append("phoneNumber", f),
        B.append("name", h),
        o && B.append("truckPhoto", o),
        k.mutate(B)
    }
      , G = () => {
        if (w.length !== 6 || !/^\d{6}$/.test(w)) {
            t({
                title: "PIN invalide",
                description: "Le code PIN doit contenir exactement 6 chiffres",
                variant: "destructive"
            });
            return
        }
        if (w !== y) {
            t({
                title: "PIN non identique",
                description: "Les deux codes PIN doivent tre identiques",
                variant: "destructive"
            });
            return
        }
        C.mutate(w)
    }
    ;
    return S ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: j,
            onLogout: E
        }), r.jsx("div", {
            className: "container py-8 flex items-center justify-center",
            children: r.jsxs("div", {
                className: "text-center",
                children: [r.jsx("div", {
                    className: "animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"
                }), r.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Chargement..."
                })]
            })
        })]
    }) : N ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: j,
            onLogout: E
        }), r.jsx("div", {
            className: "container max-w-3xl py-8 px-4",
            children: r.jsxs(ce, {
                children: [r.jsx(Ee, {
                    children: r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsxs("div", {
                            children: [r.jsxs(Te, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(ip, {
                                    className: "w-5 h-5"
                                }), "Mon Profil"]
                            }), r.jsx(Sn, {
                                children: "Grez vos informations personnelles"
                            })]
                        }), !n && r.jsx(M, {
                            onClick: () => {
                                s(!0),
                                m(N.phoneNumber),
                                g(N.name)
                            }
                            ,
                            "data-testid": "button-edit-profile",
                            children: "Modifier"
                        })]
                    })
                }), r.jsxs(ue, {
                    className: "space-y-6",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(bn, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Xt, {
                                className: "w-4 h-4"
                            }), "Photo du camion"]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-4",
                            children: [(c || N.truckPhotos && N.truckPhotos.length > 0) && r.jsx("img", {
                                src: c || N.truckPhotos[0],
                                alt: "Camion",
                                className: "w-32 h-32 object-cover rounded-lg border",
                                "data-testid": "img-truck-preview"
                            }), n && r.jsxs("div", {
                                className: "flex-1",
                                children: [r.jsx(Fe, {
                                    type: "file",
                                    accept: "image/*",
                                    onChange: A,
                                    "data-testid": "input-truck-photo"
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1",
                                    children: "Maximum 5 MB - Formats: JPG, PNG"
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(bn, {
                            htmlFor: "name",
                            className: "flex items-center gap-2",
                            children: [r.jsx(ip, {
                                className: "w-4 h-4"
                            }), "Nom complet ou nom de socit"]
                        }), n ? r.jsx(Fe, {
                            id: "name",
                            value: h,
                            onChange: R => g(R.target.value),
                            placeholder: "Votre nom",
                            "data-testid": "input-name"
                        }) : r.jsx("p", {
                            className: "text-base py-2",
                            "data-testid": "text-name",
                            children: N.name
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(bn, {
                            htmlFor: "phone",
                            className: "flex items-center gap-2",
                            children: [r.jsx($r, {
                                className: "w-4 h-4"
                            }), "Numro de tlphone"]
                        }), n ? r.jsx(Fe, {
                            id: "phone",
                            value: f,
                            onChange: R => m(R.target.value),
                            placeholder: "+212XXXXXXXXX",
                            "data-testid": "input-phone"
                        }) : r.jsx("p", {
                            className: "text-base py-2",
                            "data-testid": "text-phone",
                            children: N.phoneNumber
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(bn, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Mr, {
                                className: "w-4 h-4"
                            }), "Ville de rsidence"]
                        }), r.jsx("p", {
                            className: "text-base py-2 text-muted-foreground",
                            "data-testid": "text-city",
                            children: N.city
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Non modifiable - Contactez l'administrateur pour changer"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(bn, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(hR, {
                                className: "w-4 h-4"
                            }), "Code PIN"]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-4",
                            children: [r.jsx("p", {
                                className: "text-base py-2",
                                "data-testid": "text-pin",
                                children: ""
                            }), r.jsx(M, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => i(!0),
                                "data-testid": "button-change-pin",
                                children: "Rinitialiser le PIN"
                            })]
                        })]
                    }), n && r.jsxs("div", {
                        className: "flex gap-3 pt-4",
                        children: [r.jsx(M, {
                            onClick: z,
                            disabled: k.isPending,
                            className: "flex-1",
                            style: {
                                backgroundColor: "#17cfcf"
                            },
                            "data-testid": "button-save-profile",
                            children: k.isPending ? "Enregistrement..." : "Enregistrer les modifications"
                        }), r.jsx(M, {
                            variant: "outline",
                            onClick: () => {
                                s(!1),
                                l(null),
                                d("")
                            }
                            ,
                            "data-testid": "button-cancel-edit",
                            children: "Annuler"
                        })]
                    })]
                })]
            })
        }), r.jsx(yt, {
            open: a,
            onOpenChange: i,
            children: r.jsxs(pt, {
                "data-testid": "dialog-change-pin",
                children: [r.jsxs(xt, {
                    children: [r.jsx(gt, {
                        children: "Rinitialiser le code PIN"
                    }), r.jsx(Rt, {
                        children: "Entrez un nouveau code PIN  6 chiffres"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx(bn, {
                            htmlFor: "new-pin",
                            children: "Nouveau code PIN"
                        }), r.jsx(Fe, {
                            id: "new-pin",
                            type: "password",
                            maxLength: 6,
                            value: w,
                            onChange: R => x(R.target.value.replace(/\D/g, "")),
                            placeholder: "6 chiffres",
                            "data-testid": "input-new-pin"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx(bn, {
                            htmlFor: "confirm-pin",
                            children: "Confirmer le code PIN"
                        }), r.jsx(Fe, {
                            id: "confirm-pin",
                            type: "password",
                            maxLength: 6,
                            value: y,
                            onChange: R => v(R.target.value.replace(/\D/g, "")),
                            placeholder: "6 chiffres",
                            "data-testid": "input-confirm-pin"
                        })]
                    })]
                }), r.jsxs(xs, {
                    children: [r.jsx(M, {
                        variant: "outline",
                        onClick: () => {
                            i(!1),
                            x(""),
                            v("")
                        }
                        ,
                        "data-testid": "button-cancel-pin",
                        children: "Annuler"
                    }), r.jsx(M, {
                        onClick: G,
                        disabled: C.isPending,
                        "data-testid": "button-confirm-pin",
                        children: C.isPending ? "Enregistrement..." : "Valider"
                    })]
                })]
            })
        })]
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(Fs, {
            user: j,
            onLogout: E
        }), r.jsx("div", {
            className: "container py-8",
            children: r.jsx("p", {
                className: "text-center text-muted-foreground",
                children: "Profil introuvable"
            })
        })]
    })
}
function U$() {
    const {toast: e} = on()
      , [t,n] = u.useState("")
      , [s,a] = u.useState("")
      , i = localStorage.getItem("camionback_user")
      , o = i ? JSON.parse(i) : null
      , {isLoading: l} = Ge({
        queryKey: ["/api/user/rib", o == null ? void 0 : o.id],
        queryFn: async () => {
            if (!(o != null && o.id))
                throw new Error("Utilisateur non trouv");
            const f = await fetch(`/api/user/rib?userId=${o.id}`);
            if (!f.ok)
                throw new Error("chec de rcupration du RIB");
            const m = await f.json();
            return n(m.ribName || ""),
            a(m.ribNumber || ""),
            m
        }
        ,
        enabled: !!(o != null && o.id)
    })
      , c = Xe({
        mutationFn: async f => {
            if (!(o != null && o.id))
                throw new Error("Utilisateur non trouv");
            return await ze("PATCH", "/api/user/rib", {
                ...f,
                userId: o.id
            })
        }
        ,
        onSuccess: () => {
            e({
                title: "Succs",
                description: " Votre RIB a t enregistr avec succs."
            }),
            ye.invalidateQueries({
                queryKey: ["/api/user/rib"]
            })
        }
        ,
        onError: f => {
            e({
                variant: "destructive",
                title: "Erreur",
                description: f.message || " Le RIB doit contenir exactement 24 chiffres."
            })
        }
    })
      , d = f => {
        if (f.preventDefault(),
        s && !/^\d{24}$/.test(s)) {
            e({
                variant: "destructive",
                title: "Erreur de validation",
                description: " Le RIB doit contenir exactement 24 chiffres."
            });
            return
        }
        c.mutate({
            ribName: t,
            ribNumber: s
        })
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-2xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(Ho, {
                    href: "/transporter-dashboard",
                    children: r.jsx(M, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(Qc, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsx("h1", {
                    className: "text-2xl font-bold",
                    children: "Mon RIB"
                })]
            }), r.jsxs(ce, {
                children: [r.jsxs(Ee, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(Ls, {
                            className: "h-6 w-6 text-primary"
                        }), r.jsx(Te, {
                            children: "Informations bancaires"
                        })]
                    }), r.jsx(Sn, {
                        children: "Ajoutez ou modifiez vos informations bancaires pour recevoir vos paiements."
                    })]
                }), r.jsx(ue, {
                    children: l ? r.jsx("div", {
                        className: "text-center py-8 text-muted-foreground",
                        children: "Chargement..."
                    }) : r.jsxs("form", {
                        onSubmit: d,
                        className: "space-y-6",
                        children: [r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(bn, {
                                htmlFor: "ribName",
                                children: ["Nom (personnel ou socit) ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx(Fe, {
                                id: "ribName",
                                type: "text",
                                value: t,
                                onChange: f => n(f.target.value),
                                placeholder: "Ex: Mohammed Alami ou Socit Transport ABC",
                                required: !0,
                                "data-testid": "input-rib-name"
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(bn, {
                                htmlFor: "ribNumber",
                                children: ["Numro RIB ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx(Fe, {
                                id: "ribNumber",
                                type: "text",
                                value: s,
                                onChange: f => {
                                    const m = f.target.value.replace(/\D/g, "");
                                    a(m)
                                }
                                ,
                                placeholder: "24 chiffres exactement",
                                maxLength: 24,
                                required: !0,
                                "data-testid": "input-rib-number",
                                className: "font-mono"
                            }), r.jsxs("p", {
                                className: "text-xs text-muted-foreground",
                                children: [s.length, "/24 chiffres"]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Important"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Le RIB doit contenir exactement 24 chiffres"
                                }), r.jsx("li", {
                                    children: "Vrifiez bien les informations avant d'enregistrer"
                                }), r.jsx("li", {
                                    children: "Ces informations seront utilises pour vos paiements"
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "flex gap-3",
                            children: [r.jsx(Ho, {
                                href: "/transporter-dashboard",
                                className: "flex-1",
                                children: r.jsx(M, {
                                    type: "button",
                                    variant: "outline",
                                    className: "w-full",
                                    "data-testid": "button-cancel",
                                    children: "Annuler"
                                })
                            }), r.jsxs(M, {
                                type: "submit",
                                className: "flex-1 gap-2",
                                disabled: c.isPending || !t || !s,
                                "data-testid": "button-save-rib",
                                children: [r.jsx(Zb, {
                                    className: "h-4 w-4"
                                }), c.isPending ? "Enregistrement..." : "Enregistrer"]
                            })]
                        })]
                    })
                })]
            })]
        })
    })
}
function W$() {
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-3xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(Ho, {
                    href: "/client-dashboard",
                    children: r.jsx(M, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(Qc, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-2xl font-bold",
                        children: "Comment a marche"
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground",
                        children: "Guide pour les clients"
                    })]
                })]
            }), r.jsxs("div", {
                className: "space-y-6",
                children: [r.jsxs(ce, {
                    children: [r.jsxs(Ee, {
                        className: "text-center pb-2",
                        children: [r.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: r.jsx("div", {
                                className: "w-20 h-20 bg-primary rounded-full flex items-center justify-center",
                                children: r.jsx(Ut, {
                                    className: "h-10 w-10 text-primary-foreground"
                                })
                            })
                        }), r.jsx(Te, {
                            className: "text-2xl",
                            children: "CamionBack"
                        }), r.jsx(Sn, {
                            className: "text-base",
                            children: "Votre plateforme de transport au Maroc"
                        })]
                    }), r.jsxs(ue, {
                        className: "space-y-6 pt-6",
                        children: [r.jsxs("div", {
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold mb-3",
                                children: "Qu'est-ce que CamionBack ?"
                            }), r.jsx("p", {
                                className: "text-muted-foreground leading-relaxed",
                                children: "CamionBack est une plateforme marocaine qui met en relation les particuliers et entreprises avec des transporteurs disponibles pour des trajets inter-villes. Trouvez facilement un transporteur fiable pour vos marchandises en quelques clics."
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-4",
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold",
                                children: "Comment a fonctionne ?"
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx("span", {
                                            className: "font-bold text-primary",
                                            children: "1"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Publiez votre commande"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Dcrivez votre besoin : ville de dpart, destination, type de marchandise, date souhaite et budget approximatif."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(hr, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Recevez plusieurs offres"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Les transporteurs disponibles vous envoient leurs propositions avec leurs prix et dates de prise en charge."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(SR, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Comparez et choisissez"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Consultez les profils, notes et avis des transporteurs. Slectionnez celui qui correspond le mieux  vos besoins."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(Ls, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Paiement scuris"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Le paiement n'est libr qu'aprs la confirmation de la livraison. Votre satisfaction et scurit sont garanties."
                                    })]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Avantages"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Comparaison de prix en temps rel"
                                }), r.jsx("li", {
                                    children: "Transporteurs vrifis et nots"
                                }), r.jsx("li", {
                                    children: "Communication directe via chat intgr"
                                }), r.jsx("li", {
                                    children: "Paiement scuris"
                                }), r.jsx("li", {
                                    children: "Support client disponible"
                                })]
                            })]
                        })]
                    })]
                }), r.jsx(Ho, {
                    href: "/client-dashboard",
                    children: r.jsx(M, {
                        className: "w-full",
                        size: "lg",
                        "data-testid": "button-back-dashboard",
                        children: "Retour au tableau de bord"
                    })
                })]
            })]
        })
    })
}
function B$() {
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-3xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(Ho, {
                    href: "/transporter-dashboard",
                    children: r.jsx(M, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(Qc, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-2xl font-bold",
                        children: "Comment a marche"
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground",
                        children: "Guide pour les transporteurs"
                    })]
                })]
            }), r.jsxs("div", {
                className: "space-y-6",
                children: [r.jsxs(ce, {
                    children: [r.jsxs(Ee, {
                        className: "text-center pb-2",
                        children: [r.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: r.jsx("div", {
                                className: "w-20 h-20 bg-primary rounded-full flex items-center justify-center",
                                children: r.jsx(Xt, {
                                    className: "h-10 w-10 text-primary-foreground"
                                })
                            })
                        }), r.jsx(Te, {
                            className: "text-2xl",
                            children: "CamionBack"
                        }), r.jsx(Sn, {
                            className: "text-base",
                            children: "Rentabilisez vos trajets au Maroc"
                        })]
                    }), r.jsxs(ue, {
                        className: "space-y-6 pt-6",
                        children: [r.jsxs("div", {
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold mb-3",
                                children: "Qu'est-ce que CamionBack ?"
                            }), r.jsx("p", {
                                className: "text-muted-foreground leading-relaxed",
                                children: "CamionBack aide les transporteurs  rentabiliser leurs trajets en trouvant des chargements au retour. Plus besoin de rouler  vide ! Augmentez votre chiffre d'affaires en optimisant chaque trajet."
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-4",
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold",
                                children: "Comment a fonctionne ?"
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(Cu, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Recevez des demandes"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Consultez les demandes de transport dans les villes qui vous intressent. Filtrez par trajet et date selon vos disponibilits."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(Hl, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Envoyez vos propositions"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Proposez votre prix, date de prise en charge et type de chargement (retour ou groupage). Soyez comptitif pour augmenter vos chances."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(rr, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Communiquez facilement"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Discutez directement avec les clients via le chat intgr. Prcisez les dtails et confirmez les arrangements."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx("span", {
                                            className: "font-bold text-primary",
                                            children: ""
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Augmentez vos revenus"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "vitez les trajets  vide, optimisez votre planning et augmentez votre chiffre d'affaires mensuel."
                                    })]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Avantages"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Accs  de nombreuses demandes de transport"
                                }), r.jsx("li", {
                                    children: "Vous fixez vos propres prix"
                                }), r.jsx("li", {
                                    children: "Communication directe avec les clients"
                                }), r.jsx("li", {
                                    children: "Planification facilite de vos trajets"
                                }), r.jsx("li", {
                                    children: "Facturation simplifie"
                                }), r.jsx("li", {
                                    children: "Systme de notation pour construire votre rputation"
                                })]
                            })]
                        })]
                    })]
                }), r.jsx(Ho, {
                    href: "/transporter-dashboard",
                    children: r.jsx(M, {
                        className: "w-full",
                        size: "lg",
                        "data-testid": "button-back-dashboard",
                        children: "Retour au tableau de bord"
                    })
                })]
            })]
        })
    })
}
function H$() {
    const {toast: e} = on()
      , [t,n] = u.useState(null)
      , [s,a] = u.useState("Checking...")
      , [i,o] = u.useState("default")
      , [l,c] = u.useState(null)
      , [d,f] = u.useState(null)
      , [m,h] = u.useState(!1);
    u.useEffect( () => {
        const C = localStorage.getItem("user");
        C && n(JSON.parse(C)),
        g(),
        w(),
        x(),
        y()
    }
    , []);
    const g = async () => {
        if ("serviceWorker"in navigator) {
            const C = await navigator.serviceWorker.getRegistration();
            C ? C.active ? a(" Actif") : C.installing ? a(" Installation en cours...") : a(" Non actif") : a(" Non enregistr")
        } else
            a(" Non support")
    }
      , w = () => {
        "Notification"in window && o(Notification.permission)
    }
      , x = async () => {
        if ("serviceWorker"in navigator)
            try {
                const E = await (await navigator.serviceWorker.ready).pushManager.getSubscription();
                c(E),
                E && console.log(" Push Subscription Details:", {
                    endpoint: E.endpoint,
                    expirationTime: E.expirationTime,
                    keys: {
                        p256dh: E.getKey("p256dh"),
                        auth: E.getKey("auth")
                    }
                })
            } catch (C) {
                console.error("Erreur lors de la vrification de la subscription:", C)
            }
    }
      , y = async () => {
        try {
            const E = await (await fetch("/api/pwa/vapid-public-key")).json();
            f(E.publicKey)
        } catch (C) {
            console.error("Erreur lors de la rcupration de la cl VAPID:", C)
        }
    }
      , v = async () => {
        if ("Notification"in window) {
            const C = await Notification.requestPermission();
            o(C),
            C === "granted" && (e({
                title: " Permission accorde",
                description: "Rechargez la page pour activer les notifications push"
            }),
            setTimeout( () => {
                x()
            }
            , 1e3))
        }
    }
      , p = async () => {
        if (!(t != null && t.id)) {
            e({
                title: " Erreur",
                description: "Vous devez tre connect pour tester",
                variant: "destructive"
            });
            return
        }
        if (!l) {
            e({
                title: " Pas de subscription",
                description: "Autorisez d'abord les notifications",
                variant: "destructive"
            });
            return
        }
        h(!0);
        try {
            console.log(" Envoi d'une notification de test...");
            const C = await ze("POST", "/api/pwa/test-push", {
                userId: t.id
            });
            C.success ? e({
                title: " Notification envoye !",
                description: "Vrifiez votre appareil. Si rien n'apparat, consultez les logs du service worker."
            }) : e({
                title: " chec",
                description: C.message || "Erreur lors de l'envoi",
                variant: "destructive"
            })
        } catch (C) {
            console.error("Erreur lors du test:", C),
            e({
                title: " Erreur",
                description: C.message || "Erreur lors du test",
                variant: "destructive"
            })
        } finally {
            h(!1)
        }
    }
      , j = async () => {
        var C;
        if (console.log(" [Test Navigateur] Dbut du test de notification navigateur"),
        console.log(" [Test Navigateur] Permission actuelle:", Notification.permission),
        Notification.permission === "granted")
            try {
                console.log(" [Test Navigateur] Permission accorde, cration de la notification..."),
                console.log(" [Test Navigateur] Attente du Service Worker...");
                const E = await navigator.serviceWorker.ready;
                console.log(" [Test Navigateur] Service Worker prt:", (C = E.active) == null ? void 0 : C.state),
                console.log(" [Test Navigateur] Appel de registration.showNotification()...");
                const A = {
                    body: "Ceci est une notification de test via Service Worker (compatible Android)",
                    icon: "/icons/icon-192.png",
                    badge: "/icons/icon-192.png",
                    vibrate: [200, 100, 200],
                    tag: "test-notification",
                    requireInteraction: !1
                };
                await E.showNotification(" Test Navigateur", A),
                console.log("   [Test Navigateur] NOTIFICATION AFFICHE AVEC SUCCS !   "),
                console.log(" [Test Navigateur] Si vous ne voyez pas la notification, le problme vient des paramtres Android"),
                e({
                    title: " Notification navigateur envoye",
                    description: "Si vous ne la voyez pas, vrifiez les paramtres Android (Ne pas dranger, etc.)"
                })
            } catch (E) {
                console.error(" [Test Navigateur] Erreur lors de l'affichage de la notification:", E),
                e({
                    title: " Erreur",
                    description: "Impossible d'afficher la notification. Voir console.",
                    variant: "destructive"
                })
            }
        else
            console.log(" [Test Navigateur] Permission refuse:", Notification.permission),
            e({
                title: " Permission refuse",
                description: "Autorisez d'abord les notifications",
                variant: "destructive"
            })
    }
      , N = () => {
        if (l) {
            const C = JSON.stringify(l, null, 2);
            navigator.clipboard.writeText(C),
            e({
                title: " Copi",
                description: "Subscription copie dans le presse-papier"
            })
        }
    }
      , S = async () => {
        try {
            console.log(" Cration force d'une nouvelle subscription...");
            const {requestPushPermission: C} = await FN(async () => {
                const {requestPushPermission: A} = await Promise.resolve().then( () => BN);
                return {
                    requestPushPermission: A
                }
            }
            , void 0);
            await C() ? (e({
                title: " Subscription cre !",
                description: "Rechargez la page pour voir les dtails"
            }),
            setTimeout( () => {
                window.location.reload()
            }
            , 1500)) : e({
                title: " chec",
                description: "Impossible de crer la subscription. Vrifiez la console.",
                variant: "destructive"
            })
        } catch (C) {
            console.error(" Erreur cration subscription:", C),
            e({
                title: " Erreur",
                description: C.message,
                variant: "destructive"
            })
        }
    }
      , k = () => {
        if (!l || !(t != null && t.id))
            return;
        const C = `curl -X POST https://[votre-url].replit.dev/api/pwa/test-push \\
  -H "Content-Type: application/json" \\
  -d '{"userId": "${t.id}"}'`;
        navigator.clipboard.writeText(C),
        e({
            title: " Copi",
            description: "Commande curl copie. Remplacez [votre-url] par votre URL Replit."
        })
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-4xl mx-auto space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold mb-2",
                    "data-testid": "text-title",
                    children: " Diagnostic Push Notifications"
                }), r.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Cette page vous aide  diagnostiquer les problmes de notifications push"
                })]
            }), t && r.jsxs(Zu, {
                children: [r.jsx(Hn, {
                    className: "h-4 w-4"
                }), r.jsxs(Yu, {
                    children: ["Connect en tant que : ", r.jsx("strong", {
                        children: t.name || t.phoneNumber
                    }), " (", t.role, ")"]
                })]
            }), r.jsxs(ce, {
                children: [r.jsxs(Ee, {
                    children: [r.jsx(Te, {
                        children: "tat du Systme"
                    }), r.jsx(Sn, {
                        children: "Vrification des composants requis"
                    })]
                }), r.jsxs(ue, {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Service Worker"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: s
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Permission Notifications"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: i === "granted" ? " Accorde" : i === "denied" ? " Refuse" : " Non demande"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Push Subscription"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: l ? " Active" : " Aucune"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Cl VAPID publique"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: d ? " Rcupre" : " Manquante"
                        })]
                    })]
                })]
            }), l && r.jsxs(ce, {
                children: [r.jsxs(Ee, {
                    children: [r.jsx(Te, {
                        children: "Dtails de la Subscription"
                    }), r.jsx(Sn, {
                        children: "Informations techniques de votre souscription push"
                    })]
                }), r.jsxs(ue, {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium mb-1",
                            children: "Endpoint:"
                        }), r.jsx("p", {
                            className: "text-xs font-mono bg-muted p-2 rounded break-all",
                            children: l.endpoint
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium mb-1",
                            children: "Expiration:"
                        }), r.jsx("p", {
                            className: "text-xs font-mono bg-muted p-2 rounded",
                            children: l.expirationTime || "Jamais"
                        })]
                    }), r.jsx("div", {
                        className: "flex gap-2",
                        children: r.jsx(M, {
                            onClick: N,
                            variant: "outline",
                            size: "sm",
                            "data-testid": "button-copy-subscription",
                            children: "Copier la Subscription"
                        })
                    })]
                })]
            }), r.jsxs(ce, {
                children: [r.jsxs(Ee, {
                    children: [r.jsx(Te, {
                        children: "Tests de Notifications"
                    }), r.jsx(Sn, {
                        children: "Testez diffrents types de notifications"
                    })]
                }), r.jsxs(ue, {
                    className: "space-y-4",
                    children: [i !== "granted" && r.jsxs(Zu, {
                        children: [r.jsx(Ix, {
                            className: "h-4 w-4"
                        }), r.jsx(Yu, {
                            children: "Vous devez d'abord autoriser les notifications pour tester"
                        })]
                    }), r.jsxs("div", {
                        className: "flex flex-col gap-2",
                        children: [i !== "granted" && r.jsx(M, {
                            onClick: v,
                            variant: "default",
                            "data-testid": "button-request-permission",
                            children: "Demander la Permission"
                        }), i === "granted" && !l && r.jsx(M, {
                            onClick: S,
                            variant: "default",
                            "data-testid": "button-force-subscription",
                            children: " Forcer Cration de la Subscription"
                        }), r.jsx(M, {
                            onClick: j,
                            variant: "outline",
                            disabled: i !== "granted",
                            "data-testid": "button-test-browser",
                            children: "Test Notification Navigateur Direct"
                        }), r.jsx(M, {
                            onClick: p,
                            disabled: !l || m || !t,
                            "data-testid": "button-test-push",
                            children: m ? "Envoi en cours..." : "Test Notification Push (Web Push API)"
                        }), t && r.jsx(M, {
                            onClick: k,
                            variant: "secondary",
                            size: "sm",
                            "data-testid": "button-copy-curl",
                            children: "Copier la commande curl"
                        })]
                    })]
                })]
            }), r.jsxs(ce, {
                children: [r.jsx(Ee, {
                    children: r.jsx(Te, {
                        children: "Instructions de Diagnostic"
                    })
                }), r.jsxs(ue, {
                    className: "space-y-4 text-sm",
                    children: [r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "1. Vrifier les logs du Service Worker"
                        }), r.jsxs("p", {
                            className: "text-muted-foreground",
                            children: ["Sur PC : Ouvrez Chrome DevTools (F12)  Console", r.jsx("br", {}), "Sur Android : Connectez votre tlphone et utilisez chrome://inspect"]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "2. Test Notification Navigateur"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: `Cliquez sur "Test Notification Navigateur Direct" pour vrifier que les notifications fonctionnent en gnral sur votre appareil. Si cette notification ne s'affiche pas, le problme vient des paramtres Android/iOS.`
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "3. Test Notification Push"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: 'Cliquez sur "Test Notification Push" pour envoyer une vraie notification via Web Push API. Vrifiez les logs serveur dans Replit et les logs du service worker dans DevTools.'
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "4. Logs  Surveiller"
                        }), r.jsxs("p", {
                            className: "text-muted-foreground font-mono text-xs bg-muted p-2 rounded",
                            children: [" [Service Worker] PUSH EVENT RECEIVED!  Le push est arriv", r.jsx("br", {}), " [Service Worker] NOTIFICATION DISPLAYED SUCCESSFULLY!  Notification affiche"]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "5. Test avec curl"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Copiez la commande curl et excutez-la depuis votre ordinateur pendant que vous surveillez votre tlphone."
                        })]
                    })]
                })]
            })]
        })
    })
}
function q$() {
    return r.jsx("div", {
        className: "min-h-screen w-full flex items-center justify-center bg-gray-50",
        children: r.jsx(ce, {
            className: "w-full max-w-md mx-4",
            children: r.jsxs(ue, {
                className: "pt-6",
                children: [r.jsxs("div", {
                    className: "flex mb-4 gap-2",
                    children: [r.jsx(Ix, {
                        className: "h-8 w-8 text-red-500"
                    }), r.jsx("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "404 Page Not Found"
                    })]
                }), r.jsx("p", {
                    className: "mt-4 text-sm text-gray-600",
                    children: "Did you forget to add the page to the router?"
                })]
            })
        })
    })
}
function K$() {
    return r.jsxs(I_, {
        children: [r.jsx(fn, {
            path: "/",
            component: yj
        }), r.jsx(fn, {
            path: "/login",
            component: yj
        }), r.jsx(fn, {
            path: "/select-role",
            component: D$
        }), r.jsx(fn, {
            path: "/complete-profile",
            component: F$
        }), r.jsx(fn, {
            path: "/admin-dashboard",
            component: f2
        }), r.jsx(fn, {
            path: "/client-dashboard",
            component: Gk
        }), r.jsx(fn, {
            path: "/transporter-dashboard",
            component: u2
        }), r.jsx(fn, {
            path: "/notifications",
            component: M$
        }), r.jsx(fn, {
            path: "/messages",
            component: I$
        }), r.jsx(fn, {
            path: "/transporter/payments",
            component: $$
        }), r.jsx(fn, {
            path: "/transporter/ratings",
            component: z$
        }), r.jsx(fn, {
            path: "/transporter/profile",
            component: V$
        }), r.jsx(fn, {
            path: "/transporter/rib",
            component: U$
        }), r.jsx(fn, {
            path: "/how-it-works-client",
            component: W$
        }), r.jsx(fn, {
            path: "/how-it-works-transporter",
            component: B$
        }), r.jsx(fn, {
            path: "/push-diagnostic",
            component: H$
        }), r.jsx(fn, {
            component: q$
        })]
    })
}
function Q$() {
    return r.jsx(eP, {
        client: ye,
        children: r.jsx(ON, {
            children: r.jsxs(HM, {
                children: [r.jsx(dA, {}), r.jsx(K$, {}), r.jsx(qM, {})]
            })
        })
    })
}
WN().catch(console.error);
B0(document.getElementById("root")).render(r.jsx(Q$, {}));
