Merci dâ€™ajouter sur la carte de chaque commande (dans les vues transporteur et coordinateur) un petit bouton â€œPartagerâ€ avec une icÃ´ne claire (ex : ğŸ”— ou ğŸ“¤).

ğŸ¯ FonctionnalitÃ© attendue :

Quand lâ€™utilisateur clique sur â€œPartagerâ€, un petit popup sâ€™affiche avec :

le lien unique de la commande (ex : https://camionback.com/commande/12345)

un bouton â€œCopier le lienâ€

un bouton â€œPartager via WhatsAppâ€ (qui ouvre directement https://wa.me/?text=ğŸš› Nouvelle commande CamionBack : {link})

Ce lien doit Ãªtre public mais sÃ©curisÃ© :

Si un utilisateur connectÃ© clique dessus, il arrive directement sur la fiche de la commande.

Si un utilisateur non connectÃ© clique dessus, il est redirigÃ© automatiquement vers la page de connexion, puis aprÃ¨s connexion â†’ redirigÃ© vers la commande initiale.

âš™ï¸ DÃ©tails techniques :

CrÃ©er une route publique temporairement accessible : /commande/:id

Si le user est connectÃ© â†’ afficher la commande normalement.

Si non connectÃ© â†’ sauvegarder lâ€™URL demandÃ©e dans localStorage (ex : redirectAfterLogin) â†’ rediriger vers /login.

AprÃ¨s connexion â†’ rediriger automatiquement vers redirectAfterLogin.

Le lien doit Ãªtre gÃ©nÃ©rÃ© automatiquement Ã  partir de lâ€™ID de la commande (backend dÃ©jÃ  existant).

Ajouter un petit retour visuel (toast ou message) : â€œLien copiÃ© avec succÃ¨s âœ…â€.

Pour les icÃ´nes, utiliser un design propre, discret et moderne (type bouton rond avec icÃ´ne ğŸ”—).

Le bouton doit Ãªtre visible sur les vues :

ğŸŸ© Transporteur : sur chaque carte de commande dans la liste principale.

ğŸŸ¦ Coordinateur : sur la carte de chaque commande dans ses 3 vues (â€œdisponiblesâ€, â€œÃ  traiterâ€, â€œÃ  facturerâ€).

ğŸ§  Notes UX :

Le bouton doit Ãªtre compact et non intrusif, par exemple placÃ© dans le coin supÃ©rieur droit de la carte commande.

Ã‰viter dâ€™afficher le lien en entier dans lâ€™interface (afficher un bouton â€œcopierâ€ plutÃ´t quâ€™un texte trop long).

Design suggÃ©rÃ© pour le popup :

ğŸš› Partager cette commande
[ğŸ“‹ Copier le lien]   [ğŸ’¬ Partager sur WhatsApp]

ğŸ” SÃ©curitÃ© :

VÃ©rifier que seuls les transporteurs validÃ©s et coordinateurs peuvent accÃ©der Ã  la commande via ce lien.

Aucune donnÃ©e sensible (client, tÃ©lÃ©phone, etc.) ne doit Ãªtre visible tant que lâ€™utilisateur nâ€™est pas connectÃ©.

Objectif final :
Permettre aux utilisateurs CamionBack de partager facilement une commande avec un lien unique tout en maintenant la sÃ©curitÃ© et lâ€™expÃ©rience fluide :

Transporteur/Coordinateur â†’ clique â€œPartagerâ€

Lien copiÃ© ou envoyÃ© WhatsApp

RÃ©cepteur â†’ clique sur le lien

Sâ€™il est connectÃ© â†’ voit la commande

Sinon â†’ connexion â†’ redirection automatique vers la commande