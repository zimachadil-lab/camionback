var tD = Object.defineProperty;
var Ey = e => {
    throw TypeError(e)
}
;
var nD = (e, t, n) => t in e ? tD(e, t, {
    enumerable: !0,
    configurable: !0,
    writable: !0,
    value: n
}) : e[t] = n;
var R = (e, t, n) => nD(e, typeof t != "symbol" ? t + "" : t, n)
  , yh = (e, t, n) => t.has(e) || Ey("Cannot " + n);
var A = (e, t, n) => (yh(e, t, "read from private field"),
n ? n.call(e) : t.get(e))
  , Be = (e, t, n) => t.has(e) ? Ey("Cannot add the same private member more than once") : t instanceof WeakSet ? t.add(e) : t.set(e, n)
  , be = (e, t, n, s) => (yh(e, t, "write to private field"),
s ? s.call(e, n) : t.set(e, n),
n)
  , ut = (e, t, n) => (yh(e, t, "access private method"),
n);
var mu = (e, t, n, s) => ({
    set _(a) {
        be(e, t, a, n)
    },
    get _() {
        return A(e, t, s)
    }
});
function rD(e, t) {
    for (var n = 0; n < t.length; n++) {
        const s = t[n];
        if (typeof s != "string" && !Array.isArray(s)) {
            for (const a in s)
                if (a !== "default" && !(a in e)) {
                    const i = Object.getOwnPropertyDescriptor(s, a);
                    i && Object.defineProperty(e, a, i.get ? i : {
                        enumerable: !0,
                        get: () => s[a]
                    })
                }
        }
    }
    return Object.freeze(Object.defineProperty(e, Symbol.toStringTag, {
        value: "Module"
    }))
}
(function() {
    const t = document.createElement("link").relList;
    if (t && t.supports && t.supports("modulepreload"))
        return;
    for (const a of document.querySelectorAll('link[rel="modulepreload"]'))
        s(a);
    new MutationObserver(a => {
        for (const i of a)
            if (i.type === "childList")
                for (const o of i.addedNodes)
                    o.tagName === "LINK" && o.rel === "modulepreload" && s(o)
    }
    ).observe(document, {
        childList: !0,
        subtree: !0
    });
    function n(a) {
        const i = {};
        return a.integrity && (i.integrity = a.integrity),
        a.referrerPolicy && (i.referrerPolicy = a.referrerPolicy),
        a.crossOrigin === "use-credentials" ? i.credentials = "include" : a.crossOrigin === "anonymous" ? i.credentials = "omit" : i.credentials = "same-origin",
        i
    }
    function s(a) {
        if (a.ep)
            return;
        a.ep = !0;
        const i = n(a);
        fetch(a.href, i)
    }
}
)();
function J1(e) {
    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
}
var eS = {
    exports: {}
}
  , ff = {}
  , tS = {
    exports: {}
}
  , vt = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Rd = Symbol.for("react.element")
  , sD = Symbol.for("react.portal")
  , aD = Symbol.for("react.fragment")
  , iD = Symbol.for("react.strict_mode")
  , oD = Symbol.for("react.profiler")
  , lD = Symbol.for("react.provider")
  , cD = Symbol.for("react.context")
  , dD = Symbol.for("react.forward_ref")
  , uD = Symbol.for("react.suspense")
  , mD = Symbol.for("react.memo")
  , fD = Symbol.for("react.lazy")
  , _y = Symbol.iterator;
function hD(e) {
    return e === null || typeof e != "object" ? null : (e = _y && e[_y] || e["@@iterator"],
    typeof e == "function" ? e : null)
}
var nS = {
    isMounted: function() {
        return !1
    },
    enqueueForceUpdate: function() {},
    enqueueReplaceState: function() {},
    enqueueSetState: function() {}
}
  , rS = Object.assign
  , sS = {};
function Fl(e, t, n) {
    this.props = e,
    this.context = t,
    this.refs = sS,
    this.updater = n || nS
}
Fl.prototype.isReactComponent = {};
Fl.prototype.setState = function(e, t) {
    if (typeof e != "object" && typeof e != "function" && e != null)
        throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");
    this.updater.enqueueSetState(this, e, t, "setState")
}
;
Fl.prototype.forceUpdate = function(e) {
    this.updater.enqueueForceUpdate(this, e, "forceUpdate")
}
;
function aS() {}
aS.prototype = Fl.prototype;
function rg(e, t, n) {
    this.props = e,
    this.context = t,
    this.refs = sS,
    this.updater = n || nS
}
var sg = rg.prototype = new aS;
sg.constructor = rg;
rS(sg, Fl.prototype);
sg.isPureReactComponent = !0;
var Ay = Array.isArray
  , iS = Object.prototype.hasOwnProperty
  , ag = {
    current: null
}
  , oS = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function lS(e, t, n) {
    var s, a = {}, i = null, o = null;
    if (t != null)
        for (s in t.ref !== void 0 && (o = t.ref),
        t.key !== void 0 && (i = "" + t.key),
        t)
            iS.call(t, s) && !oS.hasOwnProperty(s) && (a[s] = t[s]);
    var l = arguments.length - 2;
    if (l === 1)
        a.children = n;
    else if (1 < l) {
        for (var c = Array(l), d = 0; d < l; d++)
            c[d] = arguments[d + 2];
        a.children = c
    }
    if (e && e.defaultProps)
        for (s in l = e.defaultProps,
        l)
            a[s] === void 0 && (a[s] = l[s]);
    return {
        $$typeof: Rd,
        type: e,
        key: i,
        ref: o,
        props: a,
        _owner: ag.current
    }
}
function pD(e, t) {
    return {
        $$typeof: Rd,
        type: e.type,
        key: t,
        ref: e.ref,
        props: e.props,
        _owner: e._owner
    }
}
function ig(e) {
    return typeof e == "object" && e !== null && e.$$typeof === Rd
}
function xD(e) {
    var t = {
        "=": "=0",
        ":": "=2"
    };
    return "$" + e.replace(/[=:]/g, function(n) {
        return t[n]
    })
}
var Ry = /\/+/g;
function jh(e, t) {
    return typeof e == "object" && e !== null && e.key != null ? xD("" + e.key) : t.toString(36)
}
function zu(e, t, n, s, a) {
    var i = typeof e;
    (i === "undefined" || i === "boolean") && (e = null);
    var o = !1;
    if (e === null)
        o = !0;
    else
        switch (i) {
        case "string":
        case "number":
            o = !0;
            break;
        case "object":
            switch (e.$$typeof) {
            case Rd:
            case sD:
                o = !0
            }
        }
    if (o)
        return o = e,
        a = a(o),
        e = s === "" ? "." + jh(o, 0) : s,
        Ay(a) ? (n = "",
        e != null && (n = e.replace(Ry, "$&/") + "/"),
        zu(a, t, n, "", function(d) {
            return d
        })) : a != null && (ig(a) && (a = pD(a, n + (!a.key || o && o.key === a.key ? "" : ("" + a.key).replace(Ry, "$&/") + "/") + e)),
        t.push(a)),
        1;
    if (o = 0,
    s = s === "" ? "." : s + ":",
    Ay(e))
        for (var l = 0; l < e.length; l++) {
            i = e[l];
            var c = s + jh(i, l);
            o += zu(i, t, n, c, a)
        }
    else if (c = hD(e),
    typeof c == "function")
        for (e = c.call(e),
        l = 0; !(i = e.next()).done; )
            i = i.value,
            c = s + jh(i, l++),
            o += zu(i, t, n, c, a);
    else if (i === "object")
        throw t = String(e),
        Error("Objects are not valid as a React child (found: " + (t === "[object Object]" ? "object with keys {" + Object.keys(e).join(", ") + "}" : t) + "). If you meant to render a collection of children, use an array instead.");
    return o
}
function fu(e, t, n) {
    if (e == null)
        return e;
    var s = []
      , a = 0;
    return zu(e, s, "", "", function(i) {
        return t.call(n, i, a++)
    }),
    s
}
function gD(e) {
    if (e._status === -1) {
        var t = e._result;
        t = t(),
        t.then(function(n) {
            (e._status === 0 || e._status === -1) && (e._status = 1,
            e._result = n)
        }, function(n) {
            (e._status === 0 || e._status === -1) && (e._status = 2,
            e._result = n)
        }),
        e._status === -1 && (e._status = 0,
        e._result = t)
    }
    if (e._status === 1)
        return e._result.default;
    throw e._result
}
var hr = {
    current: null
}
  , Vu = {
    transition: null
}
  , vD = {
    ReactCurrentDispatcher: hr,
    ReactCurrentBatchConfig: Vu,
    ReactCurrentOwner: ag
};
function cS() {
    throw Error("act(...) is not supported in production builds of React.")
}
vt.Children = {
    map: fu,
    forEach: function(e, t, n) {
        fu(e, function() {
            t.apply(this, arguments)
        }, n)
    },
    count: function(e) {
        var t = 0;
        return fu(e, function() {
            t++
        }),
        t
    },
    toArray: function(e) {
        return fu(e, function(t) {
            return t
        }) || []
    },
    only: function(e) {
        if (!ig(e))
            throw Error("React.Children.only expected to receive a single React element child.");
        return e
    }
};
vt.Component = Fl;
vt.Fragment = aD;
vt.Profiler = oD;
vt.PureComponent = rg;
vt.StrictMode = iD;
vt.Suspense = uD;
vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = vD;
vt.act = cS;
vt.cloneElement = function(e, t, n) {
    if (e == null)
        throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + e + ".");
    var s = rS({}, e.props)
      , a = e.key
      , i = e.ref
      , o = e._owner;
    if (t != null) {
        if (t.ref !== void 0 && (i = t.ref,
        o = ag.current),
        t.key !== void 0 && (a = "" + t.key),
        e.type && e.type.defaultProps)
            var l = e.type.defaultProps;
        for (c in t)
            iS.call(t, c) && !oS.hasOwnProperty(c) && (s[c] = t[c] === void 0 && l !== void 0 ? l[c] : t[c])
    }
    var c = arguments.length - 2;
    if (c === 1)
        s.children = n;
    else if (1 < c) {
        l = Array(c);
        for (var d = 0; d < c; d++)
            l[d] = arguments[d + 2];
        s.children = l
    }
    return {
        $$typeof: Rd,
        type: e.type,
        key: a,
        ref: i,
        props: s,
        _owner: o
    }
}
;
vt.createContext = function(e) {
    return e = {
        $$typeof: cD,
        _currentValue: e,
        _currentValue2: e,
        _threadCount: 0,
        Provider: null,
        Consumer: null,
        _defaultValue: null,
        _globalName: null
    },
    e.Provider = {
        $$typeof: lD,
        _context: e
    },
    e.Consumer = e
}
;
vt.createElement = lS;
vt.createFactory = function(e) {
    var t = lS.bind(null, e);
    return t.type = e,
    t
}
;
vt.createRef = function() {
    return {
        current: null
    }
}
;
vt.forwardRef = function(e) {
    return {
        $$typeof: dD,
        render: e
    }
}
;
vt.isValidElement = ig;
vt.lazy = function(e) {
    return {
        $$typeof: fD,
        _payload: {
            _status: -1,
            _result: e
        },
        _init: gD
    }
}
;
vt.memo = function(e, t) {
    return {
        $$typeof: mD,
        type: e,
        compare: t === void 0 ? null : t
    }
}
;
vt.startTransition = function(e) {
    var t = Vu.transition;
    Vu.transition = {};
    try {
        e()
    } finally {
        Vu.transition = t
    }
}
;
vt.unstable_act = cS;
vt.useCallback = function(e, t) {
    return hr.current.useCallback(e, t)
}
;
vt.useContext = function(e) {
    return hr.current.useContext(e)
}
;
vt.useDebugValue = function() {}
;
vt.useDeferredValue = function(e) {
    return hr.current.useDeferredValue(e)
}
;
vt.useEffect = function(e, t) {
    return hr.current.useEffect(e, t)
}
;
vt.useId = function() {
    return hr.current.useId()
}
;
vt.useImperativeHandle = function(e, t, n) {
    return hr.current.useImperativeHandle(e, t, n)
}
;
vt.useInsertionEffect = function(e, t) {
    return hr.current.useInsertionEffect(e, t)
}
;
vt.useLayoutEffect = function(e, t) {
    return hr.current.useLayoutEffect(e, t)
}
;
vt.useMemo = function(e, t) {
    return hr.current.useMemo(e, t)
}
;
vt.useReducer = function(e, t, n) {
    return hr.current.useReducer(e, t, n)
}
;
vt.useRef = function(e) {
    return hr.current.useRef(e)
}
;
vt.useState = function(e) {
    return hr.current.useState(e)
}
;
vt.useSyncExternalStore = function(e, t, n) {
    return hr.current.useSyncExternalStore(e, t, n)
}
;
vt.useTransition = function() {
    return hr.current.useTransition()
}
;
vt.version = "18.3.1";
tS.exports = vt;
var m = tS.exports;
const rt = J1(m)
  , dS = rD({
    __proto__: null,
    default: rt
}, [m]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var yD = m
  , jD = Symbol.for("react.element")
  , wD = Symbol.for("react.fragment")
  , ND = Object.prototype.hasOwnProperty
  , bD = yD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner
  , SD = {
    key: !0,
    ref: !0,
    __self: !0,
    __source: !0
};
function uS(e, t, n) {
    var s, a = {}, i = null, o = null;
    n !== void 0 && (i = "" + n),
    t.key !== void 0 && (i = "" + t.key),
    t.ref !== void 0 && (o = t.ref);
    for (s in t)
        ND.call(t, s) && !SD.hasOwnProperty(s) && (a[s] = t[s]);
    if (e && e.defaultProps)
        for (s in t = e.defaultProps,
        t)
            a[s] === void 0 && (a[s] = t[s]);
    return {
        $$typeof: jD,
        type: e,
        key: i,
        ref: o,
        props: a,
        _owner: bD.current
    }
}
ff.Fragment = wD;
ff.jsx = uS;
ff.jsxs = uS;
eS.exports = ff;
var r = eS.exports
  , mS = {
    exports: {}
}
  , zr = {}
  , fS = {
    exports: {}
}
  , hS = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
(function(e) {
    function t(I, V) {
        var oe = I.length;
        I.push(V);
        e: for (; 0 < oe; ) {
            var he = oe - 1 >>> 1
              , ce = I[he];
            if (0 < a(ce, V))
                I[he] = V,
                I[oe] = ce,
                oe = he;
            else
                break e
        }
    }
    function n(I) {
        return I.length === 0 ? null : I[0]
    }
    function s(I) {
        if (I.length === 0)
            return null;
        var V = I[0]
          , oe = I.pop();
        if (oe !== V) {
            I[0] = oe;
            e: for (var he = 0, ce = I.length, xt = ce >>> 1; he < xt; ) {
                var gt = 2 * (he + 1) - 1
                  , Nt = I[gt]
                  , ot = gt + 1
                  , z = I[ot];
                if (0 > a(Nt, oe))
                    ot < ce && 0 > a(z, Nt) ? (I[he] = z,
                    I[ot] = oe,
                    he = ot) : (I[he] = Nt,
                    I[gt] = oe,
                    he = gt);
                else if (ot < ce && 0 > a(z, oe))
                    I[he] = z,
                    I[ot] = oe,
                    he = ot;
                else
                    break e
            }
        }
        return V
    }
    function a(I, V) {
        var oe = I.sortIndex - V.sortIndex;
        return oe !== 0 ? oe : I.id - V.id
    }
    if (typeof performance == "object" && typeof performance.now == "function") {
        var i = performance;
        e.unstable_now = function() {
            return i.now()
        }
    } else {
        var o = Date
          , l = o.now();
        e.unstable_now = function() {
            return o.now() - l
        }
    }
    var c = []
      , d = []
      , u = 1
      , f = null
      , h = 3
      , x = !1
      , j = !1
      , v = !1
      , w = typeof setTimeout == "function" ? setTimeout : null
      , y = typeof clearTimeout == "function" ? clearTimeout : null
      , p = typeof setImmediate < "u" ? setImmediate : null;
    typeof navigator < "u" && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling);
    function g(I) {
        for (var V = n(d); V !== null; ) {
            if (V.callback === null)
                s(d);
            else if (V.startTime <= I)
                s(d),
                V.sortIndex = V.expirationTime,
                t(c, V);
            else
                break;
            V = n(d)
        }
    }
    function b(I) {
        if (v = !1,
        g(I),
        !j)
            if (n(c) !== null)
                j = !0,
                ae(k);
            else {
                var V = n(d);
                V !== null && X(b, V.startTime - I)
            }
    }
    function k(I, V) {
        j = !1,
        v && (v = !1,
        y(T),
        T = -1),
        x = !0;
        var oe = h;
        try {
            for (g(V),
            f = n(c); f !== null && (!(f.expirationTime > V) || I && !G()); ) {
                var he = f.callback;
                if (typeof he == "function") {
                    f.callback = null,
                    h = f.priorityLevel;
                    var ce = he(f.expirationTime <= V);
                    V = e.unstable_now(),
                    typeof ce == "function" ? f.callback = ce : f === n(c) && s(c),
                    g(V)
                } else
                    s(c);
                f = n(c)
            }
            if (f !== null)
                var xt = !0;
            else {
                var gt = n(d);
                gt !== null && X(b, gt.startTime - V),
                xt = !1
            }
            return xt
        } finally {
            f = null,
            h = oe,
            x = !1
        }
    }
    var S = !1
      , C = null
      , T = -1
      , D = 5
      , L = -1;
    function G() {
        return !(e.unstable_now() - L < D)
    }
    function M() {
        if (C !== null) {
            var I = e.unstable_now();
            L = I;
            var V = !0;
            try {
                V = C(!0, I)
            } finally {
                V ? H() : (S = !1,
                C = null)
            }
        } else
            S = !1
    }
    var H;
    if (typeof p == "function")
        H = function() {
            p(M)
        }
        ;
    else if (typeof MessageChannel < "u") {
        var U = new MessageChannel
          , re = U.port2;
        U.port1.onmessage = M,
        H = function() {
            re.postMessage(null)
        }
    } else
        H = function() {
            w(M, 0)
        }
        ;
    function ae(I) {
        C = I,
        S || (S = !0,
        H())
    }
    function X(I, V) {
        T = w(function() {
            I(e.unstable_now())
        }, V)
    }
    e.unstable_IdlePriority = 5,
    e.unstable_ImmediatePriority = 1,
    e.unstable_LowPriority = 4,
    e.unstable_NormalPriority = 3,
    e.unstable_Profiling = null,
    e.unstable_UserBlockingPriority = 2,
    e.unstable_cancelCallback = function(I) {
        I.callback = null
    }
    ,
    e.unstable_continueExecution = function() {
        j || x || (j = !0,
        ae(k))
    }
    ,
    e.unstable_forceFrameRate = function(I) {
        0 > I || 125 < I ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : D = 0 < I ? Math.floor(1e3 / I) : 5
    }
    ,
    e.unstable_getCurrentPriorityLevel = function() {
        return h
    }
    ,
    e.unstable_getFirstCallbackNode = function() {
        return n(c)
    }
    ,
    e.unstable_next = function(I) {
        switch (h) {
        case 1:
        case 2:
        case 3:
            var V = 3;
            break;
        default:
            V = h
        }
        var oe = h;
        h = V;
        try {
            return I()
        } finally {
            h = oe
        }
    }
    ,
    e.unstable_pauseExecution = function() {}
    ,
    e.unstable_requestPaint = function() {}
    ,
    e.unstable_runWithPriority = function(I, V) {
        switch (I) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
            break;
        default:
            I = 3
        }
        var oe = h;
        h = I;
        try {
            return V()
        } finally {
            h = oe
        }
    }
    ,
    e.unstable_scheduleCallback = function(I, V, oe) {
        var he = e.unstable_now();
        switch (typeof oe == "object" && oe !== null ? (oe = oe.delay,
        oe = typeof oe == "number" && 0 < oe ? he + oe : he) : oe = he,
        I) {
        case 1:
            var ce = -1;
            break;
        case 2:
            ce = 250;
            break;
        case 5:
            ce = 1073741823;
            break;
        case 4:
            ce = 1e4;
            break;
        default:
            ce = 5e3
        }
        return ce = oe + ce,
        I = {
            id: u++,
            callback: V,
            priorityLevel: I,
            startTime: oe,
            expirationTime: ce,
            sortIndex: -1
        },
        oe > he ? (I.sortIndex = oe,
        t(d, I),
        n(c) === null && I === n(d) && (v ? (y(T),
        T = -1) : v = !0,
        X(b, oe - he))) : (I.sortIndex = ce,
        t(c, I),
        j || x || (j = !0,
        ae(k))),
        I
    }
    ,
    e.unstable_shouldYield = G,
    e.unstable_wrapCallback = function(I) {
        var V = h;
        return function() {
            var oe = h;
            h = V;
            try {
                return I.apply(this, arguments)
            } finally {
                h = oe
            }
        }
    }
}
)(hS);
fS.exports = hS;
var CD = fS.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var kD = m
  , $r = CD;
function ie(e) {
    for (var t = "https://reactjs.org/docs/error-decoder.html?invariant=" + e, n = 1; n < arguments.length; n++)
        t += "&args[]=" + encodeURIComponent(arguments[n]);
    return "Minified React error #" + e + "; visit " + t + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings."
}
var pS = new Set
  , Vc = {};
function go(e, t) {
    wl(e, t),
    wl(e + "Capture", t)
}
function wl(e, t) {
    for (Vc[e] = t,
    e = 0; e < t.length; e++)
        pS.add(t[e])
}
var ga = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u")
  , yp = Object.prototype.hasOwnProperty
  , TD = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/
  , Iy = {}
  , Dy = {};
function PD(e) {
    return yp.call(Dy, e) ? !0 : yp.call(Iy, e) ? !1 : TD.test(e) ? Dy[e] = !0 : (Iy[e] = !0,
    !1)
}
function ED(e, t, n, s) {
    if (n !== null && n.type === 0)
        return !1;
    switch (typeof t) {
    case "function":
    case "symbol":
        return !0;
    case "boolean":
        return s ? !1 : n !== null ? !n.acceptsBooleans : (e = e.toLowerCase().slice(0, 5),
        e !== "data-" && e !== "aria-");
    default:
        return !1
    }
}
function _D(e, t, n, s) {
    if (t === null || typeof t > "u" || ED(e, t, n, s))
        return !0;
    if (s)
        return !1;
    if (n !== null)
        switch (n.type) {
        case 3:
            return !t;
        case 4:
            return t === !1;
        case 5:
            return isNaN(t);
        case 6:
            return isNaN(t) || 1 > t
        }
    return !1
}
function pr(e, t, n, s, a, i, o) {
    this.acceptsBooleans = t === 2 || t === 3 || t === 4,
    this.attributeName = s,
    this.attributeNamespace = a,
    this.mustUseProperty = n,
    this.propertyName = e,
    this.type = t,
    this.sanitizeURL = i,
    this.removeEmptyString = o
}
var Kn = {};
"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e) {
    Kn[e] = new pr(e,0,!1,e,null,!1,!1)
});
[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function(e) {
    var t = e[0];
    Kn[t] = new pr(t,1,!1,e[1],null,!1,!1)
});
["contentEditable", "draggable", "spellCheck", "value"].forEach(function(e) {
    Kn[e] = new pr(e,2,!1,e.toLowerCase(),null,!1,!1)
});
["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function(e) {
    Kn[e] = new pr(e,2,!1,e,null,!1,!1)
});
"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e) {
    Kn[e] = new pr(e,3,!1,e.toLowerCase(),null,!1,!1)
});
["checked", "multiple", "muted", "selected"].forEach(function(e) {
    Kn[e] = new pr(e,3,!0,e,null,!1,!1)
});
["capture", "download"].forEach(function(e) {
    Kn[e] = new pr(e,4,!1,e,null,!1,!1)
});
["cols", "rows", "size", "span"].forEach(function(e) {
    Kn[e] = new pr(e,6,!1,e,null,!1,!1)
});
["rowSpan", "start"].forEach(function(e) {
    Kn[e] = new pr(e,5,!1,e.toLowerCase(),null,!1,!1)
});
var og = /[\-:]([a-z])/g;
function lg(e) {
    return e[1].toUpperCase()
}
"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e) {
    var t = e.replace(og, lg);
    Kn[t] = new pr(t,1,!1,e,null,!1,!1)
});
"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e) {
    var t = e.replace(og, lg);
    Kn[t] = new pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)
});
["xml:base", "xml:lang", "xml:space"].forEach(function(e) {
    var t = e.replace(og, lg);
    Kn[t] = new pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)
});
["tabIndex", "crossOrigin"].forEach(function(e) {
    Kn[e] = new pr(e,1,!1,e.toLowerCase(),null,!1,!1)
});
Kn.xlinkHref = new pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);
["src", "href", "action", "formAction"].forEach(function(e) {
    Kn[e] = new pr(e,1,!1,e.toLowerCase(),null,!0,!0)
});
function cg(e, t, n, s) {
    var a = Kn.hasOwnProperty(t) ? Kn[t] : null;
    (a !== null ? a.type !== 0 : s || !(2 < t.length) || t[0] !== "o" && t[0] !== "O" || t[1] !== "n" && t[1] !== "N") && (_D(t, n, a, s) && (n = null),
    s || a === null ? PD(t) && (n === null ? e.removeAttribute(t) : e.setAttribute(t, "" + n)) : a.mustUseProperty ? e[a.propertyName] = n === null ? a.type === 3 ? !1 : "" : n : (t = a.attributeName,
    s = a.attributeNamespace,
    n === null ? e.removeAttribute(t) : (a = a.type,
    n = a === 3 || a === 4 && n === !0 ? "" : "" + n,
    s ? e.setAttributeNS(s, t, n) : e.setAttribute(t, n))))
}
var Sa = kD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED
  , hu = Symbol.for("react.element")
  , Ro = Symbol.for("react.portal")
  , Io = Symbol.for("react.fragment")
  , dg = Symbol.for("react.strict_mode")
  , jp = Symbol.for("react.profiler")
  , xS = Symbol.for("react.provider")
  , gS = Symbol.for("react.context")
  , ug = Symbol.for("react.forward_ref")
  , wp = Symbol.for("react.suspense")
  , Np = Symbol.for("react.suspense_list")
  , mg = Symbol.for("react.memo")
  , Ia = Symbol.for("react.lazy")
  , vS = Symbol.for("react.offscreen")
  , My = Symbol.iterator;
function sc(e) {
    return e === null || typeof e != "object" ? null : (e = My && e[My] || e["@@iterator"],
    typeof e == "function" ? e : null)
}
var ln = Object.assign, wh;
function vc(e) {
    if (wh === void 0)
        try {
            throw Error()
        } catch (n) {
            var t = n.stack.trim().match(/\n( *(at )?)/);
            wh = t && t[1] || ""
        }
    return `
` + wh + e
}
var Nh = !1;
function bh(e, t) {
    if (!e || Nh)
        return "";
    Nh = !0;
    var n = Error.prepareStackTrace;
    Error.prepareStackTrace = void 0;
    try {
        if (t)
            if (t = function() {
                throw Error()
            }
            ,
            Object.defineProperty(t.prototype, "props", {
                set: function() {
                    throw Error()
                }
            }),
            typeof Reflect == "object" && Reflect.construct) {
                try {
                    Reflect.construct(t, [])
                } catch (d) {
                    var s = d
                }
                Reflect.construct(e, [], t)
            } else {
                try {
                    t.call()
                } catch (d) {
                    s = d
                }
                e.call(t.prototype)
            }
        else {
            try {
                throw Error()
            } catch (d) {
                s = d
            }
            e()
        }
    } catch (d) {
        if (d && s && typeof d.stack == "string") {
            for (var a = d.stack.split(`
`), i = s.stack.split(`
`), o = a.length - 1, l = i.length - 1; 1 <= o && 0 <= l && a[o] !== i[l]; )
                l--;
            for (; 1 <= o && 0 <= l; o--,
            l--)
                if (a[o] !== i[l]) {
                    if (o !== 1 || l !== 1)
                        do
                            if (o--,
                            l--,
                            0 > l || a[o] !== i[l]) {
                                var c = `
` + a[o].replace(" at new ", " at ");
                                return e.displayName && c.includes("<anonymous>") && (c = c.replace("<anonymous>", e.displayName)),
                                c
                            }
                        while (1 <= o && 0 <= l);
                    break
                }
        }
    } finally {
        Nh = !1,
        Error.prepareStackTrace = n
    }
    return (e = e ? e.displayName || e.name : "") ? vc(e) : ""
}
function AD(e) {
    switch (e.tag) {
    case 5:
        return vc(e.type);
    case 16:
        return vc("Lazy");
    case 13:
        return vc("Suspense");
    case 19:
        return vc("SuspenseList");
    case 0:
    case 2:
    case 15:
        return e = bh(e.type, !1),
        e;
    case 11:
        return e = bh(e.type.render, !1),
        e;
    case 1:
        return e = bh(e.type, !0),
        e;
    default:
        return ""
    }
}
function bp(e) {
    if (e == null)
        return null;
    if (typeof e == "function")
        return e.displayName || e.name || null;
    if (typeof e == "string")
        return e;
    switch (e) {
    case Io:
        return "Fragment";
    case Ro:
        return "Portal";
    case jp:
        return "Profiler";
    case dg:
        return "StrictMode";
    case wp:
        return "Suspense";
    case Np:
        return "SuspenseList"
    }
    if (typeof e == "object")
        switch (e.$$typeof) {
        case gS:
            return (e.displayName || "Context") + ".Consumer";
        case xS:
            return (e._context.displayName || "Context") + ".Provider";
        case ug:
            var t = e.render;
            return e = e.displayName,
            e || (e = t.displayName || t.name || "",
            e = e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef"),
            e;
        case mg:
            return t = e.displayName || null,
            t !== null ? t : bp(e.type) || "Memo";
        case Ia:
            t = e._payload,
            e = e._init;
            try {
                return bp(e(t))
            } catch {}
        }
    return null
}
function RD(e) {
    var t = e.type;
    switch (e.tag) {
    case 24:
        return "Cache";
    case 9:
        return (t.displayName || "Context") + ".Consumer";
    case 10:
        return (t._context.displayName || "Context") + ".Provider";
    case 18:
        return "DehydratedFragment";
    case 11:
        return e = t.render,
        e = e.displayName || e.name || "",
        t.displayName || (e !== "" ? "ForwardRef(" + e + ")" : "ForwardRef");
    case 7:
        return "Fragment";
    case 5:
        return t;
    case 4:
        return "Portal";
    case 3:
        return "Root";
    case 6:
        return "Text";
    case 16:
        return bp(t);
    case 8:
        return t === dg ? "StrictMode" : "Mode";
    case 22:
        return "Offscreen";
    case 12:
        return "Profiler";
    case 21:
        return "Scope";
    case 13:
        return "Suspense";
    case 19:
        return "SuspenseList";
    case 25:
        return "TracingMarker";
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
        if (typeof t == "function")
            return t.displayName || t.name || null;
        if (typeof t == "string")
            return t
    }
    return null
}
function fi(e) {
    switch (typeof e) {
    case "boolean":
    case "number":
    case "string":
    case "undefined":
        return e;
    case "object":
        return e;
    default:
        return ""
    }
}
function yS(e) {
    var t = e.type;
    return (e = e.nodeName) && e.toLowerCase() === "input" && (t === "checkbox" || t === "radio")
}
function ID(e) {
    var t = yS(e) ? "checked" : "value"
      , n = Object.getOwnPropertyDescriptor(e.constructor.prototype, t)
      , s = "" + e[t];
    if (!e.hasOwnProperty(t) && typeof n < "u" && typeof n.get == "function" && typeof n.set == "function") {
        var a = n.get
          , i = n.set;
        return Object.defineProperty(e, t, {
            configurable: !0,
            get: function() {
                return a.call(this)
            },
            set: function(o) {
                s = "" + o,
                i.call(this, o)
            }
        }),
        Object.defineProperty(e, t, {
            enumerable: n.enumerable
        }),
        {
            getValue: function() {
                return s
            },
            setValue: function(o) {
                s = "" + o
            },
            stopTracking: function() {
                e._valueTracker = null,
                delete e[t]
            }
        }
    }
}
function pu(e) {
    e._valueTracker || (e._valueTracker = ID(e))
}
function jS(e) {
    if (!e)
        return !1;
    var t = e._valueTracker;
    if (!t)
        return !0;
    var n = t.getValue()
      , s = "";
    return e && (s = yS(e) ? e.checked ? "true" : "false" : e.value),
    e = s,
    e !== n ? (t.setValue(e),
    !0) : !1
}
function im(e) {
    if (e = e || (typeof document < "u" ? document : void 0),
    typeof e > "u")
        return null;
    try {
        return e.activeElement || e.body
    } catch {
        return e.body
    }
}
function Sp(e, t) {
    var n = t.checked;
    return ln({}, t, {
        defaultChecked: void 0,
        defaultValue: void 0,
        value: void 0,
        checked: n ?? e._wrapperState.initialChecked
    })
}
function Oy(e, t) {
    var n = t.defaultValue == null ? "" : t.defaultValue
      , s = t.checked != null ? t.checked : t.defaultChecked;
    n = fi(t.value != null ? t.value : n),
    e._wrapperState = {
        initialChecked: s,
        initialValue: n,
        controlled: t.type === "checkbox" || t.type === "radio" ? t.checked != null : t.value != null
    }
}
function wS(e, t) {
    t = t.checked,
    t != null && cg(e, "checked", t, !1)
}
function Cp(e, t) {
    wS(e, t);
    var n = fi(t.value)
      , s = t.type;
    if (n != null)
        s === "number" ? (n === 0 && e.value === "" || e.value != n) && (e.value = "" + n) : e.value !== "" + n && (e.value = "" + n);
    else if (s === "submit" || s === "reset") {
        e.removeAttribute("value");
        return
    }
    t.hasOwnProperty("value") ? kp(e, t.type, n) : t.hasOwnProperty("defaultValue") && kp(e, t.type, fi(t.defaultValue)),
    t.checked == null && t.defaultChecked != null && (e.defaultChecked = !!t.defaultChecked)
}
function Ly(e, t, n) {
    if (t.hasOwnProperty("value") || t.hasOwnProperty("defaultValue")) {
        var s = t.type;
        if (!(s !== "submit" && s !== "reset" || t.value !== void 0 && t.value !== null))
            return;
        t = "" + e._wrapperState.initialValue,
        n || t === e.value || (e.value = t),
        e.defaultValue = t
    }
    n = e.name,
    n !== "" && (e.name = ""),
    e.defaultChecked = !!e._wrapperState.initialChecked,
    n !== "" && (e.name = n)
}
function kp(e, t, n) {
    (t !== "number" || im(e.ownerDocument) !== e) && (n == null ? e.defaultValue = "" + e._wrapperState.initialValue : e.defaultValue !== "" + n && (e.defaultValue = "" + n))
}
var yc = Array.isArray;
function Ko(e, t, n, s) {
    if (e = e.options,
    t) {
        t = {};
        for (var a = 0; a < n.length; a++)
            t["$" + n[a]] = !0;
        for (n = 0; n < e.length; n++)
            a = t.hasOwnProperty("$" + e[n].value),
            e[n].selected !== a && (e[n].selected = a),
            a && s && (e[n].defaultSelected = !0)
    } else {
        for (n = "" + fi(n),
        t = null,
        a = 0; a < e.length; a++) {
            if (e[a].value === n) {
                e[a].selected = !0,
                s && (e[a].defaultSelected = !0);
                return
            }
            t !== null || e[a].disabled || (t = e[a])
        }
        t !== null && (t.selected = !0)
    }
}
function Tp(e, t) {
    if (t.dangerouslySetInnerHTML != null)
        throw Error(ie(91));
    return ln({}, t, {
        value: void 0,
        defaultValue: void 0,
        children: "" + e._wrapperState.initialValue
    })
}
function Fy(e, t) {
    var n = t.value;
    if (n == null) {
        if (n = t.children,
        t = t.defaultValue,
        n != null) {
            if (t != null)
                throw Error(ie(92));
            if (yc(n)) {
                if (1 < n.length)
                    throw Error(ie(93));
                n = n[0]
            }
            t = n
        }
        t == null && (t = ""),
        n = t
    }
    e._wrapperState = {
        initialValue: fi(n)
    }
}
function NS(e, t) {
    var n = fi(t.value)
      , s = fi(t.defaultValue);
    n != null && (n = "" + n,
    n !== e.value && (e.value = n),
    t.defaultValue == null && e.defaultValue !== n && (e.defaultValue = n)),
    s != null && (e.defaultValue = "" + s)
}
function $y(e) {
    var t = e.textContent;
    t === e._wrapperState.initialValue && t !== "" && t !== null && (e.value = t)
}
function bS(e) {
    switch (e) {
    case "svg":
        return "http://www.w3.org/2000/svg";
    case "math":
        return "http://www.w3.org/1998/Math/MathML";
    default:
        return "http://www.w3.org/1999/xhtml"
    }
}
function Pp(e, t) {
    return e == null || e === "http://www.w3.org/1999/xhtml" ? bS(t) : e === "http://www.w3.org/2000/svg" && t === "foreignObject" ? "http://www.w3.org/1999/xhtml" : e
}
var xu, SS = function(e) {
    return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction ? function(t, n, s, a) {
        MSApp.execUnsafeLocalFunction(function() {
            return e(t, n, s, a)
        })
    }
    : e
}(function(e, t) {
    if (e.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML"in e)
        e.innerHTML = t;
    else {
        for (xu = xu || document.createElement("div"),
        xu.innerHTML = "<svg>" + t.valueOf().toString() + "</svg>",
        t = xu.firstChild; e.firstChild; )
            e.removeChild(e.firstChild);
        for (; t.firstChild; )
            e.appendChild(t.firstChild)
    }
});
function Bc(e, t) {
    if (t) {
        var n = e.firstChild;
        if (n && n === e.lastChild && n.nodeType === 3) {
            n.nodeValue = t;
            return
        }
    }
    e.textContent = t
}
var Tc = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0
}
  , DD = ["Webkit", "ms", "Moz", "O"];
Object.keys(Tc).forEach(function(e) {
    DD.forEach(function(t) {
        t = t + e.charAt(0).toUpperCase() + e.substring(1),
        Tc[t] = Tc[e]
    })
});
function CS(e, t, n) {
    return t == null || typeof t == "boolean" || t === "" ? "" : n || typeof t != "number" || t === 0 || Tc.hasOwnProperty(e) && Tc[e] ? ("" + t).trim() : t + "px"
}
function kS(e, t) {
    e = e.style;
    for (var n in t)
        if (t.hasOwnProperty(n)) {
            var s = n.indexOf("--") === 0
              , a = CS(n, t[n], s);
            n === "float" && (n = "cssFloat"),
            s ? e.setProperty(n, a) : e[n] = a
        }
}
var MD = ln({
    menuitem: !0
}, {
    area: !0,
    base: !0,
    br: !0,
    col: !0,
    embed: !0,
    hr: !0,
    img: !0,
    input: !0,
    keygen: !0,
    link: !0,
    meta: !0,
    param: !0,
    source: !0,
    track: !0,
    wbr: !0
});
function Ep(e, t) {
    if (t) {
        if (MD[e] && (t.children != null || t.dangerouslySetInnerHTML != null))
            throw Error(ie(137, e));
        if (t.dangerouslySetInnerHTML != null) {
            if (t.children != null)
                throw Error(ie(60));
            if (typeof t.dangerouslySetInnerHTML != "object" || !("__html"in t.dangerouslySetInnerHTML))
                throw Error(ie(61))
        }
        if (t.style != null && typeof t.style != "object")
            throw Error(ie(62))
    }
}
function _p(e, t) {
    if (e.indexOf("-") === -1)
        return typeof t.is == "string";
    switch (e) {
    case "annotation-xml":
    case "color-profile":
    case "font-face":
    case "font-face-src":
    case "font-face-uri":
    case "font-face-format":
    case "font-face-name":
    case "missing-glyph":
        return !1;
    default:
        return !0
    }
}
var Ap = null;
function fg(e) {
    return e = e.target || e.srcElement || window,
    e.correspondingUseElement && (e = e.correspondingUseElement),
    e.nodeType === 3 ? e.parentNode : e
}
var Rp = null
  , Qo = null
  , Go = null;
function zy(e) {
    if (e = Md(e)) {
        if (typeof Rp != "function")
            throw Error(ie(280));
        var t = e.stateNode;
        t && (t = vf(t),
        Rp(e.stateNode, e.type, t))
    }
}
function TS(e) {
    Qo ? Go ? Go.push(e) : Go = [e] : Qo = e
}
function PS() {
    if (Qo) {
        var e = Qo
          , t = Go;
        if (Go = Qo = null,
        zy(e),
        t)
            for (e = 0; e < t.length; e++)
                zy(t[e])
    }
}
function ES(e, t) {
    return e(t)
}
function _S() {}
var Sh = !1;
function AS(e, t, n) {
    if (Sh)
        return e(t, n);
    Sh = !0;
    try {
        return ES(e, t, n)
    } finally {
        Sh = !1,
        (Qo !== null || Go !== null) && (_S(),
        PS())
    }
}
function Uc(e, t) {
    var n = e.stateNode;
    if (n === null)
        return null;
    var s = vf(n);
    if (s === null)
        return null;
    n = s[t];
    e: switch (t) {
    case "onClick":
    case "onClickCapture":
    case "onDoubleClick":
    case "onDoubleClickCapture":
    case "onMouseDown":
    case "onMouseDownCapture":
    case "onMouseMove":
    case "onMouseMoveCapture":
    case "onMouseUp":
    case "onMouseUpCapture":
    case "onMouseEnter":
        (s = !s.disabled) || (e = e.type,
        s = !(e === "button" || e === "input" || e === "select" || e === "textarea")),
        e = !s;
        break e;
    default:
        e = !1
    }
    if (e)
        return null;
    if (n && typeof n != "function")
        throw Error(ie(231, t, typeof n));
    return n
}
var Ip = !1;
if (ga)
    try {
        var ac = {};
        Object.defineProperty(ac, "passive", {
            get: function() {
                Ip = !0
            }
        }),
        window.addEventListener("test", ac, ac),
        window.removeEventListener("test", ac, ac)
    } catch {
        Ip = !1
    }
function OD(e, t, n, s, a, i, o, l, c) {
    var d = Array.prototype.slice.call(arguments, 3);
    try {
        t.apply(n, d)
    } catch (u) {
        this.onError(u)
    }
}
var Pc = !1
  , om = null
  , lm = !1
  , Dp = null
  , LD = {
    onError: function(e) {
        Pc = !0,
        om = e
    }
};
function FD(e, t, n, s, a, i, o, l, c) {
    Pc = !1,
    om = null,
    OD.apply(LD, arguments)
}
function $D(e, t, n, s, a, i, o, l, c) {
    if (FD.apply(this, arguments),
    Pc) {
        if (Pc) {
            var d = om;
            Pc = !1,
            om = null
        } else
            throw Error(ie(198));
        lm || (lm = !0,
        Dp = d)
    }
}
function vo(e) {
    var t = e
      , n = e;
    if (e.alternate)
        for (; t.return; )
            t = t.return;
    else {
        e = t;
        do
            t = e,
            t.flags & 4098 && (n = t.return),
            e = t.return;
        while (e)
    }
    return t.tag === 3 ? n : null
}
function RS(e) {
    if (e.tag === 13) {
        var t = e.memoizedState;
        if (t === null && (e = e.alternate,
        e !== null && (t = e.memoizedState)),
        t !== null)
            return t.dehydrated
    }
    return null
}
function Vy(e) {
    if (vo(e) !== e)
        throw Error(ie(188))
}
function zD(e) {
    var t = e.alternate;
    if (!t) {
        if (t = vo(e),
        t === null)
            throw Error(ie(188));
        return t !== e ? null : e
    }
    for (var n = e, s = t; ; ) {
        var a = n.return;
        if (a === null)
            break;
        var i = a.alternate;
        if (i === null) {
            if (s = a.return,
            s !== null) {
                n = s;
                continue
            }
            break
        }
        if (a.child === i.child) {
            for (i = a.child; i; ) {
                if (i === n)
                    return Vy(a),
                    e;
                if (i === s)
                    return Vy(a),
                    t;
                i = i.sibling
            }
            throw Error(ie(188))
        }
        if (n.return !== s.return)
            n = a,
            s = i;
        else {
            for (var o = !1, l = a.child; l; ) {
                if (l === n) {
                    o = !0,
                    n = a,
                    s = i;
                    break
                }
                if (l === s) {
                    o = !0,
                    s = a,
                    n = i;
                    break
                }
                l = l.sibling
            }
            if (!o) {
                for (l = i.child; l; ) {
                    if (l === n) {
                        o = !0,
                        n = i,
                        s = a;
                        break
                    }
                    if (l === s) {
                        o = !0,
                        s = i,
                        n = a;
                        break
                    }
                    l = l.sibling
                }
                if (!o)
                    throw Error(ie(189))
            }
        }
        if (n.alternate !== s)
            throw Error(ie(190))
    }
    if (n.tag !== 3)
        throw Error(ie(188));
    return n.stateNode.current === n ? e : t
}
function IS(e) {
    return e = zD(e),
    e !== null ? DS(e) : null
}
function DS(e) {
    if (e.tag === 5 || e.tag === 6)
        return e;
    for (e = e.child; e !== null; ) {
        var t = DS(e);
        if (t !== null)
            return t;
        e = e.sibling
    }
    return null
}
var MS = $r.unstable_scheduleCallback
  , By = $r.unstable_cancelCallback
  , VD = $r.unstable_shouldYield
  , BD = $r.unstable_requestPaint
  , vn = $r.unstable_now
  , UD = $r.unstable_getCurrentPriorityLevel
  , hg = $r.unstable_ImmediatePriority
  , OS = $r.unstable_UserBlockingPriority
  , cm = $r.unstable_NormalPriority
  , qD = $r.unstable_LowPriority
  , LS = $r.unstable_IdlePriority
  , hf = null
  , Ws = null;
function WD(e) {
    if (Ws && typeof Ws.onCommitFiberRoot == "function")
        try {
            Ws.onCommitFiberRoot(hf, e, void 0, (e.current.flags & 128) === 128)
        } catch {}
}
var Ns = Math.clz32 ? Math.clz32 : QD
  , HD = Math.log
  , KD = Math.LN2;
function QD(e) {
    return e >>>= 0,
    e === 0 ? 32 : 31 - (HD(e) / KD | 0) | 0
}
var gu = 64
  , vu = 4194304;
function jc(e) {
    switch (e & -e) {
    case 1:
        return 1;
    case 2:
        return 2;
    case 4:
        return 4;
    case 8:
        return 8;
    case 16:
        return 16;
    case 32:
        return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return e & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return e & 130023424;
    case 134217728:
        return 134217728;
    case 268435456:
        return 268435456;
    case 536870912:
        return 536870912;
    case 1073741824:
        return 1073741824;
    default:
        return e
    }
}
function dm(e, t) {
    var n = e.pendingLanes;
    if (n === 0)
        return 0;
    var s = 0
      , a = e.suspendedLanes
      , i = e.pingedLanes
      , o = n & 268435455;
    if (o !== 0) {
        var l = o & ~a;
        l !== 0 ? s = jc(l) : (i &= o,
        i !== 0 && (s = jc(i)))
    } else
        o = n & ~a,
        o !== 0 ? s = jc(o) : i !== 0 && (s = jc(i));
    if (s === 0)
        return 0;
    if (t !== 0 && t !== s && !(t & a) && (a = s & -s,
    i = t & -t,
    a >= i || a === 16 && (i & 4194240) !== 0))
        return t;
    if (s & 4 && (s |= n & 16),
    t = e.entangledLanes,
    t !== 0)
        for (e = e.entanglements,
        t &= s; 0 < t; )
            n = 31 - Ns(t),
            a = 1 << n,
            s |= e[n],
            t &= ~a;
    return s
}
function GD(e, t) {
    switch (e) {
    case 1:
    case 2:
    case 4:
        return t + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
        return t + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
        return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
        return -1;
    default:
        return -1
    }
}
function XD(e, t) {
    for (var n = e.suspendedLanes, s = e.pingedLanes, a = e.expirationTimes, i = e.pendingLanes; 0 < i; ) {
        var o = 31 - Ns(i)
          , l = 1 << o
          , c = a[o];
        c === -1 ? (!(l & n) || l & s) && (a[o] = GD(l, t)) : c <= t && (e.expiredLanes |= l),
        i &= ~l
    }
}
function Mp(e) {
    return e = e.pendingLanes & -1073741825,
    e !== 0 ? e : e & 1073741824 ? 1073741824 : 0
}
function FS() {
    var e = gu;
    return gu <<= 1,
    !(gu & 4194240) && (gu = 64),
    e
}
function Ch(e) {
    for (var t = [], n = 0; 31 > n; n++)
        t.push(e);
    return t
}
function Id(e, t, n) {
    e.pendingLanes |= t,
    t !== 536870912 && (e.suspendedLanes = 0,
    e.pingedLanes = 0),
    e = e.eventTimes,
    t = 31 - Ns(t),
    e[t] = n
}
function YD(e, t) {
    var n = e.pendingLanes & ~t;
    e.pendingLanes = t,
    e.suspendedLanes = 0,
    e.pingedLanes = 0,
    e.expiredLanes &= t,
    e.mutableReadLanes &= t,
    e.entangledLanes &= t,
    t = e.entanglements;
    var s = e.eventTimes;
    for (e = e.expirationTimes; 0 < n; ) {
        var a = 31 - Ns(n)
          , i = 1 << a;
        t[a] = 0,
        s[a] = -1,
        e[a] = -1,
        n &= ~i
    }
}
function pg(e, t) {
    var n = e.entangledLanes |= t;
    for (e = e.entanglements; n; ) {
        var s = 31 - Ns(n)
          , a = 1 << s;
        a & t | e[s] & t && (e[s] |= t),
        n &= ~a
    }
}
var Ut = 0;
function $S(e) {
    return e &= -e,
    1 < e ? 4 < e ? e & 268435455 ? 16 : 536870912 : 4 : 1
}
var zS, xg, VS, BS, US, Op = !1, yu = [], Xa = null, Ya = null, Za = null, qc = new Map, Wc = new Map, Oa = [], ZD = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");
function Uy(e, t) {
    switch (e) {
    case "focusin":
    case "focusout":
        Xa = null;
        break;
    case "dragenter":
    case "dragleave":
        Ya = null;
        break;
    case "mouseover":
    case "mouseout":
        Za = null;
        break;
    case "pointerover":
    case "pointerout":
        qc.delete(t.pointerId);
        break;
    case "gotpointercapture":
    case "lostpointercapture":
        Wc.delete(t.pointerId)
    }
}
function ic(e, t, n, s, a, i) {
    return e === null || e.nativeEvent !== i ? (e = {
        blockedOn: t,
        domEventName: n,
        eventSystemFlags: s,
        nativeEvent: i,
        targetContainers: [a]
    },
    t !== null && (t = Md(t),
    t !== null && xg(t)),
    e) : (e.eventSystemFlags |= s,
    t = e.targetContainers,
    a !== null && t.indexOf(a) === -1 && t.push(a),
    e)
}
function JD(e, t, n, s, a) {
    switch (t) {
    case "focusin":
        return Xa = ic(Xa, e, t, n, s, a),
        !0;
    case "dragenter":
        return Ya = ic(Ya, e, t, n, s, a),
        !0;
    case "mouseover":
        return Za = ic(Za, e, t, n, s, a),
        !0;
    case "pointerover":
        var i = a.pointerId;
        return qc.set(i, ic(qc.get(i) || null, e, t, n, s, a)),
        !0;
    case "gotpointercapture":
        return i = a.pointerId,
        Wc.set(i, ic(Wc.get(i) || null, e, t, n, s, a)),
        !0
    }
    return !1
}
function qS(e) {
    var t = Fi(e.target);
    if (t !== null) {
        var n = vo(t);
        if (n !== null) {
            if (t = n.tag,
            t === 13) {
                if (t = RS(n),
                t !== null) {
                    e.blockedOn = t,
                    US(e.priority, function() {
                        VS(n)
                    });
                    return
                }
            } else if (t === 3 && n.stateNode.current.memoizedState.isDehydrated) {
                e.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
                return
            }
        }
    }
    e.blockedOn = null
}
function Bu(e) {
    if (e.blockedOn !== null)
        return !1;
    for (var t = e.targetContainers; 0 < t.length; ) {
        var n = Lp(e.domEventName, e.eventSystemFlags, t[0], e.nativeEvent);
        if (n === null) {
            n = e.nativeEvent;
            var s = new n.constructor(n.type,n);
            Ap = s,
            n.target.dispatchEvent(s),
            Ap = null
        } else
            return t = Md(n),
            t !== null && xg(t),
            e.blockedOn = n,
            !1;
        t.shift()
    }
    return !0
}
function qy(e, t, n) {
    Bu(e) && n.delete(t)
}
function e4() {
    Op = !1,
    Xa !== null && Bu(Xa) && (Xa = null),
    Ya !== null && Bu(Ya) && (Ya = null),
    Za !== null && Bu(Za) && (Za = null),
    qc.forEach(qy),
    Wc.forEach(qy)
}
function oc(e, t) {
    e.blockedOn === t && (e.blockedOn = null,
    Op || (Op = !0,
    $r.unstable_scheduleCallback($r.unstable_NormalPriority, e4)))
}
function Hc(e) {
    function t(a) {
        return oc(a, e)
    }
    if (0 < yu.length) {
        oc(yu[0], e);
        for (var n = 1; n < yu.length; n++) {
            var s = yu[n];
            s.blockedOn === e && (s.blockedOn = null)
        }
    }
    for (Xa !== null && oc(Xa, e),
    Ya !== null && oc(Ya, e),
    Za !== null && oc(Za, e),
    qc.forEach(t),
    Wc.forEach(t),
    n = 0; n < Oa.length; n++)
        s = Oa[n],
        s.blockedOn === e && (s.blockedOn = null);
    for (; 0 < Oa.length && (n = Oa[0],
    n.blockedOn === null); )
        qS(n),
        n.blockedOn === null && Oa.shift()
}
var Xo = Sa.ReactCurrentBatchConfig
  , um = !0;
function t4(e, t, n, s) {
    var a = Ut
      , i = Xo.transition;
    Xo.transition = null;
    try {
        Ut = 1,
        gg(e, t, n, s)
    } finally {
        Ut = a,
        Xo.transition = i
    }
}
function n4(e, t, n, s) {
    var a = Ut
      , i = Xo.transition;
    Xo.transition = null;
    try {
        Ut = 4,
        gg(e, t, n, s)
    } finally {
        Ut = a,
        Xo.transition = i
    }
}
function gg(e, t, n, s) {
    if (um) {
        var a = Lp(e, t, n, s);
        if (a === null)
            Mh(e, t, s, mm, n),
            Uy(e, s);
        else if (JD(a, e, t, n, s))
            s.stopPropagation();
        else if (Uy(e, s),
        t & 4 && -1 < ZD.indexOf(e)) {
            for (; a !== null; ) {
                var i = Md(a);
                if (i !== null && zS(i),
                i = Lp(e, t, n, s),
                i === null && Mh(e, t, s, mm, n),
                i === a)
                    break;
                a = i
            }
            a !== null && s.stopPropagation()
        } else
            Mh(e, t, s, null, n)
    }
}
var mm = null;
function Lp(e, t, n, s) {
    if (mm = null,
    e = fg(s),
    e = Fi(e),
    e !== null)
        if (t = vo(e),
        t === null)
            e = null;
        else if (n = t.tag,
        n === 13) {
            if (e = RS(t),
            e !== null)
                return e;
            e = null
        } else if (n === 3) {
            if (t.stateNode.current.memoizedState.isDehydrated)
                return t.tag === 3 ? t.stateNode.containerInfo : null;
            e = null
        } else
            t !== e && (e = null);
    return mm = e,
    null
}
function WS(e) {
    switch (e) {
    case "cancel":
    case "click":
    case "close":
    case "contextmenu":
    case "copy":
    case "cut":
    case "auxclick":
    case "dblclick":
    case "dragend":
    case "dragstart":
    case "drop":
    case "focusin":
    case "focusout":
    case "input":
    case "invalid":
    case "keydown":
    case "keypress":
    case "keyup":
    case "mousedown":
    case "mouseup":
    case "paste":
    case "pause":
    case "play":
    case "pointercancel":
    case "pointerdown":
    case "pointerup":
    case "ratechange":
    case "reset":
    case "resize":
    case "seeked":
    case "submit":
    case "touchcancel":
    case "touchend":
    case "touchstart":
    case "volumechange":
    case "change":
    case "selectionchange":
    case "textInput":
    case "compositionstart":
    case "compositionend":
    case "compositionupdate":
    case "beforeblur":
    case "afterblur":
    case "beforeinput":
    case "blur":
    case "fullscreenchange":
    case "focus":
    case "hashchange":
    case "popstate":
    case "select":
    case "selectstart":
        return 1;
    case "drag":
    case "dragenter":
    case "dragexit":
    case "dragleave":
    case "dragover":
    case "mousemove":
    case "mouseout":
    case "mouseover":
    case "pointermove":
    case "pointerout":
    case "pointerover":
    case "scroll":
    case "toggle":
    case "touchmove":
    case "wheel":
    case "mouseenter":
    case "mouseleave":
    case "pointerenter":
    case "pointerleave":
        return 4;
    case "message":
        switch (UD()) {
        case hg:
            return 1;
        case OS:
            return 4;
        case cm:
        case qD:
            return 16;
        case LS:
            return 536870912;
        default:
            return 16
        }
    default:
        return 16
    }
}
var Qa = null
  , vg = null
  , Uu = null;
function HS() {
    if (Uu)
        return Uu;
    var e, t = vg, n = t.length, s, a = "value"in Qa ? Qa.value : Qa.textContent, i = a.length;
    for (e = 0; e < n && t[e] === a[e]; e++)
        ;
    var o = n - e;
    for (s = 1; s <= o && t[n - s] === a[i - s]; s++)
        ;
    return Uu = a.slice(e, 1 < s ? 1 - s : void 0)
}
function qu(e) {
    var t = e.keyCode;
    return "charCode"in e ? (e = e.charCode,
    e === 0 && t === 13 && (e = 13)) : e = t,
    e === 10 && (e = 13),
    32 <= e || e === 13 ? e : 0
}
function ju() {
    return !0
}
function Wy() {
    return !1
}
function Vr(e) {
    function t(n, s, a, i, o) {
        this._reactName = n,
        this._targetInst = a,
        this.type = s,
        this.nativeEvent = i,
        this.target = o,
        this.currentTarget = null;
        for (var l in e)
            e.hasOwnProperty(l) && (n = e[l],
            this[l] = n ? n(i) : i[l]);
        return this.isDefaultPrevented = (i.defaultPrevented != null ? i.defaultPrevented : i.returnValue === !1) ? ju : Wy,
        this.isPropagationStopped = Wy,
        this
    }
    return ln(t.prototype, {
        preventDefault: function() {
            this.defaultPrevented = !0;
            var n = this.nativeEvent;
            n && (n.preventDefault ? n.preventDefault() : typeof n.returnValue != "unknown" && (n.returnValue = !1),
            this.isDefaultPrevented = ju)
        },
        stopPropagation: function() {
            var n = this.nativeEvent;
            n && (n.stopPropagation ? n.stopPropagation() : typeof n.cancelBubble != "unknown" && (n.cancelBubble = !0),
            this.isPropagationStopped = ju)
        },
        persist: function() {},
        isPersistent: ju
    }),
    t
}
var $l = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function(e) {
        return e.timeStamp || Date.now()
    },
    defaultPrevented: 0,
    isTrusted: 0
}, yg = Vr($l), Dd = ln({}, $l, {
    view: 0,
    detail: 0
}), r4 = Vr(Dd), kh, Th, lc, pf = ln({}, Dd, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: jg,
    button: 0,
    buttons: 0,
    relatedTarget: function(e) {
        return e.relatedTarget === void 0 ? e.fromElement === e.srcElement ? e.toElement : e.fromElement : e.relatedTarget
    },
    movementX: function(e) {
        return "movementX"in e ? e.movementX : (e !== lc && (lc && e.type === "mousemove" ? (kh = e.screenX - lc.screenX,
        Th = e.screenY - lc.screenY) : Th = kh = 0,
        lc = e),
        kh)
    },
    movementY: function(e) {
        return "movementY"in e ? e.movementY : Th
    }
}), Hy = Vr(pf), s4 = ln({}, pf, {
    dataTransfer: 0
}), a4 = Vr(s4), i4 = ln({}, Dd, {
    relatedTarget: 0
}), Ph = Vr(i4), o4 = ln({}, $l, {
    animationName: 0,
    elapsedTime: 0,
    pseudoElement: 0
}), l4 = Vr(o4), c4 = ln({}, $l, {
    clipboardData: function(e) {
        return "clipboardData"in e ? e.clipboardData : window.clipboardData
    }
}), d4 = Vr(c4), u4 = ln({}, $l, {
    data: 0
}), Ky = Vr(u4), m4 = {
    Esc: "Escape",
    Spacebar: " ",
    Left: "ArrowLeft",
    Up: "ArrowUp",
    Right: "ArrowRight",
    Down: "ArrowDown",
    Del: "Delete",
    Win: "OS",
    Menu: "ContextMenu",
    Apps: "ContextMenu",
    Scroll: "ScrollLock",
    MozPrintableKey: "Unidentified"
}, f4 = {
    8: "Backspace",
    9: "Tab",
    12: "Clear",
    13: "Enter",
    16: "Shift",
    17: "Control",
    18: "Alt",
    19: "Pause",
    20: "CapsLock",
    27: "Escape",
    32: " ",
    33: "PageUp",
    34: "PageDown",
    35: "End",
    36: "Home",
    37: "ArrowLeft",
    38: "ArrowUp",
    39: "ArrowRight",
    40: "ArrowDown",
    45: "Insert",
    46: "Delete",
    112: "F1",
    113: "F2",
    114: "F3",
    115: "F4",
    116: "F5",
    117: "F6",
    118: "F7",
    119: "F8",
    120: "F9",
    121: "F10",
    122: "F11",
    123: "F12",
    144: "NumLock",
    145: "ScrollLock",
    224: "Meta"
}, h4 = {
    Alt: "altKey",
    Control: "ctrlKey",
    Meta: "metaKey",
    Shift: "shiftKey"
};
function p4(e) {
    var t = this.nativeEvent;
    return t.getModifierState ? t.getModifierState(e) : (e = h4[e]) ? !!t[e] : !1
}
function jg() {
    return p4
}
var x4 = ln({}, Dd, {
    key: function(e) {
        if (e.key) {
            var t = m4[e.key] || e.key;
            if (t !== "Unidentified")
                return t
        }
        return e.type === "keypress" ? (e = qu(e),
        e === 13 ? "Enter" : String.fromCharCode(e)) : e.type === "keydown" || e.type === "keyup" ? f4[e.keyCode] || "Unidentified" : ""
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: jg,
    charCode: function(e) {
        return e.type === "keypress" ? qu(e) : 0
    },
    keyCode: function(e) {
        return e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0
    },
    which: function(e) {
        return e.type === "keypress" ? qu(e) : e.type === "keydown" || e.type === "keyup" ? e.keyCode : 0
    }
})
  , g4 = Vr(x4)
  , v4 = ln({}, pf, {
    pointerId: 0,
    width: 0,
    height: 0,
    pressure: 0,
    tangentialPressure: 0,
    tiltX: 0,
    tiltY: 0,
    twist: 0,
    pointerType: 0,
    isPrimary: 0
})
  , Qy = Vr(v4)
  , y4 = ln({}, Dd, {
    touches: 0,
    targetTouches: 0,
    changedTouches: 0,
    altKey: 0,
    metaKey: 0,
    ctrlKey: 0,
    shiftKey: 0,
    getModifierState: jg
})
  , j4 = Vr(y4)
  , w4 = ln({}, $l, {
    propertyName: 0,
    elapsedTime: 0,
    pseudoElement: 0
})
  , N4 = Vr(w4)
  , b4 = ln({}, pf, {
    deltaX: function(e) {
        return "deltaX"in e ? e.deltaX : "wheelDeltaX"in e ? -e.wheelDeltaX : 0
    },
    deltaY: function(e) {
        return "deltaY"in e ? e.deltaY : "wheelDeltaY"in e ? -e.wheelDeltaY : "wheelDelta"in e ? -e.wheelDelta : 0
    },
    deltaZ: 0,
    deltaMode: 0
})
  , S4 = Vr(b4)
  , C4 = [9, 13, 27, 32]
  , wg = ga && "CompositionEvent"in window
  , Ec = null;
ga && "documentMode"in document && (Ec = document.documentMode);
var k4 = ga && "TextEvent"in window && !Ec
  , KS = ga && (!wg || Ec && 8 < Ec && 11 >= Ec)
  , Gy = " "
  , Xy = !1;
function QS(e, t) {
    switch (e) {
    case "keyup":
        return C4.indexOf(t.keyCode) !== -1;
    case "keydown":
        return t.keyCode !== 229;
    case "keypress":
    case "mousedown":
    case "focusout":
        return !0;
    default:
        return !1
    }
}
function GS(e) {
    return e = e.detail,
    typeof e == "object" && "data"in e ? e.data : null
}
var Do = !1;
function T4(e, t) {
    switch (e) {
    case "compositionend":
        return GS(t);
    case "keypress":
        return t.which !== 32 ? null : (Xy = !0,
        Gy);
    case "textInput":
        return e = t.data,
        e === Gy && Xy ? null : e;
    default:
        return null
    }
}
function P4(e, t) {
    if (Do)
        return e === "compositionend" || !wg && QS(e, t) ? (e = HS(),
        Uu = vg = Qa = null,
        Do = !1,
        e) : null;
    switch (e) {
    case "paste":
        return null;
    case "keypress":
        if (!(t.ctrlKey || t.altKey || t.metaKey) || t.ctrlKey && t.altKey) {
            if (t.char && 1 < t.char.length)
                return t.char;
            if (t.which)
                return String.fromCharCode(t.which)
        }
        return null;
    case "compositionend":
        return KS && t.locale !== "ko" ? null : t.data;
    default:
        return null
    }
}
var E4 = {
    color: !0,
    date: !0,
    datetime: !0,
    "datetime-local": !0,
    email: !0,
    month: !0,
    number: !0,
    password: !0,
    range: !0,
    search: !0,
    tel: !0,
    text: !0,
    time: !0,
    url: !0,
    week: !0
};
function Yy(e) {
    var t = e && e.nodeName && e.nodeName.toLowerCase();
    return t === "input" ? !!E4[e.type] : t === "textarea"
}
function XS(e, t, n, s) {
    TS(s),
    t = fm(t, "onChange"),
    0 < t.length && (n = new yg("onChange","change",null,n,s),
    e.push({
        event: n,
        listeners: t
    }))
}
var _c = null
  , Kc = null;
function _4(e) {
    oC(e, 0)
}
function xf(e) {
    var t = Lo(e);
    if (jS(t))
        return e
}
function A4(e, t) {
    if (e === "change")
        return t
}
var YS = !1;
if (ga) {
    var Eh;
    if (ga) {
        var _h = "oninput"in document;
        if (!_h) {
            var Zy = document.createElement("div");
            Zy.setAttribute("oninput", "return;"),
            _h = typeof Zy.oninput == "function"
        }
        Eh = _h
    } else
        Eh = !1;
    YS = Eh && (!document.documentMode || 9 < document.documentMode)
}
function Jy() {
    _c && (_c.detachEvent("onpropertychange", ZS),
    Kc = _c = null)
}
function ZS(e) {
    if (e.propertyName === "value" && xf(Kc)) {
        var t = [];
        XS(t, Kc, e, fg(e)),
        AS(_4, t)
    }
}
function R4(e, t, n) {
    e === "focusin" ? (Jy(),
    _c = t,
    Kc = n,
    _c.attachEvent("onpropertychange", ZS)) : e === "focusout" && Jy()
}
function I4(e) {
    if (e === "selectionchange" || e === "keyup" || e === "keydown")
        return xf(Kc)
}
function D4(e, t) {
    if (e === "click")
        return xf(t)
}
function M4(e, t) {
    if (e === "input" || e === "change")
        return xf(t)
}
function O4(e, t) {
    return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t
}
var Ps = typeof Object.is == "function" ? Object.is : O4;
function Qc(e, t) {
    if (Ps(e, t))
        return !0;
    if (typeof e != "object" || e === null || typeof t != "object" || t === null)
        return !1;
    var n = Object.keys(e)
      , s = Object.keys(t);
    if (n.length !== s.length)
        return !1;
    for (s = 0; s < n.length; s++) {
        var a = n[s];
        if (!yp.call(t, a) || !Ps(e[a], t[a]))
            return !1
    }
    return !0
}
function ej(e) {
    for (; e && e.firstChild; )
        e = e.firstChild;
    return e
}
function tj(e, t) {
    var n = ej(e);
    e = 0;
    for (var s; n; ) {
        if (n.nodeType === 3) {
            if (s = e + n.textContent.length,
            e <= t && s >= t)
                return {
                    node: n,
                    offset: t - e
                };
            e = s
        }
        e: {
            for (; n; ) {
                if (n.nextSibling) {
                    n = n.nextSibling;
                    break e
                }
                n = n.parentNode
            }
            n = void 0
        }
        n = ej(n)
    }
}
function JS(e, t) {
    return e && t ? e === t ? !0 : e && e.nodeType === 3 ? !1 : t && t.nodeType === 3 ? JS(e, t.parentNode) : "contains"in e ? e.contains(t) : e.compareDocumentPosition ? !!(e.compareDocumentPosition(t) & 16) : !1 : !1
}
function eC() {
    for (var e = window, t = im(); t instanceof e.HTMLIFrameElement; ) {
        try {
            var n = typeof t.contentWindow.location.href == "string"
        } catch {
            n = !1
        }
        if (n)
            e = t.contentWindow;
        else
            break;
        t = im(e.document)
    }
    return t
}
function Ng(e) {
    var t = e && e.nodeName && e.nodeName.toLowerCase();
    return t && (t === "input" && (e.type === "text" || e.type === "search" || e.type === "tel" || e.type === "url" || e.type === "password") || t === "textarea" || e.contentEditable === "true")
}
function L4(e) {
    var t = eC()
      , n = e.focusedElem
      , s = e.selectionRange;
    if (t !== n && n && n.ownerDocument && JS(n.ownerDocument.documentElement, n)) {
        if (s !== null && Ng(n)) {
            if (t = s.start,
            e = s.end,
            e === void 0 && (e = t),
            "selectionStart"in n)
                n.selectionStart = t,
                n.selectionEnd = Math.min(e, n.value.length);
            else if (e = (t = n.ownerDocument || document) && t.defaultView || window,
            e.getSelection) {
                e = e.getSelection();
                var a = n.textContent.length
                  , i = Math.min(s.start, a);
                s = s.end === void 0 ? i : Math.min(s.end, a),
                !e.extend && i > s && (a = s,
                s = i,
                i = a),
                a = tj(n, i);
                var o = tj(n, s);
                a && o && (e.rangeCount !== 1 || e.anchorNode !== a.node || e.anchorOffset !== a.offset || e.focusNode !== o.node || e.focusOffset !== o.offset) && (t = t.createRange(),
                t.setStart(a.node, a.offset),
                e.removeAllRanges(),
                i > s ? (e.addRange(t),
                e.extend(o.node, o.offset)) : (t.setEnd(o.node, o.offset),
                e.addRange(t)))
            }
        }
        for (t = [],
        e = n; e = e.parentNode; )
            e.nodeType === 1 && t.push({
                element: e,
                left: e.scrollLeft,
                top: e.scrollTop
            });
        for (typeof n.focus == "function" && n.focus(),
        n = 0; n < t.length; n++)
            e = t[n],
            e.element.scrollLeft = e.left,
            e.element.scrollTop = e.top
    }
}
var F4 = ga && "documentMode"in document && 11 >= document.documentMode
  , Mo = null
  , Fp = null
  , Ac = null
  , $p = !1;
function nj(e, t, n) {
    var s = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
    $p || Mo == null || Mo !== im(s) || (s = Mo,
    "selectionStart"in s && Ng(s) ? s = {
        start: s.selectionStart,
        end: s.selectionEnd
    } : (s = (s.ownerDocument && s.ownerDocument.defaultView || window).getSelection(),
    s = {
        anchorNode: s.anchorNode,
        anchorOffset: s.anchorOffset,
        focusNode: s.focusNode,
        focusOffset: s.focusOffset
    }),
    Ac && Qc(Ac, s) || (Ac = s,
    s = fm(Fp, "onSelect"),
    0 < s.length && (t = new yg("onSelect","select",null,t,n),
    e.push({
        event: t,
        listeners: s
    }),
    t.target = Mo)))
}
function wu(e, t) {
    var n = {};
    return n[e.toLowerCase()] = t.toLowerCase(),
    n["Webkit" + e] = "webkit" + t,
    n["Moz" + e] = "moz" + t,
    n
}
var Oo = {
    animationend: wu("Animation", "AnimationEnd"),
    animationiteration: wu("Animation", "AnimationIteration"),
    animationstart: wu("Animation", "AnimationStart"),
    transitionend: wu("Transition", "TransitionEnd")
}
  , Ah = {}
  , tC = {};
ga && (tC = document.createElement("div").style,
"AnimationEvent"in window || (delete Oo.animationend.animation,
delete Oo.animationiteration.animation,
delete Oo.animationstart.animation),
"TransitionEvent"in window || delete Oo.transitionend.transition);
function gf(e) {
    if (Ah[e])
        return Ah[e];
    if (!Oo[e])
        return e;
    var t = Oo[e], n;
    for (n in t)
        if (t.hasOwnProperty(n) && n in tC)
            return Ah[e] = t[n];
    return e
}
var nC = gf("animationend")
  , rC = gf("animationiteration")
  , sC = gf("animationstart")
  , aC = gf("transitionend")
  , iC = new Map
  , rj = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");
function Ci(e, t) {
    iC.set(e, t),
    go(t, [e])
}
for (var Rh = 0; Rh < rj.length; Rh++) {
    var Ih = rj[Rh]
      , $4 = Ih.toLowerCase()
      , z4 = Ih[0].toUpperCase() + Ih.slice(1);
    Ci($4, "on" + z4)
}
Ci(nC, "onAnimationEnd");
Ci(rC, "onAnimationIteration");
Ci(sC, "onAnimationStart");
Ci("dblclick", "onDoubleClick");
Ci("focusin", "onFocus");
Ci("focusout", "onBlur");
Ci(aC, "onTransitionEnd");
wl("onMouseEnter", ["mouseout", "mouseover"]);
wl("onMouseLeave", ["mouseout", "mouseover"]);
wl("onPointerEnter", ["pointerout", "pointerover"]);
wl("onPointerLeave", ["pointerout", "pointerover"]);
go("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" "));
go("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));
go("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]);
go("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" "));
go("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" "));
go("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" "));
var wc = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" ")
  , V4 = new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));
function sj(e, t, n) {
    var s = e.type || "unknown-event";
    e.currentTarget = n,
    $D(s, t, void 0, e),
    e.currentTarget = null
}
function oC(e, t) {
    t = (t & 4) !== 0;
    for (var n = 0; n < e.length; n++) {
        var s = e[n]
          , a = s.event;
        s = s.listeners;
        e: {
            var i = void 0;
            if (t)
                for (var o = s.length - 1; 0 <= o; o--) {
                    var l = s[o]
                      , c = l.instance
                      , d = l.currentTarget;
                    if (l = l.listener,
                    c !== i && a.isPropagationStopped())
                        break e;
                    sj(a, l, d),
                    i = c
                }
            else
                for (o = 0; o < s.length; o++) {
                    if (l = s[o],
                    c = l.instance,
                    d = l.currentTarget,
                    l = l.listener,
                    c !== i && a.isPropagationStopped())
                        break e;
                    sj(a, l, d),
                    i = c
                }
        }
    }
    if (lm)
        throw e = Dp,
        lm = !1,
        Dp = null,
        e
}
function Qt(e, t) {
    var n = t[qp];
    n === void 0 && (n = t[qp] = new Set);
    var s = e + "__bubble";
    n.has(s) || (lC(t, e, 2, !1),
    n.add(s))
}
function Dh(e, t, n) {
    var s = 0;
    t && (s |= 4),
    lC(n, e, s, t)
}
var Nu = "_reactListening" + Math.random().toString(36).slice(2);
function Gc(e) {
    if (!e[Nu]) {
        e[Nu] = !0,
        pS.forEach(function(n) {
            n !== "selectionchange" && (V4.has(n) || Dh(n, !1, e),
            Dh(n, !0, e))
        });
        var t = e.nodeType === 9 ? e : e.ownerDocument;
        t === null || t[Nu] || (t[Nu] = !0,
        Dh("selectionchange", !1, t))
    }
}
function lC(e, t, n, s) {
    switch (WS(t)) {
    case 1:
        var a = t4;
        break;
    case 4:
        a = n4;
        break;
    default:
        a = gg
    }
    n = a.bind(null, t, n, e),
    a = void 0,
    !Ip || t !== "touchstart" && t !== "touchmove" && t !== "wheel" || (a = !0),
    s ? a !== void 0 ? e.addEventListener(t, n, {
        capture: !0,
        passive: a
    }) : e.addEventListener(t, n, !0) : a !== void 0 ? e.addEventListener(t, n, {
        passive: a
    }) : e.addEventListener(t, n, !1)
}
function Mh(e, t, n, s, a) {
    var i = s;
    if (!(t & 1) && !(t & 2) && s !== null)
        e: for (; ; ) {
            if (s === null)
                return;
            var o = s.tag;
            if (o === 3 || o === 4) {
                var l = s.stateNode.containerInfo;
                if (l === a || l.nodeType === 8 && l.parentNode === a)
                    break;
                if (o === 4)
                    for (o = s.return; o !== null; ) {
                        var c = o.tag;
                        if ((c === 3 || c === 4) && (c = o.stateNode.containerInfo,
                        c === a || c.nodeType === 8 && c.parentNode === a))
                            return;
                        o = o.return
                    }
                for (; l !== null; ) {
                    if (o = Fi(l),
                    o === null)
                        return;
                    if (c = o.tag,
                    c === 5 || c === 6) {
                        s = i = o;
                        continue e
                    }
                    l = l.parentNode
                }
            }
            s = s.return
        }
    AS(function() {
        var d = i
          , u = fg(n)
          , f = [];
        e: {
            var h = iC.get(e);
            if (h !== void 0) {
                var x = yg
                  , j = e;
                switch (e) {
                case "keypress":
                    if (qu(n) === 0)
                        break e;
                case "keydown":
                case "keyup":
                    x = g4;
                    break;
                case "focusin":
                    j = "focus",
                    x = Ph;
                    break;
                case "focusout":
                    j = "blur",
                    x = Ph;
                    break;
                case "beforeblur":
                case "afterblur":
                    x = Ph;
                    break;
                case "click":
                    if (n.button === 2)
                        break e;
                case "auxclick":
                case "dblclick":
                case "mousedown":
                case "mousemove":
                case "mouseup":
                case "mouseout":
                case "mouseover":
                case "contextmenu":
                    x = Hy;
                    break;
                case "drag":
                case "dragend":
                case "dragenter":
                case "dragexit":
                case "dragleave":
                case "dragover":
                case "dragstart":
                case "drop":
                    x = a4;
                    break;
                case "touchcancel":
                case "touchend":
                case "touchmove":
                case "touchstart":
                    x = j4;
                    break;
                case nC:
                case rC:
                case sC:
                    x = l4;
                    break;
                case aC:
                    x = N4;
                    break;
                case "scroll":
                    x = r4;
                    break;
                case "wheel":
                    x = S4;
                    break;
                case "copy":
                case "cut":
                case "paste":
                    x = d4;
                    break;
                case "gotpointercapture":
                case "lostpointercapture":
                case "pointercancel":
                case "pointerdown":
                case "pointermove":
                case "pointerout":
                case "pointerover":
                case "pointerup":
                    x = Qy
                }
                var v = (t & 4) !== 0
                  , w = !v && e === "scroll"
                  , y = v ? h !== null ? h + "Capture" : null : h;
                v = [];
                for (var p = d, g; p !== null; ) {
                    g = p;
                    var b = g.stateNode;
                    if (g.tag === 5 && b !== null && (g = b,
                    y !== null && (b = Uc(p, y),
                    b != null && v.push(Xc(p, b, g)))),
                    w)
                        break;
                    p = p.return
                }
                0 < v.length && (h = new x(h,j,null,n,u),
                f.push({
                    event: h,
                    listeners: v
                }))
            }
        }
        if (!(t & 7)) {
            e: {
                if (h = e === "mouseover" || e === "pointerover",
                x = e === "mouseout" || e === "pointerout",
                h && n !== Ap && (j = n.relatedTarget || n.fromElement) && (Fi(j) || j[va]))
                    break e;
                if ((x || h) && (h = u.window === u ? u : (h = u.ownerDocument) ? h.defaultView || h.parentWindow : window,
                x ? (j = n.relatedTarget || n.toElement,
                x = d,
                j = j ? Fi(j) : null,
                j !== null && (w = vo(j),
                j !== w || j.tag !== 5 && j.tag !== 6) && (j = null)) : (x = null,
                j = d),
                x !== j)) {
                    if (v = Hy,
                    b = "onMouseLeave",
                    y = "onMouseEnter",
                    p = "mouse",
                    (e === "pointerout" || e === "pointerover") && (v = Qy,
                    b = "onPointerLeave",
                    y = "onPointerEnter",
                    p = "pointer"),
                    w = x == null ? h : Lo(x),
                    g = j == null ? h : Lo(j),
                    h = new v(b,p + "leave",x,n,u),
                    h.target = w,
                    h.relatedTarget = g,
                    b = null,
                    Fi(u) === d && (v = new v(y,p + "enter",j,n,u),
                    v.target = g,
                    v.relatedTarget = w,
                    b = v),
                    w = b,
                    x && j)
                        t: {
                            for (v = x,
                            y = j,
                            p = 0,
                            g = v; g; g = Co(g))
                                p++;
                            for (g = 0,
                            b = y; b; b = Co(b))
                                g++;
                            for (; 0 < p - g; )
                                v = Co(v),
                                p--;
                            for (; 0 < g - p; )
                                y = Co(y),
                                g--;
                            for (; p--; ) {
                                if (v === y || y !== null && v === y.alternate)
                                    break t;
                                v = Co(v),
                                y = Co(y)
                            }
                            v = null
                        }
                    else
                        v = null;
                    x !== null && aj(f, h, x, v, !1),
                    j !== null && w !== null && aj(f, w, j, v, !0)
                }
            }
            e: {
                if (h = d ? Lo(d) : window,
                x = h.nodeName && h.nodeName.toLowerCase(),
                x === "select" || x === "input" && h.type === "file")
                    var k = A4;
                else if (Yy(h))
                    if (YS)
                        k = M4;
                    else {
                        k = I4;
                        var S = R4
                    }
                else
                    (x = h.nodeName) && x.toLowerCase() === "input" && (h.type === "checkbox" || h.type === "radio") && (k = D4);
                if (k && (k = k(e, d))) {
                    XS(f, k, n, u);
                    break e
                }
                S && S(e, h, d),
                e === "focusout" && (S = h._wrapperState) && S.controlled && h.type === "number" && kp(h, "number", h.value)
            }
            switch (S = d ? Lo(d) : window,
            e) {
            case "focusin":
                (Yy(S) || S.contentEditable === "true") && (Mo = S,
                Fp = d,
                Ac = null);
                break;
            case "focusout":
                Ac = Fp = Mo = null;
                break;
            case "mousedown":
                $p = !0;
                break;
            case "contextmenu":
            case "mouseup":
            case "dragend":
                $p = !1,
                nj(f, n, u);
                break;
            case "selectionchange":
                if (F4)
                    break;
            case "keydown":
            case "keyup":
                nj(f, n, u)
            }
            var C;
            if (wg)
                e: {
                    switch (e) {
                    case "compositionstart":
                        var T = "onCompositionStart";
                        break e;
                    case "compositionend":
                        T = "onCompositionEnd";
                        break e;
                    case "compositionupdate":
                        T = "onCompositionUpdate";
                        break e
                    }
                    T = void 0
                }
            else
                Do ? QS(e, n) && (T = "onCompositionEnd") : e === "keydown" && n.keyCode === 229 && (T = "onCompositionStart");
            T && (KS && n.locale !== "ko" && (Do || T !== "onCompositionStart" ? T === "onCompositionEnd" && Do && (C = HS()) : (Qa = u,
            vg = "value"in Qa ? Qa.value : Qa.textContent,
            Do = !0)),
            S = fm(d, T),
            0 < S.length && (T = new Ky(T,e,null,n,u),
            f.push({
                event: T,
                listeners: S
            }),
            C ? T.data = C : (C = GS(n),
            C !== null && (T.data = C)))),
            (C = k4 ? T4(e, n) : P4(e, n)) && (d = fm(d, "onBeforeInput"),
            0 < d.length && (u = new Ky("onBeforeInput","beforeinput",null,n,u),
            f.push({
                event: u,
                listeners: d
            }),
            u.data = C))
        }
        oC(f, t)
    })
}
function Xc(e, t, n) {
    return {
        instance: e,
        listener: t,
        currentTarget: n
    }
}
function fm(e, t) {
    for (var n = t + "Capture", s = []; e !== null; ) {
        var a = e
          , i = a.stateNode;
        a.tag === 5 && i !== null && (a = i,
        i = Uc(e, n),
        i != null && s.unshift(Xc(e, i, a)),
        i = Uc(e, t),
        i != null && s.push(Xc(e, i, a))),
        e = e.return
    }
    return s
}
function Co(e) {
    if (e === null)
        return null;
    do
        e = e.return;
    while (e && e.tag !== 5);
    return e || null
}
function aj(e, t, n, s, a) {
    for (var i = t._reactName, o = []; n !== null && n !== s; ) {
        var l = n
          , c = l.alternate
          , d = l.stateNode;
        if (c !== null && c === s)
            break;
        l.tag === 5 && d !== null && (l = d,
        a ? (c = Uc(n, i),
        c != null && o.unshift(Xc(n, c, l))) : a || (c = Uc(n, i),
        c != null && o.push(Xc(n, c, l)))),
        n = n.return
    }
    o.length !== 0 && e.push({
        event: t,
        listeners: o
    })
}
var B4 = /\r\n?/g
  , U4 = /\u0000|\uFFFD/g;
function ij(e) {
    return (typeof e == "string" ? e : "" + e).replace(B4, `
`).replace(U4, "")
}
function bu(e, t, n) {
    if (t = ij(t),
    ij(e) !== t && n)
        throw Error(ie(425))
}
function hm() {}
var zp = null
  , Vp = null;
function Bp(e, t) {
    return e === "textarea" || e === "noscript" || typeof t.children == "string" || typeof t.children == "number" || typeof t.dangerouslySetInnerHTML == "object" && t.dangerouslySetInnerHTML !== null && t.dangerouslySetInnerHTML.__html != null
}
var Up = typeof setTimeout == "function" ? setTimeout : void 0
  , q4 = typeof clearTimeout == "function" ? clearTimeout : void 0
  , oj = typeof Promise == "function" ? Promise : void 0
  , W4 = typeof queueMicrotask == "function" ? queueMicrotask : typeof oj < "u" ? function(e) {
    return oj.resolve(null).then(e).catch(H4)
}
: Up;
function H4(e) {
    setTimeout(function() {
        throw e
    })
}
function Oh(e, t) {
    var n = t
      , s = 0;
    do {
        var a = n.nextSibling;
        if (e.removeChild(n),
        a && a.nodeType === 8)
            if (n = a.data,
            n === "/$") {
                if (s === 0) {
                    e.removeChild(a),
                    Hc(t);
                    return
                }
                s--
            } else
                n !== "$" && n !== "$?" && n !== "$!" || s++;
        n = a
    } while (n);
    Hc(t)
}
function Ja(e) {
    for (; e != null; e = e.nextSibling) {
        var t = e.nodeType;
        if (t === 1 || t === 3)
            break;
        if (t === 8) {
            if (t = e.data,
            t === "$" || t === "$!" || t === "$?")
                break;
            if (t === "/$")
                return null
        }
    }
    return e
}
function lj(e) {
    e = e.previousSibling;
    for (var t = 0; e; ) {
        if (e.nodeType === 8) {
            var n = e.data;
            if (n === "$" || n === "$!" || n === "$?") {
                if (t === 0)
                    return e;
                t--
            } else
                n === "/$" && t++
        }
        e = e.previousSibling
    }
    return null
}
var zl = Math.random().toString(36).slice(2)
  , zs = "__reactFiber$" + zl
  , Yc = "__reactProps$" + zl
  , va = "__reactContainer$" + zl
  , qp = "__reactEvents$" + zl
  , K4 = "__reactListeners$" + zl
  , Q4 = "__reactHandles$" + zl;
function Fi(e) {
    var t = e[zs];
    if (t)
        return t;
    for (var n = e.parentNode; n; ) {
        if (t = n[va] || n[zs]) {
            if (n = t.alternate,
            t.child !== null || n !== null && n.child !== null)
                for (e = lj(e); e !== null; ) {
                    if (n = e[zs])
                        return n;
                    e = lj(e)
                }
            return t
        }
        e = n,
        n = e.parentNode
    }
    return null
}
function Md(e) {
    return e = e[zs] || e[va],
    !e || e.tag !== 5 && e.tag !== 6 && e.tag !== 13 && e.tag !== 3 ? null : e
}
function Lo(e) {
    if (e.tag === 5 || e.tag === 6)
        return e.stateNode;
    throw Error(ie(33))
}
function vf(e) {
    return e[Yc] || null
}
var Wp = []
  , Fo = -1;
function ki(e) {
    return {
        current: e
    }
}
function Gt(e) {
    0 > Fo || (e.current = Wp[Fo],
    Wp[Fo] = null,
    Fo--)
}
function Wt(e, t) {
    Fo++,
    Wp[Fo] = e.current,
    e.current = t
}
var hi = {}
  , tr = ki(hi)
  , Sr = ki(!1)
  , no = hi;
function Nl(e, t) {
    var n = e.type.contextTypes;
    if (!n)
        return hi;
    var s = e.stateNode;
    if (s && s.__reactInternalMemoizedUnmaskedChildContext === t)
        return s.__reactInternalMemoizedMaskedChildContext;
    var a = {}, i;
    for (i in n)
        a[i] = t[i];
    return s && (e = e.stateNode,
    e.__reactInternalMemoizedUnmaskedChildContext = t,
    e.__reactInternalMemoizedMaskedChildContext = a),
    a
}
function Cr(e) {
    return e = e.childContextTypes,
    e != null
}
function pm() {
    Gt(Sr),
    Gt(tr)
}
function cj(e, t, n) {
    if (tr.current !== hi)
        throw Error(ie(168));
    Wt(tr, t),
    Wt(Sr, n)
}
function cC(e, t, n) {
    var s = e.stateNode;
    if (t = t.childContextTypes,
    typeof s.getChildContext != "function")
        return n;
    s = s.getChildContext();
    for (var a in s)
        if (!(a in t))
            throw Error(ie(108, RD(e) || "Unknown", a));
    return ln({}, n, s)
}
function xm(e) {
    return e = (e = e.stateNode) && e.__reactInternalMemoizedMergedChildContext || hi,
    no = tr.current,
    Wt(tr, e),
    Wt(Sr, Sr.current),
    !0
}
function dj(e, t, n) {
    var s = e.stateNode;
    if (!s)
        throw Error(ie(169));
    n ? (e = cC(e, t, no),
    s.__reactInternalMemoizedMergedChildContext = e,
    Gt(Sr),
    Gt(tr),
    Wt(tr, e)) : Gt(Sr),
    Wt(Sr, n)
}
var ca = null
  , yf = !1
  , Lh = !1;
function dC(e) {
    ca === null ? ca = [e] : ca.push(e)
}
function G4(e) {
    yf = !0,
    dC(e)
}
function Ti() {
    if (!Lh && ca !== null) {
        Lh = !0;
        var e = 0
          , t = Ut;
        try {
            var n = ca;
            for (Ut = 1; e < n.length; e++) {
                var s = n[e];
                do
                    s = s(!0);
                while (s !== null)
            }
            ca = null,
            yf = !1
        } catch (a) {
            throw ca !== null && (ca = ca.slice(e + 1)),
            MS(hg, Ti),
            a
        } finally {
            Ut = t,
            Lh = !1
        }
    }
    return null
}
var $o = []
  , zo = 0
  , gm = null
  , vm = 0
  , Xr = []
  , Yr = 0
  , ro = null
  , ma = 1
  , fa = "";
function Di(e, t) {
    $o[zo++] = vm,
    $o[zo++] = gm,
    gm = e,
    vm = t
}
function uC(e, t, n) {
    Xr[Yr++] = ma,
    Xr[Yr++] = fa,
    Xr[Yr++] = ro,
    ro = e;
    var s = ma;
    e = fa;
    var a = 32 - Ns(s) - 1;
    s &= ~(1 << a),
    n += 1;
    var i = 32 - Ns(t) + a;
    if (30 < i) {
        var o = a - a % 5;
        i = (s & (1 << o) - 1).toString(32),
        s >>= o,
        a -= o,
        ma = 1 << 32 - Ns(t) + a | n << a | s,
        fa = i + e
    } else
        ma = 1 << i | n << a | s,
        fa = e
}
function bg(e) {
    e.return !== null && (Di(e, 1),
    uC(e, 1, 0))
}
function Sg(e) {
    for (; e === gm; )
        gm = $o[--zo],
        $o[zo] = null,
        vm = $o[--zo],
        $o[zo] = null;
    for (; e === ro; )
        ro = Xr[--Yr],
        Xr[Yr] = null,
        fa = Xr[--Yr],
        Xr[Yr] = null,
        ma = Xr[--Yr],
        Xr[Yr] = null
}
var Mr = null
  , Dr = null
  , Jt = !1
  , xs = null;
function mC(e, t) {
    var n = Zr(5, null, null, 0);
    n.elementType = "DELETED",
    n.stateNode = t,
    n.return = e,
    t = e.deletions,
    t === null ? (e.deletions = [n],
    e.flags |= 16) : t.push(n)
}
function uj(e, t) {
    switch (e.tag) {
    case 5:
        var n = e.type;
        return t = t.nodeType !== 1 || n.toLowerCase() !== t.nodeName.toLowerCase() ? null : t,
        t !== null ? (e.stateNode = t,
        Mr = e,
        Dr = Ja(t.firstChild),
        !0) : !1;
    case 6:
        return t = e.pendingProps === "" || t.nodeType !== 3 ? null : t,
        t !== null ? (e.stateNode = t,
        Mr = e,
        Dr = null,
        !0) : !1;
    case 13:
        return t = t.nodeType !== 8 ? null : t,
        t !== null ? (n = ro !== null ? {
            id: ma,
            overflow: fa
        } : null,
        e.memoizedState = {
            dehydrated: t,
            treeContext: n,
            retryLane: 1073741824
        },
        n = Zr(18, null, null, 0),
        n.stateNode = t,
        n.return = e,
        e.child = n,
        Mr = e,
        Dr = null,
        !0) : !1;
    default:
        return !1
    }
}
function Hp(e) {
    return (e.mode & 1) !== 0 && (e.flags & 128) === 0
}
function Kp(e) {
    if (Jt) {
        var t = Dr;
        if (t) {
            var n = t;
            if (!uj(e, t)) {
                if (Hp(e))
                    throw Error(ie(418));
                t = Ja(n.nextSibling);
                var s = Mr;
                t && uj(e, t) ? mC(s, n) : (e.flags = e.flags & -4097 | 2,
                Jt = !1,
                Mr = e)
            }
        } else {
            if (Hp(e))
                throw Error(ie(418));
            e.flags = e.flags & -4097 | 2,
            Jt = !1,
            Mr = e
        }
    }
}
function mj(e) {
    for (e = e.return; e !== null && e.tag !== 5 && e.tag !== 3 && e.tag !== 13; )
        e = e.return;
    Mr = e
}
function Su(e) {
    if (e !== Mr)
        return !1;
    if (!Jt)
        return mj(e),
        Jt = !0,
        !1;
    var t;
    if ((t = e.tag !== 3) && !(t = e.tag !== 5) && (t = e.type,
    t = t !== "head" && t !== "body" && !Bp(e.type, e.memoizedProps)),
    t && (t = Dr)) {
        if (Hp(e))
            throw fC(),
            Error(ie(418));
        for (; t; )
            mC(e, t),
            t = Ja(t.nextSibling)
    }
    if (mj(e),
    e.tag === 13) {
        if (e = e.memoizedState,
        e = e !== null ? e.dehydrated : null,
        !e)
            throw Error(ie(317));
        e: {
            for (e = e.nextSibling,
            t = 0; e; ) {
                if (e.nodeType === 8) {
                    var n = e.data;
                    if (n === "/$") {
                        if (t === 0) {
                            Dr = Ja(e.nextSibling);
                            break e
                        }
                        t--
                    } else
                        n !== "$" && n !== "$!" && n !== "$?" || t++
                }
                e = e.nextSibling
            }
            Dr = null
        }
    } else
        Dr = Mr ? Ja(e.stateNode.nextSibling) : null;
    return !0
}
function fC() {
    for (var e = Dr; e; )
        e = Ja(e.nextSibling)
}
function bl() {
    Dr = Mr = null,
    Jt = !1
}
function Cg(e) {
    xs === null ? xs = [e] : xs.push(e)
}
var X4 = Sa.ReactCurrentBatchConfig;
function cc(e, t, n) {
    if (e = n.ref,
    e !== null && typeof e != "function" && typeof e != "object") {
        if (n._owner) {
            if (n = n._owner,
            n) {
                if (n.tag !== 1)
                    throw Error(ie(309));
                var s = n.stateNode
            }
            if (!s)
                throw Error(ie(147, e));
            var a = s
              , i = "" + e;
            return t !== null && t.ref !== null && typeof t.ref == "function" && t.ref._stringRef === i ? t.ref : (t = function(o) {
                var l = a.refs;
                o === null ? delete l[i] : l[i] = o
            }
            ,
            t._stringRef = i,
            t)
        }
        if (typeof e != "string")
            throw Error(ie(284));
        if (!n._owner)
            throw Error(ie(290, e))
    }
    return e
}
function Cu(e, t) {
    throw e = Object.prototype.toString.call(t),
    Error(ie(31, e === "[object Object]" ? "object with keys {" + Object.keys(t).join(", ") + "}" : e))
}
function fj(e) {
    var t = e._init;
    return t(e._payload)
}
function hC(e) {
    function t(y, p) {
        if (e) {
            var g = y.deletions;
            g === null ? (y.deletions = [p],
            y.flags |= 16) : g.push(p)
        }
    }
    function n(y, p) {
        if (!e)
            return null;
        for (; p !== null; )
            t(y, p),
            p = p.sibling;
        return null
    }
    function s(y, p) {
        for (y = new Map; p !== null; )
            p.key !== null ? y.set(p.key, p) : y.set(p.index, p),
            p = p.sibling;
        return y
    }
    function a(y, p) {
        return y = ri(y, p),
        y.index = 0,
        y.sibling = null,
        y
    }
    function i(y, p, g) {
        return y.index = g,
        e ? (g = y.alternate,
        g !== null ? (g = g.index,
        g < p ? (y.flags |= 2,
        p) : g) : (y.flags |= 2,
        p)) : (y.flags |= 1048576,
        p)
    }
    function o(y) {
        return e && y.alternate === null && (y.flags |= 2),
        y
    }
    function l(y, p, g, b) {
        return p === null || p.tag !== 6 ? (p = qh(g, y.mode, b),
        p.return = y,
        p) : (p = a(p, g),
        p.return = y,
        p)
    }
    function c(y, p, g, b) {
        var k = g.type;
        return k === Io ? u(y, p, g.props.children, b, g.key) : p !== null && (p.elementType === k || typeof k == "object" && k !== null && k.$$typeof === Ia && fj(k) === p.type) ? (b = a(p, g.props),
        b.ref = cc(y, p, g),
        b.return = y,
        b) : (b = Yu(g.type, g.key, g.props, null, y.mode, b),
        b.ref = cc(y, p, g),
        b.return = y,
        b)
    }
    function d(y, p, g, b) {
        return p === null || p.tag !== 4 || p.stateNode.containerInfo !== g.containerInfo || p.stateNode.implementation !== g.implementation ? (p = Wh(g, y.mode, b),
        p.return = y,
        p) : (p = a(p, g.children || []),
        p.return = y,
        p)
    }
    function u(y, p, g, b, k) {
        return p === null || p.tag !== 7 ? (p = Zi(g, y.mode, b, k),
        p.return = y,
        p) : (p = a(p, g),
        p.return = y,
        p)
    }
    function f(y, p, g) {
        if (typeof p == "string" && p !== "" || typeof p == "number")
            return p = qh("" + p, y.mode, g),
            p.return = y,
            p;
        if (typeof p == "object" && p !== null) {
            switch (p.$$typeof) {
            case hu:
                return g = Yu(p.type, p.key, p.props, null, y.mode, g),
                g.ref = cc(y, null, p),
                g.return = y,
                g;
            case Ro:
                return p = Wh(p, y.mode, g),
                p.return = y,
                p;
            case Ia:
                var b = p._init;
                return f(y, b(p._payload), g)
            }
            if (yc(p) || sc(p))
                return p = Zi(p, y.mode, g, null),
                p.return = y,
                p;
            Cu(y, p)
        }
        return null
    }
    function h(y, p, g, b) {
        var k = p !== null ? p.key : null;
        if (typeof g == "string" && g !== "" || typeof g == "number")
            return k !== null ? null : l(y, p, "" + g, b);
        if (typeof g == "object" && g !== null) {
            switch (g.$$typeof) {
            case hu:
                return g.key === k ? c(y, p, g, b) : null;
            case Ro:
                return g.key === k ? d(y, p, g, b) : null;
            case Ia:
                return k = g._init,
                h(y, p, k(g._payload), b)
            }
            if (yc(g) || sc(g))
                return k !== null ? null : u(y, p, g, b, null);
            Cu(y, g)
        }
        return null
    }
    function x(y, p, g, b, k) {
        if (typeof b == "string" && b !== "" || typeof b == "number")
            return y = y.get(g) || null,
            l(p, y, "" + b, k);
        if (typeof b == "object" && b !== null) {
            switch (b.$$typeof) {
            case hu:
                return y = y.get(b.key === null ? g : b.key) || null,
                c(p, y, b, k);
            case Ro:
                return y = y.get(b.key === null ? g : b.key) || null,
                d(p, y, b, k);
            case Ia:
                var S = b._init;
                return x(y, p, g, S(b._payload), k)
            }
            if (yc(b) || sc(b))
                return y = y.get(g) || null,
                u(p, y, b, k, null);
            Cu(p, b)
        }
        return null
    }
    function j(y, p, g, b) {
        for (var k = null, S = null, C = p, T = p = 0, D = null; C !== null && T < g.length; T++) {
            C.index > T ? (D = C,
            C = null) : D = C.sibling;
            var L = h(y, C, g[T], b);
            if (L === null) {
                C === null && (C = D);
                break
            }
            e && C && L.alternate === null && t(y, C),
            p = i(L, p, T),
            S === null ? k = L : S.sibling = L,
            S = L,
            C = D
        }
        if (T === g.length)
            return n(y, C),
            Jt && Di(y, T),
            k;
        if (C === null) {
            for (; T < g.length; T++)
                C = f(y, g[T], b),
                C !== null && (p = i(C, p, T),
                S === null ? k = C : S.sibling = C,
                S = C);
            return Jt && Di(y, T),
            k
        }
        for (C = s(y, C); T < g.length; T++)
            D = x(C, y, T, g[T], b),
            D !== null && (e && D.alternate !== null && C.delete(D.key === null ? T : D.key),
            p = i(D, p, T),
            S === null ? k = D : S.sibling = D,
            S = D);
        return e && C.forEach(function(G) {
            return t(y, G)
        }),
        Jt && Di(y, T),
        k
    }
    function v(y, p, g, b) {
        var k = sc(g);
        if (typeof k != "function")
            throw Error(ie(150));
        if (g = k.call(g),
        g == null)
            throw Error(ie(151));
        for (var S = k = null, C = p, T = p = 0, D = null, L = g.next(); C !== null && !L.done; T++,
        L = g.next()) {
            C.index > T ? (D = C,
            C = null) : D = C.sibling;
            var G = h(y, C, L.value, b);
            if (G === null) {
                C === null && (C = D);
                break
            }
            e && C && G.alternate === null && t(y, C),
            p = i(G, p, T),
            S === null ? k = G : S.sibling = G,
            S = G,
            C = D
        }
        if (L.done)
            return n(y, C),
            Jt && Di(y, T),
            k;
        if (C === null) {
            for (; !L.done; T++,
            L = g.next())
                L = f(y, L.value, b),
                L !== null && (p = i(L, p, T),
                S === null ? k = L : S.sibling = L,
                S = L);
            return Jt && Di(y, T),
            k
        }
        for (C = s(y, C); !L.done; T++,
        L = g.next())
            L = x(C, y, T, L.value, b),
            L !== null && (e && L.alternate !== null && C.delete(L.key === null ? T : L.key),
            p = i(L, p, T),
            S === null ? k = L : S.sibling = L,
            S = L);
        return e && C.forEach(function(M) {
            return t(y, M)
        }),
        Jt && Di(y, T),
        k
    }
    function w(y, p, g, b) {
        if (typeof g == "object" && g !== null && g.type === Io && g.key === null && (g = g.props.children),
        typeof g == "object" && g !== null) {
            switch (g.$$typeof) {
            case hu:
                e: {
                    for (var k = g.key, S = p; S !== null; ) {
                        if (S.key === k) {
                            if (k = g.type,
                            k === Io) {
                                if (S.tag === 7) {
                                    n(y, S.sibling),
                                    p = a(S, g.props.children),
                                    p.return = y,
                                    y = p;
                                    break e
                                }
                            } else if (S.elementType === k || typeof k == "object" && k !== null && k.$$typeof === Ia && fj(k) === S.type) {
                                n(y, S.sibling),
                                p = a(S, g.props),
                                p.ref = cc(y, S, g),
                                p.return = y,
                                y = p;
                                break e
                            }
                            n(y, S);
                            break
                        } else
                            t(y, S);
                        S = S.sibling
                    }
                    g.type === Io ? (p = Zi(g.props.children, y.mode, b, g.key),
                    p.return = y,
                    y = p) : (b = Yu(g.type, g.key, g.props, null, y.mode, b),
                    b.ref = cc(y, p, g),
                    b.return = y,
                    y = b)
                }
                return o(y);
            case Ro:
                e: {
                    for (S = g.key; p !== null; ) {
                        if (p.key === S)
                            if (p.tag === 4 && p.stateNode.containerInfo === g.containerInfo && p.stateNode.implementation === g.implementation) {
                                n(y, p.sibling),
                                p = a(p, g.children || []),
                                p.return = y,
                                y = p;
                                break e
                            } else {
                                n(y, p);
                                break
                            }
                        else
                            t(y, p);
                        p = p.sibling
                    }
                    p = Wh(g, y.mode, b),
                    p.return = y,
                    y = p
                }
                return o(y);
            case Ia:
                return S = g._init,
                w(y, p, S(g._payload), b)
            }
            if (yc(g))
                return j(y, p, g, b);
            if (sc(g))
                return v(y, p, g, b);
            Cu(y, g)
        }
        return typeof g == "string" && g !== "" || typeof g == "number" ? (g = "" + g,
        p !== null && p.tag === 6 ? (n(y, p.sibling),
        p = a(p, g),
        p.return = y,
        y = p) : (n(y, p),
        p = qh(g, y.mode, b),
        p.return = y,
        y = p),
        o(y)) : n(y, p)
    }
    return w
}
var Sl = hC(!0)
  , pC = hC(!1)
  , ym = ki(null)
  , jm = null
  , Vo = null
  , kg = null;
function Tg() {
    kg = Vo = jm = null
}
function Pg(e) {
    var t = ym.current;
    Gt(ym),
    e._currentValue = t
}
function Qp(e, t, n) {
    for (; e !== null; ) {
        var s = e.alternate;
        if ((e.childLanes & t) !== t ? (e.childLanes |= t,
        s !== null && (s.childLanes |= t)) : s !== null && (s.childLanes & t) !== t && (s.childLanes |= t),
        e === n)
            break;
        e = e.return
    }
}
function Yo(e, t) {
    jm = e,
    kg = Vo = null,
    e = e.dependencies,
    e !== null && e.firstContext !== null && (e.lanes & t && (Nr = !0),
    e.firstContext = null)
}
function ss(e) {
    var t = e._currentValue;
    if (kg !== e)
        if (e = {
            context: e,
            memoizedValue: t,
            next: null
        },
        Vo === null) {
            if (jm === null)
                throw Error(ie(308));
            Vo = e,
            jm.dependencies = {
                lanes: 0,
                firstContext: e
            }
        } else
            Vo = Vo.next = e;
    return t
}
var $i = null;
function Eg(e) {
    $i === null ? $i = [e] : $i.push(e)
}
function xC(e, t, n, s) {
    var a = t.interleaved;
    return a === null ? (n.next = n,
    Eg(t)) : (n.next = a.next,
    a.next = n),
    t.interleaved = n,
    ya(e, s)
}
function ya(e, t) {
    e.lanes |= t;
    var n = e.alternate;
    for (n !== null && (n.lanes |= t),
    n = e,
    e = e.return; e !== null; )
        e.childLanes |= t,
        n = e.alternate,
        n !== null && (n.childLanes |= t),
        n = e,
        e = e.return;
    return n.tag === 3 ? n.stateNode : null
}
var Da = !1;
function _g(e) {
    e.updateQueue = {
        baseState: e.memoizedState,
        firstBaseUpdate: null,
        lastBaseUpdate: null,
        shared: {
            pending: null,
            interleaved: null,
            lanes: 0
        },
        effects: null
    }
}
function gC(e, t) {
    e = e.updateQueue,
    t.updateQueue === e && (t.updateQueue = {
        baseState: e.baseState,
        firstBaseUpdate: e.firstBaseUpdate,
        lastBaseUpdate: e.lastBaseUpdate,
        shared: e.shared,
        effects: e.effects
    })
}
function ha(e, t) {
    return {
        eventTime: e,
        lane: t,
        tag: 0,
        payload: null,
        callback: null,
        next: null
    }
}
function ei(e, t, n) {
    var s = e.updateQueue;
    if (s === null)
        return null;
    if (s = s.shared,
    Tt & 2) {
        var a = s.pending;
        return a === null ? t.next = t : (t.next = a.next,
        a.next = t),
        s.pending = t,
        ya(e, n)
    }
    return a = s.interleaved,
    a === null ? (t.next = t,
    Eg(s)) : (t.next = a.next,
    a.next = t),
    s.interleaved = t,
    ya(e, n)
}
function Wu(e, t, n) {
    if (t = t.updateQueue,
    t !== null && (t = t.shared,
    (n & 4194240) !== 0)) {
        var s = t.lanes;
        s &= e.pendingLanes,
        n |= s,
        t.lanes = n,
        pg(e, n)
    }
}
function hj(e, t) {
    var n = e.updateQueue
      , s = e.alternate;
    if (s !== null && (s = s.updateQueue,
    n === s)) {
        var a = null
          , i = null;
        if (n = n.firstBaseUpdate,
        n !== null) {
            do {
                var o = {
                    eventTime: n.eventTime,
                    lane: n.lane,
                    tag: n.tag,
                    payload: n.payload,
                    callback: n.callback,
                    next: null
                };
                i === null ? a = i = o : i = i.next = o,
                n = n.next
            } while (n !== null);
            i === null ? a = i = t : i = i.next = t
        } else
            a = i = t;
        n = {
            baseState: s.baseState,
            firstBaseUpdate: a,
            lastBaseUpdate: i,
            shared: s.shared,
            effects: s.effects
        },
        e.updateQueue = n;
        return
    }
    e = n.lastBaseUpdate,
    e === null ? n.firstBaseUpdate = t : e.next = t,
    n.lastBaseUpdate = t
}
function wm(e, t, n, s) {
    var a = e.updateQueue;
    Da = !1;
    var i = a.firstBaseUpdate
      , o = a.lastBaseUpdate
      , l = a.shared.pending;
    if (l !== null) {
        a.shared.pending = null;
        var c = l
          , d = c.next;
        c.next = null,
        o === null ? i = d : o.next = d,
        o = c;
        var u = e.alternate;
        u !== null && (u = u.updateQueue,
        l = u.lastBaseUpdate,
        l !== o && (l === null ? u.firstBaseUpdate = d : l.next = d,
        u.lastBaseUpdate = c))
    }
    if (i !== null) {
        var f = a.baseState;
        o = 0,
        u = d = c = null,
        l = i;
        do {
            var h = l.lane
              , x = l.eventTime;
            if ((s & h) === h) {
                u !== null && (u = u.next = {
                    eventTime: x,
                    lane: 0,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                });
                e: {
                    var j = e
                      , v = l;
                    switch (h = t,
                    x = n,
                    v.tag) {
                    case 1:
                        if (j = v.payload,
                        typeof j == "function") {
                            f = j.call(x, f, h);
                            break e
                        }
                        f = j;
                        break e;
                    case 3:
                        j.flags = j.flags & -65537 | 128;
                    case 0:
                        if (j = v.payload,
                        h = typeof j == "function" ? j.call(x, f, h) : j,
                        h == null)
                            break e;
                        f = ln({}, f, h);
                        break e;
                    case 2:
                        Da = !0
                    }
                }
                l.callback !== null && l.lane !== 0 && (e.flags |= 64,
                h = a.effects,
                h === null ? a.effects = [l] : h.push(l))
            } else
                x = {
                    eventTime: x,
                    lane: h,
                    tag: l.tag,
                    payload: l.payload,
                    callback: l.callback,
                    next: null
                },
                u === null ? (d = u = x,
                c = f) : u = u.next = x,
                o |= h;
            if (l = l.next,
            l === null) {
                if (l = a.shared.pending,
                l === null)
                    break;
                h = l,
                l = h.next,
                h.next = null,
                a.lastBaseUpdate = h,
                a.shared.pending = null
            }
        } while (!0);
        if (u === null && (c = f),
        a.baseState = c,
        a.firstBaseUpdate = d,
        a.lastBaseUpdate = u,
        t = a.shared.interleaved,
        t !== null) {
            a = t;
            do
                o |= a.lane,
                a = a.next;
            while (a !== t)
        } else
            i === null && (a.shared.lanes = 0);
        ao |= o,
        e.lanes = o,
        e.memoizedState = f
    }
}
function pj(e, t, n) {
    if (e = t.effects,
    t.effects = null,
    e !== null)
        for (t = 0; t < e.length; t++) {
            var s = e[t]
              , a = s.callback;
            if (a !== null) {
                if (s.callback = null,
                s = n,
                typeof a != "function")
                    throw Error(ie(191, a));
                a.call(s)
            }
        }
}
var Od = {}
  , Hs = ki(Od)
  , Zc = ki(Od)
  , Jc = ki(Od);
function zi(e) {
    if (e === Od)
        throw Error(ie(174));
    return e
}
function Ag(e, t) {
    switch (Wt(Jc, t),
    Wt(Zc, e),
    Wt(Hs, Od),
    e = t.nodeType,
    e) {
    case 9:
    case 11:
        t = (t = t.documentElement) ? t.namespaceURI : Pp(null, "");
        break;
    default:
        e = e === 8 ? t.parentNode : t,
        t = e.namespaceURI || null,
        e = e.tagName,
        t = Pp(t, e)
    }
    Gt(Hs),
    Wt(Hs, t)
}
function Cl() {
    Gt(Hs),
    Gt(Zc),
    Gt(Jc)
}
function vC(e) {
    zi(Jc.current);
    var t = zi(Hs.current)
      , n = Pp(t, e.type);
    t !== n && (Wt(Zc, e),
    Wt(Hs, n))
}
function Rg(e) {
    Zc.current === e && (Gt(Hs),
    Gt(Zc))
}
var sn = ki(0);
function Nm(e) {
    for (var t = e; t !== null; ) {
        if (t.tag === 13) {
            var n = t.memoizedState;
            if (n !== null && (n = n.dehydrated,
            n === null || n.data === "$?" || n.data === "$!"))
                return t
        } else if (t.tag === 19 && t.memoizedProps.revealOrder !== void 0) {
            if (t.flags & 128)
                return t
        } else if (t.child !== null) {
            t.child.return = t,
            t = t.child;
            continue
        }
        if (t === e)
            break;
        for (; t.sibling === null; ) {
            if (t.return === null || t.return === e)
                return null;
            t = t.return
        }
        t.sibling.return = t.return,
        t = t.sibling
    }
    return null
}
var Fh = [];
function Ig() {
    for (var e = 0; e < Fh.length; e++)
        Fh[e]._workInProgressVersionPrimary = null;
    Fh.length = 0
}
var Hu = Sa.ReactCurrentDispatcher
  , $h = Sa.ReactCurrentBatchConfig
  , so = 0
  , on = null
  , Pn = null
  , Dn = null
  , bm = !1
  , Rc = !1
  , ed = 0
  , Y4 = 0;
function Yn() {
    throw Error(ie(321))
}
function Dg(e, t) {
    if (t === null)
        return !1;
    for (var n = 0; n < t.length && n < e.length; n++)
        if (!Ps(e[n], t[n]))
            return !1;
    return !0
}
function Mg(e, t, n, s, a, i) {
    if (so = i,
    on = t,
    t.memoizedState = null,
    t.updateQueue = null,
    t.lanes = 0,
    Hu.current = e === null || e.memoizedState === null ? tM : nM,
    e = n(s, a),
    Rc) {
        i = 0;
        do {
            if (Rc = !1,
            ed = 0,
            25 <= i)
                throw Error(ie(301));
            i += 1,
            Dn = Pn = null,
            t.updateQueue = null,
            Hu.current = rM,
            e = n(s, a)
        } while (Rc)
    }
    if (Hu.current = Sm,
    t = Pn !== null && Pn.next !== null,
    so = 0,
    Dn = Pn = on = null,
    bm = !1,
    t)
        throw Error(ie(300));
    return e
}
function Og() {
    var e = ed !== 0;
    return ed = 0,
    e
}
function Ms() {
    var e = {
        memoizedState: null,
        baseState: null,
        baseQueue: null,
        queue: null,
        next: null
    };
    return Dn === null ? on.memoizedState = Dn = e : Dn = Dn.next = e,
    Dn
}
function as() {
    if (Pn === null) {
        var e = on.alternate;
        e = e !== null ? e.memoizedState : null
    } else
        e = Pn.next;
    var t = Dn === null ? on.memoizedState : Dn.next;
    if (t !== null)
        Dn = t,
        Pn = e;
    else {
        if (e === null)
            throw Error(ie(310));
        Pn = e,
        e = {
            memoizedState: Pn.memoizedState,
            baseState: Pn.baseState,
            baseQueue: Pn.baseQueue,
            queue: Pn.queue,
            next: null
        },
        Dn === null ? on.memoizedState = Dn = e : Dn = Dn.next = e
    }
    return Dn
}
function td(e, t) {
    return typeof t == "function" ? t(e) : t
}
function zh(e) {
    var t = as()
      , n = t.queue;
    if (n === null)
        throw Error(ie(311));
    n.lastRenderedReducer = e;
    var s = Pn
      , a = s.baseQueue
      , i = n.pending;
    if (i !== null) {
        if (a !== null) {
            var o = a.next;
            a.next = i.next,
            i.next = o
        }
        s.baseQueue = a = i,
        n.pending = null
    }
    if (a !== null) {
        i = a.next,
        s = s.baseState;
        var l = o = null
          , c = null
          , d = i;
        do {
            var u = d.lane;
            if ((so & u) === u)
                c !== null && (c = c.next = {
                    lane: 0,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                }),
                s = d.hasEagerState ? d.eagerState : e(s, d.action);
            else {
                var f = {
                    lane: u,
                    action: d.action,
                    hasEagerState: d.hasEagerState,
                    eagerState: d.eagerState,
                    next: null
                };
                c === null ? (l = c = f,
                o = s) : c = c.next = f,
                on.lanes |= u,
                ao |= u
            }
            d = d.next
        } while (d !== null && d !== i);
        c === null ? o = s : c.next = l,
        Ps(s, t.memoizedState) || (Nr = !0),
        t.memoizedState = s,
        t.baseState = o,
        t.baseQueue = c,
        n.lastRenderedState = s
    }
    if (e = n.interleaved,
    e !== null) {
        a = e;
        do
            i = a.lane,
            on.lanes |= i,
            ao |= i,
            a = a.next;
        while (a !== e)
    } else
        a === null && (n.lanes = 0);
    return [t.memoizedState, n.dispatch]
}
function Vh(e) {
    var t = as()
      , n = t.queue;
    if (n === null)
        throw Error(ie(311));
    n.lastRenderedReducer = e;
    var s = n.dispatch
      , a = n.pending
      , i = t.memoizedState;
    if (a !== null) {
        n.pending = null;
        var o = a = a.next;
        do
            i = e(i, o.action),
            o = o.next;
        while (o !== a);
        Ps(i, t.memoizedState) || (Nr = !0),
        t.memoizedState = i,
        t.baseQueue === null && (t.baseState = i),
        n.lastRenderedState = i
    }
    return [i, s]
}
function yC() {}
function jC(e, t) {
    var n = on
      , s = as()
      , a = t()
      , i = !Ps(s.memoizedState, a);
    if (i && (s.memoizedState = a,
    Nr = !0),
    s = s.queue,
    Lg(bC.bind(null, n, s, e), [e]),
    s.getSnapshot !== t || i || Dn !== null && Dn.memoizedState.tag & 1) {
        if (n.flags |= 2048,
        nd(9, NC.bind(null, n, s, a, t), void 0, null),
        On === null)
            throw Error(ie(349));
        so & 30 || wC(n, t, a)
    }
    return a
}
function wC(e, t, n) {
    e.flags |= 16384,
    e = {
        getSnapshot: t,
        value: n
    },
    t = on.updateQueue,
    t === null ? (t = {
        lastEffect: null,
        stores: null
    },
    on.updateQueue = t,
    t.stores = [e]) : (n = t.stores,
    n === null ? t.stores = [e] : n.push(e))
}
function NC(e, t, n, s) {
    t.value = n,
    t.getSnapshot = s,
    SC(t) && CC(e)
}
function bC(e, t, n) {
    return n(function() {
        SC(t) && CC(e)
    })
}
function SC(e) {
    var t = e.getSnapshot;
    e = e.value;
    try {
        var n = t();
        return !Ps(e, n)
    } catch {
        return !0
    }
}
function CC(e) {
    var t = ya(e, 1);
    t !== null && bs(t, e, 1, -1)
}
function xj(e) {
    var t = Ms();
    return typeof e == "function" && (e = e()),
    t.memoizedState = t.baseState = e,
    e = {
        pending: null,
        interleaved: null,
        lanes: 0,
        dispatch: null,
        lastRenderedReducer: td,
        lastRenderedState: e
    },
    t.queue = e,
    e = e.dispatch = eM.bind(null, on, e),
    [t.memoizedState, e]
}
function nd(e, t, n, s) {
    return e = {
        tag: e,
        create: t,
        destroy: n,
        deps: s,
        next: null
    },
    t = on.updateQueue,
    t === null ? (t = {
        lastEffect: null,
        stores: null
    },
    on.updateQueue = t,
    t.lastEffect = e.next = e) : (n = t.lastEffect,
    n === null ? t.lastEffect = e.next = e : (s = n.next,
    n.next = e,
    e.next = s,
    t.lastEffect = e)),
    e
}
function kC() {
    return as().memoizedState
}
function Ku(e, t, n, s) {
    var a = Ms();
    on.flags |= e,
    a.memoizedState = nd(1 | t, n, void 0, s === void 0 ? null : s)
}
function jf(e, t, n, s) {
    var a = as();
    s = s === void 0 ? null : s;
    var i = void 0;
    if (Pn !== null) {
        var o = Pn.memoizedState;
        if (i = o.destroy,
        s !== null && Dg(s, o.deps)) {
            a.memoizedState = nd(t, n, i, s);
            return
        }
    }
    on.flags |= e,
    a.memoizedState = nd(1 | t, n, i, s)
}
function gj(e, t) {
    return Ku(8390656, 8, e, t)
}
function Lg(e, t) {
    return jf(2048, 8, e, t)
}
function TC(e, t) {
    return jf(4, 2, e, t)
}
function PC(e, t) {
    return jf(4, 4, e, t)
}
function EC(e, t) {
    if (typeof t == "function")
        return e = e(),
        t(e),
        function() {
            t(null)
        }
        ;
    if (t != null)
        return e = e(),
        t.current = e,
        function() {
            t.current = null
        }
}
function _C(e, t, n) {
    return n = n != null ? n.concat([e]) : null,
    jf(4, 4, EC.bind(null, t, e), n)
}
function Fg() {}
function AC(e, t) {
    var n = as();
    t = t === void 0 ? null : t;
    var s = n.memoizedState;
    return s !== null && t !== null && Dg(t, s[1]) ? s[0] : (n.memoizedState = [e, t],
    e)
}
function RC(e, t) {
    var n = as();
    t = t === void 0 ? null : t;
    var s = n.memoizedState;
    return s !== null && t !== null && Dg(t, s[1]) ? s[0] : (e = e(),
    n.memoizedState = [e, t],
    e)
}
function IC(e, t, n) {
    return so & 21 ? (Ps(n, t) || (n = FS(),
    on.lanes |= n,
    ao |= n,
    e.baseState = !0),
    t) : (e.baseState && (e.baseState = !1,
    Nr = !0),
    e.memoizedState = n)
}
function Z4(e, t) {
    var n = Ut;
    Ut = n !== 0 && 4 > n ? n : 4,
    e(!0);
    var s = $h.transition;
    $h.transition = {};
    try {
        e(!1),
        t()
    } finally {
        Ut = n,
        $h.transition = s
    }
}
function DC() {
    return as().memoizedState
}
function J4(e, t, n) {
    var s = ni(e);
    if (n = {
        lane: s,
        action: n,
        hasEagerState: !1,
        eagerState: null,
        next: null
    },
    MC(e))
        OC(t, n);
    else if (n = xC(e, t, n, s),
    n !== null) {
        var a = ur();
        bs(n, e, s, a),
        LC(n, t, s)
    }
}
function eM(e, t, n) {
    var s = ni(e)
      , a = {
        lane: s,
        action: n,
        hasEagerState: !1,
        eagerState: null,
        next: null
    };
    if (MC(e))
        OC(t, a);
    else {
        var i = e.alternate;
        if (e.lanes === 0 && (i === null || i.lanes === 0) && (i = t.lastRenderedReducer,
        i !== null))
            try {
                var o = t.lastRenderedState
                  , l = i(o, n);
                if (a.hasEagerState = !0,
                a.eagerState = l,
                Ps(l, o)) {
                    var c = t.interleaved;
                    c === null ? (a.next = a,
                    Eg(t)) : (a.next = c.next,
                    c.next = a),
                    t.interleaved = a;
                    return
                }
            } catch {} finally {}
        n = xC(e, t, a, s),
        n !== null && (a = ur(),
        bs(n, e, s, a),
        LC(n, t, s))
    }
}
function MC(e) {
    var t = e.alternate;
    return e === on || t !== null && t === on
}
function OC(e, t) {
    Rc = bm = !0;
    var n = e.pending;
    n === null ? t.next = t : (t.next = n.next,
    n.next = t),
    e.pending = t
}
function LC(e, t, n) {
    if (n & 4194240) {
        var s = t.lanes;
        s &= e.pendingLanes,
        n |= s,
        t.lanes = n,
        pg(e, n)
    }
}
var Sm = {
    readContext: ss,
    useCallback: Yn,
    useContext: Yn,
    useEffect: Yn,
    useImperativeHandle: Yn,
    useInsertionEffect: Yn,
    useLayoutEffect: Yn,
    useMemo: Yn,
    useReducer: Yn,
    useRef: Yn,
    useState: Yn,
    useDebugValue: Yn,
    useDeferredValue: Yn,
    useTransition: Yn,
    useMutableSource: Yn,
    useSyncExternalStore: Yn,
    useId: Yn,
    unstable_isNewReconciler: !1
}
  , tM = {
    readContext: ss,
    useCallback: function(e, t) {
        return Ms().memoizedState = [e, t === void 0 ? null : t],
        e
    },
    useContext: ss,
    useEffect: gj,
    useImperativeHandle: function(e, t, n) {
        return n = n != null ? n.concat([e]) : null,
        Ku(4194308, 4, EC.bind(null, t, e), n)
    },
    useLayoutEffect: function(e, t) {
        return Ku(4194308, 4, e, t)
    },
    useInsertionEffect: function(e, t) {
        return Ku(4, 2, e, t)
    },
    useMemo: function(e, t) {
        var n = Ms();
        return t = t === void 0 ? null : t,
        e = e(),
        n.memoizedState = [e, t],
        e
    },
    useReducer: function(e, t, n) {
        var s = Ms();
        return t = n !== void 0 ? n(t) : t,
        s.memoizedState = s.baseState = t,
        e = {
            pending: null,
            interleaved: null,
            lanes: 0,
            dispatch: null,
            lastRenderedReducer: e,
            lastRenderedState: t
        },
        s.queue = e,
        e = e.dispatch = J4.bind(null, on, e),
        [s.memoizedState, e]
    },
    useRef: function(e) {
        var t = Ms();
        return e = {
            current: e
        },
        t.memoizedState = e
    },
    useState: xj,
    useDebugValue: Fg,
    useDeferredValue: function(e) {
        return Ms().memoizedState = e
    },
    useTransition: function() {
        var e = xj(!1)
          , t = e[0];
        return e = Z4.bind(null, e[1]),
        Ms().memoizedState = e,
        [t, e]
    },
    useMutableSource: function() {},
    useSyncExternalStore: function(e, t, n) {
        var s = on
          , a = Ms();
        if (Jt) {
            if (n === void 0)
                throw Error(ie(407));
            n = n()
        } else {
            if (n = t(),
            On === null)
                throw Error(ie(349));
            so & 30 || wC(s, t, n)
        }
        a.memoizedState = n;
        var i = {
            value: n,
            getSnapshot: t
        };
        return a.queue = i,
        gj(bC.bind(null, s, i, e), [e]),
        s.flags |= 2048,
        nd(9, NC.bind(null, s, i, n, t), void 0, null),
        n
    },
    useId: function() {
        var e = Ms()
          , t = On.identifierPrefix;
        if (Jt) {
            var n = fa
              , s = ma;
            n = (s & ~(1 << 32 - Ns(s) - 1)).toString(32) + n,
            t = ":" + t + "R" + n,
            n = ed++,
            0 < n && (t += "H" + n.toString(32)),
            t += ":"
        } else
            n = Y4++,
            t = ":" + t + "r" + n.toString(32) + ":";
        return e.memoizedState = t
    },
    unstable_isNewReconciler: !1
}
  , nM = {
    readContext: ss,
    useCallback: AC,
    useContext: ss,
    useEffect: Lg,
    useImperativeHandle: _C,
    useInsertionEffect: TC,
    useLayoutEffect: PC,
    useMemo: RC,
    useReducer: zh,
    useRef: kC,
    useState: function() {
        return zh(td)
    },
    useDebugValue: Fg,
    useDeferredValue: function(e) {
        var t = as();
        return IC(t, Pn.memoizedState, e)
    },
    useTransition: function() {
        var e = zh(td)[0]
          , t = as().memoizedState;
        return [e, t]
    },
    useMutableSource: yC,
    useSyncExternalStore: jC,
    useId: DC,
    unstable_isNewReconciler: !1
}
  , rM = {
    readContext: ss,
    useCallback: AC,
    useContext: ss,
    useEffect: Lg,
    useImperativeHandle: _C,
    useInsertionEffect: TC,
    useLayoutEffect: PC,
    useMemo: RC,
    useReducer: Vh,
    useRef: kC,
    useState: function() {
        return Vh(td)
    },
    useDebugValue: Fg,
    useDeferredValue: function(e) {
        var t = as();
        return Pn === null ? t.memoizedState = e : IC(t, Pn.memoizedState, e)
    },
    useTransition: function() {
        var e = Vh(td)[0]
          , t = as().memoizedState;
        return [e, t]
    },
    useMutableSource: yC,
    useSyncExternalStore: jC,
    useId: DC,
    unstable_isNewReconciler: !1
};
function ms(e, t) {
    if (e && e.defaultProps) {
        t = ln({}, t),
        e = e.defaultProps;
        for (var n in e)
            t[n] === void 0 && (t[n] = e[n]);
        return t
    }
    return t
}
function Gp(e, t, n, s) {
    t = e.memoizedState,
    n = n(s, t),
    n = n == null ? t : ln({}, t, n),
    e.memoizedState = n,
    e.lanes === 0 && (e.updateQueue.baseState = n)
}
var wf = {
    isMounted: function(e) {
        return (e = e._reactInternals) ? vo(e) === e : !1
    },
    enqueueSetState: function(e, t, n) {
        e = e._reactInternals;
        var s = ur()
          , a = ni(e)
          , i = ha(s, a);
        i.payload = t,
        n != null && (i.callback = n),
        t = ei(e, i, a),
        t !== null && (bs(t, e, a, s),
        Wu(t, e, a))
    },
    enqueueReplaceState: function(e, t, n) {
        e = e._reactInternals;
        var s = ur()
          , a = ni(e)
          , i = ha(s, a);
        i.tag = 1,
        i.payload = t,
        n != null && (i.callback = n),
        t = ei(e, i, a),
        t !== null && (bs(t, e, a, s),
        Wu(t, e, a))
    },
    enqueueForceUpdate: function(e, t) {
        e = e._reactInternals;
        var n = ur()
          , s = ni(e)
          , a = ha(n, s);
        a.tag = 2,
        t != null && (a.callback = t),
        t = ei(e, a, s),
        t !== null && (bs(t, e, s, n),
        Wu(t, e, s))
    }
};
function vj(e, t, n, s, a, i, o) {
    return e = e.stateNode,
    typeof e.shouldComponentUpdate == "function" ? e.shouldComponentUpdate(s, i, o) : t.prototype && t.prototype.isPureReactComponent ? !Qc(n, s) || !Qc(a, i) : !0
}
function FC(e, t, n) {
    var s = !1
      , a = hi
      , i = t.contextType;
    return typeof i == "object" && i !== null ? i = ss(i) : (a = Cr(t) ? no : tr.current,
    s = t.contextTypes,
    i = (s = s != null) ? Nl(e, a) : hi),
    t = new t(n,i),
    e.memoizedState = t.state !== null && t.state !== void 0 ? t.state : null,
    t.updater = wf,
    e.stateNode = t,
    t._reactInternals = e,
    s && (e = e.stateNode,
    e.__reactInternalMemoizedUnmaskedChildContext = a,
    e.__reactInternalMemoizedMaskedChildContext = i),
    t
}
function yj(e, t, n, s) {
    e = t.state,
    typeof t.componentWillReceiveProps == "function" && t.componentWillReceiveProps(n, s),
    typeof t.UNSAFE_componentWillReceiveProps == "function" && t.UNSAFE_componentWillReceiveProps(n, s),
    t.state !== e && wf.enqueueReplaceState(t, t.state, null)
}
function Xp(e, t, n, s) {
    var a = e.stateNode;
    a.props = n,
    a.state = e.memoizedState,
    a.refs = {},
    _g(e);
    var i = t.contextType;
    typeof i == "object" && i !== null ? a.context = ss(i) : (i = Cr(t) ? no : tr.current,
    a.context = Nl(e, i)),
    a.state = e.memoizedState,
    i = t.getDerivedStateFromProps,
    typeof i == "function" && (Gp(e, t, i, n),
    a.state = e.memoizedState),
    typeof t.getDerivedStateFromProps == "function" || typeof a.getSnapshotBeforeUpdate == "function" || typeof a.UNSAFE_componentWillMount != "function" && typeof a.componentWillMount != "function" || (t = a.state,
    typeof a.componentWillMount == "function" && a.componentWillMount(),
    typeof a.UNSAFE_componentWillMount == "function" && a.UNSAFE_componentWillMount(),
    t !== a.state && wf.enqueueReplaceState(a, a.state, null),
    wm(e, n, a, s),
    a.state = e.memoizedState),
    typeof a.componentDidMount == "function" && (e.flags |= 4194308)
}
function kl(e, t) {
    try {
        var n = ""
          , s = t;
        do
            n += AD(s),
            s = s.return;
        while (s);
        var a = n
    } catch (i) {
        a = `
Error generating stack: ` + i.message + `
` + i.stack
    }
    return {
        value: e,
        source: t,
        stack: a,
        digest: null
    }
}
function Bh(e, t, n) {
    return {
        value: e,
        source: null,
        stack: n ?? null,
        digest: t ?? null
    }
}
function Yp(e, t) {
    try {
        console.error(t.value)
    } catch (n) {
        setTimeout(function() {
            throw n
        })
    }
}
var sM = typeof WeakMap == "function" ? WeakMap : Map;
function $C(e, t, n) {
    n = ha(-1, n),
    n.tag = 3,
    n.payload = {
        element: null
    };
    var s = t.value;
    return n.callback = function() {
        km || (km = !0,
        ox = s),
        Yp(e, t)
    }
    ,
    n
}
function zC(e, t, n) {
    n = ha(-1, n),
    n.tag = 3;
    var s = e.type.getDerivedStateFromError;
    if (typeof s == "function") {
        var a = t.value;
        n.payload = function() {
            return s(a)
        }
        ,
        n.callback = function() {
            Yp(e, t)
        }
    }
    var i = e.stateNode;
    return i !== null && typeof i.componentDidCatch == "function" && (n.callback = function() {
        Yp(e, t),
        typeof s != "function" && (ti === null ? ti = new Set([this]) : ti.add(this));
        var o = t.stack;
        this.componentDidCatch(t.value, {
            componentStack: o !== null ? o : ""
        })
    }
    ),
    n
}
function jj(e, t, n) {
    var s = e.pingCache;
    if (s === null) {
        s = e.pingCache = new sM;
        var a = new Set;
        s.set(t, a)
    } else
        a = s.get(t),
        a === void 0 && (a = new Set,
        s.set(t, a));
    a.has(n) || (a.add(n),
    e = vM.bind(null, e, t, n),
    t.then(e, e))
}
function wj(e) {
    do {
        var t;
        if ((t = e.tag === 13) && (t = e.memoizedState,
        t = t !== null ? t.dehydrated !== null : !0),
        t)
            return e;
        e = e.return
    } while (e !== null);
    return null
}
function Nj(e, t, n, s, a) {
    return e.mode & 1 ? (e.flags |= 65536,
    e.lanes = a,
    e) : (e === t ? e.flags |= 65536 : (e.flags |= 128,
    n.flags |= 131072,
    n.flags &= -52805,
    n.tag === 1 && (n.alternate === null ? n.tag = 17 : (t = ha(-1, 1),
    t.tag = 2,
    ei(n, t, 1))),
    n.lanes |= 1),
    e)
}
var aM = Sa.ReactCurrentOwner
  , Nr = !1;
function lr(e, t, n, s) {
    t.child = e === null ? pC(t, null, n, s) : Sl(t, e.child, n, s)
}
function bj(e, t, n, s, a) {
    n = n.render;
    var i = t.ref;
    return Yo(t, a),
    s = Mg(e, t, n, s, i, a),
    n = Og(),
    e !== null && !Nr ? (t.updateQueue = e.updateQueue,
    t.flags &= -2053,
    e.lanes &= ~a,
    ja(e, t, a)) : (Jt && n && bg(t),
    t.flags |= 1,
    lr(e, t, s, a),
    t.child)
}
function Sj(e, t, n, s, a) {
    if (e === null) {
        var i = n.type;
        return typeof i == "function" && !Hg(i) && i.defaultProps === void 0 && n.compare === null && n.defaultProps === void 0 ? (t.tag = 15,
        t.type = i,
        VC(e, t, i, s, a)) : (e = Yu(n.type, null, s, t, t.mode, a),
        e.ref = t.ref,
        e.return = t,
        t.child = e)
    }
    if (i = e.child,
    !(e.lanes & a)) {
        var o = i.memoizedProps;
        if (n = n.compare,
        n = n !== null ? n : Qc,
        n(o, s) && e.ref === t.ref)
            return ja(e, t, a)
    }
    return t.flags |= 1,
    e = ri(i, s),
    e.ref = t.ref,
    e.return = t,
    t.child = e
}
function VC(e, t, n, s, a) {
    if (e !== null) {
        var i = e.memoizedProps;
        if (Qc(i, s) && e.ref === t.ref)
            if (Nr = !1,
            t.pendingProps = s = i,
            (e.lanes & a) !== 0)
                e.flags & 131072 && (Nr = !0);
            else
                return t.lanes = e.lanes,
                ja(e, t, a)
    }
    return Zp(e, t, n, s, a)
}
function BC(e, t, n) {
    var s = t.pendingProps
      , a = s.children
      , i = e !== null ? e.memoizedState : null;
    if (s.mode === "hidden")
        if (!(t.mode & 1))
            t.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            Wt(Uo, _r),
            _r |= n;
        else {
            if (!(n & 1073741824))
                return e = i !== null ? i.baseLanes | n : n,
                t.lanes = t.childLanes = 1073741824,
                t.memoizedState = {
                    baseLanes: e,
                    cachePool: null,
                    transitions: null
                },
                t.updateQueue = null,
                Wt(Uo, _r),
                _r |= e,
                null;
            t.memoizedState = {
                baseLanes: 0,
                cachePool: null,
                transitions: null
            },
            s = i !== null ? i.baseLanes : n,
            Wt(Uo, _r),
            _r |= s
        }
    else
        i !== null ? (s = i.baseLanes | n,
        t.memoizedState = null) : s = n,
        Wt(Uo, _r),
        _r |= s;
    return lr(e, t, a, n),
    t.child
}
function UC(e, t) {
    var n = t.ref;
    (e === null && n !== null || e !== null && e.ref !== n) && (t.flags |= 512,
    t.flags |= 2097152)
}
function Zp(e, t, n, s, a) {
    var i = Cr(n) ? no : tr.current;
    return i = Nl(t, i),
    Yo(t, a),
    n = Mg(e, t, n, s, i, a),
    s = Og(),
    e !== null && !Nr ? (t.updateQueue = e.updateQueue,
    t.flags &= -2053,
    e.lanes &= ~a,
    ja(e, t, a)) : (Jt && s && bg(t),
    t.flags |= 1,
    lr(e, t, n, a),
    t.child)
}
function Cj(e, t, n, s, a) {
    if (Cr(n)) {
        var i = !0;
        xm(t)
    } else
        i = !1;
    if (Yo(t, a),
    t.stateNode === null)
        Qu(e, t),
        FC(t, n, s),
        Xp(t, n, s, a),
        s = !0;
    else if (e === null) {
        var o = t.stateNode
          , l = t.memoizedProps;
        o.props = l;
        var c = o.context
          , d = n.contextType;
        typeof d == "object" && d !== null ? d = ss(d) : (d = Cr(n) ? no : tr.current,
        d = Nl(t, d));
        var u = n.getDerivedStateFromProps
          , f = typeof u == "function" || typeof o.getSnapshotBeforeUpdate == "function";
        f || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== s || c !== d) && yj(t, o, s, d),
        Da = !1;
        var h = t.memoizedState;
        o.state = h,
        wm(t, s, o, a),
        c = t.memoizedState,
        l !== s || h !== c || Sr.current || Da ? (typeof u == "function" && (Gp(t, n, u, s),
        c = t.memoizedState),
        (l = Da || vj(t, n, l, s, h, c, d)) ? (f || typeof o.UNSAFE_componentWillMount != "function" && typeof o.componentWillMount != "function" || (typeof o.componentWillMount == "function" && o.componentWillMount(),
        typeof o.UNSAFE_componentWillMount == "function" && o.UNSAFE_componentWillMount()),
        typeof o.componentDidMount == "function" && (t.flags |= 4194308)) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308),
        t.memoizedProps = s,
        t.memoizedState = c),
        o.props = s,
        o.state = c,
        o.context = d,
        s = l) : (typeof o.componentDidMount == "function" && (t.flags |= 4194308),
        s = !1)
    } else {
        o = t.stateNode,
        gC(e, t),
        l = t.memoizedProps,
        d = t.type === t.elementType ? l : ms(t.type, l),
        o.props = d,
        f = t.pendingProps,
        h = o.context,
        c = n.contextType,
        typeof c == "object" && c !== null ? c = ss(c) : (c = Cr(n) ? no : tr.current,
        c = Nl(t, c));
        var x = n.getDerivedStateFromProps;
        (u = typeof x == "function" || typeof o.getSnapshotBeforeUpdate == "function") || typeof o.UNSAFE_componentWillReceiveProps != "function" && typeof o.componentWillReceiveProps != "function" || (l !== f || h !== c) && yj(t, o, s, c),
        Da = !1,
        h = t.memoizedState,
        o.state = h,
        wm(t, s, o, a);
        var j = t.memoizedState;
        l !== f || h !== j || Sr.current || Da ? (typeof x == "function" && (Gp(t, n, x, s),
        j = t.memoizedState),
        (d = Da || vj(t, n, d, s, h, j, c) || !1) ? (u || typeof o.UNSAFE_componentWillUpdate != "function" && typeof o.componentWillUpdate != "function" || (typeof o.componentWillUpdate == "function" && o.componentWillUpdate(s, j, c),
        typeof o.UNSAFE_componentWillUpdate == "function" && o.UNSAFE_componentWillUpdate(s, j, c)),
        typeof o.componentDidUpdate == "function" && (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate == "function" && (t.flags |= 1024)) : (typeof o.componentDidUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 1024),
        t.memoizedProps = s,
        t.memoizedState = j),
        o.props = s,
        o.state = j,
        o.context = c,
        s = d) : (typeof o.componentDidUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 4),
        typeof o.getSnapshotBeforeUpdate != "function" || l === e.memoizedProps && h === e.memoizedState || (t.flags |= 1024),
        s = !1)
    }
    return Jp(e, t, n, s, i, a)
}
function Jp(e, t, n, s, a, i) {
    UC(e, t);
    var o = (t.flags & 128) !== 0;
    if (!s && !o)
        return a && dj(t, n, !1),
        ja(e, t, i);
    s = t.stateNode,
    aM.current = t;
    var l = o && typeof n.getDerivedStateFromError != "function" ? null : s.render();
    return t.flags |= 1,
    e !== null && o ? (t.child = Sl(t, e.child, null, i),
    t.child = Sl(t, null, l, i)) : lr(e, t, l, i),
    t.memoizedState = s.state,
    a && dj(t, n, !0),
    t.child
}
function qC(e) {
    var t = e.stateNode;
    t.pendingContext ? cj(e, t.pendingContext, t.pendingContext !== t.context) : t.context && cj(e, t.context, !1),
    Ag(e, t.containerInfo)
}
function kj(e, t, n, s, a) {
    return bl(),
    Cg(a),
    t.flags |= 256,
    lr(e, t, n, s),
    t.child
}
var ex = {
    dehydrated: null,
    treeContext: null,
    retryLane: 0
};
function tx(e) {
    return {
        baseLanes: e,
        cachePool: null,
        transitions: null
    }
}
function WC(e, t, n) {
    var s = t.pendingProps, a = sn.current, i = !1, o = (t.flags & 128) !== 0, l;
    if ((l = o) || (l = e !== null && e.memoizedState === null ? !1 : (a & 2) !== 0),
    l ? (i = !0,
    t.flags &= -129) : (e === null || e.memoizedState !== null) && (a |= 1),
    Wt(sn, a & 1),
    e === null)
        return Kp(t),
        e = t.memoizedState,
        e !== null && (e = e.dehydrated,
        e !== null) ? (t.mode & 1 ? e.data === "$!" ? t.lanes = 8 : t.lanes = 1073741824 : t.lanes = 1,
        null) : (o = s.children,
        e = s.fallback,
        i ? (s = t.mode,
        i = t.child,
        o = {
            mode: "hidden",
            children: o
        },
        !(s & 1) && i !== null ? (i.childLanes = 0,
        i.pendingProps = o) : i = Sf(o, s, 0, null),
        e = Zi(e, s, n, null),
        i.return = t,
        e.return = t,
        i.sibling = e,
        t.child = i,
        t.child.memoizedState = tx(n),
        t.memoizedState = ex,
        e) : $g(t, o));
    if (a = e.memoizedState,
    a !== null && (l = a.dehydrated,
    l !== null))
        return iM(e, t, o, s, l, a, n);
    if (i) {
        i = s.fallback,
        o = t.mode,
        a = e.child,
        l = a.sibling;
        var c = {
            mode: "hidden",
            children: s.children
        };
        return !(o & 1) && t.child !== a ? (s = t.child,
        s.childLanes = 0,
        s.pendingProps = c,
        t.deletions = null) : (s = ri(a, c),
        s.subtreeFlags = a.subtreeFlags & 14680064),
        l !== null ? i = ri(l, i) : (i = Zi(i, o, n, null),
        i.flags |= 2),
        i.return = t,
        s.return = t,
        s.sibling = i,
        t.child = s,
        s = i,
        i = t.child,
        o = e.child.memoizedState,
        o = o === null ? tx(n) : {
            baseLanes: o.baseLanes | n,
            cachePool: null,
            transitions: o.transitions
        },
        i.memoizedState = o,
        i.childLanes = e.childLanes & ~n,
        t.memoizedState = ex,
        s
    }
    return i = e.child,
    e = i.sibling,
    s = ri(i, {
        mode: "visible",
        children: s.children
    }),
    !(t.mode & 1) && (s.lanes = n),
    s.return = t,
    s.sibling = null,
    e !== null && (n = t.deletions,
    n === null ? (t.deletions = [e],
    t.flags |= 16) : n.push(e)),
    t.child = s,
    t.memoizedState = null,
    s
}
function $g(e, t) {
    return t = Sf({
        mode: "visible",
        children: t
    }, e.mode, 0, null),
    t.return = e,
    e.child = t
}
function ku(e, t, n, s) {
    return s !== null && Cg(s),
    Sl(t, e.child, null, n),
    e = $g(t, t.pendingProps.children),
    e.flags |= 2,
    t.memoizedState = null,
    e
}
function iM(e, t, n, s, a, i, o) {
    if (n)
        return t.flags & 256 ? (t.flags &= -257,
        s = Bh(Error(ie(422))),
        ku(e, t, o, s)) : t.memoizedState !== null ? (t.child = e.child,
        t.flags |= 128,
        null) : (i = s.fallback,
        a = t.mode,
        s = Sf({
            mode: "visible",
            children: s.children
        }, a, 0, null),
        i = Zi(i, a, o, null),
        i.flags |= 2,
        s.return = t,
        i.return = t,
        s.sibling = i,
        t.child = s,
        t.mode & 1 && Sl(t, e.child, null, o),
        t.child.memoizedState = tx(o),
        t.memoizedState = ex,
        i);
    if (!(t.mode & 1))
        return ku(e, t, o, null);
    if (a.data === "$!") {
        if (s = a.nextSibling && a.nextSibling.dataset,
        s)
            var l = s.dgst;
        return s = l,
        i = Error(ie(419)),
        s = Bh(i, s, void 0),
        ku(e, t, o, s)
    }
    if (l = (o & e.childLanes) !== 0,
    Nr || l) {
        if (s = On,
        s !== null) {
            switch (o & -o) {
            case 4:
                a = 2;
                break;
            case 16:
                a = 8;
                break;
            case 64:
            case 128:
            case 256:
            case 512:
            case 1024:
            case 2048:
            case 4096:
            case 8192:
            case 16384:
            case 32768:
            case 65536:
            case 131072:
            case 262144:
            case 524288:
            case 1048576:
            case 2097152:
            case 4194304:
            case 8388608:
            case 16777216:
            case 33554432:
            case 67108864:
                a = 32;
                break;
            case 536870912:
                a = 268435456;
                break;
            default:
                a = 0
            }
            a = a & (s.suspendedLanes | o) ? 0 : a,
            a !== 0 && a !== i.retryLane && (i.retryLane = a,
            ya(e, a),
            bs(s, e, a, -1))
        }
        return Wg(),
        s = Bh(Error(ie(421))),
        ku(e, t, o, s)
    }
    return a.data === "$?" ? (t.flags |= 128,
    t.child = e.child,
    t = yM.bind(null, e),
    a._reactRetry = t,
    null) : (e = i.treeContext,
    Dr = Ja(a.nextSibling),
    Mr = t,
    Jt = !0,
    xs = null,
    e !== null && (Xr[Yr++] = ma,
    Xr[Yr++] = fa,
    Xr[Yr++] = ro,
    ma = e.id,
    fa = e.overflow,
    ro = t),
    t = $g(t, s.children),
    t.flags |= 4096,
    t)
}
function Tj(e, t, n) {
    e.lanes |= t;
    var s = e.alternate;
    s !== null && (s.lanes |= t),
    Qp(e.return, t, n)
}
function Uh(e, t, n, s, a) {
    var i = e.memoizedState;
    i === null ? e.memoizedState = {
        isBackwards: t,
        rendering: null,
        renderingStartTime: 0,
        last: s,
        tail: n,
        tailMode: a
    } : (i.isBackwards = t,
    i.rendering = null,
    i.renderingStartTime = 0,
    i.last = s,
    i.tail = n,
    i.tailMode = a)
}
function HC(e, t, n) {
    var s = t.pendingProps
      , a = s.revealOrder
      , i = s.tail;
    if (lr(e, t, s.children, n),
    s = sn.current,
    s & 2)
        s = s & 1 | 2,
        t.flags |= 128;
    else {
        if (e !== null && e.flags & 128)
            e: for (e = t.child; e !== null; ) {
                if (e.tag === 13)
                    e.memoizedState !== null && Tj(e, n, t);
                else if (e.tag === 19)
                    Tj(e, n, t);
                else if (e.child !== null) {
                    e.child.return = e,
                    e = e.child;
                    continue
                }
                if (e === t)
                    break e;
                for (; e.sibling === null; ) {
                    if (e.return === null || e.return === t)
                        break e;
                    e = e.return
                }
                e.sibling.return = e.return,
                e = e.sibling
            }
        s &= 1
    }
    if (Wt(sn, s),
    !(t.mode & 1))
        t.memoizedState = null;
    else
        switch (a) {
        case "forwards":
            for (n = t.child,
            a = null; n !== null; )
                e = n.alternate,
                e !== null && Nm(e) === null && (a = n),
                n = n.sibling;
            n = a,
            n === null ? (a = t.child,
            t.child = null) : (a = n.sibling,
            n.sibling = null),
            Uh(t, !1, a, n, i);
            break;
        case "backwards":
            for (n = null,
            a = t.child,
            t.child = null; a !== null; ) {
                if (e = a.alternate,
                e !== null && Nm(e) === null) {
                    t.child = a;
                    break
                }
                e = a.sibling,
                a.sibling = n,
                n = a,
                a = e
            }
            Uh(t, !0, n, null, i);
            break;
        case "together":
            Uh(t, !1, null, null, void 0);
            break;
        default:
            t.memoizedState = null
        }
    return t.child
}
function Qu(e, t) {
    !(t.mode & 1) && e !== null && (e.alternate = null,
    t.alternate = null,
    t.flags |= 2)
}
function ja(e, t, n) {
    if (e !== null && (t.dependencies = e.dependencies),
    ao |= t.lanes,
    !(n & t.childLanes))
        return null;
    if (e !== null && t.child !== e.child)
        throw Error(ie(153));
    if (t.child !== null) {
        for (e = t.child,
        n = ri(e, e.pendingProps),
        t.child = n,
        n.return = t; e.sibling !== null; )
            e = e.sibling,
            n = n.sibling = ri(e, e.pendingProps),
            n.return = t;
        n.sibling = null
    }
    return t.child
}
function oM(e, t, n) {
    switch (t.tag) {
    case 3:
        qC(t),
        bl();
        break;
    case 5:
        vC(t);
        break;
    case 1:
        Cr(t.type) && xm(t);
        break;
    case 4:
        Ag(t, t.stateNode.containerInfo);
        break;
    case 10:
        var s = t.type._context
          , a = t.memoizedProps.value;
        Wt(ym, s._currentValue),
        s._currentValue = a;
        break;
    case 13:
        if (s = t.memoizedState,
        s !== null)
            return s.dehydrated !== null ? (Wt(sn, sn.current & 1),
            t.flags |= 128,
            null) : n & t.child.childLanes ? WC(e, t, n) : (Wt(sn, sn.current & 1),
            e = ja(e, t, n),
            e !== null ? e.sibling : null);
        Wt(sn, sn.current & 1);
        break;
    case 19:
        if (s = (n & t.childLanes) !== 0,
        e.flags & 128) {
            if (s)
                return HC(e, t, n);
            t.flags |= 128
        }
        if (a = t.memoizedState,
        a !== null && (a.rendering = null,
        a.tail = null,
        a.lastEffect = null),
        Wt(sn, sn.current),
        s)
            break;
        return null;
    case 22:
    case 23:
        return t.lanes = 0,
        BC(e, t, n)
    }
    return ja(e, t, n)
}
var KC, nx, QC, GC;
KC = function(e, t) {
    for (var n = t.child; n !== null; ) {
        if (n.tag === 5 || n.tag === 6)
            e.appendChild(n.stateNode);
        else if (n.tag !== 4 && n.child !== null) {
            n.child.return = n,
            n = n.child;
            continue
        }
        if (n === t)
            break;
        for (; n.sibling === null; ) {
            if (n.return === null || n.return === t)
                return;
            n = n.return
        }
        n.sibling.return = n.return,
        n = n.sibling
    }
}
;
nx = function() {}
;
QC = function(e, t, n, s) {
    var a = e.memoizedProps;
    if (a !== s) {
        e = t.stateNode,
        zi(Hs.current);
        var i = null;
        switch (n) {
        case "input":
            a = Sp(e, a),
            s = Sp(e, s),
            i = [];
            break;
        case "select":
            a = ln({}, a, {
                value: void 0
            }),
            s = ln({}, s, {
                value: void 0
            }),
            i = [];
            break;
        case "textarea":
            a = Tp(e, a),
            s = Tp(e, s),
            i = [];
            break;
        default:
            typeof a.onClick != "function" && typeof s.onClick == "function" && (e.onclick = hm)
        }
        Ep(n, s);
        var o;
        n = null;
        for (d in a)
            if (!s.hasOwnProperty(d) && a.hasOwnProperty(d) && a[d] != null)
                if (d === "style") {
                    var l = a[d];
                    for (o in l)
                        l.hasOwnProperty(o) && (n || (n = {}),
                        n[o] = "")
                } else
                    d !== "dangerouslySetInnerHTML" && d !== "children" && d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && d !== "autoFocus" && (Vc.hasOwnProperty(d) ? i || (i = []) : (i = i || []).push(d, null));
        for (d in s) {
            var c = s[d];
            if (l = a != null ? a[d] : void 0,
            s.hasOwnProperty(d) && c !== l && (c != null || l != null))
                if (d === "style")
                    if (l) {
                        for (o in l)
                            !l.hasOwnProperty(o) || c && c.hasOwnProperty(o) || (n || (n = {}),
                            n[o] = "");
                        for (o in c)
                            c.hasOwnProperty(o) && l[o] !== c[o] && (n || (n = {}),
                            n[o] = c[o])
                    } else
                        n || (i || (i = []),
                        i.push(d, n)),
                        n = c;
                else
                    d === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0,
                    l = l ? l.__html : void 0,
                    c != null && l !== c && (i = i || []).push(d, c)) : d === "children" ? typeof c != "string" && typeof c != "number" || (i = i || []).push(d, "" + c) : d !== "suppressContentEditableWarning" && d !== "suppressHydrationWarning" && (Vc.hasOwnProperty(d) ? (c != null && d === "onScroll" && Qt("scroll", e),
                    i || l === c || (i = [])) : (i = i || []).push(d, c))
        }
        n && (i = i || []).push("style", n);
        var d = i;
        (t.updateQueue = d) && (t.flags |= 4)
    }
}
;
GC = function(e, t, n, s) {
    n !== s && (t.flags |= 4)
}
;
function dc(e, t) {
    if (!Jt)
        switch (e.tailMode) {
        case "hidden":
            t = e.tail;
            for (var n = null; t !== null; )
                t.alternate !== null && (n = t),
                t = t.sibling;
            n === null ? e.tail = null : n.sibling = null;
            break;
        case "collapsed":
            n = e.tail;
            for (var s = null; n !== null; )
                n.alternate !== null && (s = n),
                n = n.sibling;
            s === null ? t || e.tail === null ? e.tail = null : e.tail.sibling = null : s.sibling = null
        }
}
function Zn(e) {
    var t = e.alternate !== null && e.alternate.child === e.child
      , n = 0
      , s = 0;
    if (t)
        for (var a = e.child; a !== null; )
            n |= a.lanes | a.childLanes,
            s |= a.subtreeFlags & 14680064,
            s |= a.flags & 14680064,
            a.return = e,
            a = a.sibling;
    else
        for (a = e.child; a !== null; )
            n |= a.lanes | a.childLanes,
            s |= a.subtreeFlags,
            s |= a.flags,
            a.return = e,
            a = a.sibling;
    return e.subtreeFlags |= s,
    e.childLanes = n,
    t
}
function lM(e, t, n) {
    var s = t.pendingProps;
    switch (Sg(t),
    t.tag) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
        return Zn(t),
        null;
    case 1:
        return Cr(t.type) && pm(),
        Zn(t),
        null;
    case 3:
        return s = t.stateNode,
        Cl(),
        Gt(Sr),
        Gt(tr),
        Ig(),
        s.pendingContext && (s.context = s.pendingContext,
        s.pendingContext = null),
        (e === null || e.child === null) && (Su(t) ? t.flags |= 4 : e === null || e.memoizedState.isDehydrated && !(t.flags & 256) || (t.flags |= 1024,
        xs !== null && (dx(xs),
        xs = null))),
        nx(e, t),
        Zn(t),
        null;
    case 5:
        Rg(t);
        var a = zi(Jc.current);
        if (n = t.type,
        e !== null && t.stateNode != null)
            QC(e, t, n, s, a),
            e.ref !== t.ref && (t.flags |= 512,
            t.flags |= 2097152);
        else {
            if (!s) {
                if (t.stateNode === null)
                    throw Error(ie(166));
                return Zn(t),
                null
            }
            if (e = zi(Hs.current),
            Su(t)) {
                s = t.stateNode,
                n = t.type;
                var i = t.memoizedProps;
                switch (s[zs] = t,
                s[Yc] = i,
                e = (t.mode & 1) !== 0,
                n) {
                case "dialog":
                    Qt("cancel", s),
                    Qt("close", s);
                    break;
                case "iframe":
                case "object":
                case "embed":
                    Qt("load", s);
                    break;
                case "video":
                case "audio":
                    for (a = 0; a < wc.length; a++)
                        Qt(wc[a], s);
                    break;
                case "source":
                    Qt("error", s);
                    break;
                case "img":
                case "image":
                case "link":
                    Qt("error", s),
                    Qt("load", s);
                    break;
                case "details":
                    Qt("toggle", s);
                    break;
                case "input":
                    Oy(s, i),
                    Qt("invalid", s);
                    break;
                case "select":
                    s._wrapperState = {
                        wasMultiple: !!i.multiple
                    },
                    Qt("invalid", s);
                    break;
                case "textarea":
                    Fy(s, i),
                    Qt("invalid", s)
                }
                Ep(n, i),
                a = null;
                for (var o in i)
                    if (i.hasOwnProperty(o)) {
                        var l = i[o];
                        o === "children" ? typeof l == "string" ? s.textContent !== l && (i.suppressHydrationWarning !== !0 && bu(s.textContent, l, e),
                        a = ["children", l]) : typeof l == "number" && s.textContent !== "" + l && (i.suppressHydrationWarning !== !0 && bu(s.textContent, l, e),
                        a = ["children", "" + l]) : Vc.hasOwnProperty(o) && l != null && o === "onScroll" && Qt("scroll", s)
                    }
                switch (n) {
                case "input":
                    pu(s),
                    Ly(s, i, !0);
                    break;
                case "textarea":
                    pu(s),
                    $y(s);
                    break;
                case "select":
                case "option":
                    break;
                default:
                    typeof i.onClick == "function" && (s.onclick = hm)
                }
                s = a,
                t.updateQueue = s,
                s !== null && (t.flags |= 4)
            } else {
                o = a.nodeType === 9 ? a : a.ownerDocument,
                e === "http://www.w3.org/1999/xhtml" && (e = bS(n)),
                e === "http://www.w3.org/1999/xhtml" ? n === "script" ? (e = o.createElement("div"),
                e.innerHTML = "<script><\/script>",
                e = e.removeChild(e.firstChild)) : typeof s.is == "string" ? e = o.createElement(n, {
                    is: s.is
                }) : (e = o.createElement(n),
                n === "select" && (o = e,
                s.multiple ? o.multiple = !0 : s.size && (o.size = s.size))) : e = o.createElementNS(e, n),
                e[zs] = t,
                e[Yc] = s,
                KC(e, t, !1, !1),
                t.stateNode = e;
                e: {
                    switch (o = _p(n, s),
                    n) {
                    case "dialog":
                        Qt("cancel", e),
                        Qt("close", e),
                        a = s;
                        break;
                    case "iframe":
                    case "object":
                    case "embed":
                        Qt("load", e),
                        a = s;
                        break;
                    case "video":
                    case "audio":
                        for (a = 0; a < wc.length; a++)
                            Qt(wc[a], e);
                        a = s;
                        break;
                    case "source":
                        Qt("error", e),
                        a = s;
                        break;
                    case "img":
                    case "image":
                    case "link":
                        Qt("error", e),
                        Qt("load", e),
                        a = s;
                        break;
                    case "details":
                        Qt("toggle", e),
                        a = s;
                        break;
                    case "input":
                        Oy(e, s),
                        a = Sp(e, s),
                        Qt("invalid", e);
                        break;
                    case "option":
                        a = s;
                        break;
                    case "select":
                        e._wrapperState = {
                            wasMultiple: !!s.multiple
                        },
                        a = ln({}, s, {
                            value: void 0
                        }),
                        Qt("invalid", e);
                        break;
                    case "textarea":
                        Fy(e, s),
                        a = Tp(e, s),
                        Qt("invalid", e);
                        break;
                    default:
                        a = s
                    }
                    Ep(n, a),
                    l = a;
                    for (i in l)
                        if (l.hasOwnProperty(i)) {
                            var c = l[i];
                            i === "style" ? kS(e, c) : i === "dangerouslySetInnerHTML" ? (c = c ? c.__html : void 0,
                            c != null && SS(e, c)) : i === "children" ? typeof c == "string" ? (n !== "textarea" || c !== "") && Bc(e, c) : typeof c == "number" && Bc(e, "" + c) : i !== "suppressContentEditableWarning" && i !== "suppressHydrationWarning" && i !== "autoFocus" && (Vc.hasOwnProperty(i) ? c != null && i === "onScroll" && Qt("scroll", e) : c != null && cg(e, i, c, o))
                        }
                    switch (n) {
                    case "input":
                        pu(e),
                        Ly(e, s, !1);
                        break;
                    case "textarea":
                        pu(e),
                        $y(e);
                        break;
                    case "option":
                        s.value != null && e.setAttribute("value", "" + fi(s.value));
                        break;
                    case "select":
                        e.multiple = !!s.multiple,
                        i = s.value,
                        i != null ? Ko(e, !!s.multiple, i, !1) : s.defaultValue != null && Ko(e, !!s.multiple, s.defaultValue, !0);
                        break;
                    default:
                        typeof a.onClick == "function" && (e.onclick = hm)
                    }
                    switch (n) {
                    case "button":
                    case "input":
                    case "select":
                    case "textarea":
                        s = !!s.autoFocus;
                        break e;
                    case "img":
                        s = !0;
                        break e;
                    default:
                        s = !1
                    }
                }
                s && (t.flags |= 4)
            }
            t.ref !== null && (t.flags |= 512,
            t.flags |= 2097152)
        }
        return Zn(t),
        null;
    case 6:
        if (e && t.stateNode != null)
            GC(e, t, e.memoizedProps, s);
        else {
            if (typeof s != "string" && t.stateNode === null)
                throw Error(ie(166));
            if (n = zi(Jc.current),
            zi(Hs.current),
            Su(t)) {
                if (s = t.stateNode,
                n = t.memoizedProps,
                s[zs] = t,
                (i = s.nodeValue !== n) && (e = Mr,
                e !== null))
                    switch (e.tag) {
                    case 3:
                        bu(s.nodeValue, n, (e.mode & 1) !== 0);
                        break;
                    case 5:
                        e.memoizedProps.suppressHydrationWarning !== !0 && bu(s.nodeValue, n, (e.mode & 1) !== 0)
                    }
                i && (t.flags |= 4)
            } else
                s = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(s),
                s[zs] = t,
                t.stateNode = s
        }
        return Zn(t),
        null;
    case 13:
        if (Gt(sn),
        s = t.memoizedState,
        e === null || e.memoizedState !== null && e.memoizedState.dehydrated !== null) {
            if (Jt && Dr !== null && t.mode & 1 && !(t.flags & 128))
                fC(),
                bl(),
                t.flags |= 98560,
                i = !1;
            else if (i = Su(t),
            s !== null && s.dehydrated !== null) {
                if (e === null) {
                    if (!i)
                        throw Error(ie(318));
                    if (i = t.memoizedState,
                    i = i !== null ? i.dehydrated : null,
                    !i)
                        throw Error(ie(317));
                    i[zs] = t
                } else
                    bl(),
                    !(t.flags & 128) && (t.memoizedState = null),
                    t.flags |= 4;
                Zn(t),
                i = !1
            } else
                xs !== null && (dx(xs),
                xs = null),
                i = !0;
            if (!i)
                return t.flags & 65536 ? t : null
        }
        return t.flags & 128 ? (t.lanes = n,
        t) : (s = s !== null,
        s !== (e !== null && e.memoizedState !== null) && s && (t.child.flags |= 8192,
        t.mode & 1 && (e === null || sn.current & 1 ? _n === 0 && (_n = 3) : Wg())),
        t.updateQueue !== null && (t.flags |= 4),
        Zn(t),
        null);
    case 4:
        return Cl(),
        nx(e, t),
        e === null && Gc(t.stateNode.containerInfo),
        Zn(t),
        null;
    case 10:
        return Pg(t.type._context),
        Zn(t),
        null;
    case 17:
        return Cr(t.type) && pm(),
        Zn(t),
        null;
    case 19:
        if (Gt(sn),
        i = t.memoizedState,
        i === null)
            return Zn(t),
            null;
        if (s = (t.flags & 128) !== 0,
        o = i.rendering,
        o === null)
            if (s)
                dc(i, !1);
            else {
                if (_n !== 0 || e !== null && e.flags & 128)
                    for (e = t.child; e !== null; ) {
                        if (o = Nm(e),
                        o !== null) {
                            for (t.flags |= 128,
                            dc(i, !1),
                            s = o.updateQueue,
                            s !== null && (t.updateQueue = s,
                            t.flags |= 4),
                            t.subtreeFlags = 0,
                            s = n,
                            n = t.child; n !== null; )
                                i = n,
                                e = s,
                                i.flags &= 14680066,
                                o = i.alternate,
                                o === null ? (i.childLanes = 0,
                                i.lanes = e,
                                i.child = null,
                                i.subtreeFlags = 0,
                                i.memoizedProps = null,
                                i.memoizedState = null,
                                i.updateQueue = null,
                                i.dependencies = null,
                                i.stateNode = null) : (i.childLanes = o.childLanes,
                                i.lanes = o.lanes,
                                i.child = o.child,
                                i.subtreeFlags = 0,
                                i.deletions = null,
                                i.memoizedProps = o.memoizedProps,
                                i.memoizedState = o.memoizedState,
                                i.updateQueue = o.updateQueue,
                                i.type = o.type,
                                e = o.dependencies,
                                i.dependencies = e === null ? null : {
                                    lanes: e.lanes,
                                    firstContext: e.firstContext
                                }),
                                n = n.sibling;
                            return Wt(sn, sn.current & 1 | 2),
                            t.child
                        }
                        e = e.sibling
                    }
                i.tail !== null && vn() > Tl && (t.flags |= 128,
                s = !0,
                dc(i, !1),
                t.lanes = 4194304)
            }
        else {
            if (!s)
                if (e = Nm(o),
                e !== null) {
                    if (t.flags |= 128,
                    s = !0,
                    n = e.updateQueue,
                    n !== null && (t.updateQueue = n,
                    t.flags |= 4),
                    dc(i, !0),
                    i.tail === null && i.tailMode === "hidden" && !o.alternate && !Jt)
                        return Zn(t),
                        null
                } else
                    2 * vn() - i.renderingStartTime > Tl && n !== 1073741824 && (t.flags |= 128,
                    s = !0,
                    dc(i, !1),
                    t.lanes = 4194304);
            i.isBackwards ? (o.sibling = t.child,
            t.child = o) : (n = i.last,
            n !== null ? n.sibling = o : t.child = o,
            i.last = o)
        }
        return i.tail !== null ? (t = i.tail,
        i.rendering = t,
        i.tail = t.sibling,
        i.renderingStartTime = vn(),
        t.sibling = null,
        n = sn.current,
        Wt(sn, s ? n & 1 | 2 : n & 1),
        t) : (Zn(t),
        null);
    case 22:
    case 23:
        return qg(),
        s = t.memoizedState !== null,
        e !== null && e.memoizedState !== null !== s && (t.flags |= 8192),
        s && t.mode & 1 ? _r & 1073741824 && (Zn(t),
        t.subtreeFlags & 6 && (t.flags |= 8192)) : Zn(t),
        null;
    case 24:
        return null;
    case 25:
        return null
    }
    throw Error(ie(156, t.tag))
}
function cM(e, t) {
    switch (Sg(t),
    t.tag) {
    case 1:
        return Cr(t.type) && pm(),
        e = t.flags,
        e & 65536 ? (t.flags = e & -65537 | 128,
        t) : null;
    case 3:
        return Cl(),
        Gt(Sr),
        Gt(tr),
        Ig(),
        e = t.flags,
        e & 65536 && !(e & 128) ? (t.flags = e & -65537 | 128,
        t) : null;
    case 5:
        return Rg(t),
        null;
    case 13:
        if (Gt(sn),
        e = t.memoizedState,
        e !== null && e.dehydrated !== null) {
            if (t.alternate === null)
                throw Error(ie(340));
            bl()
        }
        return e = t.flags,
        e & 65536 ? (t.flags = e & -65537 | 128,
        t) : null;
    case 19:
        return Gt(sn),
        null;
    case 4:
        return Cl(),
        null;
    case 10:
        return Pg(t.type._context),
        null;
    case 22:
    case 23:
        return qg(),
        null;
    case 24:
        return null;
    default:
        return null
    }
}
var Tu = !1
  , er = !1
  , dM = typeof WeakSet == "function" ? WeakSet : Set
  , Pe = null;
function Bo(e, t) {
    var n = e.ref;
    if (n !== null)
        if (typeof n == "function")
            try {
                n(null)
            } catch (s) {
                un(e, t, s)
            }
        else
            n.current = null
}
function rx(e, t, n) {
    try {
        n()
    } catch (s) {
        un(e, t, s)
    }
}
var Pj = !1;
function uM(e, t) {
    if (zp = um,
    e = eC(),
    Ng(e)) {
        if ("selectionStart"in e)
            var n = {
                start: e.selectionStart,
                end: e.selectionEnd
            };
        else
            e: {
                n = (n = e.ownerDocument) && n.defaultView || window;
                var s = n.getSelection && n.getSelection();
                if (s && s.rangeCount !== 0) {
                    n = s.anchorNode;
                    var a = s.anchorOffset
                      , i = s.focusNode;
                    s = s.focusOffset;
                    try {
                        n.nodeType,
                        i.nodeType
                    } catch {
                        n = null;
                        break e
                    }
                    var o = 0
                      , l = -1
                      , c = -1
                      , d = 0
                      , u = 0
                      , f = e
                      , h = null;
                    t: for (; ; ) {
                        for (var x; f !== n || a !== 0 && f.nodeType !== 3 || (l = o + a),
                        f !== i || s !== 0 && f.nodeType !== 3 || (c = o + s),
                        f.nodeType === 3 && (o += f.nodeValue.length),
                        (x = f.firstChild) !== null; )
                            h = f,
                            f = x;
                        for (; ; ) {
                            if (f === e)
                                break t;
                            if (h === n && ++d === a && (l = o),
                            h === i && ++u === s && (c = o),
                            (x = f.nextSibling) !== null)
                                break;
                            f = h,
                            h = f.parentNode
                        }
                        f = x
                    }
                    n = l === -1 || c === -1 ? null : {
                        start: l,
                        end: c
                    }
                } else
                    n = null
            }
        n = n || {
            start: 0,
            end: 0
        }
    } else
        n = null;
    for (Vp = {
        focusedElem: e,
        selectionRange: n
    },
    um = !1,
    Pe = t; Pe !== null; )
        if (t = Pe,
        e = t.child,
        (t.subtreeFlags & 1028) !== 0 && e !== null)
            e.return = t,
            Pe = e;
        else
            for (; Pe !== null; ) {
                t = Pe;
                try {
                    var j = t.alternate;
                    if (t.flags & 1024)
                        switch (t.tag) {
                        case 0:
                        case 11:
                        case 15:
                            break;
                        case 1:
                            if (j !== null) {
                                var v = j.memoizedProps
                                  , w = j.memoizedState
                                  , y = t.stateNode
                                  , p = y.getSnapshotBeforeUpdate(t.elementType === t.type ? v : ms(t.type, v), w);
                                y.__reactInternalSnapshotBeforeUpdate = p
                            }
                            break;
                        case 3:
                            var g = t.stateNode.containerInfo;
                            g.nodeType === 1 ? g.textContent = "" : g.nodeType === 9 && g.documentElement && g.removeChild(g.documentElement);
                            break;
                        case 5:
                        case 6:
                        case 4:
                        case 17:
                            break;
                        default:
                            throw Error(ie(163))
                        }
                } catch (b) {
                    un(t, t.return, b)
                }
                if (e = t.sibling,
                e !== null) {
                    e.return = t.return,
                    Pe = e;
                    break
                }
                Pe = t.return
            }
    return j = Pj,
    Pj = !1,
    j
}
function Ic(e, t, n) {
    var s = t.updateQueue;
    if (s = s !== null ? s.lastEffect : null,
    s !== null) {
        var a = s = s.next;
        do {
            if ((a.tag & e) === e) {
                var i = a.destroy;
                a.destroy = void 0,
                i !== void 0 && rx(t, n, i)
            }
            a = a.next
        } while (a !== s)
    }
}
function Nf(e, t) {
    if (t = t.updateQueue,
    t = t !== null ? t.lastEffect : null,
    t !== null) {
        var n = t = t.next;
        do {
            if ((n.tag & e) === e) {
                var s = n.create;
                n.destroy = s()
            }
            n = n.next
        } while (n !== t)
    }
}
function sx(e) {
    var t = e.ref;
    if (t !== null) {
        var n = e.stateNode;
        switch (e.tag) {
        case 5:
            e = n;
            break;
        default:
            e = n
        }
        typeof t == "function" ? t(e) : t.current = e
    }
}
function XC(e) {
    var t = e.alternate;
    t !== null && (e.alternate = null,
    XC(t)),
    e.child = null,
    e.deletions = null,
    e.sibling = null,
    e.tag === 5 && (t = e.stateNode,
    t !== null && (delete t[zs],
    delete t[Yc],
    delete t[qp],
    delete t[K4],
    delete t[Q4])),
    e.stateNode = null,
    e.return = null,
    e.dependencies = null,
    e.memoizedProps = null,
    e.memoizedState = null,
    e.pendingProps = null,
    e.stateNode = null,
    e.updateQueue = null
}
function YC(e) {
    return e.tag === 5 || e.tag === 3 || e.tag === 4
}
function Ej(e) {
    e: for (; ; ) {
        for (; e.sibling === null; ) {
            if (e.return === null || YC(e.return))
                return null;
            e = e.return
        }
        for (e.sibling.return = e.return,
        e = e.sibling; e.tag !== 5 && e.tag !== 6 && e.tag !== 18; ) {
            if (e.flags & 2 || e.child === null || e.tag === 4)
                continue e;
            e.child.return = e,
            e = e.child
        }
        if (!(e.flags & 2))
            return e.stateNode
    }
}
function ax(e, t, n) {
    var s = e.tag;
    if (s === 5 || s === 6)
        e = e.stateNode,
        t ? n.nodeType === 8 ? n.parentNode.insertBefore(e, t) : n.insertBefore(e, t) : (n.nodeType === 8 ? (t = n.parentNode,
        t.insertBefore(e, n)) : (t = n,
        t.appendChild(e)),
        n = n._reactRootContainer,
        n != null || t.onclick !== null || (t.onclick = hm));
    else if (s !== 4 && (e = e.child,
    e !== null))
        for (ax(e, t, n),
        e = e.sibling; e !== null; )
            ax(e, t, n),
            e = e.sibling
}
function ix(e, t, n) {
    var s = e.tag;
    if (s === 5 || s === 6)
        e = e.stateNode,
        t ? n.insertBefore(e, t) : n.appendChild(e);
    else if (s !== 4 && (e = e.child,
    e !== null))
        for (ix(e, t, n),
        e = e.sibling; e !== null; )
            ix(e, t, n),
            e = e.sibling
}
var qn = null
  , ps = !1;
function Ta(e, t, n) {
    for (n = n.child; n !== null; )
        ZC(e, t, n),
        n = n.sibling
}
function ZC(e, t, n) {
    if (Ws && typeof Ws.onCommitFiberUnmount == "function")
        try {
            Ws.onCommitFiberUnmount(hf, n)
        } catch {}
    switch (n.tag) {
    case 5:
        er || Bo(n, t);
    case 6:
        var s = qn
          , a = ps;
        qn = null,
        Ta(e, t, n),
        qn = s,
        ps = a,
        qn !== null && (ps ? (e = qn,
        n = n.stateNode,
        e.nodeType === 8 ? e.parentNode.removeChild(n) : e.removeChild(n)) : qn.removeChild(n.stateNode));
        break;
    case 18:
        qn !== null && (ps ? (e = qn,
        n = n.stateNode,
        e.nodeType === 8 ? Oh(e.parentNode, n) : e.nodeType === 1 && Oh(e, n),
        Hc(e)) : Oh(qn, n.stateNode));
        break;
    case 4:
        s = qn,
        a = ps,
        qn = n.stateNode.containerInfo,
        ps = !0,
        Ta(e, t, n),
        qn = s,
        ps = a;
        break;
    case 0:
    case 11:
    case 14:
    case 15:
        if (!er && (s = n.updateQueue,
        s !== null && (s = s.lastEffect,
        s !== null))) {
            a = s = s.next;
            do {
                var i = a
                  , o = i.destroy;
                i = i.tag,
                o !== void 0 && (i & 2 || i & 4) && rx(n, t, o),
                a = a.next
            } while (a !== s)
        }
        Ta(e, t, n);
        break;
    case 1:
        if (!er && (Bo(n, t),
        s = n.stateNode,
        typeof s.componentWillUnmount == "function"))
            try {
                s.props = n.memoizedProps,
                s.state = n.memoizedState,
                s.componentWillUnmount()
            } catch (l) {
                un(n, t, l)
            }
        Ta(e, t, n);
        break;
    case 21:
        Ta(e, t, n);
        break;
    case 22:
        n.mode & 1 ? (er = (s = er) || n.memoizedState !== null,
        Ta(e, t, n),
        er = s) : Ta(e, t, n);
        break;
    default:
        Ta(e, t, n)
    }
}
function _j(e) {
    var t = e.updateQueue;
    if (t !== null) {
        e.updateQueue = null;
        var n = e.stateNode;
        n === null && (n = e.stateNode = new dM),
        t.forEach(function(s) {
            var a = jM.bind(null, e, s);
            n.has(s) || (n.add(s),
            s.then(a, a))
        })
    }
}
function ds(e, t) {
    var n = t.deletions;
    if (n !== null)
        for (var s = 0; s < n.length; s++) {
            var a = n[s];
            try {
                var i = e
                  , o = t
                  , l = o;
                e: for (; l !== null; ) {
                    switch (l.tag) {
                    case 5:
                        qn = l.stateNode,
                        ps = !1;
                        break e;
                    case 3:
                        qn = l.stateNode.containerInfo,
                        ps = !0;
                        break e;
                    case 4:
                        qn = l.stateNode.containerInfo,
                        ps = !0;
                        break e
                    }
                    l = l.return
                }
                if (qn === null)
                    throw Error(ie(160));
                ZC(i, o, a),
                qn = null,
                ps = !1;
                var c = a.alternate;
                c !== null && (c.return = null),
                a.return = null
            } catch (d) {
                un(a, t, d)
            }
        }
    if (t.subtreeFlags & 12854)
        for (t = t.child; t !== null; )
            JC(t, e),
            t = t.sibling
}
function JC(e, t) {
    var n = e.alternate
      , s = e.flags;
    switch (e.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
        if (ds(t, e),
        Ds(e),
        s & 4) {
            try {
                Ic(3, e, e.return),
                Nf(3, e)
            } catch (v) {
                un(e, e.return, v)
            }
            try {
                Ic(5, e, e.return)
            } catch (v) {
                un(e, e.return, v)
            }
        }
        break;
    case 1:
        ds(t, e),
        Ds(e),
        s & 512 && n !== null && Bo(n, n.return);
        break;
    case 5:
        if (ds(t, e),
        Ds(e),
        s & 512 && n !== null && Bo(n, n.return),
        e.flags & 32) {
            var a = e.stateNode;
            try {
                Bc(a, "")
            } catch (v) {
                un(e, e.return, v)
            }
        }
        if (s & 4 && (a = e.stateNode,
        a != null)) {
            var i = e.memoizedProps
              , o = n !== null ? n.memoizedProps : i
              , l = e.type
              , c = e.updateQueue;
            if (e.updateQueue = null,
            c !== null)
                try {
                    l === "input" && i.type === "radio" && i.name != null && wS(a, i),
                    _p(l, o);
                    var d = _p(l, i);
                    for (o = 0; o < c.length; o += 2) {
                        var u = c[o]
                          , f = c[o + 1];
                        u === "style" ? kS(a, f) : u === "dangerouslySetInnerHTML" ? SS(a, f) : u === "children" ? Bc(a, f) : cg(a, u, f, d)
                    }
                    switch (l) {
                    case "input":
                        Cp(a, i);
                        break;
                    case "textarea":
                        NS(a, i);
                        break;
                    case "select":
                        var h = a._wrapperState.wasMultiple;
                        a._wrapperState.wasMultiple = !!i.multiple;
                        var x = i.value;
                        x != null ? Ko(a, !!i.multiple, x, !1) : h !== !!i.multiple && (i.defaultValue != null ? Ko(a, !!i.multiple, i.defaultValue, !0) : Ko(a, !!i.multiple, i.multiple ? [] : "", !1))
                    }
                    a[Yc] = i
                } catch (v) {
                    un(e, e.return, v)
                }
        }
        break;
    case 6:
        if (ds(t, e),
        Ds(e),
        s & 4) {
            if (e.stateNode === null)
                throw Error(ie(162));
            a = e.stateNode,
            i = e.memoizedProps;
            try {
                a.nodeValue = i
            } catch (v) {
                un(e, e.return, v)
            }
        }
        break;
    case 3:
        if (ds(t, e),
        Ds(e),
        s & 4 && n !== null && n.memoizedState.isDehydrated)
            try {
                Hc(t.containerInfo)
            } catch (v) {
                un(e, e.return, v)
            }
        break;
    case 4:
        ds(t, e),
        Ds(e);
        break;
    case 13:
        ds(t, e),
        Ds(e),
        a = e.child,
        a.flags & 8192 && (i = a.memoizedState !== null,
        a.stateNode.isHidden = i,
        !i || a.alternate !== null && a.alternate.memoizedState !== null || (Bg = vn())),
        s & 4 && _j(e);
        break;
    case 22:
        if (u = n !== null && n.memoizedState !== null,
        e.mode & 1 ? (er = (d = er) || u,
        ds(t, e),
        er = d) : ds(t, e),
        Ds(e),
        s & 8192) {
            if (d = e.memoizedState !== null,
            (e.stateNode.isHidden = d) && !u && e.mode & 1)
                for (Pe = e,
                u = e.child; u !== null; ) {
                    for (f = Pe = u; Pe !== null; ) {
                        switch (h = Pe,
                        x = h.child,
                        h.tag) {
                        case 0:
                        case 11:
                        case 14:
                        case 15:
                            Ic(4, h, h.return);
                            break;
                        case 1:
                            Bo(h, h.return);
                            var j = h.stateNode;
                            if (typeof j.componentWillUnmount == "function") {
                                s = h,
                                n = h.return;
                                try {
                                    t = s,
                                    j.props = t.memoizedProps,
                                    j.state = t.memoizedState,
                                    j.componentWillUnmount()
                                } catch (v) {
                                    un(s, n, v)
                                }
                            }
                            break;
                        case 5:
                            Bo(h, h.return);
                            break;
                        case 22:
                            if (h.memoizedState !== null) {
                                Rj(f);
                                continue
                            }
                        }
                        x !== null ? (x.return = h,
                        Pe = x) : Rj(f)
                    }
                    u = u.sibling
                }
            e: for (u = null,
            f = e; ; ) {
                if (f.tag === 5) {
                    if (u === null) {
                        u = f;
                        try {
                            a = f.stateNode,
                            d ? (i = a.style,
                            typeof i.setProperty == "function" ? i.setProperty("display", "none", "important") : i.display = "none") : (l = f.stateNode,
                            c = f.memoizedProps.style,
                            o = c != null && c.hasOwnProperty("display") ? c.display : null,
                            l.style.display = CS("display", o))
                        } catch (v) {
                            un(e, e.return, v)
                        }
                    }
                } else if (f.tag === 6) {
                    if (u === null)
                        try {
                            f.stateNode.nodeValue = d ? "" : f.memoizedProps
                        } catch (v) {
                            un(e, e.return, v)
                        }
                } else if ((f.tag !== 22 && f.tag !== 23 || f.memoizedState === null || f === e) && f.child !== null) {
                    f.child.return = f,
                    f = f.child;
                    continue
                }
                if (f === e)
                    break e;
                for (; f.sibling === null; ) {
                    if (f.return === null || f.return === e)
                        break e;
                    u === f && (u = null),
                    f = f.return
                }
                u === f && (u = null),
                f.sibling.return = f.return,
                f = f.sibling
            }
        }
        break;
    case 19:
        ds(t, e),
        Ds(e),
        s & 4 && _j(e);
        break;
    case 21:
        break;
    default:
        ds(t, e),
        Ds(e)
    }
}
function Ds(e) {
    var t = e.flags;
    if (t & 2) {
        try {
            e: {
                for (var n = e.return; n !== null; ) {
                    if (YC(n)) {
                        var s = n;
                        break e
                    }
                    n = n.return
                }
                throw Error(ie(160))
            }
            switch (s.tag) {
            case 5:
                var a = s.stateNode;
                s.flags & 32 && (Bc(a, ""),
                s.flags &= -33);
                var i = Ej(e);
                ix(e, i, a);
                break;
            case 3:
            case 4:
                var o = s.stateNode.containerInfo
                  , l = Ej(e);
                ax(e, l, o);
                break;
            default:
                throw Error(ie(161))
            }
        } catch (c) {
            un(e, e.return, c)
        }
        e.flags &= -3
    }
    t & 4096 && (e.flags &= -4097)
}
function mM(e, t, n) {
    Pe = e,
    e2(e)
}
function e2(e, t, n) {
    for (var s = (e.mode & 1) !== 0; Pe !== null; ) {
        var a = Pe
          , i = a.child;
        if (a.tag === 22 && s) {
            var o = a.memoizedState !== null || Tu;
            if (!o) {
                var l = a.alternate
                  , c = l !== null && l.memoizedState !== null || er;
                l = Tu;
                var d = er;
                if (Tu = o,
                (er = c) && !d)
                    for (Pe = a; Pe !== null; )
                        o = Pe,
                        c = o.child,
                        o.tag === 22 && o.memoizedState !== null ? Ij(a) : c !== null ? (c.return = o,
                        Pe = c) : Ij(a);
                for (; i !== null; )
                    Pe = i,
                    e2(i),
                    i = i.sibling;
                Pe = a,
                Tu = l,
                er = d
            }
            Aj(e)
        } else
            a.subtreeFlags & 8772 && i !== null ? (i.return = a,
            Pe = i) : Aj(e)
    }
}
function Aj(e) {
    for (; Pe !== null; ) {
        var t = Pe;
        if (t.flags & 8772) {
            var n = t.alternate;
            try {
                if (t.flags & 8772)
                    switch (t.tag) {
                    case 0:
                    case 11:
                    case 15:
                        er || Nf(5, t);
                        break;
                    case 1:
                        var s = t.stateNode;
                        if (t.flags & 4 && !er)
                            if (n === null)
                                s.componentDidMount();
                            else {
                                var a = t.elementType === t.type ? n.memoizedProps : ms(t.type, n.memoizedProps);
                                s.componentDidUpdate(a, n.memoizedState, s.__reactInternalSnapshotBeforeUpdate)
                            }
                        var i = t.updateQueue;
                        i !== null && pj(t, i, s);
                        break;
                    case 3:
                        var o = t.updateQueue;
                        if (o !== null) {
                            if (n = null,
                            t.child !== null)
                                switch (t.child.tag) {
                                case 5:
                                    n = t.child.stateNode;
                                    break;
                                case 1:
                                    n = t.child.stateNode
                                }
                            pj(t, o, n)
                        }
                        break;
                    case 5:
                        var l = t.stateNode;
                        if (n === null && t.flags & 4) {
                            n = l;
                            var c = t.memoizedProps;
                            switch (t.type) {
                            case "button":
                            case "input":
                            case "select":
                            case "textarea":
                                c.autoFocus && n.focus();
                                break;
                            case "img":
                                c.src && (n.src = c.src)
                            }
                        }
                        break;
                    case 6:
                        break;
                    case 4:
                        break;
                    case 12:
                        break;
                    case 13:
                        if (t.memoizedState === null) {
                            var d = t.alternate;
                            if (d !== null) {
                                var u = d.memoizedState;
                                if (u !== null) {
                                    var f = u.dehydrated;
                                    f !== null && Hc(f)
                                }
                            }
                        }
                        break;
                    case 19:
                    case 17:
                    case 21:
                    case 22:
                    case 23:
                    case 25:
                        break;
                    default:
                        throw Error(ie(163))
                    }
                er || t.flags & 512 && sx(t)
            } catch (h) {
                un(t, t.return, h)
            }
        }
        if (t === e) {
            Pe = null;
            break
        }
        if (n = t.sibling,
        n !== null) {
            n.return = t.return,
            Pe = n;
            break
        }
        Pe = t.return
    }
}
function Rj(e) {
    for (; Pe !== null; ) {
        var t = Pe;
        if (t === e) {
            Pe = null;
            break
        }
        var n = t.sibling;
        if (n !== null) {
            n.return = t.return,
            Pe = n;
            break
        }
        Pe = t.return
    }
}
function Ij(e) {
    for (; Pe !== null; ) {
        var t = Pe;
        try {
            switch (t.tag) {
            case 0:
            case 11:
            case 15:
                var n = t.return;
                try {
                    Nf(4, t)
                } catch (c) {
                    un(t, n, c)
                }
                break;
            case 1:
                var s = t.stateNode;
                if (typeof s.componentDidMount == "function") {
                    var a = t.return;
                    try {
                        s.componentDidMount()
                    } catch (c) {
                        un(t, a, c)
                    }
                }
                var i = t.return;
                try {
                    sx(t)
                } catch (c) {
                    un(t, i, c)
                }
                break;
            case 5:
                var o = t.return;
                try {
                    sx(t)
                } catch (c) {
                    un(t, o, c)
                }
            }
        } catch (c) {
            un(t, t.return, c)
        }
        if (t === e) {
            Pe = null;
            break
        }
        var l = t.sibling;
        if (l !== null) {
            l.return = t.return,
            Pe = l;
            break
        }
        Pe = t.return
    }
}
var fM = Math.ceil
  , Cm = Sa.ReactCurrentDispatcher
  , zg = Sa.ReactCurrentOwner
  , Jr = Sa.ReactCurrentBatchConfig
  , Tt = 0
  , On = null
  , Sn = null
  , Hn = 0
  , _r = 0
  , Uo = ki(0)
  , _n = 0
  , rd = null
  , ao = 0
  , bf = 0
  , Vg = 0
  , Dc = null
  , wr = null
  , Bg = 0
  , Tl = 1 / 0
  , la = null
  , km = !1
  , ox = null
  , ti = null
  , Pu = !1
  , Ga = null
  , Tm = 0
  , Mc = 0
  , lx = null
  , Gu = -1
  , Xu = 0;
function ur() {
    return Tt & 6 ? vn() : Gu !== -1 ? Gu : Gu = vn()
}
function ni(e) {
    return e.mode & 1 ? Tt & 2 && Hn !== 0 ? Hn & -Hn : X4.transition !== null ? (Xu === 0 && (Xu = FS()),
    Xu) : (e = Ut,
    e !== 0 || (e = window.event,
    e = e === void 0 ? 16 : WS(e.type)),
    e) : 1
}
function bs(e, t, n, s) {
    if (50 < Mc)
        throw Mc = 0,
        lx = null,
        Error(ie(185));
    Id(e, n, s),
    (!(Tt & 2) || e !== On) && (e === On && (!(Tt & 2) && (bf |= n),
    _n === 4 && La(e, Hn)),
    kr(e, s),
    n === 1 && Tt === 0 && !(t.mode & 1) && (Tl = vn() + 500,
    yf && Ti()))
}
function kr(e, t) {
    var n = e.callbackNode;
    XD(e, t);
    var s = dm(e, e === On ? Hn : 0);
    if (s === 0)
        n !== null && By(n),
        e.callbackNode = null,
        e.callbackPriority = 0;
    else if (t = s & -s,
    e.callbackPriority !== t) {
        if (n != null && By(n),
        t === 1)
            e.tag === 0 ? G4(Dj.bind(null, e)) : dC(Dj.bind(null, e)),
            W4(function() {
                !(Tt & 6) && Ti()
            }),
            n = null;
        else {
            switch ($S(s)) {
            case 1:
                n = hg;
                break;
            case 4:
                n = OS;
                break;
            case 16:
                n = cm;
                break;
            case 536870912:
                n = LS;
                break;
            default:
                n = cm
            }
            n = l2(n, t2.bind(null, e))
        }
        e.callbackPriority = t,
        e.callbackNode = n
    }
}
function t2(e, t) {
    if (Gu = -1,
    Xu = 0,
    Tt & 6)
        throw Error(ie(327));
    var n = e.callbackNode;
    if (Zo() && e.callbackNode !== n)
        return null;
    var s = dm(e, e === On ? Hn : 0);
    if (s === 0)
        return null;
    if (s & 30 || s & e.expiredLanes || t)
        t = Pm(e, s);
    else {
        t = s;
        var a = Tt;
        Tt |= 2;
        var i = r2();
        (On !== e || Hn !== t) && (la = null,
        Tl = vn() + 500,
        Yi(e, t));
        do
            try {
                xM();
                break
            } catch (l) {
                n2(e, l)
            }
        while (!0);
        Tg(),
        Cm.current = i,
        Tt = a,
        Sn !== null ? t = 0 : (On = null,
        Hn = 0,
        t = _n)
    }
    if (t !== 0) {
        if (t === 2 && (a = Mp(e),
        a !== 0 && (s = a,
        t = cx(e, a))),
        t === 1)
            throw n = rd,
            Yi(e, 0),
            La(e, s),
            kr(e, vn()),
            n;
        if (t === 6)
            La(e, s);
        else {
            if (a = e.current.alternate,
            !(s & 30) && !hM(a) && (t = Pm(e, s),
            t === 2 && (i = Mp(e),
            i !== 0 && (s = i,
            t = cx(e, i))),
            t === 1))
                throw n = rd,
                Yi(e, 0),
                La(e, s),
                kr(e, vn()),
                n;
            switch (e.finishedWork = a,
            e.finishedLanes = s,
            t) {
            case 0:
            case 1:
                throw Error(ie(345));
            case 2:
                Mi(e, wr, la);
                break;
            case 3:
                if (La(e, s),
                (s & 130023424) === s && (t = Bg + 500 - vn(),
                10 < t)) {
                    if (dm(e, 0) !== 0)
                        break;
                    if (a = e.suspendedLanes,
                    (a & s) !== s) {
                        ur(),
                        e.pingedLanes |= e.suspendedLanes & a;
                        break
                    }
                    e.timeoutHandle = Up(Mi.bind(null, e, wr, la), t);
                    break
                }
                Mi(e, wr, la);
                break;
            case 4:
                if (La(e, s),
                (s & 4194240) === s)
                    break;
                for (t = e.eventTimes,
                a = -1; 0 < s; ) {
                    var o = 31 - Ns(s);
                    i = 1 << o,
                    o = t[o],
                    o > a && (a = o),
                    s &= ~i
                }
                if (s = a,
                s = vn() - s,
                s = (120 > s ? 120 : 480 > s ? 480 : 1080 > s ? 1080 : 1920 > s ? 1920 : 3e3 > s ? 3e3 : 4320 > s ? 4320 : 1960 * fM(s / 1960)) - s,
                10 < s) {
                    e.timeoutHandle = Up(Mi.bind(null, e, wr, la), s);
                    break
                }
                Mi(e, wr, la);
                break;
            case 5:
                Mi(e, wr, la);
                break;
            default:
                throw Error(ie(329))
            }
        }
    }
    return kr(e, vn()),
    e.callbackNode === n ? t2.bind(null, e) : null
}
function cx(e, t) {
    var n = Dc;
    return e.current.memoizedState.isDehydrated && (Yi(e, t).flags |= 256),
    e = Pm(e, t),
    e !== 2 && (t = wr,
    wr = n,
    t !== null && dx(t)),
    e
}
function dx(e) {
    wr === null ? wr = e : wr.push.apply(wr, e)
}
function hM(e) {
    for (var t = e; ; ) {
        if (t.flags & 16384) {
            var n = t.updateQueue;
            if (n !== null && (n = n.stores,
            n !== null))
                for (var s = 0; s < n.length; s++) {
                    var a = n[s]
                      , i = a.getSnapshot;
                    a = a.value;
                    try {
                        if (!Ps(i(), a))
                            return !1
                    } catch {
                        return !1
                    }
                }
        }
        if (n = t.child,
        t.subtreeFlags & 16384 && n !== null)
            n.return = t,
            t = n;
        else {
            if (t === e)
                break;
            for (; t.sibling === null; ) {
                if (t.return === null || t.return === e)
                    return !0;
                t = t.return
            }
            t.sibling.return = t.return,
            t = t.sibling
        }
    }
    return !0
}
function La(e, t) {
    for (t &= ~Vg,
    t &= ~bf,
    e.suspendedLanes |= t,
    e.pingedLanes &= ~t,
    e = e.expirationTimes; 0 < t; ) {
        var n = 31 - Ns(t)
          , s = 1 << n;
        e[n] = -1,
        t &= ~s
    }
}
function Dj(e) {
    if (Tt & 6)
        throw Error(ie(327));
    Zo();
    var t = dm(e, 0);
    if (!(t & 1))
        return kr(e, vn()),
        null;
    var n = Pm(e, t);
    if (e.tag !== 0 && n === 2) {
        var s = Mp(e);
        s !== 0 && (t = s,
        n = cx(e, s))
    }
    if (n === 1)
        throw n = rd,
        Yi(e, 0),
        La(e, t),
        kr(e, vn()),
        n;
    if (n === 6)
        throw Error(ie(345));
    return e.finishedWork = e.current.alternate,
    e.finishedLanes = t,
    Mi(e, wr, la),
    kr(e, vn()),
    null
}
function Ug(e, t) {
    var n = Tt;
    Tt |= 1;
    try {
        return e(t)
    } finally {
        Tt = n,
        Tt === 0 && (Tl = vn() + 500,
        yf && Ti())
    }
}
function io(e) {
    Ga !== null && Ga.tag === 0 && !(Tt & 6) && Zo();
    var t = Tt;
    Tt |= 1;
    var n = Jr.transition
      , s = Ut;
    try {
        if (Jr.transition = null,
        Ut = 1,
        e)
            return e()
    } finally {
        Ut = s,
        Jr.transition = n,
        Tt = t,
        !(Tt & 6) && Ti()
    }
}
function qg() {
    _r = Uo.current,
    Gt(Uo)
}
function Yi(e, t) {
    e.finishedWork = null,
    e.finishedLanes = 0;
    var n = e.timeoutHandle;
    if (n !== -1 && (e.timeoutHandle = -1,
    q4(n)),
    Sn !== null)
        for (n = Sn.return; n !== null; ) {
            var s = n;
            switch (Sg(s),
            s.tag) {
            case 1:
                s = s.type.childContextTypes,
                s != null && pm();
                break;
            case 3:
                Cl(),
                Gt(Sr),
                Gt(tr),
                Ig();
                break;
            case 5:
                Rg(s);
                break;
            case 4:
                Cl();
                break;
            case 13:
                Gt(sn);
                break;
            case 19:
                Gt(sn);
                break;
            case 10:
                Pg(s.type._context);
                break;
            case 22:
            case 23:
                qg()
            }
            n = n.return
        }
    if (On = e,
    Sn = e = ri(e.current, null),
    Hn = _r = t,
    _n = 0,
    rd = null,
    Vg = bf = ao = 0,
    wr = Dc = null,
    $i !== null) {
        for (t = 0; t < $i.length; t++)
            if (n = $i[t],
            s = n.interleaved,
            s !== null) {
                n.interleaved = null;
                var a = s.next
                  , i = n.pending;
                if (i !== null) {
                    var o = i.next;
                    i.next = a,
                    s.next = o
                }
                n.pending = s
            }
        $i = null
    }
    return e
}
function n2(e, t) {
    do {
        var n = Sn;
        try {
            if (Tg(),
            Hu.current = Sm,
            bm) {
                for (var s = on.memoizedState; s !== null; ) {
                    var a = s.queue;
                    a !== null && (a.pending = null),
                    s = s.next
                }
                bm = !1
            }
            if (so = 0,
            Dn = Pn = on = null,
            Rc = !1,
            ed = 0,
            zg.current = null,
            n === null || n.return === null) {
                _n = 1,
                rd = t,
                Sn = null;
                break
            }
            e: {
                var i = e
                  , o = n.return
                  , l = n
                  , c = t;
                if (t = Hn,
                l.flags |= 32768,
                c !== null && typeof c == "object" && typeof c.then == "function") {
                    var d = c
                      , u = l
                      , f = u.tag;
                    if (!(u.mode & 1) && (f === 0 || f === 11 || f === 15)) {
                        var h = u.alternate;
                        h ? (u.updateQueue = h.updateQueue,
                        u.memoizedState = h.memoizedState,
                        u.lanes = h.lanes) : (u.updateQueue = null,
                        u.memoizedState = null)
                    }
                    var x = wj(o);
                    if (x !== null) {
                        x.flags &= -257,
                        Nj(x, o, l, i, t),
                        x.mode & 1 && jj(i, d, t),
                        t = x,
                        c = d;
                        var j = t.updateQueue;
                        if (j === null) {
                            var v = new Set;
                            v.add(c),
                            t.updateQueue = v
                        } else
                            j.add(c);
                        break e
                    } else {
                        if (!(t & 1)) {
                            jj(i, d, t),
                            Wg();
                            break e
                        }
                        c = Error(ie(426))
                    }
                } else if (Jt && l.mode & 1) {
                    var w = wj(o);
                    if (w !== null) {
                        !(w.flags & 65536) && (w.flags |= 256),
                        Nj(w, o, l, i, t),
                        Cg(kl(c, l));
                        break e
                    }
                }
                i = c = kl(c, l),
                _n !== 4 && (_n = 2),
                Dc === null ? Dc = [i] : Dc.push(i),
                i = o;
                do {
                    switch (i.tag) {
                    case 3:
                        i.flags |= 65536,
                        t &= -t,
                        i.lanes |= t;
                        var y = $C(i, c, t);
                        hj(i, y);
                        break e;
                    case 1:
                        l = c;
                        var p = i.type
                          , g = i.stateNode;
                        if (!(i.flags & 128) && (typeof p.getDerivedStateFromError == "function" || g !== null && typeof g.componentDidCatch == "function" && (ti === null || !ti.has(g)))) {
                            i.flags |= 65536,
                            t &= -t,
                            i.lanes |= t;
                            var b = zC(i, l, t);
                            hj(i, b);
                            break e
                        }
                    }
                    i = i.return
                } while (i !== null)
            }
            a2(n)
        } catch (k) {
            t = k,
            Sn === n && n !== null && (Sn = n = n.return);
            continue
        }
        break
    } while (!0)
}
function r2() {
    var e = Cm.current;
    return Cm.current = Sm,
    e === null ? Sm : e
}
function Wg() {
    (_n === 0 || _n === 3 || _n === 2) && (_n = 4),
    On === null || !(ao & 268435455) && !(bf & 268435455) || La(On, Hn)
}
function Pm(e, t) {
    var n = Tt;
    Tt |= 2;
    var s = r2();
    (On !== e || Hn !== t) && (la = null,
    Yi(e, t));
    do
        try {
            pM();
            break
        } catch (a) {
            n2(e, a)
        }
    while (!0);
    if (Tg(),
    Tt = n,
    Cm.current = s,
    Sn !== null)
        throw Error(ie(261));
    return On = null,
    Hn = 0,
    _n
}
function pM() {
    for (; Sn !== null; )
        s2(Sn)
}
function xM() {
    for (; Sn !== null && !VD(); )
        s2(Sn)
}
function s2(e) {
    var t = o2(e.alternate, e, _r);
    e.memoizedProps = e.pendingProps,
    t === null ? a2(e) : Sn = t,
    zg.current = null
}
function a2(e) {
    var t = e;
    do {
        var n = t.alternate;
        if (e = t.return,
        t.flags & 32768) {
            if (n = cM(n, t),
            n !== null) {
                n.flags &= 32767,
                Sn = n;
                return
            }
            if (e !== null)
                e.flags |= 32768,
                e.subtreeFlags = 0,
                e.deletions = null;
            else {
                _n = 6,
                Sn = null;
                return
            }
        } else if (n = lM(n, t, _r),
        n !== null) {
            Sn = n;
            return
        }
        if (t = t.sibling,
        t !== null) {
            Sn = t;
            return
        }
        Sn = t = e
    } while (t !== null);
    _n === 0 && (_n = 5)
}
function Mi(e, t, n) {
    var s = Ut
      , a = Jr.transition;
    try {
        Jr.transition = null,
        Ut = 1,
        gM(e, t, n, s)
    } finally {
        Jr.transition = a,
        Ut = s
    }
    return null
}
function gM(e, t, n, s) {
    do
        Zo();
    while (Ga !== null);
    if (Tt & 6)
        throw Error(ie(327));
    n = e.finishedWork;
    var a = e.finishedLanes;
    if (n === null)
        return null;
    if (e.finishedWork = null,
    e.finishedLanes = 0,
    n === e.current)
        throw Error(ie(177));
    e.callbackNode = null,
    e.callbackPriority = 0;
    var i = n.lanes | n.childLanes;
    if (YD(e, i),
    e === On && (Sn = On = null,
    Hn = 0),
    !(n.subtreeFlags & 2064) && !(n.flags & 2064) || Pu || (Pu = !0,
    l2(cm, function() {
        return Zo(),
        null
    })),
    i = (n.flags & 15990) !== 0,
    n.subtreeFlags & 15990 || i) {
        i = Jr.transition,
        Jr.transition = null;
        var o = Ut;
        Ut = 1;
        var l = Tt;
        Tt |= 4,
        zg.current = null,
        uM(e, n),
        JC(n, e),
        L4(Vp),
        um = !!zp,
        Vp = zp = null,
        e.current = n,
        mM(n),
        BD(),
        Tt = l,
        Ut = o,
        Jr.transition = i
    } else
        e.current = n;
    if (Pu && (Pu = !1,
    Ga = e,
    Tm = a),
    i = e.pendingLanes,
    i === 0 && (ti = null),
    WD(n.stateNode),
    kr(e, vn()),
    t !== null)
        for (s = e.onRecoverableError,
        n = 0; n < t.length; n++)
            a = t[n],
            s(a.value, {
                componentStack: a.stack,
                digest: a.digest
            });
    if (km)
        throw km = !1,
        e = ox,
        ox = null,
        e;
    return Tm & 1 && e.tag !== 0 && Zo(),
    i = e.pendingLanes,
    i & 1 ? e === lx ? Mc++ : (Mc = 0,
    lx = e) : Mc = 0,
    Ti(),
    null
}
function Zo() {
    if (Ga !== null) {
        var e = $S(Tm)
          , t = Jr.transition
          , n = Ut;
        try {
            if (Jr.transition = null,
            Ut = 16 > e ? 16 : e,
            Ga === null)
                var s = !1;
            else {
                if (e = Ga,
                Ga = null,
                Tm = 0,
                Tt & 6)
                    throw Error(ie(331));
                var a = Tt;
                for (Tt |= 4,
                Pe = e.current; Pe !== null; ) {
                    var i = Pe
                      , o = i.child;
                    if (Pe.flags & 16) {
                        var l = i.deletions;
                        if (l !== null) {
                            for (var c = 0; c < l.length; c++) {
                                var d = l[c];
                                for (Pe = d; Pe !== null; ) {
                                    var u = Pe;
                                    switch (u.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        Ic(8, u, i)
                                    }
                                    var f = u.child;
                                    if (f !== null)
                                        f.return = u,
                                        Pe = f;
                                    else
                                        for (; Pe !== null; ) {
                                            u = Pe;
                                            var h = u.sibling
                                              , x = u.return;
                                            if (XC(u),
                                            u === d) {
                                                Pe = null;
                                                break
                                            }
                                            if (h !== null) {
                                                h.return = x,
                                                Pe = h;
                                                break
                                            }
                                            Pe = x
                                        }
                                }
                            }
                            var j = i.alternate;
                            if (j !== null) {
                                var v = j.child;
                                if (v !== null) {
                                    j.child = null;
                                    do {
                                        var w = v.sibling;
                                        v.sibling = null,
                                        v = w
                                    } while (v !== null)
                                }
                            }
                            Pe = i
                        }
                    }
                    if (i.subtreeFlags & 2064 && o !== null)
                        o.return = i,
                        Pe = o;
                    else
                        e: for (; Pe !== null; ) {
                            if (i = Pe,
                            i.flags & 2048)
                                switch (i.tag) {
                                case 0:
                                case 11:
                                case 15:
                                    Ic(9, i, i.return)
                                }
                            var y = i.sibling;
                            if (y !== null) {
                                y.return = i.return,
                                Pe = y;
                                break e
                            }
                            Pe = i.return
                        }
                }
                var p = e.current;
                for (Pe = p; Pe !== null; ) {
                    o = Pe;
                    var g = o.child;
                    if (o.subtreeFlags & 2064 && g !== null)
                        g.return = o,
                        Pe = g;
                    else
                        e: for (o = p; Pe !== null; ) {
                            if (l = Pe,
                            l.flags & 2048)
                                try {
                                    switch (l.tag) {
                                    case 0:
                                    case 11:
                                    case 15:
                                        Nf(9, l)
                                    }
                                } catch (k) {
                                    un(l, l.return, k)
                                }
                            if (l === o) {
                                Pe = null;
                                break e
                            }
                            var b = l.sibling;
                            if (b !== null) {
                                b.return = l.return,
                                Pe = b;
                                break e
                            }
                            Pe = l.return
                        }
                }
                if (Tt = a,
                Ti(),
                Ws && typeof Ws.onPostCommitFiberRoot == "function")
                    try {
                        Ws.onPostCommitFiberRoot(hf, e)
                    } catch {}
                s = !0
            }
            return s
        } finally {
            Ut = n,
            Jr.transition = t
        }
    }
    return !1
}
function Mj(e, t, n) {
    t = kl(n, t),
    t = $C(e, t, 1),
    e = ei(e, t, 1),
    t = ur(),
    e !== null && (Id(e, 1, t),
    kr(e, t))
}
function un(e, t, n) {
    if (e.tag === 3)
        Mj(e, e, n);
    else
        for (; t !== null; ) {
            if (t.tag === 3) {
                Mj(t, e, n);
                break
            } else if (t.tag === 1) {
                var s = t.stateNode;
                if (typeof t.type.getDerivedStateFromError == "function" || typeof s.componentDidCatch == "function" && (ti === null || !ti.has(s))) {
                    e = kl(n, e),
                    e = zC(t, e, 1),
                    t = ei(t, e, 1),
                    e = ur(),
                    t !== null && (Id(t, 1, e),
                    kr(t, e));
                    break
                }
            }
            t = t.return
        }
}
function vM(e, t, n) {
    var s = e.pingCache;
    s !== null && s.delete(t),
    t = ur(),
    e.pingedLanes |= e.suspendedLanes & n,
    On === e && (Hn & n) === n && (_n === 4 || _n === 3 && (Hn & 130023424) === Hn && 500 > vn() - Bg ? Yi(e, 0) : Vg |= n),
    kr(e, t)
}
function i2(e, t) {
    t === 0 && (e.mode & 1 ? (t = vu,
    vu <<= 1,
    !(vu & 130023424) && (vu = 4194304)) : t = 1);
    var n = ur();
    e = ya(e, t),
    e !== null && (Id(e, t, n),
    kr(e, n))
}
function yM(e) {
    var t = e.memoizedState
      , n = 0;
    t !== null && (n = t.retryLane),
    i2(e, n)
}
function jM(e, t) {
    var n = 0;
    switch (e.tag) {
    case 13:
        var s = e.stateNode
          , a = e.memoizedState;
        a !== null && (n = a.retryLane);
        break;
    case 19:
        s = e.stateNode;
        break;
    default:
        throw Error(ie(314))
    }
    s !== null && s.delete(t),
    i2(e, n)
}
var o2;
o2 = function(e, t, n) {
    if (e !== null)
        if (e.memoizedProps !== t.pendingProps || Sr.current)
            Nr = !0;
        else {
            if (!(e.lanes & n) && !(t.flags & 128))
                return Nr = !1,
                oM(e, t, n);
            Nr = !!(e.flags & 131072)
        }
    else
        Nr = !1,
        Jt && t.flags & 1048576 && uC(t, vm, t.index);
    switch (t.lanes = 0,
    t.tag) {
    case 2:
        var s = t.type;
        Qu(e, t),
        e = t.pendingProps;
        var a = Nl(t, tr.current);
        Yo(t, n),
        a = Mg(null, t, s, e, a, n);
        var i = Og();
        return t.flags |= 1,
        typeof a == "object" && a !== null && typeof a.render == "function" && a.$$typeof === void 0 ? (t.tag = 1,
        t.memoizedState = null,
        t.updateQueue = null,
        Cr(s) ? (i = !0,
        xm(t)) : i = !1,
        t.memoizedState = a.state !== null && a.state !== void 0 ? a.state : null,
        _g(t),
        a.updater = wf,
        t.stateNode = a,
        a._reactInternals = t,
        Xp(t, s, e, n),
        t = Jp(null, t, s, !0, i, n)) : (t.tag = 0,
        Jt && i && bg(t),
        lr(null, t, a, n),
        t = t.child),
        t;
    case 16:
        s = t.elementType;
        e: {
            switch (Qu(e, t),
            e = t.pendingProps,
            a = s._init,
            s = a(s._payload),
            t.type = s,
            a = t.tag = NM(s),
            e = ms(s, e),
            a) {
            case 0:
                t = Zp(null, t, s, e, n);
                break e;
            case 1:
                t = Cj(null, t, s, e, n);
                break e;
            case 11:
                t = bj(null, t, s, e, n);
                break e;
            case 14:
                t = Sj(null, t, s, ms(s.type, e), n);
                break e
            }
            throw Error(ie(306, s, ""))
        }
        return t;
    case 0:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : ms(s, a),
        Zp(e, t, s, a, n);
    case 1:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : ms(s, a),
        Cj(e, t, s, a, n);
    case 3:
        e: {
            if (qC(t),
            e === null)
                throw Error(ie(387));
            s = t.pendingProps,
            i = t.memoizedState,
            a = i.element,
            gC(e, t),
            wm(t, s, null, n);
            var o = t.memoizedState;
            if (s = o.element,
            i.isDehydrated)
                if (i = {
                    element: s,
                    isDehydrated: !1,
                    cache: o.cache,
                    pendingSuspenseBoundaries: o.pendingSuspenseBoundaries,
                    transitions: o.transitions
                },
                t.updateQueue.baseState = i,
                t.memoizedState = i,
                t.flags & 256) {
                    a = kl(Error(ie(423)), t),
                    t = kj(e, t, s, n, a);
                    break e
                } else if (s !== a) {
                    a = kl(Error(ie(424)), t),
                    t = kj(e, t, s, n, a);
                    break e
                } else
                    for (Dr = Ja(t.stateNode.containerInfo.firstChild),
                    Mr = t,
                    Jt = !0,
                    xs = null,
                    n = pC(t, null, s, n),
                    t.child = n; n; )
                        n.flags = n.flags & -3 | 4096,
                        n = n.sibling;
            else {
                if (bl(),
                s === a) {
                    t = ja(e, t, n);
                    break e
                }
                lr(e, t, s, n)
            }
            t = t.child
        }
        return t;
    case 5:
        return vC(t),
        e === null && Kp(t),
        s = t.type,
        a = t.pendingProps,
        i = e !== null ? e.memoizedProps : null,
        o = a.children,
        Bp(s, a) ? o = null : i !== null && Bp(s, i) && (t.flags |= 32),
        UC(e, t),
        lr(e, t, o, n),
        t.child;
    case 6:
        return e === null && Kp(t),
        null;
    case 13:
        return WC(e, t, n);
    case 4:
        return Ag(t, t.stateNode.containerInfo),
        s = t.pendingProps,
        e === null ? t.child = Sl(t, null, s, n) : lr(e, t, s, n),
        t.child;
    case 11:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : ms(s, a),
        bj(e, t, s, a, n);
    case 7:
        return lr(e, t, t.pendingProps, n),
        t.child;
    case 8:
        return lr(e, t, t.pendingProps.children, n),
        t.child;
    case 12:
        return lr(e, t, t.pendingProps.children, n),
        t.child;
    case 10:
        e: {
            if (s = t.type._context,
            a = t.pendingProps,
            i = t.memoizedProps,
            o = a.value,
            Wt(ym, s._currentValue),
            s._currentValue = o,
            i !== null)
                if (Ps(i.value, o)) {
                    if (i.children === a.children && !Sr.current) {
                        t = ja(e, t, n);
                        break e
                    }
                } else
                    for (i = t.child,
                    i !== null && (i.return = t); i !== null; ) {
                        var l = i.dependencies;
                        if (l !== null) {
                            o = i.child;
                            for (var c = l.firstContext; c !== null; ) {
                                if (c.context === s) {
                                    if (i.tag === 1) {
                                        c = ha(-1, n & -n),
                                        c.tag = 2;
                                        var d = i.updateQueue;
                                        if (d !== null) {
                                            d = d.shared;
                                            var u = d.pending;
                                            u === null ? c.next = c : (c.next = u.next,
                                            u.next = c),
                                            d.pending = c
                                        }
                                    }
                                    i.lanes |= n,
                                    c = i.alternate,
                                    c !== null && (c.lanes |= n),
                                    Qp(i.return, n, t),
                                    l.lanes |= n;
                                    break
                                }
                                c = c.next
                            }
                        } else if (i.tag === 10)
                            o = i.type === t.type ? null : i.child;
                        else if (i.tag === 18) {
                            if (o = i.return,
                            o === null)
                                throw Error(ie(341));
                            o.lanes |= n,
                            l = o.alternate,
                            l !== null && (l.lanes |= n),
                            Qp(o, n, t),
                            o = i.sibling
                        } else
                            o = i.child;
                        if (o !== null)
                            o.return = i;
                        else
                            for (o = i; o !== null; ) {
                                if (o === t) {
                                    o = null;
                                    break
                                }
                                if (i = o.sibling,
                                i !== null) {
                                    i.return = o.return,
                                    o = i;
                                    break
                                }
                                o = o.return
                            }
                        i = o
                    }
            lr(e, t, a.children, n),
            t = t.child
        }
        return t;
    case 9:
        return a = t.type,
        s = t.pendingProps.children,
        Yo(t, n),
        a = ss(a),
        s = s(a),
        t.flags |= 1,
        lr(e, t, s, n),
        t.child;
    case 14:
        return s = t.type,
        a = ms(s, t.pendingProps),
        a = ms(s.type, a),
        Sj(e, t, s, a, n);
    case 15:
        return VC(e, t, t.type, t.pendingProps, n);
    case 17:
        return s = t.type,
        a = t.pendingProps,
        a = t.elementType === s ? a : ms(s, a),
        Qu(e, t),
        t.tag = 1,
        Cr(s) ? (e = !0,
        xm(t)) : e = !1,
        Yo(t, n),
        FC(t, s, a),
        Xp(t, s, a, n),
        Jp(null, t, s, !0, e, n);
    case 19:
        return HC(e, t, n);
    case 22:
        return BC(e, t, n)
    }
    throw Error(ie(156, t.tag))
}
;
function l2(e, t) {
    return MS(e, t)
}
function wM(e, t, n, s) {
    this.tag = e,
    this.key = n,
    this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null,
    this.index = 0,
    this.ref = null,
    this.pendingProps = t,
    this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null,
    this.mode = s,
    this.subtreeFlags = this.flags = 0,
    this.deletions = null,
    this.childLanes = this.lanes = 0,
    this.alternate = null
}
function Zr(e, t, n, s) {
    return new wM(e,t,n,s)
}
function Hg(e) {
    return e = e.prototype,
    !(!e || !e.isReactComponent)
}
function NM(e) {
    if (typeof e == "function")
        return Hg(e) ? 1 : 0;
    if (e != null) {
        if (e = e.$$typeof,
        e === ug)
            return 11;
        if (e === mg)
            return 14
    }
    return 2
}
function ri(e, t) {
    var n = e.alternate;
    return n === null ? (n = Zr(e.tag, t, e.key, e.mode),
    n.elementType = e.elementType,
    n.type = e.type,
    n.stateNode = e.stateNode,
    n.alternate = e,
    e.alternate = n) : (n.pendingProps = t,
    n.type = e.type,
    n.flags = 0,
    n.subtreeFlags = 0,
    n.deletions = null),
    n.flags = e.flags & 14680064,
    n.childLanes = e.childLanes,
    n.lanes = e.lanes,
    n.child = e.child,
    n.memoizedProps = e.memoizedProps,
    n.memoizedState = e.memoizedState,
    n.updateQueue = e.updateQueue,
    t = e.dependencies,
    n.dependencies = t === null ? null : {
        lanes: t.lanes,
        firstContext: t.firstContext
    },
    n.sibling = e.sibling,
    n.index = e.index,
    n.ref = e.ref,
    n
}
function Yu(e, t, n, s, a, i) {
    var o = 2;
    if (s = e,
    typeof e == "function")
        Hg(e) && (o = 1);
    else if (typeof e == "string")
        o = 5;
    else
        e: switch (e) {
        case Io:
            return Zi(n.children, a, i, t);
        case dg:
            o = 8,
            a |= 8;
            break;
        case jp:
            return e = Zr(12, n, t, a | 2),
            e.elementType = jp,
            e.lanes = i,
            e;
        case wp:
            return e = Zr(13, n, t, a),
            e.elementType = wp,
            e.lanes = i,
            e;
        case Np:
            return e = Zr(19, n, t, a),
            e.elementType = Np,
            e.lanes = i,
            e;
        case vS:
            return Sf(n, a, i, t);
        default:
            if (typeof e == "object" && e !== null)
                switch (e.$$typeof) {
                case xS:
                    o = 10;
                    break e;
                case gS:
                    o = 9;
                    break e;
                case ug:
                    o = 11;
                    break e;
                case mg:
                    o = 14;
                    break e;
                case Ia:
                    o = 16,
                    s = null;
                    break e
                }
            throw Error(ie(130, e == null ? e : typeof e, ""))
        }
    return t = Zr(o, n, t, a),
    t.elementType = e,
    t.type = s,
    t.lanes = i,
    t
}
function Zi(e, t, n, s) {
    return e = Zr(7, e, s, t),
    e.lanes = n,
    e
}
function Sf(e, t, n, s) {
    return e = Zr(22, e, s, t),
    e.elementType = vS,
    e.lanes = n,
    e.stateNode = {
        isHidden: !1
    },
    e
}
function qh(e, t, n) {
    return e = Zr(6, e, null, t),
    e.lanes = n,
    e
}
function Wh(e, t, n) {
    return t = Zr(4, e.children !== null ? e.children : [], e.key, t),
    t.lanes = n,
    t.stateNode = {
        containerInfo: e.containerInfo,
        pendingChildren: null,
        implementation: e.implementation
    },
    t
}
function bM(e, t, n, s, a) {
    this.tag = t,
    this.containerInfo = e,
    this.finishedWork = this.pingCache = this.current = this.pendingChildren = null,
    this.timeoutHandle = -1,
    this.callbackNode = this.pendingContext = this.context = null,
    this.callbackPriority = 0,
    this.eventTimes = Ch(0),
    this.expirationTimes = Ch(-1),
    this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0,
    this.entanglements = Ch(0),
    this.identifierPrefix = s,
    this.onRecoverableError = a,
    this.mutableSourceEagerHydrationData = null
}
function Kg(e, t, n, s, a, i, o, l, c) {
    return e = new bM(e,t,n,l,c),
    t === 1 ? (t = 1,
    i === !0 && (t |= 8)) : t = 0,
    i = Zr(3, null, null, t),
    e.current = i,
    i.stateNode = e,
    i.memoizedState = {
        element: s,
        isDehydrated: n,
        cache: null,
        transitions: null,
        pendingSuspenseBoundaries: null
    },
    _g(i),
    e
}
function SM(e, t, n) {
    var s = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
    return {
        $$typeof: Ro,
        key: s == null ? null : "" + s,
        children: e,
        containerInfo: t,
        implementation: n
    }
}
function c2(e) {
    if (!e)
        return hi;
    e = e._reactInternals;
    e: {
        if (vo(e) !== e || e.tag !== 1)
            throw Error(ie(170));
        var t = e;
        do {
            switch (t.tag) {
            case 3:
                t = t.stateNode.context;
                break e;
            case 1:
                if (Cr(t.type)) {
                    t = t.stateNode.__reactInternalMemoizedMergedChildContext;
                    break e
                }
            }
            t = t.return
        } while (t !== null);
        throw Error(ie(171))
    }
    if (e.tag === 1) {
        var n = e.type;
        if (Cr(n))
            return cC(e, n, t)
    }
    return t
}
function d2(e, t, n, s, a, i, o, l, c) {
    return e = Kg(n, s, !0, e, a, i, o, l, c),
    e.context = c2(null),
    n = e.current,
    s = ur(),
    a = ni(n),
    i = ha(s, a),
    i.callback = t ?? null,
    ei(n, i, a),
    e.current.lanes = a,
    Id(e, a, s),
    kr(e, s),
    e
}
function Cf(e, t, n, s) {
    var a = t.current
      , i = ur()
      , o = ni(a);
    return n = c2(n),
    t.context === null ? t.context = n : t.pendingContext = n,
    t = ha(i, o),
    t.payload = {
        element: e
    },
    s = s === void 0 ? null : s,
    s !== null && (t.callback = s),
    e = ei(a, t, o),
    e !== null && (bs(e, a, o, i),
    Wu(e, a, o)),
    o
}
function Em(e) {
    if (e = e.current,
    !e.child)
        return null;
    switch (e.child.tag) {
    case 5:
        return e.child.stateNode;
    default:
        return e.child.stateNode
    }
}
function Oj(e, t) {
    if (e = e.memoizedState,
    e !== null && e.dehydrated !== null) {
        var n = e.retryLane;
        e.retryLane = n !== 0 && n < t ? n : t
    }
}
function Qg(e, t) {
    Oj(e, t),
    (e = e.alternate) && Oj(e, t)
}
function CM() {
    return null
}
var u2 = typeof reportError == "function" ? reportError : function(e) {
    console.error(e)
}
;
function Gg(e) {
    this._internalRoot = e
}
kf.prototype.render = Gg.prototype.render = function(e) {
    var t = this._internalRoot;
    if (t === null)
        throw Error(ie(409));
    Cf(e, t, null, null)
}
;
kf.prototype.unmount = Gg.prototype.unmount = function() {
    var e = this._internalRoot;
    if (e !== null) {
        this._internalRoot = null;
        var t = e.containerInfo;
        io(function() {
            Cf(null, e, null, null)
        }),
        t[va] = null
    }
}
;
function kf(e) {
    this._internalRoot = e
}
kf.prototype.unstable_scheduleHydration = function(e) {
    if (e) {
        var t = BS();
        e = {
            blockedOn: null,
            target: e,
            priority: t
        };
        for (var n = 0; n < Oa.length && t !== 0 && t < Oa[n].priority; n++)
            ;
        Oa.splice(n, 0, e),
        n === 0 && qS(e)
    }
}
;
function Xg(e) {
    return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11)
}
function Tf(e) {
    return !(!e || e.nodeType !== 1 && e.nodeType !== 9 && e.nodeType !== 11 && (e.nodeType !== 8 || e.nodeValue !== " react-mount-point-unstable "))
}
function Lj() {}
function kM(e, t, n, s, a) {
    if (a) {
        if (typeof s == "function") {
            var i = s;
            s = function() {
                var d = Em(o);
                i.call(d)
            }
        }
        var o = d2(t, s, e, 0, null, !1, !1, "", Lj);
        return e._reactRootContainer = o,
        e[va] = o.current,
        Gc(e.nodeType === 8 ? e.parentNode : e),
        io(),
        o
    }
    for (; a = e.lastChild; )
        e.removeChild(a);
    if (typeof s == "function") {
        var l = s;
        s = function() {
            var d = Em(c);
            l.call(d)
        }
    }
    var c = Kg(e, 0, !1, null, null, !1, !1, "", Lj);
    return e._reactRootContainer = c,
    e[va] = c.current,
    Gc(e.nodeType === 8 ? e.parentNode : e),
    io(function() {
        Cf(t, c, n, s)
    }),
    c
}
function Pf(e, t, n, s, a) {
    var i = n._reactRootContainer;
    if (i) {
        var o = i;
        if (typeof a == "function") {
            var l = a;
            a = function() {
                var c = Em(o);
                l.call(c)
            }
        }
        Cf(t, o, e, a)
    } else
        o = kM(n, t, e, a, s);
    return Em(o)
}
zS = function(e) {
    switch (e.tag) {
    case 3:
        var t = e.stateNode;
        if (t.current.memoizedState.isDehydrated) {
            var n = jc(t.pendingLanes);
            n !== 0 && (pg(t, n | 1),
            kr(t, vn()),
            !(Tt & 6) && (Tl = vn() + 500,
            Ti()))
        }
        break;
    case 13:
        io(function() {
            var s = ya(e, 1);
            if (s !== null) {
                var a = ur();
                bs(s, e, 1, a)
            }
        }),
        Qg(e, 1)
    }
}
;
xg = function(e) {
    if (e.tag === 13) {
        var t = ya(e, 134217728);
        if (t !== null) {
            var n = ur();
            bs(t, e, 134217728, n)
        }
        Qg(e, 134217728)
    }
}
;
VS = function(e) {
    if (e.tag === 13) {
        var t = ni(e)
          , n = ya(e, t);
        if (n !== null) {
            var s = ur();
            bs(n, e, t, s)
        }
        Qg(e, t)
    }
}
;
BS = function() {
    return Ut
}
;
US = function(e, t) {
    var n = Ut;
    try {
        return Ut = e,
        t()
    } finally {
        Ut = n
    }
}
;
Rp = function(e, t, n) {
    switch (t) {
    case "input":
        if (Cp(e, n),
        t = n.name,
        n.type === "radio" && t != null) {
            for (n = e; n.parentNode; )
                n = n.parentNode;
            for (n = n.querySelectorAll("input[name=" + JSON.stringify("" + t) + '][type="radio"]'),
            t = 0; t < n.length; t++) {
                var s = n[t];
                if (s !== e && s.form === e.form) {
                    var a = vf(s);
                    if (!a)
                        throw Error(ie(90));
                    jS(s),
                    Cp(s, a)
                }
            }
        }
        break;
    case "textarea":
        NS(e, n);
        break;
    case "select":
        t = n.value,
        t != null && Ko(e, !!n.multiple, t, !1)
    }
}
;
ES = Ug;
_S = io;
var TM = {
    usingClientEntryPoint: !1,
    Events: [Md, Lo, vf, TS, PS, Ug]
}
  , uc = {
    findFiberByHostInstance: Fi,
    bundleType: 0,
    version: "18.3.1",
    rendererPackageName: "react-dom"
}
  , PM = {
    bundleType: uc.bundleType,
    version: uc.version,
    rendererPackageName: uc.rendererPackageName,
    rendererConfig: uc.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: Sa.ReactCurrentDispatcher,
    findHostInstanceByFiber: function(e) {
        return e = IS(e),
        e === null ? null : e.stateNode
    },
    findFiberByHostInstance: uc.findFiberByHostInstance || CM,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: "18.3.1-next-f1338f8080-20240426"
};
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") {
    var Eu = __REACT_DEVTOOLS_GLOBAL_HOOK__;
    if (!Eu.isDisabled && Eu.supportsFiber)
        try {
            hf = Eu.inject(PM),
            Ws = Eu
        } catch {}
}
zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = TM;
zr.createPortal = function(e, t) {
    var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
    if (!Xg(t))
        throw Error(ie(200));
    return SM(e, t, null, n)
}
;
zr.createRoot = function(e, t) {
    if (!Xg(e))
        throw Error(ie(299));
    var n = !1
      , s = ""
      , a = u2;
    return t != null && (t.unstable_strictMode === !0 && (n = !0),
    t.identifierPrefix !== void 0 && (s = t.identifierPrefix),
    t.onRecoverableError !== void 0 && (a = t.onRecoverableError)),
    t = Kg(e, 1, !1, null, null, n, !1, s, a),
    e[va] = t.current,
    Gc(e.nodeType === 8 ? e.parentNode : e),
    new Gg(t)
}
;
zr.findDOMNode = function(e) {
    if (e == null)
        return null;
    if (e.nodeType === 1)
        return e;
    var t = e._reactInternals;
    if (t === void 0)
        throw typeof e.render == "function" ? Error(ie(188)) : (e = Object.keys(e).join(","),
        Error(ie(268, e)));
    return e = IS(t),
    e = e === null ? null : e.stateNode,
    e
}
;
zr.flushSync = function(e) {
    return io(e)
}
;
zr.hydrate = function(e, t, n) {
    if (!Tf(t))
        throw Error(ie(200));
    return Pf(null, e, t, !0, n)
}
;
zr.hydrateRoot = function(e, t, n) {
    if (!Xg(e))
        throw Error(ie(405));
    var s = n != null && n.hydratedSources || null
      , a = !1
      , i = ""
      , o = u2;
    if (n != null && (n.unstable_strictMode === !0 && (a = !0),
    n.identifierPrefix !== void 0 && (i = n.identifierPrefix),
    n.onRecoverableError !== void 0 && (o = n.onRecoverableError)),
    t = d2(t, null, e, 1, n ?? null, a, !1, i, o),
    e[va] = t.current,
    Gc(e),
    s)
        for (e = 0; e < s.length; e++)
            n = s[e],
            a = n._getVersion,
            a = a(n._source),
            t.mutableSourceEagerHydrationData == null ? t.mutableSourceEagerHydrationData = [n, a] : t.mutableSourceEagerHydrationData.push(n, a);
    return new kf(t)
}
;
zr.render = function(e, t, n) {
    if (!Tf(t))
        throw Error(ie(200));
    return Pf(null, e, t, !1, n)
}
;
zr.unmountComponentAtNode = function(e) {
    if (!Tf(e))
        throw Error(ie(40));
    return e._reactRootContainer ? (io(function() {
        Pf(null, null, e, !1, function() {
            e._reactRootContainer = null,
            e[va] = null
        })
    }),
    !0) : !1
}
;
zr.unstable_batchedUpdates = Ug;
zr.unstable_renderSubtreeIntoContainer = function(e, t, n, s) {
    if (!Tf(n))
        throw Error(ie(200));
    if (e == null || e._reactInternals === void 0)
        throw Error(ie(38));
    return Pf(e, t, n, !1, s)
}
;
zr.version = "18.3.1-next-f1338f8080-20240426";
function m2() {
    if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function"))
        try {
            __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m2)
        } catch (e) {
            console.error(e)
        }
}
m2(),
mS.exports = zr;
var yo = mS.exports;
const EM = J1(yo);
var f2, Fj = yo;
f2 = Fj.createRoot,
Fj.hydrateRoot;
function _M(e, t) {
    if (e instanceof RegExp)
        return {
            keys: !1,
            pattern: e
        };
    var n, s, a, i, o = [], l = "", c = e.split("/");
    for (c[0] || c.shift(); a = c.shift(); )
        n = a[0],
        n === "*" ? (o.push(n),
        l += a[1] === "?" ? "(?:/(.*))?" : "/(.*)") : n === ":" ? (s = a.indexOf("?", 1),
        i = a.indexOf(".", 1),
        o.push(a.substring(1, ~s ? s : ~i ? i : a.length)),
        l += ~s && !~i ? "(?:/([^/]+?))?" : "/([^/]+?)",
        ~i && (l += (~s ? "?" : "") + "\\" + a.substring(i))) : l += "/" + a;
    return {
        keys: o,
        pattern: new RegExp("^" + l + (t ? "(?=$|/)" : "/?$"),"i")
    }
}
var h2 = {
    exports: {}
}
  , p2 = {};
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Pl = m;
function AM(e, t) {
    return e === t && (e !== 0 || 1 / e === 1 / t) || e !== e && t !== t
}
var RM = typeof Object.is == "function" ? Object.is : AM
  , IM = Pl.useState
  , DM = Pl.useEffect
  , MM = Pl.useLayoutEffect
  , OM = Pl.useDebugValue;
function LM(e, t) {
    var n = t()
      , s = IM({
        inst: {
            value: n,
            getSnapshot: t
        }
    })
      , a = s[0].inst
      , i = s[1];
    return MM(function() {
        a.value = n,
        a.getSnapshot = t,
        Hh(a) && i({
            inst: a
        })
    }, [e, n, t]),
    DM(function() {
        return Hh(a) && i({
            inst: a
        }),
        e(function() {
            Hh(a) && i({
                inst: a
            })
        })
    }, [e]),
    OM(n),
    n
}
function Hh(e) {
    var t = e.getSnapshot;
    e = e.value;
    try {
        var n = t();
        return !RM(e, n)
    } catch {
        return !0
    }
}
function FM(e, t) {
    return t()
}
var $M = typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u" ? FM : LM;
p2.useSyncExternalStore = Pl.useSyncExternalStore !== void 0 ? Pl.useSyncExternalStore : $M;
h2.exports = p2;
var zM = h2.exports;
const VM = dS.useInsertionEffect
  , BM = typeof window < "u" && typeof window.document < "u" && typeof window.document.createElement < "u"
  , UM = BM ? m.useLayoutEffect : m.useEffect
  , qM = VM || UM
  , x2 = e => {
    const t = m.useRef([e, (...n) => t[0](...n)]).current;
    return qM( () => {
        t[0] = e
    }
    ),
    t[1]
}
  , WM = "popstate"
  , Yg = "pushState"
  , Zg = "replaceState"
  , HM = "hashchange"
  , $j = [WM, Yg, Zg, HM]
  , KM = e => {
    for (const t of $j)
        addEventListener(t, e);
    return () => {
        for (const t of $j)
            removeEventListener(t, e)
    }
}
  , g2 = (e, t) => zM.useSyncExternalStore(KM, e, t)
  , QM = () => location.search
  , GM = ({ssrSearch: e=""}={}) => g2(QM, () => e)
  , zj = () => location.pathname
  , XM = ({ssrPath: e}={}) => g2(zj, e ? () => e : zj)
  , YM = (e, {replace: t=!1, state: n=null}={}) => history[t ? Zg : Yg](n, "", e)
  , ZM = (e={}) => [XM(e), YM]
  , Vj = Symbol.for("wouter_v3");
if (typeof history < "u" && typeof window[Vj] > "u") {
    for (const e of [Yg, Zg]) {
        const t = history[e];
        history[e] = function() {
            const n = t.apply(this, arguments)
              , s = new Event(e);
            return s.arguments = arguments,
            dispatchEvent(s),
            n
        }
    }
    Object.defineProperty(window, Vj, {
        value: !0
    })
}
const JM = (e, t) => t.toLowerCase().indexOf(e.toLowerCase()) ? "~" + t : t.slice(e.length) || "/"
  , v2 = (e="") => e === "/" ? "" : e
  , eO = (e, t) => e[0] === "~" ? e.slice(1) : v2(t) + e
  , tO = (e="", t) => JM(Bj(v2(e)), Bj(t))
  , Bj = e => {
    try {
        return decodeURI(e)
    } catch {
        return e
    }
}
  , y2 = {
    hook: ZM,
    searchHook: GM,
    parser: _M,
    base: "",
    ssrPath: void 0,
    ssrSearch: void 0,
    hrefs: e => e
}
  , j2 = m.createContext(y2)
  , Ld = () => m.useContext(j2)
  , w2 = {}
  , N2 = m.createContext(w2)
  , nO = () => m.useContext(N2)
  , Ef = e => {
    const [t,n] = e.hook(e);
    return [tO(e.base, t), x2( (s, a) => n(eO(s, e.base), a))]
}
  , rr = () => Ef(Ld())
  , b2 = (e, t, n, s) => {
    const {pattern: a, keys: i} = t instanceof RegExp ? {
        keys: !1,
        pattern: t
    } : e(t || "*", s)
      , o = a.exec(n) || []
      , [l,...c] = o;
    return l !== void 0 ? [!0, ( () => {
        const d = i !== !1 ? Object.fromEntries(i.map( (f, h) => [f, c[h]])) : o.groups;
        let u = {
            ...c
        };
        return d && Object.assign(u, d),
        u
    }
    )(), ...s ? [l] : []] : [!1, null]
}
  , rO = ({children: e, ...t}) => {
    var u, f;
    const n = Ld()
      , s = t.hook ? y2 : n;
    let a = s;
    const [i,o] = ((u = t.ssrPath) == null ? void 0 : u.split("?")) ?? [];
    o && (t.ssrSearch = o,
    t.ssrPath = i),
    t.hrefs = t.hrefs ?? ((f = t.hook) == null ? void 0 : f.hrefs);
    let l = m.useRef({})
      , c = l.current
      , d = c;
    for (let h in s) {
        const x = h === "base" ? s[h] + (t[h] || "") : t[h] || s[h];
        c === d && x !== d[h] && (l.current = d = {
            ...d
        }),
        d[h] = x,
        x !== s[h] && (a = d)
    }
    return m.createElement(j2.Provider, {
        value: a,
        children: e
    })
}
  , Uj = ({children: e, component: t}, n) => t ? m.createElement(t, {
    params: n
}) : typeof e == "function" ? e(n) : e
  , sO = e => {
    let t = m.useRef(w2)
      , n = t.current;
    for (const s in e)
        e[s] !== n[s] && (n = e);
    return Object.keys(e).length === 0 && (n = e),
    t.current = n
}
  , bn = ({path: e, nest: t, match: n, ...s}) => {
    const a = Ld()
      , [i] = Ef(a)
      , [o,l,c] = n ?? b2(a.parser, e, i, t)
      , d = sO({
        ...nO(),
        ...l
    });
    if (!o)
        return null;
    const u = c ? m.createElement(rO, {
        base: c
    }, Uj(s, d)) : Uj(s, d);
    return m.createElement(N2.Provider, {
        value: d,
        children: u
    })
}
  , El = m.forwardRef( (e, t) => {
    const n = Ld()
      , [s,a] = Ef(n)
      , {to: i="", href: o=i, onClick: l, asChild: c, children: d, className: u, replace: f, state: h, ...x} = e
      , j = x2(w => {
        w.ctrlKey || w.metaKey || w.altKey || w.shiftKey || w.button !== 0 || (l == null || l(w),
        w.defaultPrevented || (w.preventDefault(),
        a(o, e)))
    }
    )
      , v = n.hrefs(o[0] === "~" ? o.slice(1) : n.base + o, n);
    return c && m.isValidElement(d) ? m.cloneElement(d, {
        onClick: j,
        href: v
    }) : m.createElement("a", {
        ...x,
        onClick: j,
        href: v,
        className: u != null && u.call ? u(s === o) : u,
        children: d,
        ref: t
    })
}
)
  , S2 = e => Array.isArray(e) ? e.flatMap(t => S2(t && t.type === m.Fragment ? t.props.children : t)) : [e]
  , aO = ({children: e, location: t}) => {
    const n = Ld()
      , [s] = Ef(n);
    for (const a of S2(e)) {
        let i = 0;
        if (m.isValidElement(a) && (i = b2(n.parser, a.props.path, t || s, a.props.nest))[0])
            return m.cloneElement(a, {
                match: i
            })
    }
    return null
}
;
var Vl = class {
    constructor() {
        this.listeners = new Set,
        this.subscribe = this.subscribe.bind(this)
    }
    subscribe(e) {
        return this.listeners.add(e),
        this.onSubscribe(),
        () => {
            this.listeners.delete(e),
            this.onUnsubscribe()
        }
    }
    hasListeners() {
        return this.listeners.size > 0
    }
    onSubscribe() {}
    onUnsubscribe() {}
}
  , oo = typeof window > "u" || "Deno"in globalThis;
function Kr() {}
function iO(e, t) {
    return typeof e == "function" ? e(t) : e
}
function ux(e) {
    return typeof e == "number" && e >= 0 && e !== 1 / 0
}
function C2(e, t) {
    return Math.max(e + (t || 0) - Date.now(), 0)
}
function Jo(e, t) {
    return typeof e == "function" ? e(t) : e
}
function gs(e, t) {
    return typeof e == "function" ? e(t) : e
}
function qj(e, t) {
    const {type: n="all", exact: s, fetchStatus: a, predicate: i, queryKey: o, stale: l} = e;
    if (o) {
        if (s) {
            if (t.queryHash !== Jg(o, t.options))
                return !1
        } else if (!sd(t.queryKey, o))
            return !1
    }
    if (n !== "all") {
        const c = t.isActive();
        if (n === "active" && !c || n === "inactive" && c)
            return !1
    }
    return !(typeof l == "boolean" && t.isStale() !== l || a && a !== t.state.fetchStatus || i && !i(t))
}
function Wj(e, t) {
    const {exact: n, status: s, predicate: a, mutationKey: i} = e;
    if (i) {
        if (!t.options.mutationKey)
            return !1;
        if (n) {
            if (lo(t.options.mutationKey) !== lo(i))
                return !1
        } else if (!sd(t.options.mutationKey, i))
            return !1
    }
    return !(s && t.state.status !== s || a && !a(t))
}
function Jg(e, t) {
    return ((t == null ? void 0 : t.queryKeyHashFn) || lo)(e)
}
function lo(e) {
    return JSON.stringify(e, (t, n) => mx(n) ? Object.keys(n).sort().reduce( (s, a) => (s[a] = n[a],
    s), {}) : n)
}
function sd(e, t) {
    return e === t ? !0 : typeof e != typeof t ? !1 : e && t && typeof e == "object" && typeof t == "object" ? !Object.keys(t).some(n => !sd(e[n], t[n])) : !1
}
function k2(e, t) {
    if (e === t)
        return e;
    const n = Hj(e) && Hj(t);
    if (n || mx(e) && mx(t)) {
        const s = n ? e : Object.keys(e)
          , a = s.length
          , i = n ? t : Object.keys(t)
          , o = i.length
          , l = n ? [] : {};
        let c = 0;
        for (let d = 0; d < o; d++) {
            const u = n ? d : i[d];
            (!n && s.includes(u) || n) && e[u] === void 0 && t[u] === void 0 ? (l[u] = void 0,
            c++) : (l[u] = k2(e[u], t[u]),
            l[u] === e[u] && e[u] !== void 0 && c++)
        }
        return a === o && c === a ? e : l
    }
    return t
}
function _m(e, t) {
    if (!t || Object.keys(e).length !== Object.keys(t).length)
        return !1;
    for (const n in e)
        if (e[n] !== t[n])
            return !1;
    return !0
}
function Hj(e) {
    return Array.isArray(e) && e.length === Object.keys(e).length
}
function mx(e) {
    if (!Kj(e))
        return !1;
    const t = e.constructor;
    if (t === void 0)
        return !0;
    const n = t.prototype;
    return !(!Kj(n) || !n.hasOwnProperty("isPrototypeOf") || Object.getPrototypeOf(e) !== Object.prototype)
}
function Kj(e) {
    return Object.prototype.toString.call(e) === "[object Object]"
}
function oO(e) {
    return new Promise(t => {
        setTimeout(t, e)
    }
    )
}
function fx(e, t, n) {
    return typeof n.structuralSharing == "function" ? n.structuralSharing(e, t) : n.structuralSharing !== !1 ? k2(e, t) : t
}
function lO(e, t, n=0) {
    const s = [...e, t];
    return n && s.length > n ? s.slice(1) : s
}
function cO(e, t, n=0) {
    const s = [t, ...e];
    return n && s.length > n ? s.slice(0, -1) : s
}
var ev = Symbol();
function T2(e, t) {
    return !e.queryFn && (t != null && t.initialPromise) ? () => t.initialPromise : !e.queryFn || e.queryFn === ev ? () => Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)) : e.queryFn
}
var qi, $a, ll, oN, dO = (oN = class extends Vl {
    constructor() {
        super();
        Be(this, qi);
        Be(this, $a);
        Be(this, ll);
        be(this, ll, t => {
            if (!oo && window.addEventListener) {
                const n = () => t();
                return window.addEventListener("visibilitychange", n, !1),
                () => {
                    window.removeEventListener("visibilitychange", n)
                }
            }
        }
        )
    }
    onSubscribe() {
        A(this, $a) || this.setEventListener(A(this, ll))
    }
    onUnsubscribe() {
        var t;
        this.hasListeners() || ((t = A(this, $a)) == null || t.call(this),
        be(this, $a, void 0))
    }
    setEventListener(t) {
        var n;
        be(this, ll, t),
        (n = A(this, $a)) == null || n.call(this),
        be(this, $a, t(s => {
            typeof s == "boolean" ? this.setFocused(s) : this.onFocus()
        }
        ))
    }
    setFocused(t) {
        A(this, qi) !== t && (be(this, qi, t),
        this.onFocus())
    }
    onFocus() {
        const t = this.isFocused();
        this.listeners.forEach(n => {
            n(t)
        }
        )
    }
    isFocused() {
        var t;
        return typeof A(this, qi) == "boolean" ? A(this, qi) : ((t = globalThis.document) == null ? void 0 : t.visibilityState) !== "hidden"
    }
}
,
qi = new WeakMap,
$a = new WeakMap,
ll = new WeakMap,
oN), tv = new dO, cl, za, dl, lN, uO = (lN = class extends Vl {
    constructor() {
        super();
        Be(this, cl, !0);
        Be(this, za);
        Be(this, dl);
        be(this, dl, t => {
            if (!oo && window.addEventListener) {
                const n = () => t(!0)
                  , s = () => t(!1);
                return window.addEventListener("online", n, !1),
                window.addEventListener("offline", s, !1),
                () => {
                    window.removeEventListener("online", n),
                    window.removeEventListener("offline", s)
                }
            }
        }
        )
    }
    onSubscribe() {
        A(this, za) || this.setEventListener(A(this, dl))
    }
    onUnsubscribe() {
        var t;
        this.hasListeners() || ((t = A(this, za)) == null || t.call(this),
        be(this, za, void 0))
    }
    setEventListener(t) {
        var n;
        be(this, dl, t),
        (n = A(this, za)) == null || n.call(this),
        be(this, za, t(this.setOnline.bind(this)))
    }
    setOnline(t) {
        A(this, cl) !== t && (be(this, cl, t),
        this.listeners.forEach(s => {
            s(t)
        }
        ))
    }
    isOnline() {
        return A(this, cl)
    }
}
,
cl = new WeakMap,
za = new WeakMap,
dl = new WeakMap,
lN), Am = new uO;
function hx() {
    let e, t;
    const n = new Promise( (a, i) => {
        e = a,
        t = i
    }
    );
    n.status = "pending",
    n.catch( () => {}
    );
    function s(a) {
        Object.assign(n, a),
        delete n.resolve,
        delete n.reject
    }
    return n.resolve = a => {
        s({
            status: "fulfilled",
            value: a
        }),
        e(a)
    }
    ,
    n.reject = a => {
        s({
            status: "rejected",
            reason: a
        }),
        t(a)
    }
    ,
    n
}
function mO(e) {
    return Math.min(1e3 * 2 ** e, 3e4)
}
function P2(e) {
    return (e ?? "online") === "online" ? Am.isOnline() : !0
}
var E2 = class extends Error {
    constructor(e) {
        super("CancelledError"),
        this.revert = e == null ? void 0 : e.revert,
        this.silent = e == null ? void 0 : e.silent
    }
}
;
function Kh(e) {
    return e instanceof E2
}
function _2(e) {
    let t = !1, n = 0, s = !1, a;
    const i = hx()
      , o = v => {
        var w;
        s || (h(new E2(v)),
        (w = e.abort) == null || w.call(e))
    }
      , l = () => {
        t = !0
    }
      , c = () => {
        t = !1
    }
      , d = () => tv.isFocused() && (e.networkMode === "always" || Am.isOnline()) && e.canRun()
      , u = () => P2(e.networkMode) && e.canRun()
      , f = v => {
        var w;
        s || (s = !0,
        (w = e.onSuccess) == null || w.call(e, v),
        a == null || a(),
        i.resolve(v))
    }
      , h = v => {
        var w;
        s || (s = !0,
        (w = e.onError) == null || w.call(e, v),
        a == null || a(),
        i.reject(v))
    }
      , x = () => new Promise(v => {
        var w;
        a = y => {
            (s || d()) && v(y)
        }
        ,
        (w = e.onPause) == null || w.call(e)
    }
    ).then( () => {
        var v;
        a = void 0,
        s || (v = e.onContinue) == null || v.call(e)
    }
    )
      , j = () => {
        if (s)
            return;
        let v;
        const w = n === 0 ? e.initialPromise : void 0;
        try {
            v = w ?? e.fn()
        } catch (y) {
            v = Promise.reject(y)
        }
        Promise.resolve(v).then(f).catch(y => {
            var S;
            if (s)
                return;
            const p = e.retry ?? (oo ? 0 : 3)
              , g = e.retryDelay ?? mO
              , b = typeof g == "function" ? g(n, y) : g
              , k = p === !0 || typeof p == "number" && n < p || typeof p == "function" && p(n, y);
            if (t || !k) {
                h(y);
                return
            }
            n++,
            (S = e.onFail) == null || S.call(e, n, y),
            oO(b).then( () => d() ? void 0 : x()).then( () => {
                t ? h(y) : j()
            }
            )
        }
        )
    }
    ;
    return {
        promise: i,
        cancel: o,
        continue: () => (a == null || a(),
        i),
        cancelRetry: l,
        continueRetry: c,
        canStart: u,
        start: () => (u() ? j() : x().then(j),
        i)
    }
}
function fO() {
    let e = []
      , t = 0
      , n = l => {
        l()
    }
      , s = l => {
        l()
    }
      , a = l => setTimeout(l, 0);
    const i = l => {
        t ? e.push(l) : a( () => {
            n(l)
        }
        )
    }
      , o = () => {
        const l = e;
        e = [],
        l.length && a( () => {
            s( () => {
                l.forEach(c => {
                    n(c)
                }
                )
            }
            )
        }
        )
    }
    ;
    return {
        batch: l => {
            let c;
            t++;
            try {
                c = l()
            } finally {
                t--,
                t || o()
            }
            return c
        }
        ,
        batchCalls: l => (...c) => {
            i( () => {
                l(...c)
            }
            )
        }
        ,
        schedule: i,
        setNotifyFunction: l => {
            n = l
        }
        ,
        setBatchNotifyFunction: l => {
            s = l
        }
        ,
        setScheduler: l => {
            a = l
        }
    }
}
var En = fO(), Wi, cN, A2 = (cN = class {
    constructor() {
        Be(this, Wi)
    }
    destroy() {
        this.clearGcTimeout()
    }
    scheduleGc() {
        this.clearGcTimeout(),
        ux(this.gcTime) && be(this, Wi, setTimeout( () => {
            this.optionalRemove()
        }
        , this.gcTime))
    }
    updateGcTime(e) {
        this.gcTime = Math.max(this.gcTime || 0, e ?? (oo ? 1 / 0 : 5 * 60 * 1e3))
    }
    clearGcTimeout() {
        A(this, Wi) && (clearTimeout(A(this, Wi)),
        be(this, Wi, void 0))
    }
}
,
Wi = new WeakMap,
cN), ul, ml, Hr, Jn, Pd, Hi, hs, aa, dN, hO = (dN = class extends A2 {
    constructor(t) {
        super();
        Be(this, hs);
        Be(this, ul);
        Be(this, ml);
        Be(this, Hr);
        Be(this, Jn);
        Be(this, Pd);
        Be(this, Hi);
        be(this, Hi, !1),
        be(this, Pd, t.defaultOptions),
        this.setOptions(t.options),
        this.observers = [],
        be(this, Hr, t.cache),
        this.queryKey = t.queryKey,
        this.queryHash = t.queryHash,
        be(this, ul, pO(this.options)),
        this.state = t.state ?? A(this, ul),
        this.scheduleGc()
    }
    get meta() {
        return this.options.meta
    }
    get promise() {
        var t;
        return (t = A(this, Jn)) == null ? void 0 : t.promise
    }
    setOptions(t) {
        this.options = {
            ...A(this, Pd),
            ...t
        },
        this.updateGcTime(this.options.gcTime)
    }
    optionalRemove() {
        !this.observers.length && this.state.fetchStatus === "idle" && A(this, Hr).remove(this)
    }
    setData(t, n) {
        const s = fx(this.state.data, t, this.options);
        return ut(this, hs, aa).call(this, {
            data: s,
            type: "success",
            dataUpdatedAt: n == null ? void 0 : n.updatedAt,
            manual: n == null ? void 0 : n.manual
        }),
        s
    }
    setState(t, n) {
        ut(this, hs, aa).call(this, {
            type: "setState",
            state: t,
            setStateOptions: n
        })
    }
    cancel(t) {
        var s, a;
        const n = (s = A(this, Jn)) == null ? void 0 : s.promise;
        return (a = A(this, Jn)) == null || a.cancel(t),
        n ? n.then(Kr).catch(Kr) : Promise.resolve()
    }
    destroy() {
        super.destroy(),
        this.cancel({
            silent: !0
        })
    }
    reset() {
        this.destroy(),
        this.setState(A(this, ul))
    }
    isActive() {
        return this.observers.some(t => gs(t.options.enabled, this) !== !1)
    }
    isDisabled() {
        return this.getObserversCount() > 0 ? !this.isActive() : this.options.queryFn === ev || this.state.dataUpdateCount + this.state.errorUpdateCount === 0
    }
    isStale() {
        return this.state.isInvalidated ? !0 : this.getObserversCount() > 0 ? this.observers.some(t => t.getCurrentResult().isStale) : this.state.data === void 0
    }
    isStaleByTime(t=0) {
        return this.state.isInvalidated || this.state.data === void 0 || !C2(this.state.dataUpdatedAt, t)
    }
    onFocus() {
        var n;
        const t = this.observers.find(s => s.shouldFetchOnWindowFocus());
        t == null || t.refetch({
            cancelRefetch: !1
        }),
        (n = A(this, Jn)) == null || n.continue()
    }
    onOnline() {
        var n;
        const t = this.observers.find(s => s.shouldFetchOnReconnect());
        t == null || t.refetch({
            cancelRefetch: !1
        }),
        (n = A(this, Jn)) == null || n.continue()
    }
    addObserver(t) {
        this.observers.includes(t) || (this.observers.push(t),
        this.clearGcTimeout(),
        A(this, Hr).notify({
            type: "observerAdded",
            query: this,
            observer: t
        }))
    }
    removeObserver(t) {
        this.observers.includes(t) && (this.observers = this.observers.filter(n => n !== t),
        this.observers.length || (A(this, Jn) && (A(this, Hi) ? A(this, Jn).cancel({
            revert: !0
        }) : A(this, Jn).cancelRetry()),
        this.scheduleGc()),
        A(this, Hr).notify({
            type: "observerRemoved",
            query: this,
            observer: t
        }))
    }
    getObserversCount() {
        return this.observers.length
    }
    invalidate() {
        this.state.isInvalidated || ut(this, hs, aa).call(this, {
            type: "invalidate"
        })
    }
    fetch(t, n) {
        var c, d, u;
        if (this.state.fetchStatus !== "idle") {
            if (this.state.data !== void 0 && (n != null && n.cancelRefetch))
                this.cancel({
                    silent: !0
                });
            else if (A(this, Jn))
                return A(this, Jn).continueRetry(),
                A(this, Jn).promise
        }
        if (t && this.setOptions(t),
        !this.options.queryFn) {
            const f = this.observers.find(h => h.options.queryFn);
            f && this.setOptions(f.options)
        }
        const s = new AbortController
          , a = f => {
            Object.defineProperty(f, "signal", {
                enumerable: !0,
                get: () => (be(this, Hi, !0),
                s.signal)
            })
        }
          , i = () => {
            const f = T2(this.options, n)
              , h = {
                queryKey: this.queryKey,
                meta: this.meta
            };
            return a(h),
            be(this, Hi, !1),
            this.options.persister ? this.options.persister(f, h, this) : f(h)
        }
          , o = {
            fetchOptions: n,
            options: this.options,
            queryKey: this.queryKey,
            state: this.state,
            fetchFn: i
        };
        a(o),
        (c = this.options.behavior) == null || c.onFetch(o, this),
        be(this, ml, this.state),
        (this.state.fetchStatus === "idle" || this.state.fetchMeta !== ((d = o.fetchOptions) == null ? void 0 : d.meta)) && ut(this, hs, aa).call(this, {
            type: "fetch",
            meta: (u = o.fetchOptions) == null ? void 0 : u.meta
        });
        const l = f => {
            var h, x, j, v;
            Kh(f) && f.silent || ut(this, hs, aa).call(this, {
                type: "error",
                error: f
            }),
            Kh(f) || ((x = (h = A(this, Hr).config).onError) == null || x.call(h, f, this),
            (v = (j = A(this, Hr).config).onSettled) == null || v.call(j, this.state.data, f, this)),
            this.scheduleGc()
        }
        ;
        return be(this, Jn, _2({
            initialPromise: n == null ? void 0 : n.initialPromise,
            fn: o.fetchFn,
            abort: s.abort.bind(s),
            onSuccess: f => {
                var h, x, j, v;
                if (f === void 0) {
                    l(new Error(`${this.queryHash} data is undefined`));
                    return
                }
                try {
                    this.setData(f)
                } catch (w) {
                    l(w);
                    return
                }
                (x = (h = A(this, Hr).config).onSuccess) == null || x.call(h, f, this),
                (v = (j = A(this, Hr).config).onSettled) == null || v.call(j, f, this.state.error, this),
                this.scheduleGc()
            }
            ,
            onError: l,
            onFail: (f, h) => {
                ut(this, hs, aa).call(this, {
                    type: "failed",
                    failureCount: f,
                    error: h
                })
            }
            ,
            onPause: () => {
                ut(this, hs, aa).call(this, {
                    type: "pause"
                })
            }
            ,
            onContinue: () => {
                ut(this, hs, aa).call(this, {
                    type: "continue"
                })
            }
            ,
            retry: o.options.retry,
            retryDelay: o.options.retryDelay,
            networkMode: o.options.networkMode,
            canRun: () => !0
        })),
        A(this, Jn).start()
    }
}
,
ul = new WeakMap,
ml = new WeakMap,
Hr = new WeakMap,
Jn = new WeakMap,
Pd = new WeakMap,
Hi = new WeakMap,
hs = new WeakSet,
aa = function(t) {
    const n = s => {
        switch (t.type) {
        case "failed":
            return {
                ...s,
                fetchFailureCount: t.failureCount,
                fetchFailureReason: t.error
            };
        case "pause":
            return {
                ...s,
                fetchStatus: "paused"
            };
        case "continue":
            return {
                ...s,
                fetchStatus: "fetching"
            };
        case "fetch":
            return {
                ...s,
                ...R2(s.data, this.options),
                fetchMeta: t.meta ?? null
            };
        case "success":
            return {
                ...s,
                data: t.data,
                dataUpdateCount: s.dataUpdateCount + 1,
                dataUpdatedAt: t.dataUpdatedAt ?? Date.now(),
                error: null,
                isInvalidated: !1,
                status: "success",
                ...!t.manual && {
                    fetchStatus: "idle",
                    fetchFailureCount: 0,
                    fetchFailureReason: null
                }
            };
        case "error":
            const a = t.error;
            return Kh(a) && a.revert && A(this, ml) ? {
                ...A(this, ml),
                fetchStatus: "idle"
            } : {
                ...s,
                error: a,
                errorUpdateCount: s.errorUpdateCount + 1,
                errorUpdatedAt: Date.now(),
                fetchFailureCount: s.fetchFailureCount + 1,
                fetchFailureReason: a,
                fetchStatus: "idle",
                status: "error"
            };
        case "invalidate":
            return {
                ...s,
                isInvalidated: !0
            };
        case "setState":
            return {
                ...s,
                ...t.state
            }
        }
    }
    ;
    this.state = n(this.state),
    En.batch( () => {
        this.observers.forEach(s => {
            s.onQueryUpdate()
        }
        ),
        A(this, Hr).notify({
            query: this,
            type: "updated",
            action: t
        })
    }
    )
}
,
dN);
function R2(e, t) {
    return {
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchStatus: P2(t.networkMode) ? "fetching" : "paused",
        ...e === void 0 && {
            error: null,
            status: "pending"
        }
    }
}
function pO(e) {
    const t = typeof e.initialData == "function" ? e.initialData() : e.initialData
      , n = t !== void 0
      , s = n ? typeof e.initialDataUpdatedAt == "function" ? e.initialDataUpdatedAt() : e.initialDataUpdatedAt : 0;
    return {
        data: t,
        dataUpdateCount: 0,
        dataUpdatedAt: n ? s ?? Date.now() : 0,
        error: null,
        errorUpdateCount: 0,
        errorUpdatedAt: 0,
        fetchFailureCount: 0,
        fetchFailureReason: null,
        fetchMeta: null,
        isInvalidated: !1,
        status: n ? "success" : "pending",
        fetchStatus: "idle"
    }
}
var Os, uN, xO = (uN = class extends Vl {
    constructor(t={}) {
        super();
        Be(this, Os);
        this.config = t,
        be(this, Os, new Map)
    }
    build(t, n, s) {
        const a = n.queryKey
          , i = n.queryHash ?? Jg(a, n);
        let o = this.get(i);
        return o || (o = new hO({
            cache: this,
            queryKey: a,
            queryHash: i,
            options: t.defaultQueryOptions(n),
            state: s,
            defaultOptions: t.getQueryDefaults(a)
        }),
        this.add(o)),
        o
    }
    add(t) {
        A(this, Os).has(t.queryHash) || (A(this, Os).set(t.queryHash, t),
        this.notify({
            type: "added",
            query: t
        }))
    }
    remove(t) {
        const n = A(this, Os).get(t.queryHash);
        n && (t.destroy(),
        n === t && A(this, Os).delete(t.queryHash),
        this.notify({
            type: "removed",
            query: t
        }))
    }
    clear() {
        En.batch( () => {
            this.getAll().forEach(t => {
                this.remove(t)
            }
            )
        }
        )
    }
    get(t) {
        return A(this, Os).get(t)
    }
    getAll() {
        return [...A(this, Os).values()]
    }
    find(t) {
        const n = {
            exact: !0,
            ...t
        };
        return this.getAll().find(s => qj(n, s))
    }
    findAll(t={}) {
        const n = this.getAll();
        return Object.keys(t).length > 0 ? n.filter(s => qj(t, s)) : n
    }
    notify(t) {
        En.batch( () => {
            this.listeners.forEach(n => {
                n(t)
            }
            )
        }
        )
    }
    onFocus() {
        En.batch( () => {
            this.getAll().forEach(t => {
                t.onFocus()
            }
            )
        }
        )
    }
    onOnline() {
        En.batch( () => {
            this.getAll().forEach(t => {
                t.onOnline()
            }
            )
        }
        )
    }
}
,
Os = new WeakMap,
uN), Ls, ar, Ki, Fs, Aa, mN, gO = (mN = class extends A2 {
    constructor(t) {
        super();
        Be(this, Fs);
        Be(this, Ls);
        Be(this, ar);
        Be(this, Ki);
        this.mutationId = t.mutationId,
        be(this, ar, t.mutationCache),
        be(this, Ls, []),
        this.state = t.state || I2(),
        this.setOptions(t.options),
        this.scheduleGc()
    }
    setOptions(t) {
        this.options = t,
        this.updateGcTime(this.options.gcTime)
    }
    get meta() {
        return this.options.meta
    }
    addObserver(t) {
        A(this, Ls).includes(t) || (A(this, Ls).push(t),
        this.clearGcTimeout(),
        A(this, ar).notify({
            type: "observerAdded",
            mutation: this,
            observer: t
        }))
    }
    removeObserver(t) {
        be(this, Ls, A(this, Ls).filter(n => n !== t)),
        this.scheduleGc(),
        A(this, ar).notify({
            type: "observerRemoved",
            mutation: this,
            observer: t
        })
    }
    optionalRemove() {
        A(this, Ls).length || (this.state.status === "pending" ? this.scheduleGc() : A(this, ar).remove(this))
    }
    continue() {
        var t;
        return ((t = A(this, Ki)) == null ? void 0 : t.continue()) ?? this.execute(this.state.variables)
    }
    async execute(t) {
        var a, i, o, l, c, d, u, f, h, x, j, v, w, y, p, g, b, k, S, C;
        be(this, Ki, _2({
            fn: () => this.options.mutationFn ? this.options.mutationFn(t) : Promise.reject(new Error("No mutationFn found")),
            onFail: (T, D) => {
                ut(this, Fs, Aa).call(this, {
                    type: "failed",
                    failureCount: T,
                    error: D
                })
            }
            ,
            onPause: () => {
                ut(this, Fs, Aa).call(this, {
                    type: "pause"
                })
            }
            ,
            onContinue: () => {
                ut(this, Fs, Aa).call(this, {
                    type: "continue"
                })
            }
            ,
            retry: this.options.retry ?? 0,
            retryDelay: this.options.retryDelay,
            networkMode: this.options.networkMode,
            canRun: () => A(this, ar).canRun(this)
        }));
        const n = this.state.status === "pending"
          , s = !A(this, Ki).canStart();
        try {
            if (!n) {
                ut(this, Fs, Aa).call(this, {
                    type: "pending",
                    variables: t,
                    isPaused: s
                }),
                await ((i = (a = A(this, ar).config).onMutate) == null ? void 0 : i.call(a, t, this));
                const D = await ((l = (o = this.options).onMutate) == null ? void 0 : l.call(o, t));
                D !== this.state.context && ut(this, Fs, Aa).call(this, {
                    type: "pending",
                    context: D,
                    variables: t,
                    isPaused: s
                })
            }
            const T = await A(this, Ki).start();
            return await ((d = (c = A(this, ar).config).onSuccess) == null ? void 0 : d.call(c, T, t, this.state.context, this)),
            await ((f = (u = this.options).onSuccess) == null ? void 0 : f.call(u, T, t, this.state.context)),
            await ((x = (h = A(this, ar).config).onSettled) == null ? void 0 : x.call(h, T, null, this.state.variables, this.state.context, this)),
            await ((v = (j = this.options).onSettled) == null ? void 0 : v.call(j, T, null, t, this.state.context)),
            ut(this, Fs, Aa).call(this, {
                type: "success",
                data: T
            }),
            T
        } catch (T) {
            try {
                throw await ((y = (w = A(this, ar).config).onError) == null ? void 0 : y.call(w, T, t, this.state.context, this)),
                await ((g = (p = this.options).onError) == null ? void 0 : g.call(p, T, t, this.state.context)),
                await ((k = (b = A(this, ar).config).onSettled) == null ? void 0 : k.call(b, void 0, T, this.state.variables, this.state.context, this)),
                await ((C = (S = this.options).onSettled) == null ? void 0 : C.call(S, void 0, T, t, this.state.context)),
                T
            } finally {
                ut(this, Fs, Aa).call(this, {
                    type: "error",
                    error: T
                })
            }
        } finally {
            A(this, ar).runNext(this)
        }
    }
}
,
Ls = new WeakMap,
ar = new WeakMap,
Ki = new WeakMap,
Fs = new WeakSet,
Aa = function(t) {
    const n = s => {
        switch (t.type) {
        case "failed":
            return {
                ...s,
                failureCount: t.failureCount,
                failureReason: t.error
            };
        case "pause":
            return {
                ...s,
                isPaused: !0
            };
        case "continue":
            return {
                ...s,
                isPaused: !1
            };
        case "pending":
            return {
                ...s,
                context: t.context,
                data: void 0,
                failureCount: 0,
                failureReason: null,
                error: null,
                isPaused: t.isPaused,
                status: "pending",
                variables: t.variables,
                submittedAt: Date.now()
            };
        case "success":
            return {
                ...s,
                data: t.data,
                failureCount: 0,
                failureReason: null,
                error: null,
                status: "success",
                isPaused: !1
            };
        case "error":
            return {
                ...s,
                data: void 0,
                error: t.error,
                failureCount: s.failureCount + 1,
                failureReason: t.error,
                isPaused: !1,
                status: "error"
            }
        }
    }
    ;
    this.state = n(this.state),
    En.batch( () => {
        A(this, Ls).forEach(s => {
            s.onMutationUpdate(t)
        }
        ),
        A(this, ar).notify({
            mutation: this,
            type: "updated",
            action: t
        })
    }
    )
}
,
mN);
function I2() {
    return {
        context: void 0,
        data: void 0,
        error: null,
        failureCount: 0,
        failureReason: null,
        isPaused: !1,
        status: "idle",
        variables: void 0,
        submittedAt: 0
    }
}
var Er, Ed, fN, vO = (fN = class extends Vl {
    constructor(t={}) {
        super();
        Be(this, Er);
        Be(this, Ed);
        this.config = t,
        be(this, Er, new Map),
        be(this, Ed, Date.now())
    }
    build(t, n, s) {
        const a = new gO({
            mutationCache: this,
            mutationId: ++mu(this, Ed)._,
            options: t.defaultMutationOptions(n),
            state: s
        });
        return this.add(a),
        a
    }
    add(t) {
        const n = _u(t)
          , s = A(this, Er).get(n) ?? [];
        s.push(t),
        A(this, Er).set(n, s),
        this.notify({
            type: "added",
            mutation: t
        })
    }
    remove(t) {
        var s;
        const n = _u(t);
        if (A(this, Er).has(n)) {
            const a = (s = A(this, Er).get(n)) == null ? void 0 : s.filter(i => i !== t);
            a && (a.length === 0 ? A(this, Er).delete(n) : A(this, Er).set(n, a))
        }
        this.notify({
            type: "removed",
            mutation: t
        })
    }
    canRun(t) {
        var s;
        const n = (s = A(this, Er).get(_u(t))) == null ? void 0 : s.find(a => a.state.status === "pending");
        return !n || n === t
    }
    runNext(t) {
        var s;
        const n = (s = A(this, Er).get(_u(t))) == null ? void 0 : s.find(a => a !== t && a.state.isPaused);
        return (n == null ? void 0 : n.continue()) ?? Promise.resolve()
    }
    clear() {
        En.batch( () => {
            this.getAll().forEach(t => {
                this.remove(t)
            }
            )
        }
        )
    }
    getAll() {
        return [...A(this, Er).values()].flat()
    }
    find(t) {
        const n = {
            exact: !0,
            ...t
        };
        return this.getAll().find(s => Wj(n, s))
    }
    findAll(t={}) {
        return this.getAll().filter(n => Wj(t, n))
    }
    notify(t) {
        En.batch( () => {
            this.listeners.forEach(n => {
                n(t)
            }
            )
        }
        )
    }
    resumePausedMutations() {
        const t = this.getAll().filter(n => n.state.isPaused);
        return En.batch( () => Promise.all(t.map(n => n.continue().catch(Kr))))
    }
}
,
Er = new WeakMap,
Ed = new WeakMap,
fN);
function _u(e) {
    var t;
    return ((t = e.options.scope) == null ? void 0 : t.id) ?? String(e.mutationId)
}
function Qj(e) {
    return {
        onFetch: (t, n) => {
            var u, f, h, x, j;
            const s = t.options
              , a = (h = (f = (u = t.fetchOptions) == null ? void 0 : u.meta) == null ? void 0 : f.fetchMore) == null ? void 0 : h.direction
              , i = ((x = t.state.data) == null ? void 0 : x.pages) || []
              , o = ((j = t.state.data) == null ? void 0 : j.pageParams) || [];
            let l = {
                pages: [],
                pageParams: []
            }
              , c = 0;
            const d = async () => {
                let v = !1;
                const w = g => {
                    Object.defineProperty(g, "signal", {
                        enumerable: !0,
                        get: () => (t.signal.aborted ? v = !0 : t.signal.addEventListener("abort", () => {
                            v = !0
                        }
                        ),
                        t.signal)
                    })
                }
                  , y = T2(t.options, t.fetchOptions)
                  , p = async (g, b, k) => {
                    if (v)
                        return Promise.reject();
                    if (b == null && g.pages.length)
                        return Promise.resolve(g);
                    const S = {
                        queryKey: t.queryKey,
                        pageParam: b,
                        direction: k ? "backward" : "forward",
                        meta: t.options.meta
                    };
                    w(S);
                    const C = await y(S)
                      , {maxPages: T} = t.options
                      , D = k ? cO : lO;
                    return {
                        pages: D(g.pages, C, T),
                        pageParams: D(g.pageParams, b, T)
                    }
                }
                ;
                if (a && i.length) {
                    const g = a === "backward"
                      , b = g ? yO : Gj
                      , k = {
                        pages: i,
                        pageParams: o
                    }
                      , S = b(s, k);
                    l = await p(k, S, g)
                } else {
                    const g = e ?? i.length;
                    do {
                        const b = c === 0 ? o[0] ?? s.initialPageParam : Gj(s, l);
                        if (c > 0 && b == null)
                            break;
                        l = await p(l, b),
                        c++
                    } while (c < g)
                }
                return l
            }
            ;
            t.options.persister ? t.fetchFn = () => {
                var v, w;
                return (w = (v = t.options).persister) == null ? void 0 : w.call(v, d, {
                    queryKey: t.queryKey,
                    meta: t.options.meta,
                    signal: t.signal
                }, n)
            }
            : t.fetchFn = d
        }
    }
}
function Gj(e, {pages: t, pageParams: n}) {
    const s = t.length - 1;
    return t.length > 0 ? e.getNextPageParam(t[s], t, n[s], n) : void 0
}
function yO(e, {pages: t, pageParams: n}) {
    var s;
    return t.length > 0 ? (s = e.getPreviousPageParam) == null ? void 0 : s.call(e, t[0], t, n[0], n) : void 0
}
var dn, Va, Ba, fl, hl, Ua, pl, xl, hN, jO = (hN = class {
    constructor(e={}) {
        Be(this, dn);
        Be(this, Va);
        Be(this, Ba);
        Be(this, fl);
        Be(this, hl);
        Be(this, Ua);
        Be(this, pl);
        Be(this, xl);
        be(this, dn, e.queryCache || new xO),
        be(this, Va, e.mutationCache || new vO),
        be(this, Ba, e.defaultOptions || {}),
        be(this, fl, new Map),
        be(this, hl, new Map),
        be(this, Ua, 0)
    }
    mount() {
        mu(this, Ua)._++,
        A(this, Ua) === 1 && (be(this, pl, tv.subscribe(async e => {
            e && (await this.resumePausedMutations(),
            A(this, dn).onFocus())
        }
        )),
        be(this, xl, Am.subscribe(async e => {
            e && (await this.resumePausedMutations(),
            A(this, dn).onOnline())
        }
        )))
    }
    unmount() {
        var e, t;
        mu(this, Ua)._--,
        A(this, Ua) === 0 && ((e = A(this, pl)) == null || e.call(this),
        be(this, pl, void 0),
        (t = A(this, xl)) == null || t.call(this),
        be(this, xl, void 0))
    }
    isFetching(e) {
        return A(this, dn).findAll({
            ...e,
            fetchStatus: "fetching"
        }).length
    }
    isMutating(e) {
        return A(this, Va).findAll({
            ...e,
            status: "pending"
        }).length
    }
    getQueryData(e) {
        var n;
        const t = this.defaultQueryOptions({
            queryKey: e
        });
        return (n = A(this, dn).get(t.queryHash)) == null ? void 0 : n.state.data
    }
    ensureQueryData(e) {
        const t = this.getQueryData(e.queryKey);
        if (t === void 0)
            return this.fetchQuery(e);
        {
            const n = this.defaultQueryOptions(e)
              , s = A(this, dn).build(this, n);
            return e.revalidateIfStale && s.isStaleByTime(Jo(n.staleTime, s)) && this.prefetchQuery(n),
            Promise.resolve(t)
        }
    }
    getQueriesData(e) {
        return A(this, dn).findAll(e).map( ({queryKey: t, state: n}) => {
            const s = n.data;
            return [t, s]
        }
        )
    }
    setQueryData(e, t, n) {
        const s = this.defaultQueryOptions({
            queryKey: e
        })
          , a = A(this, dn).get(s.queryHash)
          , i = a == null ? void 0 : a.state.data
          , o = iO(t, i);
        if (o !== void 0)
            return A(this, dn).build(this, s).setData(o, {
                ...n,
                manual: !0
            })
    }
    setQueriesData(e, t, n) {
        return En.batch( () => A(this, dn).findAll(e).map( ({queryKey: s}) => [s, this.setQueryData(s, t, n)]))
    }
    getQueryState(e) {
        var n;
        const t = this.defaultQueryOptions({
            queryKey: e
        });
        return (n = A(this, dn).get(t.queryHash)) == null ? void 0 : n.state
    }
    removeQueries(e) {
        const t = A(this, dn);
        En.batch( () => {
            t.findAll(e).forEach(n => {
                t.remove(n)
            }
            )
        }
        )
    }
    resetQueries(e, t) {
        const n = A(this, dn)
          , s = {
            type: "active",
            ...e
        };
        return En.batch( () => (n.findAll(e).forEach(a => {
            a.reset()
        }
        ),
        this.refetchQueries(s, t)))
    }
    cancelQueries(e={}, t={}) {
        const n = {
            revert: !0,
            ...t
        }
          , s = En.batch( () => A(this, dn).findAll(e).map(a => a.cancel(n)));
        return Promise.all(s).then(Kr).catch(Kr)
    }
    invalidateQueries(e={}, t={}) {
        return En.batch( () => {
            if (A(this, dn).findAll(e).forEach(s => {
                s.invalidate()
            }
            ),
            e.refetchType === "none")
                return Promise.resolve();
            const n = {
                ...e,
                type: e.refetchType ?? e.type ?? "active"
            };
            return this.refetchQueries(n, t)
        }
        )
    }
    refetchQueries(e={}, t) {
        const n = {
            ...t,
            cancelRefetch: (t == null ? void 0 : t.cancelRefetch) ?? !0
        }
          , s = En.batch( () => A(this, dn).findAll(e).filter(a => !a.isDisabled()).map(a => {
            let i = a.fetch(void 0, n);
            return n.throwOnError || (i = i.catch(Kr)),
            a.state.fetchStatus === "paused" ? Promise.resolve() : i
        }
        ));
        return Promise.all(s).then(Kr)
    }
    fetchQuery(e) {
        const t = this.defaultQueryOptions(e);
        t.retry === void 0 && (t.retry = !1);
        const n = A(this, dn).build(this, t);
        return n.isStaleByTime(Jo(t.staleTime, n)) ? n.fetch(t) : Promise.resolve(n.state.data)
    }
    prefetchQuery(e) {
        return this.fetchQuery(e).then(Kr).catch(Kr)
    }
    fetchInfiniteQuery(e) {
        return e.behavior = Qj(e.pages),
        this.fetchQuery(e)
    }
    prefetchInfiniteQuery(e) {
        return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)
    }
    ensureInfiniteQueryData(e) {
        return e.behavior = Qj(e.pages),
        this.ensureQueryData(e)
    }
    resumePausedMutations() {
        return Am.isOnline() ? A(this, Va).resumePausedMutations() : Promise.resolve()
    }
    getQueryCache() {
        return A(this, dn)
    }
    getMutationCache() {
        return A(this, Va)
    }
    getDefaultOptions() {
        return A(this, Ba)
    }
    setDefaultOptions(e) {
        be(this, Ba, e)
    }
    setQueryDefaults(e, t) {
        A(this, fl).set(lo(e), {
            queryKey: e,
            defaultOptions: t
        })
    }
    getQueryDefaults(e) {
        const t = [...A(this, fl).values()];
        let n = {};
        return t.forEach(s => {
            sd(e, s.queryKey) && (n = {
                ...n,
                ...s.defaultOptions
            })
        }
        ),
        n
    }
    setMutationDefaults(e, t) {
        A(this, hl).set(lo(e), {
            mutationKey: e,
            defaultOptions: t
        })
    }
    getMutationDefaults(e) {
        const t = [...A(this, hl).values()];
        let n = {};
        return t.forEach(s => {
            sd(e, s.mutationKey) && (n = {
                ...n,
                ...s.defaultOptions
            })
        }
        ),
        n
    }
    defaultQueryOptions(e) {
        if (e._defaulted)
            return e;
        const t = {
            ...A(this, Ba).queries,
            ...this.getQueryDefaults(e.queryKey),
            ...e,
            _defaulted: !0
        };
        return t.queryHash || (t.queryHash = Jg(t.queryKey, t)),
        t.refetchOnReconnect === void 0 && (t.refetchOnReconnect = t.networkMode !== "always"),
        t.throwOnError === void 0 && (t.throwOnError = !!t.suspense),
        !t.networkMode && t.persister && (t.networkMode = "offlineFirst"),
        t.enabled !== !0 && t.queryFn === ev && (t.enabled = !1),
        t
    }
    defaultMutationOptions(e) {
        return e != null && e._defaulted ? e : {
            ...A(this, Ba).mutations,
            ...(e == null ? void 0 : e.mutationKey) && this.getMutationDefaults(e.mutationKey),
            ...e,
            _defaulted: !0
        }
    }
    clear() {
        A(this, dn).clear(),
        A(this, Va).clear()
    }
}
,
dn = new WeakMap,
Va = new WeakMap,
Ba = new WeakMap,
fl = new WeakMap,
hl = new WeakMap,
Ua = new WeakMap,
pl = new WeakMap,
xl = new WeakMap,
hN), vr, wt, _d, ir, Qi, gl, qa, $s, Ad, vl, yl, Gi, Xi, Wa, jl, Lt, Nc, px, xx, gx, vx, yx, jx, wx, D2, pN, wO = (pN = class extends Vl {
    constructor(t, n) {
        super();
        Be(this, Lt);
        Be(this, vr);
        Be(this, wt);
        Be(this, _d);
        Be(this, ir);
        Be(this, Qi);
        Be(this, gl);
        Be(this, qa);
        Be(this, $s);
        Be(this, Ad);
        Be(this, vl);
        Be(this, yl);
        Be(this, Gi);
        Be(this, Xi);
        Be(this, Wa);
        Be(this, jl, new Set);
        this.options = n,
        be(this, vr, t),
        be(this, $s, null),
        be(this, qa, hx()),
        this.options.experimental_prefetchInRender || A(this, qa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),
        this.bindMethods(),
        this.setOptions(n)
    }
    bindMethods() {
        this.refetch = this.refetch.bind(this)
    }
    onSubscribe() {
        this.listeners.size === 1 && (A(this, wt).addObserver(this),
        Xj(A(this, wt), this.options) ? ut(this, Lt, Nc).call(this) : this.updateResult(),
        ut(this, Lt, vx).call(this))
    }
    onUnsubscribe() {
        this.hasListeners() || this.destroy()
    }
    shouldFetchOnReconnect() {
        return Nx(A(this, wt), this.options, this.options.refetchOnReconnect)
    }
    shouldFetchOnWindowFocus() {
        return Nx(A(this, wt), this.options, this.options.refetchOnWindowFocus)
    }
    destroy() {
        this.listeners = new Set,
        ut(this, Lt, yx).call(this),
        ut(this, Lt, jx).call(this),
        A(this, wt).removeObserver(this)
    }
    setOptions(t, n) {
        const s = this.options
          , a = A(this, wt);
        if (this.options = A(this, vr).defaultQueryOptions(t),
        this.options.enabled !== void 0 && typeof this.options.enabled != "boolean" && typeof this.options.enabled != "function" && typeof gs(this.options.enabled, A(this, wt)) != "boolean")
            throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");
        ut(this, Lt, wx).call(this),
        A(this, wt).setOptions(this.options),
        s._defaulted && !_m(this.options, s) && A(this, vr).getQueryCache().notify({
            type: "observerOptionsUpdated",
            query: A(this, wt),
            observer: this
        });
        const i = this.hasListeners();
        i && Yj(A(this, wt), a, this.options, s) && ut(this, Lt, Nc).call(this),
        this.updateResult(n),
        i && (A(this, wt) !== a || gs(this.options.enabled, A(this, wt)) !== gs(s.enabled, A(this, wt)) || Jo(this.options.staleTime, A(this, wt)) !== Jo(s.staleTime, A(this, wt))) && ut(this, Lt, px).call(this);
        const o = ut(this, Lt, xx).call(this);
        i && (A(this, wt) !== a || gs(this.options.enabled, A(this, wt)) !== gs(s.enabled, A(this, wt)) || o !== A(this, Wa)) && ut(this, Lt, gx).call(this, o)
    }
    getOptimisticResult(t) {
        const n = A(this, vr).getQueryCache().build(A(this, vr), t)
          , s = this.createResult(n, t);
        return bO(this, s) && (be(this, ir, s),
        be(this, gl, this.options),
        be(this, Qi, A(this, wt).state)),
        s
    }
    getCurrentResult() {
        return A(this, ir)
    }
    trackResult(t, n) {
        const s = {};
        return Object.keys(t).forEach(a => {
            Object.defineProperty(s, a, {
                configurable: !1,
                enumerable: !0,
                get: () => (this.trackProp(a),
                n == null || n(a),
                t[a])
            })
        }
        ),
        s
    }
    trackProp(t) {
        A(this, jl).add(t)
    }
    getCurrentQuery() {
        return A(this, wt)
    }
    refetch({...t}={}) {
        return this.fetch({
            ...t
        })
    }
    fetchOptimistic(t) {
        const n = A(this, vr).defaultQueryOptions(t)
          , s = A(this, vr).getQueryCache().build(A(this, vr), n);
        return s.fetch().then( () => this.createResult(s, n))
    }
    fetch(t) {
        return ut(this, Lt, Nc).call(this, {
            ...t,
            cancelRefetch: t.cancelRefetch ?? !0
        }).then( () => (this.updateResult(),
        A(this, ir)))
    }
    createResult(t, n) {
        var T;
        const s = A(this, wt)
          , a = this.options
          , i = A(this, ir)
          , o = A(this, Qi)
          , l = A(this, gl)
          , d = t !== s ? t.state : A(this, _d)
          , {state: u} = t;
        let f = {
            ...u
        }, h = !1, x;
        if (n._optimisticResults) {
            const D = this.hasListeners()
              , L = !D && Xj(t, n)
              , G = D && Yj(t, s, n, a);
            (L || G) && (f = {
                ...f,
                ...R2(u.data, t.options)
            }),
            n._optimisticResults === "isRestoring" && (f.fetchStatus = "idle")
        }
        let {error: j, errorUpdatedAt: v, status: w} = f;
        if (n.select && f.data !== void 0)
            if (i && f.data === (o == null ? void 0 : o.data) && n.select === A(this, Ad))
                x = A(this, vl);
            else
                try {
                    be(this, Ad, n.select),
                    x = n.select(f.data),
                    x = fx(i == null ? void 0 : i.data, x, n),
                    be(this, vl, x),
                    be(this, $s, null)
                } catch (D) {
                    be(this, $s, D)
                }
        else
            x = f.data;
        if (n.placeholderData !== void 0 && x === void 0 && w === "pending") {
            let D;
            if (i != null && i.isPlaceholderData && n.placeholderData === (l == null ? void 0 : l.placeholderData))
                D = i.data;
            else if (D = typeof n.placeholderData == "function" ? n.placeholderData((T = A(this, yl)) == null ? void 0 : T.state.data, A(this, yl)) : n.placeholderData,
            n.select && D !== void 0)
                try {
                    D = n.select(D),
                    be(this, $s, null)
                } catch (L) {
                    be(this, $s, L)
                }
            D !== void 0 && (w = "success",
            x = fx(i == null ? void 0 : i.data, D, n),
            h = !0)
        }
        A(this, $s) && (j = A(this, $s),
        x = A(this, vl),
        v = Date.now(),
        w = "error");
        const y = f.fetchStatus === "fetching"
          , p = w === "pending"
          , g = w === "error"
          , b = p && y
          , k = x !== void 0
          , C = {
            status: w,
            fetchStatus: f.fetchStatus,
            isPending: p,
            isSuccess: w === "success",
            isError: g,
            isInitialLoading: b,
            isLoading: b,
            data: x,
            dataUpdatedAt: f.dataUpdatedAt,
            error: j,
            errorUpdatedAt: v,
            failureCount: f.fetchFailureCount,
            failureReason: f.fetchFailureReason,
            errorUpdateCount: f.errorUpdateCount,
            isFetched: f.dataUpdateCount > 0 || f.errorUpdateCount > 0,
            isFetchedAfterMount: f.dataUpdateCount > d.dataUpdateCount || f.errorUpdateCount > d.errorUpdateCount,
            isFetching: y,
            isRefetching: y && !p,
            isLoadingError: g && !k,
            isPaused: f.fetchStatus === "paused",
            isPlaceholderData: h,
            isRefetchError: g && k,
            isStale: nv(t, n),
            refetch: this.refetch,
            promise: A(this, qa)
        };
        if (this.options.experimental_prefetchInRender) {
            const D = M => {
                C.status === "error" ? M.reject(C.error) : C.data !== void 0 && M.resolve(C.data)
            }
              , L = () => {
                const M = be(this, qa, C.promise = hx());
                D(M)
            }
              , G = A(this, qa);
            switch (G.status) {
            case "pending":
                t.queryHash === s.queryHash && D(G);
                break;
            case "fulfilled":
                (C.status === "error" || C.data !== G.value) && L();
                break;
            case "rejected":
                (C.status !== "error" || C.error !== G.reason) && L();
                break
            }
        }
        return C
    }
    updateResult(t) {
        const n = A(this, ir)
          , s = this.createResult(A(this, wt), this.options);
        if (be(this, Qi, A(this, wt).state),
        be(this, gl, this.options),
        A(this, Qi).data !== void 0 && be(this, yl, A(this, wt)),
        _m(s, n))
            return;
        be(this, ir, s);
        const a = {}
          , i = () => {
            if (!n)
                return !0;
            const {notifyOnChangeProps: o} = this.options
              , l = typeof o == "function" ? o() : o;
            if (l === "all" || !l && !A(this, jl).size)
                return !0;
            const c = new Set(l ?? A(this, jl));
            return this.options.throwOnError && c.add("error"),
            Object.keys(A(this, ir)).some(d => {
                const u = d;
                return A(this, ir)[u] !== n[u] && c.has(u)
            }
            )
        }
        ;
        (t == null ? void 0 : t.listeners) !== !1 && i() && (a.listeners = !0),
        ut(this, Lt, D2).call(this, {
            ...a,
            ...t
        })
    }
    onQueryUpdate() {
        this.updateResult(),
        this.hasListeners() && ut(this, Lt, vx).call(this)
    }
}
,
vr = new WeakMap,
wt = new WeakMap,
_d = new WeakMap,
ir = new WeakMap,
Qi = new WeakMap,
gl = new WeakMap,
qa = new WeakMap,
$s = new WeakMap,
Ad = new WeakMap,
vl = new WeakMap,
yl = new WeakMap,
Gi = new WeakMap,
Xi = new WeakMap,
Wa = new WeakMap,
jl = new WeakMap,
Lt = new WeakSet,
Nc = function(t) {
    ut(this, Lt, wx).call(this);
    let n = A(this, wt).fetch(this.options, t);
    return t != null && t.throwOnError || (n = n.catch(Kr)),
    n
}
,
px = function() {
    ut(this, Lt, yx).call(this);
    const t = Jo(this.options.staleTime, A(this, wt));
    if (oo || A(this, ir).isStale || !ux(t))
        return;
    const s = C2(A(this, ir).dataUpdatedAt, t) + 1;
    be(this, Gi, setTimeout( () => {
        A(this, ir).isStale || this.updateResult()
    }
    , s))
}
,
xx = function() {
    return (typeof this.options.refetchInterval == "function" ? this.options.refetchInterval(A(this, wt)) : this.options.refetchInterval) ?? !1
}
,
gx = function(t) {
    ut(this, Lt, jx).call(this),
    be(this, Wa, t),
    !(oo || gs(this.options.enabled, A(this, wt)) === !1 || !ux(A(this, Wa)) || A(this, Wa) === 0) && be(this, Xi, setInterval( () => {
        (this.options.refetchIntervalInBackground || tv.isFocused()) && ut(this, Lt, Nc).call(this)
    }
    , A(this, Wa)))
}
,
vx = function() {
    ut(this, Lt, px).call(this),
    ut(this, Lt, gx).call(this, ut(this, Lt, xx).call(this))
}
,
yx = function() {
    A(this, Gi) && (clearTimeout(A(this, Gi)),
    be(this, Gi, void 0))
}
,
jx = function() {
    A(this, Xi) && (clearInterval(A(this, Xi)),
    be(this, Xi, void 0))
}
,
wx = function() {
    const t = A(this, vr).getQueryCache().build(A(this, vr), this.options);
    if (t === A(this, wt))
        return;
    const n = A(this, wt);
    be(this, wt, t),
    be(this, _d, t.state),
    this.hasListeners() && (n == null || n.removeObserver(this),
    t.addObserver(this))
}
,
D2 = function(t) {
    En.batch( () => {
        t.listeners && this.listeners.forEach(n => {
            n(A(this, ir))
        }
        ),
        A(this, vr).getQueryCache().notify({
            query: A(this, wt),
            type: "observerResultsUpdated"
        })
    }
    )
}
,
pN);
function NO(e, t) {
    return gs(t.enabled, e) !== !1 && e.state.data === void 0 && !(e.state.status === "error" && t.retryOnMount === !1)
}
function Xj(e, t) {
    return NO(e, t) || e.state.data !== void 0 && Nx(e, t, t.refetchOnMount)
}
function Nx(e, t, n) {
    if (gs(t.enabled, e) !== !1) {
        const s = typeof n == "function" ? n(e) : n;
        return s === "always" || s !== !1 && nv(e, t)
    }
    return !1
}
function Yj(e, t, n, s) {
    return (e !== t || gs(s.enabled, e) === !1) && (!n.suspense || e.state.status !== "error") && nv(e, n)
}
function nv(e, t) {
    return gs(t.enabled, e) !== !1 && e.isStaleByTime(Jo(t.staleTime, e))
}
function bO(e, t) {
    return !_m(e.getCurrentResult(), t)
}
var Ha, Ka, yr, ua, xa, Zu, bx, xN, SO = (xN = class extends Vl {
    constructor(n, s) {
        super();
        Be(this, xa);
        Be(this, Ha);
        Be(this, Ka);
        Be(this, yr);
        Be(this, ua);
        be(this, Ha, n),
        this.setOptions(s),
        this.bindMethods(),
        ut(this, xa, Zu).call(this)
    }
    bindMethods() {
        this.mutate = this.mutate.bind(this),
        this.reset = this.reset.bind(this)
    }
    setOptions(n) {
        var a;
        const s = this.options;
        this.options = A(this, Ha).defaultMutationOptions(n),
        _m(this.options, s) || A(this, Ha).getMutationCache().notify({
            type: "observerOptionsUpdated",
            mutation: A(this, yr),
            observer: this
        }),
        s != null && s.mutationKey && this.options.mutationKey && lo(s.mutationKey) !== lo(this.options.mutationKey) ? this.reset() : ((a = A(this, yr)) == null ? void 0 : a.state.status) === "pending" && A(this, yr).setOptions(this.options)
    }
    onUnsubscribe() {
        var n;
        this.hasListeners() || (n = A(this, yr)) == null || n.removeObserver(this)
    }
    onMutationUpdate(n) {
        ut(this, xa, Zu).call(this),
        ut(this, xa, bx).call(this, n)
    }
    getCurrentResult() {
        return A(this, Ka)
    }
    reset() {
        var n;
        (n = A(this, yr)) == null || n.removeObserver(this),
        be(this, yr, void 0),
        ut(this, xa, Zu).call(this),
        ut(this, xa, bx).call(this)
    }
    mutate(n, s) {
        var a;
        return be(this, ua, s),
        (a = A(this, yr)) == null || a.removeObserver(this),
        be(this, yr, A(this, Ha).getMutationCache().build(A(this, Ha), this.options)),
        A(this, yr).addObserver(this),
        A(this, yr).execute(n)
    }
}
,
Ha = new WeakMap,
Ka = new WeakMap,
yr = new WeakMap,
ua = new WeakMap,
xa = new WeakSet,
Zu = function() {
    var s;
    const n = ((s = A(this, yr)) == null ? void 0 : s.state) ?? I2();
    be(this, Ka, {
        ...n,
        isPending: n.status === "pending",
        isSuccess: n.status === "success",
        isError: n.status === "error",
        isIdle: n.status === "idle",
        mutate: this.mutate,
        reset: this.reset
    })
}
,
bx = function(n) {
    En.batch( () => {
        var s, a, i, o, l, c, d, u;
        if (A(this, ua) && this.hasListeners()) {
            const f = A(this, Ka).variables
              , h = A(this, Ka).context;
            (n == null ? void 0 : n.type) === "success" ? ((a = (s = A(this, ua)).onSuccess) == null || a.call(s, n.data, f, h),
            (o = (i = A(this, ua)).onSettled) == null || o.call(i, n.data, null, f, h)) : (n == null ? void 0 : n.type) === "error" && ((c = (l = A(this, ua)).onError) == null || c.call(l, n.error, f, h),
            (u = (d = A(this, ua)).onSettled) == null || u.call(d, void 0, n.error, f, h))
        }
        this.listeners.forEach(f => {
            f(A(this, Ka))
        }
        )
    }
    )
}
,
xN), M2 = m.createContext(void 0), O2 = e => {
    const t = m.useContext(M2);
    if (!t)
        throw new Error("No QueryClient set, use QueryClientProvider to set one");
    return t
}
, CO = ({client: e, children: t}) => (m.useEffect( () => (e.mount(),
() => {
    e.unmount()
}
), [e]),
r.jsx(M2.Provider, {
    value: e,
    children: t
})), L2 = m.createContext(!1), kO = () => m.useContext(L2);
L2.Provider;
function TO() {
    let e = !1;
    return {
        clearReset: () => {
            e = !1
        }
        ,
        reset: () => {
            e = !0
        }
        ,
        isReset: () => e
    }
}
var PO = m.createContext(TO())
  , EO = () => m.useContext(PO);
function F2(e, t) {
    return typeof e == "function" ? e(...t) : !!e
}
function Sx() {}
var _O = (e, t) => {
    (e.suspense || e.throwOnError || e.experimental_prefetchInRender) && (t.isReset() || (e.retryOnMount = !1))
}
  , AO = e => {
    m.useEffect( () => {
        e.clearReset()
    }
    , [e])
}
  , RO = ({result: e, errorResetBoundary: t, throwOnError: n, query: s}) => e.isError && !t.isReset() && !e.isFetching && s && F2(n, [e.error, s])
  , IO = e => {
    e.suspense && (e.staleTime === void 0 && (e.staleTime = 1e3),
    typeof e.gcTime == "number" && (e.gcTime = Math.max(e.gcTime, 1e3)))
}
  , DO = (e, t) => e.isLoading && e.isFetching && !t
  , MO = (e, t) => (e == null ? void 0 : e.suspense) && t.isPending
  , Zj = (e, t, n) => t.fetchOptimistic(e).catch( () => {
    n.clearReset()
}
);
function OO(e, t, n) {
    var u, f, h, x, j;
    const s = O2()
      , a = kO()
      , i = EO()
      , o = s.defaultQueryOptions(e);
    (f = (u = s.getDefaultOptions().queries) == null ? void 0 : u._experimental_beforeQuery) == null || f.call(u, o),
    o._optimisticResults = a ? "isRestoring" : "optimistic",
    IO(o),
    _O(o, i),
    AO(i);
    const l = !s.getQueryCache().get(o.queryHash)
      , [c] = m.useState( () => new t(s,o))
      , d = c.getOptimisticResult(o);
    if (m.useSyncExternalStore(m.useCallback(v => {
        const w = a ? Sx : c.subscribe(En.batchCalls(v));
        return c.updateResult(),
        w
    }
    , [c, a]), () => c.getCurrentResult(), () => c.getCurrentResult()),
    m.useEffect( () => {
        c.setOptions(o, {
            listeners: !1
        })
    }
    , [o, c]),
    MO(o, d))
        throw Zj(o, c, i);
    if (RO({
        result: d,
        errorResetBoundary: i,
        throwOnError: o.throwOnError,
        query: s.getQueryCache().get(o.queryHash)
    }))
        throw d.error;
    if ((x = (h = s.getDefaultOptions().queries) == null ? void 0 : h._experimental_afterQuery) == null || x.call(h, o, d),
    o.experimental_prefetchInRender && !oo && DO(d, a)) {
        const v = l ? Zj(o, c, i) : (j = s.getQueryCache().get(o.queryHash)) == null ? void 0 : j.promise;
        v == null || v.catch(Sx).finally( () => {
            c.updateResult()
        }
        )
    }
    return o.notifyOnChangeProps ? d : c.trackResult(d)
}
function Oe(e, t) {
    return OO(e, wO)
}
function Fe(e, t) {
    const n = O2()
      , [s] = m.useState( () => new SO(n,e));
    m.useEffect( () => {
        s.setOptions(e)
    }
    , [s, e]);
    const a = m.useSyncExternalStore(m.useCallback(o => s.subscribe(En.batchCalls(o)), [s]), () => s.getCurrentResult(), () => s.getCurrentResult())
      , i = m.useCallback( (o, l) => {
        s.mutate(o, l).catch(Sx)
    }
    , [s]);
    if (a.error && F2(s.options.throwOnError, [a.error]))
        throw a.error;
    return {
        ...a,
        mutate: i,
        mutateAsync: a.mutate
    }
}
async function $2(e) {
    if (!e.ok) {
        const t = await e.text() || e.statusText;
        throw new Error(`${e.status}: ${t}`)
    }
}
async function Ae(e, t, n) {
    const s = await fetch(t, {
        method: e,
        headers: n ? {
            "Content-Type": "application/json"
        } : {},
        body: n ? JSON.stringify(n) : void 0,
        credentials: "include"
    });
    return await $2(s),
    s
}
const LO = ({on401: e}) => async ({queryKey: t}) => {
    const n = await fetch(t.join("/"), {
        credentials: "include"
    });
    return e === "returnNull" && n.status === 401 ? null : (await $2(n),
    await n.json())
}
  , le = new jO({
    defaultOptions: {
        queries: {
            queryFn: LO({
                on401: "throw"
            }),
            refetchInterval: !1,
            refetchOnWindowFocus: !1,
            staleTime: 1 / 0,
            retry: !1
        },
        mutations: {
            retry: !1
        }
    }
})
  , FO = 1
  , $O = 1e6;
let Qh = 0;
function zO() {
    return Qh = (Qh + 1) % Number.MAX_SAFE_INTEGER,
    Qh.toString()
}
const Gh = new Map
  , Jj = e => {
    if (Gh.has(e))
        return;
    const t = setTimeout( () => {
        Gh.delete(e),
        Oc({
            type: "REMOVE_TOAST",
            toastId: e
        })
    }
    , $O);
    Gh.set(e, t)
}
  , VO = (e, t) => {
    switch (t.type) {
    case "ADD_TOAST":
        return {
            ...e,
            toasts: [t.toast, ...e.toasts].slice(0, FO)
        };
    case "UPDATE_TOAST":
        return {
            ...e,
            toasts: e.toasts.map(n => n.id === t.toast.id ? {
                ...n,
                ...t.toast
            } : n)
        };
    case "DISMISS_TOAST":
        {
            const {toastId: n} = t;
            return n ? Jj(n) : e.toasts.forEach(s => {
                Jj(s.id)
            }
            ),
            {
                ...e,
                toasts: e.toasts.map(s => s.id === n || n === void 0 ? {
                    ...s,
                    open: !1
                } : s)
            }
        }
    case "REMOVE_TOAST":
        return t.toastId === void 0 ? {
            ...e,
            toasts: []
        } : {
            ...e,
            toasts: e.toasts.filter(n => n.id !== t.toastId)
        }
    }
}
  , Ju = [];
let em = {
    toasts: []
};
function Oc(e) {
    em = VO(em, e),
    Ju.forEach(t => {
        t(em)
    }
    )
}
function BO({...e}) {
    const t = zO()
      , n = a => Oc({
        type: "UPDATE_TOAST",
        toast: {
            ...a,
            id: t
        }
    })
      , s = () => Oc({
        type: "DISMISS_TOAST",
        toastId: t
    });
    return Oc({
        type: "ADD_TOAST",
        toast: {
            ...e,
            id: t,
            open: !0,
            onOpenChange: a => {
                a || s()
            }
        }
    }),
    {
        id: t,
        dismiss: s,
        update: n
    }
}
function Ht() {
    const [e,t] = m.useState(em);
    return m.useEffect( () => (Ju.push(t),
    () => {
        const n = Ju.indexOf(t);
        n > -1 && Ju.splice(n, 1)
    }
    ), [e]),
    {
        ...e,
        toast: BO,
        dismiss: n => Oc({
            type: "DISMISS_TOAST",
            toastId: n
        })
    }
}
function ue(e, t, {checkForDefaultPrevented: n=!0}={}) {
    return function(a) {
        if (e == null || e(a),
        n === !1 || !a.defaultPrevented)
            return t == null ? void 0 : t(a)
    }
}
function ew(e, t) {
    if (typeof e == "function")
        return e(t);
    e != null && (e.current = t)
}
function _f(...e) {
    return t => {
        let n = !1;
        const s = e.map(a => {
            const i = ew(a, t);
            return !n && typeof i == "function" && (n = !0),
            i
        }
        );
        if (n)
            return () => {
                for (let a = 0; a < s.length; a++) {
                    const i = s[a];
                    typeof i == "function" ? i() : ew(e[a], null)
                }
            }
    }
}
function at(...e) {
    return m.useCallback(_f(...e), e)
}
function UO(e, t) {
    const n = m.createContext(t)
      , s = i => {
        const {children: o, ...l} = i
          , c = m.useMemo( () => l, Object.values(l));
        return r.jsx(n.Provider, {
            value: c,
            children: o
        })
    }
    ;
    s.displayName = e + "Provider";
    function a(i) {
        const o = m.useContext(n);
        if (o)
            return o;
        if (t !== void 0)
            return t;
        throw new Error(`\`${i}\` must be used within \`${e}\``)
    }
    return [s, a]
}
function sr(e, t=[]) {
    let n = [];
    function s(i, o) {
        const l = m.createContext(o)
          , c = n.length;
        n = [...n, o];
        const d = f => {
            var y;
            const {scope: h, children: x, ...j} = f
              , v = ((y = h == null ? void 0 : h[e]) == null ? void 0 : y[c]) || l
              , w = m.useMemo( () => j, Object.values(j));
            return r.jsx(v.Provider, {
                value: w,
                children: x
            })
        }
        ;
        d.displayName = i + "Provider";
        function u(f, h) {
            var v;
            const x = ((v = h == null ? void 0 : h[e]) == null ? void 0 : v[c]) || l
              , j = m.useContext(x);
            if (j)
                return j;
            if (o !== void 0)
                return o;
            throw new Error(`\`${f}\` must be used within \`${i}\``)
        }
        return [d, u]
    }
    const a = () => {
        const i = n.map(o => m.createContext(o));
        return function(l) {
            const c = (l == null ? void 0 : l[e]) || i;
            return m.useMemo( () => ({
                [`__scope${e}`]: {
                    ...l,
                    [e]: c
                }
            }), [l, c])
        }
    }
    ;
    return a.scopeName = e,
    [s, qO(a, ...t)]
}
function qO(...e) {
    const t = e[0];
    if (e.length === 1)
        return t;
    const n = () => {
        const s = e.map(a => ({
            useScope: a(),
            scopeName: a.scopeName
        }));
        return function(i) {
            const o = s.reduce( (l, {useScope: c, scopeName: d}) => {
                const f = c(i)[`__scope${d}`];
                return {
                    ...l,
                    ...f
                }
            }
            , {});
            return m.useMemo( () => ({
                [`__scope${t.scopeName}`]: o
            }), [o])
        }
    }
    ;
    return n.scopeName = t.scopeName,
    n
}
function co(e) {
    const t = WO(e)
      , n = m.forwardRef( (s, a) => {
        const {children: i, ...o} = s
          , l = m.Children.toArray(i)
          , c = l.find(HO);
        if (c) {
            const d = c.props.children
              , u = l.map(f => f === c ? m.Children.count(d) > 1 ? m.Children.only(null) : m.isValidElement(d) ? d.props.children : null : f);
            return r.jsx(t, {
                ...o,
                ref: a,
                children: m.isValidElement(d) ? m.cloneElement(d, void 0, u) : null
            })
        }
        return r.jsx(t, {
            ...o,
            ref: a,
            children: i
        })
    }
    );
    return n.displayName = `${e}.Slot`,
    n
}
var z2 = co("Slot");
function WO(e) {
    const t = m.forwardRef( (n, s) => {
        const {children: a, ...i} = n;
        if (m.isValidElement(a)) {
            const o = QO(a)
              , l = KO(i, a.props);
            return a.type !== m.Fragment && (l.ref = s ? _f(s, o) : o),
            m.cloneElement(a, l)
        }
        return m.Children.count(a) > 1 ? m.Children.only(null) : null
    }
    );
    return t.displayName = `${e}.SlotClone`,
    t
}
var V2 = Symbol("radix.slottable");
function B2(e) {
    const t = ({children: n}) => r.jsx(r.Fragment, {
        children: n
    });
    return t.displayName = `${e}.Slottable`,
    t.__radixId = V2,
    t
}
function HO(e) {
    return m.isValidElement(e) && typeof e.type == "function" && "__radixId"in e.type && e.type.__radixId === V2
}
function KO(e, t) {
    const n = {
        ...t
    };
    for (const s in t) {
        const a = e[s]
          , i = t[s];
        /^on[A-Z]/.test(s) ? a && i ? n[s] = (...l) => {
            i(...l),
            a(...l)
        }
        : a && (n[s] = a) : s === "style" ? n[s] = {
            ...a,
            ...i
        } : s === "className" && (n[s] = [a, i].filter(Boolean).join(" "))
    }
    return {
        ...e,
        ...n
    }
}
function QO(e) {
    var s, a;
    let t = (s = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : s.get
      , n = t && "isReactWarning"in t && t.isReactWarning;
    return n ? e.ref : (t = (a = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : a.get,
    n = t && "isReactWarning"in t && t.isReactWarning,
    n ? e.props.ref : e.props.ref || e.ref)
}
function Af(e) {
    const t = e + "CollectionProvider"
      , [n,s] = sr(t)
      , [a,i] = n(t, {
        collectionRef: {
            current: null
        },
        itemMap: new Map
    })
      , o = v => {
        const {scope: w, children: y} = v
          , p = rt.useRef(null)
          , g = rt.useRef(new Map).current;
        return r.jsx(a, {
            scope: w,
            itemMap: g,
            collectionRef: p,
            children: y
        })
    }
    ;
    o.displayName = t;
    const l = e + "CollectionSlot"
      , c = co(l)
      , d = rt.forwardRef( (v, w) => {
        const {scope: y, children: p} = v
          , g = i(l, y)
          , b = at(w, g.collectionRef);
        return r.jsx(c, {
            ref: b,
            children: p
        })
    }
    );
    d.displayName = l;
    const u = e + "CollectionItemSlot"
      , f = "data-radix-collection-item"
      , h = co(u)
      , x = rt.forwardRef( (v, w) => {
        const {scope: y, children: p, ...g} = v
          , b = rt.useRef(null)
          , k = at(w, b)
          , S = i(u, y);
        return rt.useEffect( () => (S.itemMap.set(b, {
            ref: b,
            ...g
        }),
        () => void S.itemMap.delete(b))),
        r.jsx(h, {
            [f]: "",
            ref: k,
            children: p
        })
    }
    );
    x.displayName = u;
    function j(v) {
        const w = i(e + "CollectionConsumer", v);
        return rt.useCallback( () => {
            const p = w.collectionRef.current;
            if (!p)
                return [];
            const g = Array.from(p.querySelectorAll(`[${f}]`));
            return Array.from(w.itemMap.values()).sort( (S, C) => g.indexOf(S.ref.current) - g.indexOf(C.ref.current))
        }
        , [w.collectionRef, w.itemMap])
    }
    return [{
        Provider: o,
        Slot: d,
        ItemSlot: x
    }, j, s]
}
var GO = ["a", "button", "div", "form", "h2", "h3", "img", "input", "label", "li", "nav", "ol", "p", "span", "svg", "ul"]
  , Le = GO.reduce( (e, t) => {
    const n = co(`Primitive.${t}`)
      , s = m.forwardRef( (a, i) => {
        const {asChild: o, ...l} = a
          , c = o ? n : t;
        return typeof window < "u" && (window[Symbol.for("radix-ui")] = !0),
        r.jsx(c, {
            ...l,
            ref: i
        })
    }
    );
    return s.displayName = `Primitive.${t}`,
    {
        ...e,
        [t]: s
    }
}
, {});
function rv(e, t) {
    e && yo.flushSync( () => e.dispatchEvent(t))
}
function en(e) {
    const t = m.useRef(e);
    return m.useEffect( () => {
        t.current = e
    }
    ),
    m.useMemo( () => (...n) => {
        var s;
        return (s = t.current) == null ? void 0 : s.call(t, ...n)
    }
    , [])
}
function XO(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = en(e);
    m.useEffect( () => {
        const s = a => {
            a.key === "Escape" && n(a)
        }
        ;
        return t.addEventListener("keydown", s, {
            capture: !0
        }),
        () => t.removeEventListener("keydown", s, {
            capture: !0
        })
    }
    , [n, t])
}
var YO = "DismissableLayer", Cx = "dismissableLayer.update", ZO = "dismissableLayer.pointerDownOutside", JO = "dismissableLayer.focusOutside", tw, U2 = m.createContext({
    layers: new Set,
    layersWithOutsidePointerEventsDisabled: new Set,
    branches: new Set
}), Bl = m.forwardRef( (e, t) => {
    const {disableOutsidePointerEvents: n=!1, onEscapeKeyDown: s, onPointerDownOutside: a, onFocusOutside: i, onInteractOutside: o, onDismiss: l, ...c} = e
      , d = m.useContext(U2)
      , [u,f] = m.useState(null)
      , h = (u == null ? void 0 : u.ownerDocument) ?? (globalThis == null ? void 0 : globalThis.document)
      , [,x] = m.useState({})
      , j = at(t, C => f(C))
      , v = Array.from(d.layers)
      , [w] = [...d.layersWithOutsidePointerEventsDisabled].slice(-1)
      , y = v.indexOf(w)
      , p = u ? v.indexOf(u) : -1
      , g = d.layersWithOutsidePointerEventsDisabled.size > 0
      , b = p >= y
      , k = tL(C => {
        const T = C.target
          , D = [...d.branches].some(L => L.contains(T));
        !b || D || (a == null || a(C),
        o == null || o(C),
        C.defaultPrevented || l == null || l())
    }
    , h)
      , S = nL(C => {
        const T = C.target;
        [...d.branches].some(L => L.contains(T)) || (i == null || i(C),
        o == null || o(C),
        C.defaultPrevented || l == null || l())
    }
    , h);
    return XO(C => {
        p === d.layers.size - 1 && (s == null || s(C),
        !C.defaultPrevented && l && (C.preventDefault(),
        l()))
    }
    , h),
    m.useEffect( () => {
        if (u)
            return n && (d.layersWithOutsidePointerEventsDisabled.size === 0 && (tw = h.body.style.pointerEvents,
            h.body.style.pointerEvents = "none"),
            d.layersWithOutsidePointerEventsDisabled.add(u)),
            d.layers.add(u),
            nw(),
            () => {
                n && d.layersWithOutsidePointerEventsDisabled.size === 1 && (h.body.style.pointerEvents = tw)
            }
    }
    , [u, h, n, d]),
    m.useEffect( () => () => {
        u && (d.layers.delete(u),
        d.layersWithOutsidePointerEventsDisabled.delete(u),
        nw())
    }
    , [u, d]),
    m.useEffect( () => {
        const C = () => x({});
        return document.addEventListener(Cx, C),
        () => document.removeEventListener(Cx, C)
    }
    , []),
    r.jsx(Le.div, {
        ...c,
        ref: j,
        style: {
            pointerEvents: g ? b ? "auto" : "none" : void 0,
            ...e.style
        },
        onFocusCapture: ue(e.onFocusCapture, S.onFocusCapture),
        onBlurCapture: ue(e.onBlurCapture, S.onBlurCapture),
        onPointerDownCapture: ue(e.onPointerDownCapture, k.onPointerDownCapture)
    })
}
);
Bl.displayName = YO;
var eL = "DismissableLayerBranch"
  , q2 = m.forwardRef( (e, t) => {
    const n = m.useContext(U2)
      , s = m.useRef(null)
      , a = at(t, s);
    return m.useEffect( () => {
        const i = s.current;
        if (i)
            return n.branches.add(i),
            () => {
                n.branches.delete(i)
            }
    }
    , [n.branches]),
    r.jsx(Le.div, {
        ...e,
        ref: a
    })
}
);
q2.displayName = eL;
function tL(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = en(e)
      , s = m.useRef(!1)
      , a = m.useRef( () => {}
    );
    return m.useEffect( () => {
        const i = l => {
            if (l.target && !s.current) {
                let c = function() {
                    W2(ZO, n, d, {
                        discrete: !0
                    })
                };
                const d = {
                    originalEvent: l
                };
                l.pointerType === "touch" ? (t.removeEventListener("click", a.current),
                a.current = c,
                t.addEventListener("click", a.current, {
                    once: !0
                })) : c()
            } else
                t.removeEventListener("click", a.current);
            s.current = !1
        }
          , o = window.setTimeout( () => {
            t.addEventListener("pointerdown", i)
        }
        , 0);
        return () => {
            window.clearTimeout(o),
            t.removeEventListener("pointerdown", i),
            t.removeEventListener("click", a.current)
        }
    }
    , [t, n]),
    {
        onPointerDownCapture: () => s.current = !0
    }
}
function nL(e, t=globalThis == null ? void 0 : globalThis.document) {
    const n = en(e)
      , s = m.useRef(!1);
    return m.useEffect( () => {
        const a = i => {
            i.target && !s.current && W2(JO, n, {
                originalEvent: i
            }, {
                discrete: !1
            })
        }
        ;
        return t.addEventListener("focusin", a),
        () => t.removeEventListener("focusin", a)
    }
    , [t, n]),
    {
        onFocusCapture: () => s.current = !0,
        onBlurCapture: () => s.current = !1
    }
}
function nw() {
    const e = new CustomEvent(Cx);
    document.dispatchEvent(e)
}
function W2(e, t, n, {discrete: s}) {
    const a = n.originalEvent.target
      , i = new CustomEvent(e,{
        bubbles: !1,
        cancelable: !0,
        detail: n
    });
    t && a.addEventListener(e, t, {
        once: !0
    }),
    s ? rv(a, i) : a.dispatchEvent(i)
}
var rL = Bl
  , sL = q2
  , kn = globalThis != null && globalThis.document ? m.useLayoutEffect : () => {}
  , aL = "Portal"
  , Fd = m.forwardRef( (e, t) => {
    var l;
    const {container: n, ...s} = e
      , [a,i] = m.useState(!1);
    kn( () => i(!0), []);
    const o = n || a && ((l = globalThis == null ? void 0 : globalThis.document) == null ? void 0 : l.body);
    return o ? EM.createPortal(r.jsx(Le.div, {
        ...s,
        ref: t
    }), o) : null
}
);
Fd.displayName = aL;
function iL(e, t) {
    return m.useReducer( (n, s) => t[n][s] ?? n, e)
}
var Qn = e => {
    const {present: t, children: n} = e
      , s = oL(t)
      , a = typeof n == "function" ? n({
        present: s.isPresent
    }) : m.Children.only(n)
      , i = at(s.ref, lL(a));
    return typeof n == "function" || s.isPresent ? m.cloneElement(a, {
        ref: i
    }) : null
}
;
Qn.displayName = "Presence";
function oL(e) {
    const [t,n] = m.useState()
      , s = m.useRef({})
      , a = m.useRef(e)
      , i = m.useRef("none")
      , o = e ? "mounted" : "unmounted"
      , [l,c] = iL(o, {
        mounted: {
            UNMOUNT: "unmounted",
            ANIMATION_OUT: "unmountSuspended"
        },
        unmountSuspended: {
            MOUNT: "mounted",
            ANIMATION_END: "unmounted"
        },
        unmounted: {
            MOUNT: "mounted"
        }
    });
    return m.useEffect( () => {
        const d = Au(s.current);
        i.current = l === "mounted" ? d : "none"
    }
    , [l]),
    kn( () => {
        const d = s.current
          , u = a.current;
        if (u !== e) {
            const h = i.current
              , x = Au(d);
            e ? c("MOUNT") : x === "none" || (d == null ? void 0 : d.display) === "none" ? c("UNMOUNT") : c(u && h !== x ? "ANIMATION_OUT" : "UNMOUNT"),
            a.current = e
        }
    }
    , [e, c]),
    kn( () => {
        if (t) {
            let d;
            const u = t.ownerDocument.defaultView ?? window
              , f = x => {
                const v = Au(s.current).includes(x.animationName);
                if (x.target === t && v && (c("ANIMATION_END"),
                !a.current)) {
                    const w = t.style.animationFillMode;
                    t.style.animationFillMode = "forwards",
                    d = u.setTimeout( () => {
                        t.style.animationFillMode === "forwards" && (t.style.animationFillMode = w)
                    }
                    )
                }
            }
              , h = x => {
                x.target === t && (i.current = Au(s.current))
            }
            ;
            return t.addEventListener("animationstart", h),
            t.addEventListener("animationcancel", f),
            t.addEventListener("animationend", f),
            () => {
                u.clearTimeout(d),
                t.removeEventListener("animationstart", h),
                t.removeEventListener("animationcancel", f),
                t.removeEventListener("animationend", f)
            }
        } else
            c("ANIMATION_END")
    }
    , [t, c]),
    {
        isPresent: ["mounted", "unmountSuspended"].includes(l),
        ref: m.useCallback(d => {
            d && (s.current = getComputedStyle(d)),
            n(d)
        }
        , [])
    }
}
function Au(e) {
    return (e == null ? void 0 : e.animationName) || "none"
}
function lL(e) {
    var s, a;
    let t = (s = Object.getOwnPropertyDescriptor(e.props, "ref")) == null ? void 0 : s.get
      , n = t && "isReactWarning"in t && t.isReactWarning;
    return n ? e.ref : (t = (a = Object.getOwnPropertyDescriptor(e, "ref")) == null ? void 0 : a.get,
    n = t && "isReactWarning"in t && t.isReactWarning,
    n ? e.props.ref : e.props.ref || e.ref)
}
function Gs({prop: e, defaultProp: t, onChange: n= () => {}
}) {
    const [s,a] = cL({
        defaultProp: t,
        onChange: n
    })
      , i = e !== void 0
      , o = i ? e : s
      , l = en(n)
      , c = m.useCallback(d => {
        if (i) {
            const f = typeof d == "function" ? d(e) : d;
            f !== e && l(f)
        } else
            a(d)
    }
    , [i, e, a, l]);
    return [o, c]
}
function cL({defaultProp: e, onChange: t}) {
    const n = m.useState(e)
      , [s] = n
      , a = m.useRef(s)
      , i = en(t);
    return m.useEffect( () => {
        a.current !== s && (i(s),
        a.current = s)
    }
    , [s, a, i]),
    n
}
var dL = "VisuallyHidden"
  , $d = m.forwardRef( (e, t) => r.jsx(Le.span, {
    ...e,
    ref: t,
    style: {
        position: "absolute",
        border: 0,
        width: 1,
        height: 1,
        padding: 0,
        margin: -1,
        overflow: "hidden",
        clip: "rect(0, 0, 0, 0)",
        whiteSpace: "nowrap",
        wordWrap: "normal",
        ...e.style
    }
}));
$d.displayName = dL;
var uL = $d
  , sv = "ToastProvider"
  , [av,mL,fL] = Af("Toast")
  , [H2,aW] = sr("Toast", [fL])
  , [hL,Rf] = H2(sv)
  , K2 = e => {
    const {__scopeToast: t, label: n="Notification", duration: s=5e3, swipeDirection: a="right", swipeThreshold: i=50, children: o} = e
      , [l,c] = m.useState(null)
      , [d,u] = m.useState(0)
      , f = m.useRef(!1)
      , h = m.useRef(!1);
    return n.trim() || console.error(`Invalid prop \`label\` supplied to \`${sv}\`. Expected non-empty \`string\`.`),
    r.jsx(av.Provider, {
        scope: t,
        children: r.jsx(hL, {
            scope: t,
            label: n,
            duration: s,
            swipeDirection: a,
            swipeThreshold: i,
            toastCount: d,
            viewport: l,
            onViewportChange: c,
            onToastAdd: m.useCallback( () => u(x => x + 1), []),
            onToastRemove: m.useCallback( () => u(x => x - 1), []),
            isFocusedToastEscapeKeyDownRef: f,
            isClosePausedRef: h,
            children: o
        })
    })
}
;
K2.displayName = sv;
var Q2 = "ToastViewport"
  , pL = ["F8"]
  , kx = "toast.viewportPause"
  , Tx = "toast.viewportResume"
  , G2 = m.forwardRef( (e, t) => {
    const {__scopeToast: n, hotkey: s=pL, label: a="Notifications ({hotkey})", ...i} = e
      , o = Rf(Q2, n)
      , l = mL(n)
      , c = m.useRef(null)
      , d = m.useRef(null)
      , u = m.useRef(null)
      , f = m.useRef(null)
      , h = at(t, f, o.onViewportChange)
      , x = s.join("+").replace(/Key/g, "").replace(/Digit/g, "")
      , j = o.toastCount > 0;
    m.useEffect( () => {
        const w = y => {
            var g;
            s.length !== 0 && s.every(b => y[b] || y.code === b) && ((g = f.current) == null || g.focus())
        }
        ;
        return document.addEventListener("keydown", w),
        () => document.removeEventListener("keydown", w)
    }
    , [s]),
    m.useEffect( () => {
        const w = c.current
          , y = f.current;
        if (j && w && y) {
            const p = () => {
                if (!o.isClosePausedRef.current) {
                    const S = new CustomEvent(kx);
                    y.dispatchEvent(S),
                    o.isClosePausedRef.current = !0
                }
            }
              , g = () => {
                if (o.isClosePausedRef.current) {
                    const S = new CustomEvent(Tx);
                    y.dispatchEvent(S),
                    o.isClosePausedRef.current = !1
                }
            }
              , b = S => {
                !w.contains(S.relatedTarget) && g()
            }
              , k = () => {
                w.contains(document.activeElement) || g()
            }
            ;
            return w.addEventListener("focusin", p),
            w.addEventListener("focusout", b),
            w.addEventListener("pointermove", p),
            w.addEventListener("pointerleave", k),
            window.addEventListener("blur", p),
            window.addEventListener("focus", g),
            () => {
                w.removeEventListener("focusin", p),
                w.removeEventListener("focusout", b),
                w.removeEventListener("pointermove", p),
                w.removeEventListener("pointerleave", k),
                window.removeEventListener("blur", p),
                window.removeEventListener("focus", g)
            }
        }
    }
    , [j, o.isClosePausedRef]);
    const v = m.useCallback( ({tabbingDirection: w}) => {
        const p = l().map(g => {
            const b = g.ref.current
              , k = [b, ...PL(b)];
            return w === "forwards" ? k : k.reverse()
        }
        );
        return (w === "forwards" ? p.reverse() : p).flat()
    }
    , [l]);
    return m.useEffect( () => {
        const w = f.current;
        if (w) {
            const y = p => {
                var k, S, C;
                const g = p.altKey || p.ctrlKey || p.metaKey;
                if (p.key === "Tab" && !g) {
                    const T = document.activeElement
                      , D = p.shiftKey;
                    if (p.target === w && D) {
                        (k = d.current) == null || k.focus();
                        return
                    }
                    const M = v({
                        tabbingDirection: D ? "backwards" : "forwards"
                    })
                      , H = M.findIndex(U => U === T);
                    Xh(M.slice(H + 1)) ? p.preventDefault() : D ? (S = d.current) == null || S.focus() : (C = u.current) == null || C.focus()
                }
            }
            ;
            return w.addEventListener("keydown", y),
            () => w.removeEventListener("keydown", y)
        }
    }
    , [l, v]),
    r.jsxs(sL, {
        ref: c,
        role: "region",
        "aria-label": a.replace("{hotkey}", x),
        tabIndex: -1,
        style: {
            pointerEvents: j ? void 0 : "none"
        },
        children: [j && r.jsx(Px, {
            ref: d,
            onFocusFromOutsideViewport: () => {
                const w = v({
                    tabbingDirection: "forwards"
                });
                Xh(w)
            }
        }), r.jsx(av.Slot, {
            scope: n,
            children: r.jsx(Le.ol, {
                tabIndex: -1,
                ...i,
                ref: h
            })
        }), j && r.jsx(Px, {
            ref: u,
            onFocusFromOutsideViewport: () => {
                const w = v({
                    tabbingDirection: "backwards"
                });
                Xh(w)
            }
        })]
    })
}
);
G2.displayName = Q2;
var X2 = "ToastFocusProxy"
  , Px = m.forwardRef( (e, t) => {
    const {__scopeToast: n, onFocusFromOutsideViewport: s, ...a} = e
      , i = Rf(X2, n);
    return r.jsx($d, {
        "aria-hidden": !0,
        tabIndex: 0,
        ...a,
        ref: t,
        style: {
            position: "fixed"
        },
        onFocus: o => {
            var d;
            const l = o.relatedTarget;
            !((d = i.viewport) != null && d.contains(l)) && s()
        }
    })
}
);
Px.displayName = X2;
var If = "Toast"
  , xL = "toast.swipeStart"
  , gL = "toast.swipeMove"
  , vL = "toast.swipeCancel"
  , yL = "toast.swipeEnd"
  , Y2 = m.forwardRef( (e, t) => {
    const {forceMount: n, open: s, defaultOpen: a, onOpenChange: i, ...o} = e
      , [l=!0,c] = Gs({
        prop: s,
        defaultProp: a,
        onChange: i
    });
    return r.jsx(Qn, {
        present: n || l,
        children: r.jsx(NL, {
            open: l,
            ...o,
            ref: t,
            onClose: () => c(!1),
            onPause: en(e.onPause),
            onResume: en(e.onResume),
            onSwipeStart: ue(e.onSwipeStart, d => {
                d.currentTarget.setAttribute("data-swipe", "start")
            }
            ),
            onSwipeMove: ue(e.onSwipeMove, d => {
                const {x: u, y: f} = d.detail.delta;
                d.currentTarget.setAttribute("data-swipe", "move"),
                d.currentTarget.style.setProperty("--radix-toast-swipe-move-x", `${u}px`),
                d.currentTarget.style.setProperty("--radix-toast-swipe-move-y", `${f}px`)
            }
            ),
            onSwipeCancel: ue(e.onSwipeCancel, d => {
                d.currentTarget.setAttribute("data-swipe", "cancel"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")
            }
            ),
            onSwipeEnd: ue(e.onSwipeEnd, d => {
                const {x: u, y: f} = d.detail.delta;
                d.currentTarget.setAttribute("data-swipe", "end"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),
                d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),
                d.currentTarget.style.setProperty("--radix-toast-swipe-end-x", `${u}px`),
                d.currentTarget.style.setProperty("--radix-toast-swipe-end-y", `${f}px`),
                c(!1)
            }
            )
        })
    })
}
);
Y2.displayName = If;
var [jL,wL] = H2(If, {
    onClose() {}
})
  , NL = m.forwardRef( (e, t) => {
    const {__scopeToast: n, type: s="foreground", duration: a, open: i, onClose: o, onEscapeKeyDown: l, onPause: c, onResume: d, onSwipeStart: u, onSwipeMove: f, onSwipeCancel: h, onSwipeEnd: x, ...j} = e
      , v = Rf(If, n)
      , [w,y] = m.useState(null)
      , p = at(t, U => y(U))
      , g = m.useRef(null)
      , b = m.useRef(null)
      , k = a || v.duration
      , S = m.useRef(0)
      , C = m.useRef(k)
      , T = m.useRef(0)
      , {onToastAdd: D, onToastRemove: L} = v
      , G = en( () => {
        var re;
        (w == null ? void 0 : w.contains(document.activeElement)) && ((re = v.viewport) == null || re.focus()),
        o()
    }
    )
      , M = m.useCallback(U => {
        !U || U === 1 / 0 || (window.clearTimeout(T.current),
        S.current = new Date().getTime(),
        T.current = window.setTimeout(G, U))
    }
    , [G]);
    m.useEffect( () => {
        const U = v.viewport;
        if (U) {
            const re = () => {
                M(C.current),
                d == null || d()
            }
              , ae = () => {
                const X = new Date().getTime() - S.current;
                C.current = C.current - X,
                window.clearTimeout(T.current),
                c == null || c()
            }
            ;
            return U.addEventListener(kx, ae),
            U.addEventListener(Tx, re),
            () => {
                U.removeEventListener(kx, ae),
                U.removeEventListener(Tx, re)
            }
        }
    }
    , [v.viewport, k, c, d, M]),
    m.useEffect( () => {
        i && !v.isClosePausedRef.current && M(k)
    }
    , [i, k, v.isClosePausedRef, M]),
    m.useEffect( () => (D(),
    () => L()), [D, L]);
    const H = m.useMemo( () => w ? sk(w) : null, [w]);
    return v.viewport ? r.jsxs(r.Fragment, {
        children: [H && r.jsx(bL, {
            __scopeToast: n,
            role: "status",
            "aria-live": s === "foreground" ? "assertive" : "polite",
            "aria-atomic": !0,
            children: H
        }), r.jsx(jL, {
            scope: n,
            onClose: G,
            children: yo.createPortal(r.jsx(av.ItemSlot, {
                scope: n,
                children: r.jsx(rL, {
                    asChild: !0,
                    onEscapeKeyDown: ue(l, () => {
                        v.isFocusedToastEscapeKeyDownRef.current || G(),
                        v.isFocusedToastEscapeKeyDownRef.current = !1
                    }
                    ),
                    children: r.jsx(Le.li, {
                        role: "status",
                        "aria-live": "off",
                        "aria-atomic": !0,
                        tabIndex: 0,
                        "data-state": i ? "open" : "closed",
                        "data-swipe-direction": v.swipeDirection,
                        ...j,
                        ref: p,
                        style: {
                            userSelect: "none",
                            touchAction: "none",
                            ...e.style
                        },
                        onKeyDown: ue(e.onKeyDown, U => {
                            U.key === "Escape" && (l == null || l(U.nativeEvent),
                            U.nativeEvent.defaultPrevented || (v.isFocusedToastEscapeKeyDownRef.current = !0,
                            G()))
                        }
                        ),
                        onPointerDown: ue(e.onPointerDown, U => {
                            U.button === 0 && (g.current = {
                                x: U.clientX,
                                y: U.clientY
                            })
                        }
                        ),
                        onPointerMove: ue(e.onPointerMove, U => {
                            if (!g.current)
                                return;
                            const re = U.clientX - g.current.x
                              , ae = U.clientY - g.current.y
                              , X = !!b.current
                              , I = ["left", "right"].includes(v.swipeDirection)
                              , V = ["left", "up"].includes(v.swipeDirection) ? Math.min : Math.max
                              , oe = I ? V(0, re) : 0
                              , he = I ? 0 : V(0, ae)
                              , ce = U.pointerType === "touch" ? 10 : 2
                              , xt = {
                                x: oe,
                                y: he
                            }
                              , gt = {
                                originalEvent: U,
                                delta: xt
                            };
                            X ? (b.current = xt,
                            Ru(gL, f, gt, {
                                discrete: !1
                            })) : rw(xt, v.swipeDirection, ce) ? (b.current = xt,
                            Ru(xL, u, gt, {
                                discrete: !1
                            }),
                            U.target.setPointerCapture(U.pointerId)) : (Math.abs(re) > ce || Math.abs(ae) > ce) && (g.current = null)
                        }
                        ),
                        onPointerUp: ue(e.onPointerUp, U => {
                            const re = b.current
                              , ae = U.target;
                            if (ae.hasPointerCapture(U.pointerId) && ae.releasePointerCapture(U.pointerId),
                            b.current = null,
                            g.current = null,
                            re) {
                                const X = U.currentTarget
                                  , I = {
                                    originalEvent: U,
                                    delta: re
                                };
                                rw(re, v.swipeDirection, v.swipeThreshold) ? Ru(yL, x, I, {
                                    discrete: !0
                                }) : Ru(vL, h, I, {
                                    discrete: !0
                                }),
                                X.addEventListener("click", V => V.preventDefault(), {
                                    once: !0
                                })
                            }
                        }
                        )
                    })
                })
            }), v.viewport)
        })]
    }) : null
}
)
  , bL = e => {
    const {__scopeToast: t, children: n, ...s} = e
      , a = Rf(If, t)
      , [i,o] = m.useState(!1)
      , [l,c] = m.useState(!1);
    return kL( () => o(!0)),
    m.useEffect( () => {
        const d = window.setTimeout( () => c(!0), 1e3);
        return () => window.clearTimeout(d)
    }
    , []),
    l ? null : r.jsx(Fd, {
        asChild: !0,
        children: r.jsx($d, {
            ...s,
            children: i && r.jsxs(r.Fragment, {
                children: [a.label, " ", n]
            })
        })
    })
}
  , SL = "ToastTitle"
  , Z2 = m.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e;
    return r.jsx(Le.div, {
        ...s,
        ref: t
    })
}
);
Z2.displayName = SL;
var CL = "ToastDescription"
  , J2 = m.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e;
    return r.jsx(Le.div, {
        ...s,
        ref: t
    })
}
);
J2.displayName = CL;
var ek = "ToastAction"
  , tk = m.forwardRef( (e, t) => {
    const {altText: n, ...s} = e;
    return n.trim() ? r.jsx(rk, {
        altText: n,
        asChild: !0,
        children: r.jsx(iv, {
            ...s,
            ref: t
        })
    }) : (console.error(`Invalid prop \`altText\` supplied to \`${ek}\`. Expected non-empty \`string\`.`),
    null)
}
);
tk.displayName = ek;
var nk = "ToastClose"
  , iv = m.forwardRef( (e, t) => {
    const {__scopeToast: n, ...s} = e
      , a = wL(nk, n);
    return r.jsx(rk, {
        asChild: !0,
        children: r.jsx(Le.button, {
            type: "button",
            ...s,
            ref: t,
            onClick: ue(e.onClick, a.onClose)
        })
    })
}
);
iv.displayName = nk;
var rk = m.forwardRef( (e, t) => {
    const {__scopeToast: n, altText: s, ...a} = e;
    return r.jsx(Le.div, {
        "data-radix-toast-announce-exclude": "",
        "data-radix-toast-announce-alt": s || void 0,
        ...a,
        ref: t
    })
}
);
function sk(e) {
    const t = [];
    return Array.from(e.childNodes).forEach(s => {
        if (s.nodeType === s.TEXT_NODE && s.textContent && t.push(s.textContent),
        TL(s)) {
            const a = s.ariaHidden || s.hidden || s.style.display === "none"
              , i = s.dataset.radixToastAnnounceExclude === "";
            if (!a)
                if (i) {
                    const o = s.dataset.radixToastAnnounceAlt;
                    o && t.push(o)
                } else
                    t.push(...sk(s))
        }
    }
    ),
    t
}
function Ru(e, t, n, {discrete: s}) {
    const a = n.originalEvent.currentTarget
      , i = new CustomEvent(e,{
        bubbles: !0,
        cancelable: !0,
        detail: n
    });
    t && a.addEventListener(e, t, {
        once: !0
    }),
    s ? rv(a, i) : a.dispatchEvent(i)
}
var rw = (e, t, n=0) => {
    const s = Math.abs(e.x)
      , a = Math.abs(e.y)
      , i = s > a;
    return t === "left" || t === "right" ? i && s > n : !i && a > n
}
;
function kL(e= () => {}
) {
    const t = en(e);
    kn( () => {
        let n = 0
          , s = 0;
        return n = window.requestAnimationFrame( () => s = window.requestAnimationFrame(t)),
        () => {
            window.cancelAnimationFrame(n),
            window.cancelAnimationFrame(s)
        }
    }
    , [t])
}
function TL(e) {
    return e.nodeType === e.ELEMENT_NODE
}
function PL(e) {
    const t = []
      , n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
        acceptNode: s => {
            const a = s.tagName === "INPUT" && s.type === "hidden";
            return s.disabled || s.hidden || a ? NodeFilter.FILTER_SKIP : s.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
        }
    });
    for (; n.nextNode(); )
        t.push(n.currentNode);
    return t
}
function Xh(e) {
    const t = document.activeElement;
    return e.some(n => n === t ? !0 : (n.focus(),
    document.activeElement !== t))
}
var EL = K2
  , ak = G2
  , ik = Y2
  , ok = Z2
  , lk = J2
  , ck = tk
  , dk = iv;
function uk(e) {
    var t, n, s = "";
    if (typeof e == "string" || typeof e == "number")
        s += e;
    else if (typeof e == "object")
        if (Array.isArray(e)) {
            var a = e.length;
            for (t = 0; t < a; t++)
                e[t] && (n = uk(e[t])) && (s && (s += " "),
                s += n)
        } else
            for (n in e)
                e[n] && (s && (s += " "),
                s += n);
    return s
}
function mk() {
    for (var e, t, n = 0, s = "", a = arguments.length; n < a; n++)
        (e = arguments[n]) && (t = uk(e)) && (s && (s += " "),
        s += t);
    return s
}
const sw = e => typeof e == "boolean" ? `${e}` : e === 0 ? "0" : e
  , aw = mk
  , Ul = (e, t) => n => {
    var s;
    if ((t == null ? void 0 : t.variants) == null)
        return aw(e, n == null ? void 0 : n.class, n == null ? void 0 : n.className);
    const {variants: a, defaultVariants: i} = t
      , o = Object.keys(a).map(d => {
        const u = n == null ? void 0 : n[d]
          , f = i == null ? void 0 : i[d];
        if (u === null)
            return null;
        const h = sw(u) || sw(f);
        return a[d][h]
    }
    )
      , l = n && Object.entries(n).reduce( (d, u) => {
        let[f,h] = u;
        return h === void 0 || (d[f] = h),
        d
    }
    , {})
      , c = t == null || (s = t.compoundVariants) === null || s === void 0 ? void 0 : s.reduce( (d, u) => {
        let {class: f, className: h, ...x} = u;
        return Object.entries(x).every(j => {
            let[v,w] = j;
            return Array.isArray(w) ? w.includes({
                ...i,
                ...l
            }[v]) : {
                ...i,
                ...l
            }[v] === w
        }
        ) ? [...d, f, h] : d
    }
    , []);
    return aw(e, o, c, n == null ? void 0 : n.class, n == null ? void 0 : n.className)
}
;
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const _L = e => e.replace(/([a-z0-9])([A-Z])/g, "$1-$2").toLowerCase()
  , fk = (...e) => e.filter( (t, n, s) => !!t && s.indexOf(t) === n).join(" ");
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var AL = {
    xmlns: "http://www.w3.org/2000/svg",
    width: 24,
    height: 24,
    viewBox: "0 0 24 24",
    fill: "none",
    stroke: "currentColor",
    strokeWidth: 2,
    strokeLinecap: "round",
    strokeLinejoin: "round"
};
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const RL = m.forwardRef( ({color: e="currentColor", size: t=24, strokeWidth: n=2, absoluteStrokeWidth: s, className: a="", children: i, iconNode: o, ...l}, c) => m.createElement("svg", {
    ref: c,
    ...AL,
    width: t,
    height: t,
    stroke: e,
    strokeWidth: s ? Number(n) * 24 / Number(t) : n,
    className: fk("lucide", a),
    ...l
}, [...o.map( ([d,u]) => m.createElement(d, u)), ...Array.isArray(i) ? i : [i]]));
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ke = (e, t) => {
    const n = m.forwardRef( ({className: s, ...a}, i) => m.createElement(RL, {
        ref: i,
        iconNode: t,
        className: fk(`lucide-${_L(e)}`, s),
        ...a
    }));
    return n.displayName = `${e}`,
    n
}
;
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Yh = ke("Activity", [["path", {
    d: "M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",
    key: "169zse"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const zd = ke("ArrowLeft", [["path", {
    d: "m12 19-7-7 7-7",
    key: "1l729n"
}], ["path", {
    d: "M19 12H5",
    key: "x3x0zl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const hk = ke("ArrowRight", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "m12 5 7 7-7 7",
    key: "xquz4c"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const IL = ke("Award", [["path", {
    d: "m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",
    key: "1yiouv"
}], ["circle", {
    cx: "12",
    cy: "8",
    r: "6",
    key: "1vp47v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ji = ke("Bell", [["path", {
    d: "M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",
    key: "1qo2s2"
}], ["path", {
    d: "M10.3 21a1.94 1.94 0 0 0 3.4 0",
    key: "qgo35s"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Or = ke("Calendar", [["path", {
    d: "M8 2v4",
    key: "1cmpym"
}], ["path", {
    d: "M16 2v4",
    key: "4m81vk"
}], ["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "4",
    rx: "2",
    key: "1hopcy"
}], ["path", {
    d: "M3 10h18",
    key: "8toen8"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const pk = ke("Camera", [["path", {
    d: "M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",
    key: "1tc9qg"
}], ["circle", {
    cx: "12",
    cy: "13",
    r: "3",
    key: "1vg3eu"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ov = ke("CheckCheck", [["path", {
    d: "M18 6 7 17l-5-5",
    key: "116fxf"
}], ["path", {
    d: "m22 10-7.5 7.5L13 16",
    key: "ke71qq"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Vd = ke("Check", [["path", {
    d: "M20 6 9 17l-5-5",
    key: "1gmf2c"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const xk = ke("ChevronDown", [["path", {
    d: "m6 9 6 6 6-6",
    key: "qrunsl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Rm = ke("ChevronLeft", [["path", {
    d: "m15 18-6-6 6-6",
    key: "1wnfg3"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ad = ke("ChevronRight", [["path", {
    d: "m9 18 6-6-6-6",
    key: "mthhwq"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const DL = ke("ChevronUp", [["path", {
    d: "m18 15-6-6-6 6",
    key: "153udz"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Df = ke("CircleAlert", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "8",
    y2: "12",
    key: "1pkeuh"
}], ["line", {
    x1: "12",
    x2: "12.01",
    y1: "16",
    y2: "16",
    key: "4dfq90"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mn = ke("CircleCheckBig", [["path", {
    d: "M21.801 10A10 10 0 1 1 17 3.335",
    key: "yps3ct"
}], ["path", {
    d: "m9 11 3 3L22 4",
    key: "1pflzl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const iw = ke("CircleHelp", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",
    key: "1u773s"
}], ["path", {
    d: "M12 17h.01",
    key: "p32p05"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const mc = ke("CircleX", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "m15 9-6 6",
    key: "1uzhvr"
}], ["path", {
    d: "m9 9 6 6",
    key: "z0biqf"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const id = ke("Circle", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ex = ke("Clock", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["polyline", {
    points: "12 6 12 12 16 14",
    key: "68esgv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qo = ke("Compass", [["path", {
    d: "m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",
    key: "9ktpf1"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const pa = ke("CreditCard", [["rect", {
    width: "20",
    height: "14",
    x: "2",
    y: "5",
    rx: "2",
    key: "ynyp8z"
}], ["line", {
    x1: "2",
    x2: "22",
    y1: "10",
    y2: "10",
    key: "1b3vmo"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const si = ke("DollarSign", [["line", {
    x1: "12",
    x2: "12",
    y1: "2",
    y2: "22",
    key: "7eqyqh"
}], ["path", {
    d: "M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",
    key: "1b0p4s"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const lv = ke("EyeOff", [["path", {
    d: "M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",
    key: "ct8e1f"
}], ["path", {
    d: "M14.084 14.158a3 3 0 0 1-4.242-4.242",
    key: "151rxh"
}], ["path", {
    d: "M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",
    key: "13bj9a"
}], ["path", {
    d: "m2 2 20 20",
    key: "1ooewy"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const vs = ke("Eye", [["path", {
    d: "M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",
    key: "1nclc0"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "3",
    key: "1v7zrd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ma = ke("FileText", [["path", {
    d: "M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",
    key: "1rqfz7"
}], ["path", {
    d: "M14 2v4a2 2 0 0 0 2 2h4",
    key: "tnqrlb"
}], ["path", {
    d: "M10 9H8",
    key: "b1mrlr"
}], ["path", {
    d: "M16 13H8",
    key: "t4e002"
}], ["path", {
    d: "M16 17H8",
    key: "z1uh3a"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ai = ke("Flag", [["path", {
    d: "M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",
    key: "i9b6wo"
}], ["line", {
    x1: "4",
    x2: "4",
    y1: "22",
    y2: "15",
    key: "1cm3nv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ML = ke("History", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}], ["path", {
    d: "M12 7v5l4 2",
    key: "1fdv2h"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Im = ke("Image", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    ry: "2",
    key: "1m3agn"
}], ["circle", {
    cx: "9",
    cy: "9",
    r: "2",
    key: "af1f0g"
}], ["path", {
    d: "m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",
    key: "1xmnt7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const gk = ke("Inbox", [["polyline", {
    points: "22 12 16 12 14 15 10 15 8 12 2 12",
    key: "o97t9d"
}], ["path", {
    d: "M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",
    key: "oot6mr"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Lc = ke("Info", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["path", {
    d: "M12 16v-4",
    key: "1dtifu"
}], ["path", {
    d: "M12 8h.01",
    key: "e9boi3"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const OL = ke("KeyRound", [["path", {
    d: "M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",
    key: "1s6t7t"
}], ["circle", {
    cx: "16.5",
    cy: "7.5",
    r: ".5",
    fill: "currentColor",
    key: "w0ekpg"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const _x = ke("ListFilter", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M7 12h10",
    key: "b7w52i"
}], ["path", {
    d: "M10 18h4",
    key: "1ulq68"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const vk = ke("LoaderCircle", [["path", {
    d: "M21 12a9 9 0 1 1-6.219-8.56",
    key: "13zald"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const LL = ke("LogOut", [["path", {
    d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",
    key: "1uf3rs"
}], ["polyline", {
    points: "16 17 21 12 16 7",
    key: "1gabdz"
}], ["line", {
    x1: "21",
    x2: "9",
    y1: "12",
    y2: "12",
    key: "1uyos4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Rr = ke("MapPin", [["path", {
    d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",
    key: "1r0f0z"
}], ["circle", {
    cx: "12",
    cy: "10",
    r: "3",
    key: "ilqhr7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const FL = ke("Megaphone", [["path", {
    d: "m3 11 18-5v12L3 14v-3z",
    key: "n962bs"
}], ["path", {
    d: "M11.6 16.8a3 3 0 1 1-5.8-1.6",
    key: "1yl0tm"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const $L = ke("Menu", [["line", {
    x1: "4",
    x2: "20",
    y1: "12",
    y2: "12",
    key: "1e0a9i"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "6",
    y2: "6",
    key: "1owob3"
}], ["line", {
    x1: "4",
    x2: "20",
    y1: "18",
    y2: "18",
    key: "yk5zj1"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Vi = ke("MessageCircle", [["path", {
    d: "M7.9 20A9 9 0 1 0 4 16.1L2 22Z",
    key: "vv11sd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ln = ke("MessageSquare", [["path", {
    d: "M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",
    key: "1lielz"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const zL = ke("Mic", [["path", {
    d: "M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",
    key: "131961"
}], ["path", {
    d: "M19 10v2a7 7 0 0 1-14 0v-2",
    key: "1vc78b"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "19",
    y2: "22",
    key: "x3vr5v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const zt = ke("Package", [["path", {
    d: "M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",
    key: "1a0edw"
}], ["path", {
    d: "M12 22V12",
    key: "d0xqtd"
}], ["path", {
    d: "m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",
    key: "yx3hmr"
}], ["path", {
    d: "m7.5 4.27 9 5.15",
    key: "1c824w"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const VL = ke("Pause", [["rect", {
    x: "14",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "zuxfzm"
}], ["rect", {
    x: "6",
    y: "4",
    width: "4",
    height: "16",
    rx: "1",
    key: "1okwgv"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Zh = ke("Pencil", [["path", {
    d: "M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",
    key: "1a8usu"
}], ["path", {
    d: "m15 5 4 4",
    key: "1mk7zo"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const an = ke("Phone", [["path", {
    d: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",
    key: "foiqr5"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const yk = ke("Play", [["polygon", {
    points: "6 3 20 12 6 21 6 3",
    key: "1oa8hb"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Wo = ke("Plus", [["path", {
    d: "M5 12h14",
    key: "1ays0h"
}], ["path", {
    d: "M12 5v14",
    key: "s699le"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const BL = ke("Receipt", [["path", {
    d: "M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",
    key: "q3az6g"
}], ["path", {
    d: "M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",
    key: "1h4pet"
}], ["path", {
    d: "M12 17.5v-11",
    key: "1jc1ny"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Fc = ke("RefreshCw", [["path", {
    d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",
    key: "v9h5vc"
}], ["path", {
    d: "M21 3v5h-5",
    key: "1q7to0"
}], ["path", {
    d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",
    key: "3uifl3"
}], ["path", {
    d: "M8 16H3v5",
    key: "1cv678"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ax = ke("RotateCcw", [["path", {
    d: "M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",
    key: "1357e3"
}], ["path", {
    d: "M3 3v5h5",
    key: "1xhq8a"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const jk = ke("Save", [["path", {
    d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
    key: "1c8476"
}], ["path", {
    d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",
    key: "1ydtos"
}], ["path", {
    d: "M7 3v4a1 1 0 0 0 1 1h7",
    key: "t51u73"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const jr = ke("Search", [["circle", {
    cx: "11",
    cy: "11",
    r: "8",
    key: "4ej97u"
}], ["path", {
    d: "m21 21-4.3-4.3",
    key: "1qie3q"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Bi = ke("Send", [["path", {
    d: "M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",
    key: "1ffxy3"
}], ["path", {
    d: "m21.854 2.147-10.94 10.939",
    key: "12cjpa"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const wk = ke("Shield", [["path", {
    d: "M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",
    key: "oel41y"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const UL = ke("Smartphone", [["rect", {
    width: "14",
    height: "20",
    x: "5",
    y: "2",
    rx: "2",
    ry: "2",
    key: "1yt0o3"
}], ["path", {
    d: "M12 18h.01",
    key: "mhygvu"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const od = ke("SquarePen", [["path", {
    d: "M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",
    key: "1m0v6g"
}], ["path", {
    d: "M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",
    key: "ohrbg2"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qL = ke("Square", [["rect", {
    width: "18",
    height: "18",
    x: "3",
    y: "3",
    rx: "2",
    key: "afitv7"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Xs = ke("Star", [["polygon", {
    points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",
    key: "8f66p6"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const WL = ke("Target", [["circle", {
    cx: "12",
    cy: "12",
    r: "10",
    key: "1mglay"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "6",
    key: "1vlfrh"
}], ["circle", {
    cx: "12",
    cy: "12",
    r: "2",
    key: "1c9p78"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Qr = ke("Trash2", [["path", {
    d: "M3 6h18",
    key: "d0wm0j"
}], ["path", {
    d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",
    key: "4alrt4"
}], ["path", {
    d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",
    key: "v07s0e"
}], ["line", {
    x1: "10",
    x2: "10",
    y1: "11",
    y2: "17",
    key: "1uufr5"
}], ["line", {
    x1: "14",
    x2: "14",
    y1: "11",
    y2: "17",
    key: "xtxkd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const At = ke("Truck", [["path", {
    d: "M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",
    key: "wrbu53"
}], ["path", {
    d: "M15 18H9",
    key: "1lyqi6"
}], ["path", {
    d: "M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",
    key: "lysw3i"
}], ["circle", {
    cx: "17",
    cy: "18",
    r: "2",
    key: "332jqn"
}], ["circle", {
    cx: "7",
    cy: "18",
    r: "2",
    key: "19iecd"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Bd = ke("Upload", [["path", {
    d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",
    key: "ih7n3h"
}], ["polyline", {
    points: "17 8 12 3 7 8",
    key: "t8dd8p"
}], ["line", {
    x1: "12",
    x2: "12",
    y1: "3",
    y2: "15",
    key: "widbto"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Dm = ke("UserCheck", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["polyline", {
    points: "16 11 18 13 22 9",
    key: "1pwet4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const ow = ke("UserPlus", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["line", {
    x1: "19",
    x2: "19",
    y1: "8",
    y2: "14",
    key: "1bvyxn"
}], ["line", {
    x1: "22",
    x2: "16",
    y1: "11",
    y2: "11",
    key: "1shjgl"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const lw = ke("UserX", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["line", {
    x1: "17",
    x2: "22",
    y1: "8",
    y2: "13",
    key: "3nzzx3"
}], ["line", {
    x1: "22",
    x2: "17",
    y1: "8",
    y2: "13",
    key: "1swrse"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Mm = ke("User", [["path", {
    d: "M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",
    key: "975kel"
}], ["circle", {
    cx: "12",
    cy: "7",
    r: "4",
    key: "17ys0d"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const fs = ke("Users", [["path", {
    d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",
    key: "1yyitq"
}], ["circle", {
    cx: "9",
    cy: "7",
    r: "4",
    key: "nufk8"
}], ["path", {
    d: "M22 21v-2a4 4 0 0 0-3-3.87",
    key: "kshegd"
}], ["path", {
    d: "M16 3.13a4 4 0 0 1 0 7.75",
    key: "1da9ce"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const HL = ke("Wallet", [["path", {
    d: "M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",
    key: "18etb6"
}], ["path", {
    d: "M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",
    key: "xoc0q4"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Pi = ke("X", [["path", {
    d: "M18 6 6 18",
    key: "1bl5f8"
}], ["path", {
    d: "m6 6 12 12",
    key: "d8bk6v"
}]]);
/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Jh = ke("Zap", [["path", {
    d: "M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",
    key: "1xq2db"
}]])
  , cv = "-"
  , KL = e => {
    const t = GL(e)
      , {conflictingClassGroups: n, conflictingClassGroupModifiers: s} = e;
    return {
        getClassGroupId: o => {
            const l = o.split(cv);
            return l[0] === "" && l.length !== 1 && l.shift(),
            Nk(l, t) || QL(o)
        }
        ,
        getConflictingClassGroupIds: (o, l) => {
            const c = n[o] || [];
            return l && s[o] ? [...c, ...s[o]] : c
        }
    }
}
  , Nk = (e, t) => {
    var o;
    if (e.length === 0)
        return t.classGroupId;
    const n = e[0]
      , s = t.nextPart.get(n)
      , a = s ? Nk(e.slice(1), s) : void 0;
    if (a)
        return a;
    if (t.validators.length === 0)
        return;
    const i = e.join(cv);
    return (o = t.validators.find( ({validator: l}) => l(i))) == null ? void 0 : o.classGroupId
}
  , cw = /^\[(.+)\]$/
  , QL = e => {
    if (cw.test(e)) {
        const t = cw.exec(e)[1]
          , n = t == null ? void 0 : t.substring(0, t.indexOf(":"));
        if (n)
            return "arbitrary.." + n
    }
}
  , GL = e => {
    const {theme: t, prefix: n} = e
      , s = {
        nextPart: new Map,
        validators: []
    };
    return YL(Object.entries(e.classGroups), n).forEach( ([i,o]) => {
        Rx(o, s, i, t)
    }
    ),
    s
}
  , Rx = (e, t, n, s) => {
    e.forEach(a => {
        if (typeof a == "string") {
            const i = a === "" ? t : dw(t, a);
            i.classGroupId = n;
            return
        }
        if (typeof a == "function") {
            if (XL(a)) {
                Rx(a(s), t, n, s);
                return
            }
            t.validators.push({
                validator: a,
                classGroupId: n
            });
            return
        }
        Object.entries(a).forEach( ([i,o]) => {
            Rx(o, dw(t, i), n, s)
        }
        )
    }
    )
}
  , dw = (e, t) => {
    let n = e;
    return t.split(cv).forEach(s => {
        n.nextPart.has(s) || n.nextPart.set(s, {
            nextPart: new Map,
            validators: []
        }),
        n = n.nextPart.get(s)
    }
    ),
    n
}
  , XL = e => e.isThemeGetter
  , YL = (e, t) => t ? e.map( ([n,s]) => {
    const a = s.map(i => typeof i == "string" ? t + i : typeof i == "object" ? Object.fromEntries(Object.entries(i).map( ([o,l]) => [t + o, l])) : i);
    return [n, a]
}
) : e
  , ZL = e => {
    if (e < 1)
        return {
            get: () => {}
            ,
            set: () => {}
        };
    let t = 0
      , n = new Map
      , s = new Map;
    const a = (i, o) => {
        n.set(i, o),
        t++,
        t > e && (t = 0,
        s = n,
        n = new Map)
    }
    ;
    return {
        get(i) {
            let o = n.get(i);
            if (o !== void 0)
                return o;
            if ((o = s.get(i)) !== void 0)
                return a(i, o),
                o
        },
        set(i, o) {
            n.has(i) ? n.set(i, o) : a(i, o)
        }
    }
}
  , bk = "!"
  , JL = e => {
    const {separator: t, experimentalParseClassName: n} = e
      , s = t.length === 1
      , a = t[0]
      , i = t.length
      , o = l => {
        const c = [];
        let d = 0, u = 0, f;
        for (let w = 0; w < l.length; w++) {
            let y = l[w];
            if (d === 0) {
                if (y === a && (s || l.slice(w, w + i) === t)) {
                    c.push(l.slice(u, w)),
                    u = w + i;
                    continue
                }
                if (y === "/") {
                    f = w;
                    continue
                }
            }
            y === "[" ? d++ : y === "]" && d--
        }
        const h = c.length === 0 ? l : l.substring(u)
          , x = h.startsWith(bk)
          , j = x ? h.substring(1) : h
          , v = f && f > u ? f - u : void 0;
        return {
            modifiers: c,
            hasImportantModifier: x,
            baseClassName: j,
            maybePostfixModifierPosition: v
        }
    }
    ;
    return n ? l => n({
        className: l,
        parseClassName: o
    }) : o
}
  , eF = e => {
    if (e.length <= 1)
        return e;
    const t = [];
    let n = [];
    return e.forEach(s => {
        s[0] === "[" ? (t.push(...n.sort(), s),
        n = []) : n.push(s)
    }
    ),
    t.push(...n.sort()),
    t
}
  , tF = e => ({
    cache: ZL(e.cacheSize),
    parseClassName: JL(e),
    ...KL(e)
})
  , nF = /\s+/
  , rF = (e, t) => {
    const {parseClassName: n, getClassGroupId: s, getConflictingClassGroupIds: a} = t
      , i = []
      , o = e.trim().split(nF);
    let l = "";
    for (let c = o.length - 1; c >= 0; c -= 1) {
        const d = o[c]
          , {modifiers: u, hasImportantModifier: f, baseClassName: h, maybePostfixModifierPosition: x} = n(d);
        let j = !!x
          , v = s(j ? h.substring(0, x) : h);
        if (!v) {
            if (!j) {
                l = d + (l.length > 0 ? " " + l : l);
                continue
            }
            if (v = s(h),
            !v) {
                l = d + (l.length > 0 ? " " + l : l);
                continue
            }
            j = !1
        }
        const w = eF(u).join(":")
          , y = f ? w + bk : w
          , p = y + v;
        if (i.includes(p))
            continue;
        i.push(p);
        const g = a(v, j);
        for (let b = 0; b < g.length; ++b) {
            const k = g[b];
            i.push(y + k)
        }
        l = d + (l.length > 0 ? " " + l : l)
    }
    return l
}
;
function sF() {
    let e = 0, t, n, s = "";
    for (; e < arguments.length; )
        (t = arguments[e++]) && (n = Sk(t)) && (s && (s += " "),
        s += n);
    return s
}
const Sk = e => {
    if (typeof e == "string")
        return e;
    let t, n = "";
    for (let s = 0; s < e.length; s++)
        e[s] && (t = Sk(e[s])) && (n && (n += " "),
        n += t);
    return n
}
;
function aF(e, ...t) {
    let n, s, a, i = o;
    function o(c) {
        const d = t.reduce( (u, f) => f(u), e());
        return n = tF(d),
        s = n.cache.get,
        a = n.cache.set,
        i = l,
        l(c)
    }
    function l(c) {
        const d = s(c);
        if (d)
            return d;
        const u = rF(c, n);
        return a(c, u),
        u
    }
    return function() {
        return i(sF.apply(null, arguments))
    }
}
const Kt = e => {
    const t = n => n[e] || [];
    return t.isThemeGetter = !0,
    t
}
  , Ck = /^\[(?:([a-z-]+):)?(.+)\]$/i
  , iF = /^\d+\/\d+$/
  , oF = new Set(["px", "full", "screen"])
  , lF = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/
  , cF = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/
  , dF = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/
  , uF = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/
  , mF = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/
  , ra = e => el(e) || oF.has(e) || iF.test(e)
  , Pa = e => ql(e, "length", jF)
  , el = e => !!e && !Number.isNaN(Number(e))
  , ep = e => ql(e, "number", el)
  , fc = e => !!e && Number.isInteger(Number(e))
  , fF = e => e.endsWith("%") && el(e.slice(0, -1))
  , ct = e => Ck.test(e)
  , Ea = e => lF.test(e)
  , hF = new Set(["length", "size", "percentage"])
  , pF = e => ql(e, hF, kk)
  , xF = e => ql(e, "position", kk)
  , gF = new Set(["image", "url"])
  , vF = e => ql(e, gF, NF)
  , yF = e => ql(e, "", wF)
  , hc = () => !0
  , ql = (e, t, n) => {
    const s = Ck.exec(e);
    return s ? s[1] ? typeof t == "string" ? s[1] === t : t.has(s[1]) : n(s[2]) : !1
}
  , jF = e => cF.test(e) && !dF.test(e)
  , kk = () => !1
  , wF = e => uF.test(e)
  , NF = e => mF.test(e)
  , bF = () => {
    const e = Kt("colors")
      , t = Kt("spacing")
      , n = Kt("blur")
      , s = Kt("brightness")
      , a = Kt("borderColor")
      , i = Kt("borderRadius")
      , o = Kt("borderSpacing")
      , l = Kt("borderWidth")
      , c = Kt("contrast")
      , d = Kt("grayscale")
      , u = Kt("hueRotate")
      , f = Kt("invert")
      , h = Kt("gap")
      , x = Kt("gradientColorStops")
      , j = Kt("gradientColorStopPositions")
      , v = Kt("inset")
      , w = Kt("margin")
      , y = Kt("opacity")
      , p = Kt("padding")
      , g = Kt("saturate")
      , b = Kt("scale")
      , k = Kt("sepia")
      , S = Kt("skew")
      , C = Kt("space")
      , T = Kt("translate")
      , D = () => ["auto", "contain", "none"]
      , L = () => ["auto", "hidden", "clip", "visible", "scroll"]
      , G = () => ["auto", ct, t]
      , M = () => [ct, t]
      , H = () => ["", ra, Pa]
      , U = () => ["auto", el, ct]
      , re = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"]
      , ae = () => ["solid", "dashed", "dotted", "double", "none"]
      , X = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"]
      , I = () => ["start", "end", "center", "between", "around", "evenly", "stretch"]
      , V = () => ["", "0", ct]
      , oe = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"]
      , he = () => [el, ct];
    return {
        cacheSize: 500,
        separator: ":",
        theme: {
            colors: [hc],
            spacing: [ra, Pa],
            blur: ["none", "", Ea, ct],
            brightness: he(),
            borderColor: [e],
            borderRadius: ["none", "", "full", Ea, ct],
            borderSpacing: M(),
            borderWidth: H(),
            contrast: he(),
            grayscale: V(),
            hueRotate: he(),
            invert: V(),
            gap: M(),
            gradientColorStops: [e],
            gradientColorStopPositions: [fF, Pa],
            inset: G(),
            margin: G(),
            opacity: he(),
            padding: M(),
            saturate: he(),
            scale: he(),
            sepia: V(),
            skew: he(),
            space: M(),
            translate: M()
        },
        classGroups: {
            aspect: [{
                aspect: ["auto", "square", "video", ct]
            }],
            container: ["container"],
            columns: [{
                columns: [Ea]
            }],
            "break-after": [{
                "break-after": oe()
            }],
            "break-before": [{
                "break-before": oe()
            }],
            "break-inside": [{
                "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"]
            }],
            "box-decoration": [{
                "box-decoration": ["slice", "clone"]
            }],
            box: [{
                box: ["border", "content"]
            }],
            display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"],
            float: [{
                float: ["right", "left", "none", "start", "end"]
            }],
            clear: [{
                clear: ["left", "right", "both", "none", "start", "end"]
            }],
            isolation: ["isolate", "isolation-auto"],
            "object-fit": [{
                object: ["contain", "cover", "fill", "none", "scale-down"]
            }],
            "object-position": [{
                object: [...re(), ct]
            }],
            overflow: [{
                overflow: L()
            }],
            "overflow-x": [{
                "overflow-x": L()
            }],
            "overflow-y": [{
                "overflow-y": L()
            }],
            overscroll: [{
                overscroll: D()
            }],
            "overscroll-x": [{
                "overscroll-x": D()
            }],
            "overscroll-y": [{
                "overscroll-y": D()
            }],
            position: ["static", "fixed", "absolute", "relative", "sticky"],
            inset: [{
                inset: [v]
            }],
            "inset-x": [{
                "inset-x": [v]
            }],
            "inset-y": [{
                "inset-y": [v]
            }],
            start: [{
                start: [v]
            }],
            end: [{
                end: [v]
            }],
            top: [{
                top: [v]
            }],
            right: [{
                right: [v]
            }],
            bottom: [{
                bottom: [v]
            }],
            left: [{
                left: [v]
            }],
            visibility: ["visible", "invisible", "collapse"],
            z: [{
                z: ["auto", fc, ct]
            }],
            basis: [{
                basis: G()
            }],
            "flex-direction": [{
                flex: ["row", "row-reverse", "col", "col-reverse"]
            }],
            "flex-wrap": [{
                flex: ["wrap", "wrap-reverse", "nowrap"]
            }],
            flex: [{
                flex: ["1", "auto", "initial", "none", ct]
            }],
            grow: [{
                grow: V()
            }],
            shrink: [{
                shrink: V()
            }],
            order: [{
                order: ["first", "last", "none", fc, ct]
            }],
            "grid-cols": [{
                "grid-cols": [hc]
            }],
            "col-start-end": [{
                col: ["auto", {
                    span: ["full", fc, ct]
                }, ct]
            }],
            "col-start": [{
                "col-start": U()
            }],
            "col-end": [{
                "col-end": U()
            }],
            "grid-rows": [{
                "grid-rows": [hc]
            }],
            "row-start-end": [{
                row: ["auto", {
                    span: [fc, ct]
                }, ct]
            }],
            "row-start": [{
                "row-start": U()
            }],
            "row-end": [{
                "row-end": U()
            }],
            "grid-flow": [{
                "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"]
            }],
            "auto-cols": [{
                "auto-cols": ["auto", "min", "max", "fr", ct]
            }],
            "auto-rows": [{
                "auto-rows": ["auto", "min", "max", "fr", ct]
            }],
            gap: [{
                gap: [h]
            }],
            "gap-x": [{
                "gap-x": [h]
            }],
            "gap-y": [{
                "gap-y": [h]
            }],
            "justify-content": [{
                justify: ["normal", ...I()]
            }],
            "justify-items": [{
                "justify-items": ["start", "end", "center", "stretch"]
            }],
            "justify-self": [{
                "justify-self": ["auto", "start", "end", "center", "stretch"]
            }],
            "align-content": [{
                content: ["normal", ...I(), "baseline"]
            }],
            "align-items": [{
                items: ["start", "end", "center", "baseline", "stretch"]
            }],
            "align-self": [{
                self: ["auto", "start", "end", "center", "stretch", "baseline"]
            }],
            "place-content": [{
                "place-content": [...I(), "baseline"]
            }],
            "place-items": [{
                "place-items": ["start", "end", "center", "baseline", "stretch"]
            }],
            "place-self": [{
                "place-self": ["auto", "start", "end", "center", "stretch"]
            }],
            p: [{
                p: [p]
            }],
            px: [{
                px: [p]
            }],
            py: [{
                py: [p]
            }],
            ps: [{
                ps: [p]
            }],
            pe: [{
                pe: [p]
            }],
            pt: [{
                pt: [p]
            }],
            pr: [{
                pr: [p]
            }],
            pb: [{
                pb: [p]
            }],
            pl: [{
                pl: [p]
            }],
            m: [{
                m: [w]
            }],
            mx: [{
                mx: [w]
            }],
            my: [{
                my: [w]
            }],
            ms: [{
                ms: [w]
            }],
            me: [{
                me: [w]
            }],
            mt: [{
                mt: [w]
            }],
            mr: [{
                mr: [w]
            }],
            mb: [{
                mb: [w]
            }],
            ml: [{
                ml: [w]
            }],
            "space-x": [{
                "space-x": [C]
            }],
            "space-x-reverse": ["space-x-reverse"],
            "space-y": [{
                "space-y": [C]
            }],
            "space-y-reverse": ["space-y-reverse"],
            w: [{
                w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", ct, t]
            }],
            "min-w": [{
                "min-w": [ct, t, "min", "max", "fit"]
            }],
            "max-w": [{
                "max-w": [ct, t, "none", "full", "min", "max", "fit", "prose", {
                    screen: [Ea]
                }, Ea]
            }],
            h: [{
                h: [ct, t, "auto", "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            "min-h": [{
                "min-h": [ct, t, "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            "max-h": [{
                "max-h": [ct, t, "min", "max", "fit", "svh", "lvh", "dvh"]
            }],
            size: [{
                size: [ct, t, "auto", "min", "max", "fit"]
            }],
            "font-size": [{
                text: ["base", Ea, Pa]
            }],
            "font-smoothing": ["antialiased", "subpixel-antialiased"],
            "font-style": ["italic", "not-italic"],
            "font-weight": [{
                font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", ep]
            }],
            "font-family": [{
                font: [hc]
            }],
            "fvn-normal": ["normal-nums"],
            "fvn-ordinal": ["ordinal"],
            "fvn-slashed-zero": ["slashed-zero"],
            "fvn-figure": ["lining-nums", "oldstyle-nums"],
            "fvn-spacing": ["proportional-nums", "tabular-nums"],
            "fvn-fraction": ["diagonal-fractions", "stacked-fractions"],
            tracking: [{
                tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", ct]
            }],
            "line-clamp": [{
                "line-clamp": ["none", el, ep]
            }],
            leading: [{
                leading: ["none", "tight", "snug", "normal", "relaxed", "loose", ra, ct]
            }],
            "list-image": [{
                "list-image": ["none", ct]
            }],
            "list-style-type": [{
                list: ["none", "disc", "decimal", ct]
            }],
            "list-style-position": [{
                list: ["inside", "outside"]
            }],
            "placeholder-color": [{
                placeholder: [e]
            }],
            "placeholder-opacity": [{
                "placeholder-opacity": [y]
            }],
            "text-alignment": [{
                text: ["left", "center", "right", "justify", "start", "end"]
            }],
            "text-color": [{
                text: [e]
            }],
            "text-opacity": [{
                "text-opacity": [y]
            }],
            "text-decoration": ["underline", "overline", "line-through", "no-underline"],
            "text-decoration-style": [{
                decoration: [...ae(), "wavy"]
            }],
            "text-decoration-thickness": [{
                decoration: ["auto", "from-font", ra, Pa]
            }],
            "underline-offset": [{
                "underline-offset": ["auto", ra, ct]
            }],
            "text-decoration-color": [{
                decoration: [e]
            }],
            "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"],
            "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
            "text-wrap": [{
                text: ["wrap", "nowrap", "balance", "pretty"]
            }],
            indent: [{
                indent: M()
            }],
            "vertical-align": [{
                align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", ct]
            }],
            whitespace: [{
                whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"]
            }],
            break: [{
                break: ["normal", "words", "all", "keep"]
            }],
            hyphens: [{
                hyphens: ["none", "manual", "auto"]
            }],
            content: [{
                content: ["none", ct]
            }],
            "bg-attachment": [{
                bg: ["fixed", "local", "scroll"]
            }],
            "bg-clip": [{
                "bg-clip": ["border", "padding", "content", "text"]
            }],
            "bg-opacity": [{
                "bg-opacity": [y]
            }],
            "bg-origin": [{
                "bg-origin": ["border", "padding", "content"]
            }],
            "bg-position": [{
                bg: [...re(), xF]
            }],
            "bg-repeat": [{
                bg: ["no-repeat", {
                    repeat: ["", "x", "y", "round", "space"]
                }]
            }],
            "bg-size": [{
                bg: ["auto", "cover", "contain", pF]
            }],
            "bg-image": [{
                bg: ["none", {
                    "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"]
                }, vF]
            }],
            "bg-color": [{
                bg: [e]
            }],
            "gradient-from-pos": [{
                from: [j]
            }],
            "gradient-via-pos": [{
                via: [j]
            }],
            "gradient-to-pos": [{
                to: [j]
            }],
            "gradient-from": [{
                from: [x]
            }],
            "gradient-via": [{
                via: [x]
            }],
            "gradient-to": [{
                to: [x]
            }],
            rounded: [{
                rounded: [i]
            }],
            "rounded-s": [{
                "rounded-s": [i]
            }],
            "rounded-e": [{
                "rounded-e": [i]
            }],
            "rounded-t": [{
                "rounded-t": [i]
            }],
            "rounded-r": [{
                "rounded-r": [i]
            }],
            "rounded-b": [{
                "rounded-b": [i]
            }],
            "rounded-l": [{
                "rounded-l": [i]
            }],
            "rounded-ss": [{
                "rounded-ss": [i]
            }],
            "rounded-se": [{
                "rounded-se": [i]
            }],
            "rounded-ee": [{
                "rounded-ee": [i]
            }],
            "rounded-es": [{
                "rounded-es": [i]
            }],
            "rounded-tl": [{
                "rounded-tl": [i]
            }],
            "rounded-tr": [{
                "rounded-tr": [i]
            }],
            "rounded-br": [{
                "rounded-br": [i]
            }],
            "rounded-bl": [{
                "rounded-bl": [i]
            }],
            "border-w": [{
                border: [l]
            }],
            "border-w-x": [{
                "border-x": [l]
            }],
            "border-w-y": [{
                "border-y": [l]
            }],
            "border-w-s": [{
                "border-s": [l]
            }],
            "border-w-e": [{
                "border-e": [l]
            }],
            "border-w-t": [{
                "border-t": [l]
            }],
            "border-w-r": [{
                "border-r": [l]
            }],
            "border-w-b": [{
                "border-b": [l]
            }],
            "border-w-l": [{
                "border-l": [l]
            }],
            "border-opacity": [{
                "border-opacity": [y]
            }],
            "border-style": [{
                border: [...ae(), "hidden"]
            }],
            "divide-x": [{
                "divide-x": [l]
            }],
            "divide-x-reverse": ["divide-x-reverse"],
            "divide-y": [{
                "divide-y": [l]
            }],
            "divide-y-reverse": ["divide-y-reverse"],
            "divide-opacity": [{
                "divide-opacity": [y]
            }],
            "divide-style": [{
                divide: ae()
            }],
            "border-color": [{
                border: [a]
            }],
            "border-color-x": [{
                "border-x": [a]
            }],
            "border-color-y": [{
                "border-y": [a]
            }],
            "border-color-s": [{
                "border-s": [a]
            }],
            "border-color-e": [{
                "border-e": [a]
            }],
            "border-color-t": [{
                "border-t": [a]
            }],
            "border-color-r": [{
                "border-r": [a]
            }],
            "border-color-b": [{
                "border-b": [a]
            }],
            "border-color-l": [{
                "border-l": [a]
            }],
            "divide-color": [{
                divide: [a]
            }],
            "outline-style": [{
                outline: ["", ...ae()]
            }],
            "outline-offset": [{
                "outline-offset": [ra, ct]
            }],
            "outline-w": [{
                outline: [ra, Pa]
            }],
            "outline-color": [{
                outline: [e]
            }],
            "ring-w": [{
                ring: H()
            }],
            "ring-w-inset": ["ring-inset"],
            "ring-color": [{
                ring: [e]
            }],
            "ring-opacity": [{
                "ring-opacity": [y]
            }],
            "ring-offset-w": [{
                "ring-offset": [ra, Pa]
            }],
            "ring-offset-color": [{
                "ring-offset": [e]
            }],
            shadow: [{
                shadow: ["", "inner", "none", Ea, yF]
            }],
            "shadow-color": [{
                shadow: [hc]
            }],
            opacity: [{
                opacity: [y]
            }],
            "mix-blend": [{
                "mix-blend": [...X(), "plus-lighter", "plus-darker"]
            }],
            "bg-blend": [{
                "bg-blend": X()
            }],
            filter: [{
                filter: ["", "none"]
            }],
            blur: [{
                blur: [n]
            }],
            brightness: [{
                brightness: [s]
            }],
            contrast: [{
                contrast: [c]
            }],
            "drop-shadow": [{
                "drop-shadow": ["", "none", Ea, ct]
            }],
            grayscale: [{
                grayscale: [d]
            }],
            "hue-rotate": [{
                "hue-rotate": [u]
            }],
            invert: [{
                invert: [f]
            }],
            saturate: [{
                saturate: [g]
            }],
            sepia: [{
                sepia: [k]
            }],
            "backdrop-filter": [{
                "backdrop-filter": ["", "none"]
            }],
            "backdrop-blur": [{
                "backdrop-blur": [n]
            }],
            "backdrop-brightness": [{
                "backdrop-brightness": [s]
            }],
            "backdrop-contrast": [{
                "backdrop-contrast": [c]
            }],
            "backdrop-grayscale": [{
                "backdrop-grayscale": [d]
            }],
            "backdrop-hue-rotate": [{
                "backdrop-hue-rotate": [u]
            }],
            "backdrop-invert": [{
                "backdrop-invert": [f]
            }],
            "backdrop-opacity": [{
                "backdrop-opacity": [y]
            }],
            "backdrop-saturate": [{
                "backdrop-saturate": [g]
            }],
            "backdrop-sepia": [{
                "backdrop-sepia": [k]
            }],
            "border-collapse": [{
                border: ["collapse", "separate"]
            }],
            "border-spacing": [{
                "border-spacing": [o]
            }],
            "border-spacing-x": [{
                "border-spacing-x": [o]
            }],
            "border-spacing-y": [{
                "border-spacing-y": [o]
            }],
            "table-layout": [{
                table: ["auto", "fixed"]
            }],
            caption: [{
                caption: ["top", "bottom"]
            }],
            transition: [{
                transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", ct]
            }],
            duration: [{
                duration: he()
            }],
            ease: [{
                ease: ["linear", "in", "out", "in-out", ct]
            }],
            delay: [{
                delay: he()
            }],
            animate: [{
                animate: ["none", "spin", "ping", "pulse", "bounce", ct]
            }],
            transform: [{
                transform: ["", "gpu", "none"]
            }],
            scale: [{
                scale: [b]
            }],
            "scale-x": [{
                "scale-x": [b]
            }],
            "scale-y": [{
                "scale-y": [b]
            }],
            rotate: [{
                rotate: [fc, ct]
            }],
            "translate-x": [{
                "translate-x": [T]
            }],
            "translate-y": [{
                "translate-y": [T]
            }],
            "skew-x": [{
                "skew-x": [S]
            }],
            "skew-y": [{
                "skew-y": [S]
            }],
            "transform-origin": [{
                origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", ct]
            }],
            accent: [{
                accent: ["auto", e]
            }],
            appearance: [{
                appearance: ["none", "auto"]
            }],
            cursor: [{
                cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", ct]
            }],
            "caret-color": [{
                caret: [e]
            }],
            "pointer-events": [{
                "pointer-events": ["none", "auto"]
            }],
            resize: [{
                resize: ["none", "y", "x", ""]
            }],
            "scroll-behavior": [{
                scroll: ["auto", "smooth"]
            }],
            "scroll-m": [{
                "scroll-m": M()
            }],
            "scroll-mx": [{
                "scroll-mx": M()
            }],
            "scroll-my": [{
                "scroll-my": M()
            }],
            "scroll-ms": [{
                "scroll-ms": M()
            }],
            "scroll-me": [{
                "scroll-me": M()
            }],
            "scroll-mt": [{
                "scroll-mt": M()
            }],
            "scroll-mr": [{
                "scroll-mr": M()
            }],
            "scroll-mb": [{
                "scroll-mb": M()
            }],
            "scroll-ml": [{
                "scroll-ml": M()
            }],
            "scroll-p": [{
                "scroll-p": M()
            }],
            "scroll-px": [{
                "scroll-px": M()
            }],
            "scroll-py": [{
                "scroll-py": M()
            }],
            "scroll-ps": [{
                "scroll-ps": M()
            }],
            "scroll-pe": [{
                "scroll-pe": M()
            }],
            "scroll-pt": [{
                "scroll-pt": M()
            }],
            "scroll-pr": [{
                "scroll-pr": M()
            }],
            "scroll-pb": [{
                "scroll-pb": M()
            }],
            "scroll-pl": [{
                "scroll-pl": M()
            }],
            "snap-align": [{
                snap: ["start", "end", "center", "align-none"]
            }],
            "snap-stop": [{
                snap: ["normal", "always"]
            }],
            "snap-type": [{
                snap: ["none", "x", "y", "both"]
            }],
            "snap-strictness": [{
                snap: ["mandatory", "proximity"]
            }],
            touch: [{
                touch: ["auto", "none", "manipulation"]
            }],
            "touch-x": [{
                "touch-pan": ["x", "left", "right"]
            }],
            "touch-y": [{
                "touch-pan": ["y", "up", "down"]
            }],
            "touch-pz": ["touch-pinch-zoom"],
            select: [{
                select: ["none", "text", "all", "auto"]
            }],
            "will-change": [{
                "will-change": ["auto", "scroll", "contents", "transform", ct]
            }],
            fill: [{
                fill: [e, "none"]
            }],
            "stroke-w": [{
                stroke: [ra, Pa, ep]
            }],
            stroke: [{
                stroke: [e, "none"]
            }],
            sr: ["sr-only", "not-sr-only"],
            "forced-color-adjust": [{
                "forced-color-adjust": ["auto", "none"]
            }]
        },
        conflictingClassGroups: {
            overflow: ["overflow-x", "overflow-y"],
            overscroll: ["overscroll-x", "overscroll-y"],
            inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"],
            "inset-x": ["right", "left"],
            "inset-y": ["top", "bottom"],
            flex: ["basis", "grow", "shrink"],
            gap: ["gap-x", "gap-y"],
            p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
            px: ["pr", "pl"],
            py: ["pt", "pb"],
            m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
            mx: ["mr", "ml"],
            my: ["mt", "mb"],
            size: ["w", "h"],
            "font-size": ["leading"],
            "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"],
            "fvn-ordinal": ["fvn-normal"],
            "fvn-slashed-zero": ["fvn-normal"],
            "fvn-figure": ["fvn-normal"],
            "fvn-spacing": ["fvn-normal"],
            "fvn-fraction": ["fvn-normal"],
            "line-clamp": ["display", "overflow"],
            rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"],
            "rounded-s": ["rounded-ss", "rounded-es"],
            "rounded-e": ["rounded-se", "rounded-ee"],
            "rounded-t": ["rounded-tl", "rounded-tr"],
            "rounded-r": ["rounded-tr", "rounded-br"],
            "rounded-b": ["rounded-br", "rounded-bl"],
            "rounded-l": ["rounded-tl", "rounded-bl"],
            "border-spacing": ["border-spacing-x", "border-spacing-y"],
            "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"],
            "border-w-x": ["border-w-r", "border-w-l"],
            "border-w-y": ["border-w-t", "border-w-b"],
            "border-color": ["border-color-s", "border-color-e", "border-color-t", "border-color-r", "border-color-b", "border-color-l"],
            "border-color-x": ["border-color-r", "border-color-l"],
            "border-color-y": ["border-color-t", "border-color-b"],
            "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"],
            "scroll-mx": ["scroll-mr", "scroll-ml"],
            "scroll-my": ["scroll-mt", "scroll-mb"],
            "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"],
            "scroll-px": ["scroll-pr", "scroll-pl"],
            "scroll-py": ["scroll-pt", "scroll-pb"],
            touch: ["touch-x", "touch-y", "touch-pz"],
            "touch-x": ["touch"],
            "touch-y": ["touch"],
            "touch-pz": ["touch"]
        },
        conflictingClassGroupModifiers: {
            "font-size": ["leading"]
        }
    }
}
  , SF = aF(bF);
function pe(...e) {
    return SF(mk(e))
}
const CF = EL
  , Tk = m.forwardRef( ({className: e, ...t}, n) => r.jsx(ak, {
    ref: n,
    className: pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]", e),
    ...t
}));
Tk.displayName = ak.displayName;
const kF = Ul("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full", {
    variants: {
        variant: {
            default: "border bg-background text-foreground",
            destructive: "destructive group border-destructive bg-destructive text-destructive-foreground"
        }
    },
    defaultVariants: {
        variant: "default"
    }
})
  , Pk = m.forwardRef( ({className: e, variant: t, ...n}, s) => r.jsx(ik, {
    ref: s,
    className: pe(kF({
        variant: t
    }), e),
    ...n
}));
Pk.displayName = ik.displayName;
const TF = m.forwardRef( ({className: e, ...t}, n) => r.jsx(ck, {
    ref: n,
    className: pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive", e),
    ...t
}));
TF.displayName = ck.displayName;
const Ek = m.forwardRef( ({className: e, ...t}, n) => r.jsx(dk, {
    ref: n,
    className: pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600", e),
    "toast-close": "",
    ...t,
    children: r.jsx(Pi, {
        className: "h-4 w-4"
    })
}));
Ek.displayName = dk.displayName;
const _k = m.forwardRef( ({className: e, ...t}, n) => r.jsx(ok, {
    ref: n,
    className: pe("text-sm font-semibold", e),
    ...t
}));
_k.displayName = ok.displayName;
const Ak = m.forwardRef( ({className: e, ...t}, n) => r.jsx(lk, {
    ref: n,
    className: pe("text-sm opacity-90", e),
    ...t
}));
Ak.displayName = lk.displayName;
function PF() {
    const {toasts: e} = Ht();
    return r.jsxs(CF, {
        children: [e.map(function({id: t, title: n, description: s, action: a, ...i}) {
            return r.jsxs(Pk, {
                ...i,
                children: [r.jsxs("div", {
                    className: "grid gap-1",
                    children: [n && r.jsx(_k, {
                        children: n
                    }), s && r.jsx(Ak, {
                        children: s
                    })]
                }), a, r.jsx(Ek, {})]
            }, t)
        }), r.jsx(Tk, {})]
    })
}
var EF = dS[" useId ".trim().toString()] || ( () => {}
)
  , _F = 0;
function Ss(e) {
    const [t,n] = m.useState(EF());
    return kn( () => {
        e || n(s => s ?? String(_F++))
    }
    , [e]),
    e || (t ? `radix-${t}` : "")
}
const AF = ["top", "right", "bottom", "left"]
  , pi = Math.min
  , Ir = Math.max
  , Om = Math.round
  , Iu = Math.floor
  , Ks = e => ({
    x: e,
    y: e
})
  , RF = {
    left: "right",
    right: "left",
    bottom: "top",
    top: "bottom"
}
  , IF = {
    start: "end",
    end: "start"
};
function Ix(e, t, n) {
    return Ir(e, pi(t, n))
}
function wa(e, t) {
    return typeof e == "function" ? e(t) : e
}
function Na(e) {
    return e.split("-")[0]
}
function Wl(e) {
    return e.split("-")[1]
}
function dv(e) {
    return e === "x" ? "y" : "x"
}
function uv(e) {
    return e === "y" ? "height" : "width"
}
function xi(e) {
    return ["top", "bottom"].includes(Na(e)) ? "y" : "x"
}
function mv(e) {
    return dv(xi(e))
}
function DF(e, t, n) {
    n === void 0 && (n = !1);
    const s = Wl(e)
      , a = mv(e)
      , i = uv(a);
    let o = a === "x" ? s === (n ? "end" : "start") ? "right" : "left" : s === "start" ? "bottom" : "top";
    return t.reference[i] > t.floating[i] && (o = Lm(o)),
    [o, Lm(o)]
}
function MF(e) {
    const t = Lm(e);
    return [Dx(e), t, Dx(t)]
}
function Dx(e) {
    return e.replace(/start|end/g, t => IF[t])
}
function OF(e, t, n) {
    const s = ["left", "right"]
      , a = ["right", "left"]
      , i = ["top", "bottom"]
      , o = ["bottom", "top"];
    switch (e) {
    case "top":
    case "bottom":
        return n ? t ? a : s : t ? s : a;
    case "left":
    case "right":
        return t ? i : o;
    default:
        return []
    }
}
function LF(e, t, n, s) {
    const a = Wl(e);
    let i = OF(Na(e), n === "start", s);
    return a && (i = i.map(o => o + "-" + a),
    t && (i = i.concat(i.map(Dx)))),
    i
}
function Lm(e) {
    return e.replace(/left|right|bottom|top/g, t => RF[t])
}
function FF(e) {
    return {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...e
    }
}
function Rk(e) {
    return typeof e != "number" ? FF(e) : {
        top: e,
        right: e,
        bottom: e,
        left: e
    }
}
function Fm(e) {
    const {x: t, y: n, width: s, height: a} = e;
    return {
        width: s,
        height: a,
        top: n,
        left: t,
        right: t + s,
        bottom: n + a,
        x: t,
        y: n
    }
}
function uw(e, t, n) {
    let {reference: s, floating: a} = e;
    const i = xi(t)
      , o = mv(t)
      , l = uv(o)
      , c = Na(t)
      , d = i === "y"
      , u = s.x + s.width / 2 - a.width / 2
      , f = s.y + s.height / 2 - a.height / 2
      , h = s[l] / 2 - a[l] / 2;
    let x;
    switch (c) {
    case "top":
        x = {
            x: u,
            y: s.y - a.height
        };
        break;
    case "bottom":
        x = {
            x: u,
            y: s.y + s.height
        };
        break;
    case "right":
        x = {
            x: s.x + s.width,
            y: f
        };
        break;
    case "left":
        x = {
            x: s.x - a.width,
            y: f
        };
        break;
    default:
        x = {
            x: s.x,
            y: s.y
        }
    }
    switch (Wl(t)) {
    case "start":
        x[o] -= h * (n && d ? -1 : 1);
        break;
    case "end":
        x[o] += h * (n && d ? -1 : 1);
        break
    }
    return x
}
const $F = async (e, t, n) => {
    const {placement: s="bottom", strategy: a="absolute", middleware: i=[], platform: o} = n
      , l = i.filter(Boolean)
      , c = await (o.isRTL == null ? void 0 : o.isRTL(t));
    let d = await o.getElementRects({
        reference: e,
        floating: t,
        strategy: a
    })
      , {x: u, y: f} = uw(d, s, c)
      , h = s
      , x = {}
      , j = 0;
    for (let v = 0; v < l.length; v++) {
        const {name: w, fn: y} = l[v]
          , {x: p, y: g, data: b, reset: k} = await y({
            x: u,
            y: f,
            initialPlacement: s,
            placement: h,
            strategy: a,
            middlewareData: x,
            rects: d,
            platform: o,
            elements: {
                reference: e,
                floating: t
            }
        });
        u = p ?? u,
        f = g ?? f,
        x = {
            ...x,
            [w]: {
                ...x[w],
                ...b
            }
        },
        k && j <= 50 && (j++,
        typeof k == "object" && (k.placement && (h = k.placement),
        k.rects && (d = k.rects === !0 ? await o.getElementRects({
            reference: e,
            floating: t,
            strategy: a
        }) : k.rects),
        {x: u, y: f} = uw(d, h, c)),
        v = -1)
    }
    return {
        x: u,
        y: f,
        placement: h,
        strategy: a,
        middlewareData: x
    }
}
;
async function ld(e, t) {
    var n;
    t === void 0 && (t = {});
    const {x: s, y: a, platform: i, rects: o, elements: l, strategy: c} = e
      , {boundary: d="clippingAncestors", rootBoundary: u="viewport", elementContext: f="floating", altBoundary: h=!1, padding: x=0} = wa(t, e)
      , j = Rk(x)
      , w = l[h ? f === "floating" ? "reference" : "floating" : f]
      , y = Fm(await i.getClippingRect({
        element: (n = await (i.isElement == null ? void 0 : i.isElement(w))) == null || n ? w : w.contextElement || await (i.getDocumentElement == null ? void 0 : i.getDocumentElement(l.floating)),
        boundary: d,
        rootBoundary: u,
        strategy: c
    }))
      , p = f === "floating" ? {
        x: s,
        y: a,
        width: o.floating.width,
        height: o.floating.height
    } : o.reference
      , g = await (i.getOffsetParent == null ? void 0 : i.getOffsetParent(l.floating))
      , b = await (i.isElement == null ? void 0 : i.isElement(g)) ? await (i.getScale == null ? void 0 : i.getScale(g)) || {
        x: 1,
        y: 1
    } : {
        x: 1,
        y: 1
    }
      , k = Fm(i.convertOffsetParentRelativeRectToViewportRelativeRect ? await i.convertOffsetParentRelativeRectToViewportRelativeRect({
        elements: l,
        rect: p,
        offsetParent: g,
        strategy: c
    }) : p);
    return {
        top: (y.top - k.top + j.top) / b.y,
        bottom: (k.bottom - y.bottom + j.bottom) / b.y,
        left: (y.left - k.left + j.left) / b.x,
        right: (k.right - y.right + j.right) / b.x
    }
}
const zF = e => ({
    name: "arrow",
    options: e,
    async fn(t) {
        const {x: n, y: s, placement: a, rects: i, platform: o, elements: l, middlewareData: c} = t
          , {element: d, padding: u=0} = wa(e, t) || {};
        if (d == null)
            return {};
        const f = Rk(u)
          , h = {
            x: n,
            y: s
        }
          , x = mv(a)
          , j = uv(x)
          , v = await o.getDimensions(d)
          , w = x === "y"
          , y = w ? "top" : "left"
          , p = w ? "bottom" : "right"
          , g = w ? "clientHeight" : "clientWidth"
          , b = i.reference[j] + i.reference[x] - h[x] - i.floating[j]
          , k = h[x] - i.reference[x]
          , S = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(d));
        let C = S ? S[g] : 0;
        (!C || !await (o.isElement == null ? void 0 : o.isElement(S))) && (C = l.floating[g] || i.floating[j]);
        const T = b / 2 - k / 2
          , D = C / 2 - v[j] / 2 - 1
          , L = pi(f[y], D)
          , G = pi(f[p], D)
          , M = L
          , H = C - v[j] - G
          , U = C / 2 - v[j] / 2 + T
          , re = Ix(M, U, H)
          , ae = !c.arrow && Wl(a) != null && U !== re && i.reference[j] / 2 - (U < M ? L : G) - v[j] / 2 < 0
          , X = ae ? U < M ? U - M : U - H : 0;
        return {
            [x]: h[x] + X,
            data: {
                [x]: re,
                centerOffset: U - re - X,
                ...ae && {
                    alignmentOffset: X
                }
            },
            reset: ae
        }
    }
})
  , VF = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "flip",
        options: e,
        async fn(t) {
            var n, s;
            const {placement: a, middlewareData: i, rects: o, initialPlacement: l, platform: c, elements: d} = t
              , {mainAxis: u=!0, crossAxis: f=!0, fallbackPlacements: h, fallbackStrategy: x="bestFit", fallbackAxisSideDirection: j="none", flipAlignment: v=!0, ...w} = wa(e, t);
            if ((n = i.arrow) != null && n.alignmentOffset)
                return {};
            const y = Na(a)
              , p = xi(l)
              , g = Na(l) === l
              , b = await (c.isRTL == null ? void 0 : c.isRTL(d.floating))
              , k = h || (g || !v ? [Lm(l)] : MF(l))
              , S = j !== "none";
            !h && S && k.push(...LF(l, v, j, b));
            const C = [l, ...k]
              , T = await ld(t, w)
              , D = [];
            let L = ((s = i.flip) == null ? void 0 : s.overflows) || [];
            if (u && D.push(T[y]),
            f) {
                const U = DF(a, o, b);
                D.push(T[U[0]], T[U[1]])
            }
            if (L = [...L, {
                placement: a,
                overflows: D
            }],
            !D.every(U => U <= 0)) {
                var G, M;
                const U = (((G = i.flip) == null ? void 0 : G.index) || 0) + 1
                  , re = C[U];
                if (re)
                    return {
                        data: {
                            index: U,
                            overflows: L
                        },
                        reset: {
                            placement: re
                        }
                    };
                let ae = (M = L.filter(X => X.overflows[0] <= 0).sort( (X, I) => X.overflows[1] - I.overflows[1])[0]) == null ? void 0 : M.placement;
                if (!ae)
                    switch (x) {
                    case "bestFit":
                        {
                            var H;
                            const X = (H = L.filter(I => {
                                if (S) {
                                    const V = xi(I.placement);
                                    return V === p || V === "y"
                                }
                                return !0
                            }
                            ).map(I => [I.placement, I.overflows.filter(V => V > 0).reduce( (V, oe) => V + oe, 0)]).sort( (I, V) => I[1] - V[1])[0]) == null ? void 0 : H[0];
                            X && (ae = X);
                            break
                        }
                    case "initialPlacement":
                        ae = l;
                        break
                    }
                if (a !== ae)
                    return {
                        reset: {
                            placement: ae
                        }
                    }
            }
            return {}
        }
    }
};
function mw(e, t) {
    return {
        top: e.top - t.height,
        right: e.right - t.width,
        bottom: e.bottom - t.height,
        left: e.left - t.width
    }
}
function fw(e) {
    return AF.some(t => e[t] >= 0)
}
const BF = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "hide",
        options: e,
        async fn(t) {
            const {rects: n} = t
              , {strategy: s="referenceHidden", ...a} = wa(e, t);
            switch (s) {
            case "referenceHidden":
                {
                    const i = await ld(t, {
                        ...a,
                        elementContext: "reference"
                    })
                      , o = mw(i, n.reference);
                    return {
                        data: {
                            referenceHiddenOffsets: o,
                            referenceHidden: fw(o)
                        }
                    }
                }
            case "escaped":
                {
                    const i = await ld(t, {
                        ...a,
                        altBoundary: !0
                    })
                      , o = mw(i, n.floating);
                    return {
                        data: {
                            escapedOffsets: o,
                            escaped: fw(o)
                        }
                    }
                }
            default:
                return {}
            }
        }
    }
};
async function UF(e, t) {
    const {placement: n, platform: s, elements: a} = e
      , i = await (s.isRTL == null ? void 0 : s.isRTL(a.floating))
      , o = Na(n)
      , l = Wl(n)
      , c = xi(n) === "y"
      , d = ["left", "top"].includes(o) ? -1 : 1
      , u = i && c ? -1 : 1
      , f = wa(t, e);
    let {mainAxis: h, crossAxis: x, alignmentAxis: j} = typeof f == "number" ? {
        mainAxis: f,
        crossAxis: 0,
        alignmentAxis: null
    } : {
        mainAxis: f.mainAxis || 0,
        crossAxis: f.crossAxis || 0,
        alignmentAxis: f.alignmentAxis
    };
    return l && typeof j == "number" && (x = l === "end" ? j * -1 : j),
    c ? {
        x: x * u,
        y: h * d
    } : {
        x: h * d,
        y: x * u
    }
}
const qF = function(e) {
    return e === void 0 && (e = 0),
    {
        name: "offset",
        options: e,
        async fn(t) {
            var n, s;
            const {x: a, y: i, placement: o, middlewareData: l} = t
              , c = await UF(t, e);
            return o === ((n = l.offset) == null ? void 0 : n.placement) && (s = l.arrow) != null && s.alignmentOffset ? {} : {
                x: a + c.x,
                y: i + c.y,
                data: {
                    ...c,
                    placement: o
                }
            }
        }
    }
}
  , WF = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "shift",
        options: e,
        async fn(t) {
            const {x: n, y: s, placement: a} = t
              , {mainAxis: i=!0, crossAxis: o=!1, limiter: l={
                fn: w => {
                    let {x: y, y: p} = w;
                    return {
                        x: y,
                        y: p
                    }
                }
            }, ...c} = wa(e, t)
              , d = {
                x: n,
                y: s
            }
              , u = await ld(t, c)
              , f = xi(Na(a))
              , h = dv(f);
            let x = d[h]
              , j = d[f];
            if (i) {
                const w = h === "y" ? "top" : "left"
                  , y = h === "y" ? "bottom" : "right"
                  , p = x + u[w]
                  , g = x - u[y];
                x = Ix(p, x, g)
            }
            if (o) {
                const w = f === "y" ? "top" : "left"
                  , y = f === "y" ? "bottom" : "right"
                  , p = j + u[w]
                  , g = j - u[y];
                j = Ix(p, j, g)
            }
            const v = l.fn({
                ...t,
                [h]: x,
                [f]: j
            });
            return {
                ...v,
                data: {
                    x: v.x - n,
                    y: v.y - s,
                    enabled: {
                        [h]: i,
                        [f]: o
                    }
                }
            }
        }
    }
}
  , HF = function(e) {
    return e === void 0 && (e = {}),
    {
        options: e,
        fn(t) {
            const {x: n, y: s, placement: a, rects: i, middlewareData: o} = t
              , {offset: l=0, mainAxis: c=!0, crossAxis: d=!0} = wa(e, t)
              , u = {
                x: n,
                y: s
            }
              , f = xi(a)
              , h = dv(f);
            let x = u[h]
              , j = u[f];
            const v = wa(l, t)
              , w = typeof v == "number" ? {
                mainAxis: v,
                crossAxis: 0
            } : {
                mainAxis: 0,
                crossAxis: 0,
                ...v
            };
            if (c) {
                const g = h === "y" ? "height" : "width"
                  , b = i.reference[h] - i.floating[g] + w.mainAxis
                  , k = i.reference[h] + i.reference[g] - w.mainAxis;
                x < b ? x = b : x > k && (x = k)
            }
            if (d) {
                var y, p;
                const g = h === "y" ? "width" : "height"
                  , b = ["top", "left"].includes(Na(a))
                  , k = i.reference[f] - i.floating[g] + (b && ((y = o.offset) == null ? void 0 : y[f]) || 0) + (b ? 0 : w.crossAxis)
                  , S = i.reference[f] + i.reference[g] + (b ? 0 : ((p = o.offset) == null ? void 0 : p[f]) || 0) - (b ? w.crossAxis : 0);
                j < k ? j = k : j > S && (j = S)
            }
            return {
                [h]: x,
                [f]: j
            }
        }
    }
}
  , KF = function(e) {
    return e === void 0 && (e = {}),
    {
        name: "size",
        options: e,
        async fn(t) {
            var n, s;
            const {placement: a, rects: i, platform: o, elements: l} = t
              , {apply: c= () => {}
            , ...d} = wa(e, t)
              , u = await ld(t, d)
              , f = Na(a)
              , h = Wl(a)
              , x = xi(a) === "y"
              , {width: j, height: v} = i.floating;
            let w, y;
            f === "top" || f === "bottom" ? (w = f,
            y = h === (await (o.isRTL == null ? void 0 : o.isRTL(l.floating)) ? "start" : "end") ? "left" : "right") : (y = f,
            w = h === "end" ? "top" : "bottom");
            const p = v - u.top - u.bottom
              , g = j - u.left - u.right
              , b = pi(v - u[w], p)
              , k = pi(j - u[y], g)
              , S = !t.middlewareData.shift;
            let C = b
              , T = k;
            if ((n = t.middlewareData.shift) != null && n.enabled.x && (T = g),
            (s = t.middlewareData.shift) != null && s.enabled.y && (C = p),
            S && !h) {
                const L = Ir(u.left, 0)
                  , G = Ir(u.right, 0)
                  , M = Ir(u.top, 0)
                  , H = Ir(u.bottom, 0);
                x ? T = j - 2 * (L !== 0 || G !== 0 ? L + G : Ir(u.left, u.right)) : C = v - 2 * (M !== 0 || H !== 0 ? M + H : Ir(u.top, u.bottom))
            }
            await c({
                ...t,
                availableWidth: T,
                availableHeight: C
            });
            const D = await o.getDimensions(l.floating);
            return j !== D.width || v !== D.height ? {
                reset: {
                    rects: !0
                }
            } : {}
        }
    }
};
function Mf() {
    return typeof window < "u"
}
function Hl(e) {
    return Ik(e) ? (e.nodeName || "").toLowerCase() : "#document"
}
function Lr(e) {
    var t;
    return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window
}
function ea(e) {
    var t;
    return (t = (Ik(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement
}
function Ik(e) {
    return Mf() ? e instanceof Node || e instanceof Lr(e).Node : !1
}
function Es(e) {
    return Mf() ? e instanceof Element || e instanceof Lr(e).Element : !1
}
function Ys(e) {
    return Mf() ? e instanceof HTMLElement || e instanceof Lr(e).HTMLElement : !1
}
function hw(e) {
    return !Mf() || typeof ShadowRoot > "u" ? !1 : e instanceof ShadowRoot || e instanceof Lr(e).ShadowRoot
}
function Ud(e) {
    const {overflow: t, overflowX: n, overflowY: s, display: a} = _s(e);
    return /auto|scroll|overlay|hidden|clip/.test(t + s + n) && !["inline", "contents"].includes(a)
}
function QF(e) {
    return ["table", "td", "th"].includes(Hl(e))
}
function Of(e) {
    return [":popover-open", ":modal"].some(t => {
        try {
            return e.matches(t)
        } catch {
            return !1
        }
    }
    )
}
function fv(e) {
    const t = hv()
      , n = Es(e) ? _s(e) : e;
    return ["transform", "translate", "scale", "rotate", "perspective"].some(s => n[s] ? n[s] !== "none" : !1) || (n.containerType ? n.containerType !== "normal" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== "none" : !1) || !t && (n.filter ? n.filter !== "none" : !1) || ["transform", "translate", "scale", "rotate", "perspective", "filter"].some(s => (n.willChange || "").includes(s)) || ["paint", "layout", "strict", "content"].some(s => (n.contain || "").includes(s))
}
function GF(e) {
    let t = gi(e);
    for (; Ys(t) && !_l(t); ) {
        if (fv(t))
            return t;
        if (Of(t))
            return null;
        t = gi(t)
    }
    return null
}
function hv() {
    return typeof CSS > "u" || !CSS.supports ? !1 : CSS.supports("-webkit-backdrop-filter", "none")
}
function _l(e) {
    return ["html", "body", "#document"].includes(Hl(e))
}
function _s(e) {
    return Lr(e).getComputedStyle(e)
}
function Lf(e) {
    return Es(e) ? {
        scrollLeft: e.scrollLeft,
        scrollTop: e.scrollTop
    } : {
        scrollLeft: e.scrollX,
        scrollTop: e.scrollY
    }
}
function gi(e) {
    if (Hl(e) === "html")
        return e;
    const t = e.assignedSlot || e.parentNode || hw(e) && e.host || ea(e);
    return hw(t) ? t.host : t
}
function Dk(e) {
    const t = gi(e);
    return _l(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : Ys(t) && Ud(t) ? t : Dk(t)
}
function cd(e, t, n) {
    var s;
    t === void 0 && (t = []),
    n === void 0 && (n = !0);
    const a = Dk(e)
      , i = a === ((s = e.ownerDocument) == null ? void 0 : s.body)
      , o = Lr(a);
    if (i) {
        const l = Mx(o);
        return t.concat(o, o.visualViewport || [], Ud(a) ? a : [], l && n ? cd(l) : [])
    }
    return t.concat(a, cd(a, [], n))
}
function Mx(e) {
    return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null
}
function Mk(e) {
    const t = _s(e);
    let n = parseFloat(t.width) || 0
      , s = parseFloat(t.height) || 0;
    const a = Ys(e)
      , i = a ? e.offsetWidth : n
      , o = a ? e.offsetHeight : s
      , l = Om(n) !== i || Om(s) !== o;
    return l && (n = i,
    s = o),
    {
        width: n,
        height: s,
        $: l
    }
}
function pv(e) {
    return Es(e) ? e : e.contextElement
}
function tl(e) {
    const t = pv(e);
    if (!Ys(t))
        return Ks(1);
    const n = t.getBoundingClientRect()
      , {width: s, height: a, $: i} = Mk(t);
    let o = (i ? Om(n.width) : n.width) / s
      , l = (i ? Om(n.height) : n.height) / a;
    return (!o || !Number.isFinite(o)) && (o = 1),
    (!l || !Number.isFinite(l)) && (l = 1),
    {
        x: o,
        y: l
    }
}
const XF = Ks(0);
function Ok(e) {
    const t = Lr(e);
    return !hv() || !t.visualViewport ? XF : {
        x: t.visualViewport.offsetLeft,
        y: t.visualViewport.offsetTop
    }
}
function YF(e, t, n) {
    return t === void 0 && (t = !1),
    !n || t && n !== Lr(e) ? !1 : t
}
function uo(e, t, n, s) {
    t === void 0 && (t = !1),
    n === void 0 && (n = !1);
    const a = e.getBoundingClientRect()
      , i = pv(e);
    let o = Ks(1);
    t && (s ? Es(s) && (o = tl(s)) : o = tl(e));
    const l = YF(i, n, s) ? Ok(i) : Ks(0);
    let c = (a.left + l.x) / o.x
      , d = (a.top + l.y) / o.y
      , u = a.width / o.x
      , f = a.height / o.y;
    if (i) {
        const h = Lr(i)
          , x = s && Es(s) ? Lr(s) : s;
        let j = h
          , v = Mx(j);
        for (; v && s && x !== j; ) {
            const w = tl(v)
              , y = v.getBoundingClientRect()
              , p = _s(v)
              , g = y.left + (v.clientLeft + parseFloat(p.paddingLeft)) * w.x
              , b = y.top + (v.clientTop + parseFloat(p.paddingTop)) * w.y;
            c *= w.x,
            d *= w.y,
            u *= w.x,
            f *= w.y,
            c += g,
            d += b,
            j = Lr(v),
            v = Mx(j)
        }
    }
    return Fm({
        width: u,
        height: f,
        x: c,
        y: d
    })
}
function xv(e, t) {
    const n = Lf(e).scrollLeft;
    return t ? t.left + n : uo(ea(e)).left + n
}
function Lk(e, t, n) {
    n === void 0 && (n = !1);
    const s = e.getBoundingClientRect()
      , a = s.left + t.scrollLeft - (n ? 0 : xv(e, s))
      , i = s.top + t.scrollTop;
    return {
        x: a,
        y: i
    }
}
function ZF(e) {
    let {elements: t, rect: n, offsetParent: s, strategy: a} = e;
    const i = a === "fixed"
      , o = ea(s)
      , l = t ? Of(t.floating) : !1;
    if (s === o || l && i)
        return n;
    let c = {
        scrollLeft: 0,
        scrollTop: 0
    }
      , d = Ks(1);
    const u = Ks(0)
      , f = Ys(s);
    if ((f || !f && !i) && ((Hl(s) !== "body" || Ud(o)) && (c = Lf(s)),
    Ys(s))) {
        const x = uo(s);
        d = tl(s),
        u.x = x.x + s.clientLeft,
        u.y = x.y + s.clientTop
    }
    const h = o && !f && !i ? Lk(o, c, !0) : Ks(0);
    return {
        width: n.width * d.x,
        height: n.height * d.y,
        x: n.x * d.x - c.scrollLeft * d.x + u.x + h.x,
        y: n.y * d.y - c.scrollTop * d.y + u.y + h.y
    }
}
function JF(e) {
    return Array.from(e.getClientRects())
}
function e3(e) {
    const t = ea(e)
      , n = Lf(e)
      , s = e.ownerDocument.body
      , a = Ir(t.scrollWidth, t.clientWidth, s.scrollWidth, s.clientWidth)
      , i = Ir(t.scrollHeight, t.clientHeight, s.scrollHeight, s.clientHeight);
    let o = -n.scrollLeft + xv(e);
    const l = -n.scrollTop;
    return _s(s).direction === "rtl" && (o += Ir(t.clientWidth, s.clientWidth) - a),
    {
        width: a,
        height: i,
        x: o,
        y: l
    }
}
function t3(e, t) {
    const n = Lr(e)
      , s = ea(e)
      , a = n.visualViewport;
    let i = s.clientWidth
      , o = s.clientHeight
      , l = 0
      , c = 0;
    if (a) {
        i = a.width,
        o = a.height;
        const d = hv();
        (!d || d && t === "fixed") && (l = a.offsetLeft,
        c = a.offsetTop)
    }
    return {
        width: i,
        height: o,
        x: l,
        y: c
    }
}
function n3(e, t) {
    const n = uo(e, !0, t === "fixed")
      , s = n.top + e.clientTop
      , a = n.left + e.clientLeft
      , i = Ys(e) ? tl(e) : Ks(1)
      , o = e.clientWidth * i.x
      , l = e.clientHeight * i.y
      , c = a * i.x
      , d = s * i.y;
    return {
        width: o,
        height: l,
        x: c,
        y: d
    }
}
function pw(e, t, n) {
    let s;
    if (t === "viewport")
        s = t3(e, n);
    else if (t === "document")
        s = e3(ea(e));
    else if (Es(t))
        s = n3(t, n);
    else {
        const a = Ok(e);
        s = {
            x: t.x - a.x,
            y: t.y - a.y,
            width: t.width,
            height: t.height
        }
    }
    return Fm(s)
}
function Fk(e, t) {
    const n = gi(e);
    return n === t || !Es(n) || _l(n) ? !1 : _s(n).position === "fixed" || Fk(n, t)
}
function r3(e, t) {
    const n = t.get(e);
    if (n)
        return n;
    let s = cd(e, [], !1).filter(l => Es(l) && Hl(l) !== "body")
      , a = null;
    const i = _s(e).position === "fixed";
    let o = i ? gi(e) : e;
    for (; Es(o) && !_l(o); ) {
        const l = _s(o)
          , c = fv(o);
        !c && l.position === "fixed" && (a = null),
        (i ? !c && !a : !c && l.position === "static" && !!a && ["absolute", "fixed"].includes(a.position) || Ud(o) && !c && Fk(e, o)) ? s = s.filter(u => u !== o) : a = l,
        o = gi(o)
    }
    return t.set(e, s),
    s
}
function s3(e) {
    let {element: t, boundary: n, rootBoundary: s, strategy: a} = e;
    const o = [...n === "clippingAncestors" ? Of(t) ? [] : r3(t, this._c) : [].concat(n), s]
      , l = o[0]
      , c = o.reduce( (d, u) => {
        const f = pw(t, u, a);
        return d.top = Ir(f.top, d.top),
        d.right = pi(f.right, d.right),
        d.bottom = pi(f.bottom, d.bottom),
        d.left = Ir(f.left, d.left),
        d
    }
    , pw(t, l, a));
    return {
        width: c.right - c.left,
        height: c.bottom - c.top,
        x: c.left,
        y: c.top
    }
}
function a3(e) {
    const {width: t, height: n} = Mk(e);
    return {
        width: t,
        height: n
    }
}
function i3(e, t, n) {
    const s = Ys(t)
      , a = ea(t)
      , i = n === "fixed"
      , o = uo(e, !0, i, t);
    let l = {
        scrollLeft: 0,
        scrollTop: 0
    };
    const c = Ks(0);
    if (s || !s && !i)
        if ((Hl(t) !== "body" || Ud(a)) && (l = Lf(t)),
        s) {
            const h = uo(t, !0, i, t);
            c.x = h.x + t.clientLeft,
            c.y = h.y + t.clientTop
        } else
            a && (c.x = xv(a));
    const d = a && !s && !i ? Lk(a, l) : Ks(0)
      , u = o.left + l.scrollLeft - c.x - d.x
      , f = o.top + l.scrollTop - c.y - d.y;
    return {
        x: u,
        y: f,
        width: o.width,
        height: o.height
    }
}
function tp(e) {
    return _s(e).position === "static"
}
function xw(e, t) {
    if (!Ys(e) || _s(e).position === "fixed")
        return null;
    if (t)
        return t(e);
    let n = e.offsetParent;
    return ea(e) === n && (n = n.ownerDocument.body),
    n
}
function $k(e, t) {
    const n = Lr(e);
    if (Of(e))
        return n;
    if (!Ys(e)) {
        let a = gi(e);
        for (; a && !_l(a); ) {
            if (Es(a) && !tp(a))
                return a;
            a = gi(a)
        }
        return n
    }
    let s = xw(e, t);
    for (; s && QF(s) && tp(s); )
        s = xw(s, t);
    return s && _l(s) && tp(s) && !fv(s) ? n : s || GF(e) || n
}
const o3 = async function(e) {
    const t = this.getOffsetParent || $k
      , n = this.getDimensions
      , s = await n(e.floating);
    return {
        reference: i3(e.reference, await t(e.floating), e.strategy),
        floating: {
            x: 0,
            y: 0,
            width: s.width,
            height: s.height
        }
    }
};
function l3(e) {
    return _s(e).direction === "rtl"
}
const c3 = {
    convertOffsetParentRelativeRectToViewportRelativeRect: ZF,
    getDocumentElement: ea,
    getClippingRect: s3,
    getOffsetParent: $k,
    getElementRects: o3,
    getClientRects: JF,
    getDimensions: a3,
    getScale: tl,
    isElement: Es,
    isRTL: l3
};
function zk(e, t) {
    return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height
}
function d3(e, t) {
    let n = null, s;
    const a = ea(e);
    function i() {
        var l;
        clearTimeout(s),
        (l = n) == null || l.disconnect(),
        n = null
    }
    function o(l, c) {
        l === void 0 && (l = !1),
        c === void 0 && (c = 1),
        i();
        const d = e.getBoundingClientRect()
          , {left: u, top: f, width: h, height: x} = d;
        if (l || t(),
        !h || !x)
            return;
        const j = Iu(f)
          , v = Iu(a.clientWidth - (u + h))
          , w = Iu(a.clientHeight - (f + x))
          , y = Iu(u)
          , g = {
            rootMargin: -j + "px " + -v + "px " + -w + "px " + -y + "px",
            threshold: Ir(0, pi(1, c)) || 1
        };
        let b = !0;
        function k(S) {
            const C = S[0].intersectionRatio;
            if (C !== c) {
                if (!b)
                    return o();
                C ? o(!1, C) : s = setTimeout( () => {
                    o(!1, 1e-7)
                }
                , 1e3)
            }
            C === 1 && !zk(d, e.getBoundingClientRect()) && o(),
            b = !1
        }
        try {
            n = new IntersectionObserver(k,{
                ...g,
                root: a.ownerDocument
            })
        } catch {
            n = new IntersectionObserver(k,g)
        }
        n.observe(e)
    }
    return o(!0),
    i
}
function u3(e, t, n, s) {
    s === void 0 && (s = {});
    const {ancestorScroll: a=!0, ancestorResize: i=!0, elementResize: o=typeof ResizeObserver == "function", layoutShift: l=typeof IntersectionObserver == "function", animationFrame: c=!1} = s
      , d = pv(e)
      , u = a || i ? [...d ? cd(d) : [], ...cd(t)] : [];
    u.forEach(y => {
        a && y.addEventListener("scroll", n, {
            passive: !0
        }),
        i && y.addEventListener("resize", n)
    }
    );
    const f = d && l ? d3(d, n) : null;
    let h = -1
      , x = null;
    o && (x = new ResizeObserver(y => {
        let[p] = y;
        p && p.target === d && x && (x.unobserve(t),
        cancelAnimationFrame(h),
        h = requestAnimationFrame( () => {
            var g;
            (g = x) == null || g.observe(t)
        }
        )),
        n()
    }
    ),
    d && !c && x.observe(d),
    x.observe(t));
    let j, v = c ? uo(e) : null;
    c && w();
    function w() {
        const y = uo(e);
        v && !zk(v, y) && n(),
        v = y,
        j = requestAnimationFrame(w)
    }
    return n(),
    () => {
        var y;
        u.forEach(p => {
            a && p.removeEventListener("scroll", n),
            i && p.removeEventListener("resize", n)
        }
        ),
        f == null || f(),
        (y = x) == null || y.disconnect(),
        x = null,
        c && cancelAnimationFrame(j)
    }
}
const m3 = qF
  , f3 = WF
  , h3 = VF
  , p3 = KF
  , x3 = BF
  , gw = zF
  , g3 = HF
  , v3 = (e, t, n) => {
    const s = new Map
      , a = {
        platform: c3,
        ...n
    }
      , i = {
        ...a.platform,
        _c: s
    };
    return $F(e, t, {
        ...a,
        platform: i
    })
}
;
var tm = typeof document < "u" ? m.useLayoutEffect : m.useEffect;
function $m(e, t) {
    if (e === t)
        return !0;
    if (typeof e != typeof t)
        return !1;
    if (typeof e == "function" && e.toString() === t.toString())
        return !0;
    let n, s, a;
    if (e && t && typeof e == "object") {
        if (Array.isArray(e)) {
            if (n = e.length,
            n !== t.length)
                return !1;
            for (s = n; s-- !== 0; )
                if (!$m(e[s], t[s]))
                    return !1;
            return !0
        }
        if (a = Object.keys(e),
        n = a.length,
        n !== Object.keys(t).length)
            return !1;
        for (s = n; s-- !== 0; )
            if (!{}.hasOwnProperty.call(t, a[s]))
                return !1;
        for (s = n; s-- !== 0; ) {
            const i = a[s];
            if (!(i === "_owner" && e.$$typeof) && !$m(e[i], t[i]))
                return !1
        }
        return !0
    }
    return e !== e && t !== t
}
function Vk(e) {
    return typeof window > "u" ? 1 : (e.ownerDocument.defaultView || window).devicePixelRatio || 1
}
function vw(e, t) {
    const n = Vk(e);
    return Math.round(t * n) / n
}
function np(e) {
    const t = m.useRef(e);
    return tm( () => {
        t.current = e
    }
    ),
    t
}
function y3(e) {
    e === void 0 && (e = {});
    const {placement: t="bottom", strategy: n="absolute", middleware: s=[], platform: a, elements: {reference: i, floating: o}={}, transform: l=!0, whileElementsMounted: c, open: d} = e
      , [u,f] = m.useState({
        x: 0,
        y: 0,
        strategy: n,
        placement: t,
        middlewareData: {},
        isPositioned: !1
    })
      , [h,x] = m.useState(s);
    $m(h, s) || x(s);
    const [j,v] = m.useState(null)
      , [w,y] = m.useState(null)
      , p = m.useCallback(I => {
        I !== S.current && (S.current = I,
        v(I))
    }
    , [])
      , g = m.useCallback(I => {
        I !== C.current && (C.current = I,
        y(I))
    }
    , [])
      , b = i || j
      , k = o || w
      , S = m.useRef(null)
      , C = m.useRef(null)
      , T = m.useRef(u)
      , D = c != null
      , L = np(c)
      , G = np(a)
      , M = np(d)
      , H = m.useCallback( () => {
        if (!S.current || !C.current)
            return;
        const I = {
            placement: t,
            strategy: n,
            middleware: h
        };
        G.current && (I.platform = G.current),
        v3(S.current, C.current, I).then(V => {
            const oe = {
                ...V,
                isPositioned: M.current !== !1
            };
            U.current && !$m(T.current, oe) && (T.current = oe,
            yo.flushSync( () => {
                f(oe)
            }
            ))
        }
        )
    }
    , [h, t, n, G, M]);
    tm( () => {
        d === !1 && T.current.isPositioned && (T.current.isPositioned = !1,
        f(I => ({
            ...I,
            isPositioned: !1
        })))
    }
    , [d]);
    const U = m.useRef(!1);
    tm( () => (U.current = !0,
    () => {
        U.current = !1
    }
    ), []),
    tm( () => {
        if (b && (S.current = b),
        k && (C.current = k),
        b && k) {
            if (L.current)
                return L.current(b, k, H);
            H()
        }
    }
    , [b, k, H, L, D]);
    const re = m.useMemo( () => ({
        reference: S,
        floating: C,
        setReference: p,
        setFloating: g
    }), [p, g])
      , ae = m.useMemo( () => ({
        reference: b,
        floating: k
    }), [b, k])
      , X = m.useMemo( () => {
        const I = {
            position: n,
            left: 0,
            top: 0
        };
        if (!ae.floating)
            return I;
        const V = vw(ae.floating, u.x)
          , oe = vw(ae.floating, u.y);
        return l ? {
            ...I,
            transform: "translate(" + V + "px, " + oe + "px)",
            ...Vk(ae.floating) >= 1.5 && {
                willChange: "transform"
            }
        } : {
            position: n,
            left: V,
            top: oe
        }
    }
    , [n, l, ae.floating, u.x, u.y]);
    return m.useMemo( () => ({
        ...u,
        update: H,
        refs: re,
        elements: ae,
        floatingStyles: X
    }), [u, H, re, ae, X])
}
const j3 = e => {
    function t(n) {
        return {}.hasOwnProperty.call(n, "current")
    }
    return {
        name: "arrow",
        options: e,
        fn(n) {
            const {element: s, padding: a} = typeof e == "function" ? e(n) : e;
            return s && t(s) ? s.current != null ? gw({
                element: s.current,
                padding: a
            }).fn(n) : {} : s ? gw({
                element: s,
                padding: a
            }).fn(n) : {}
        }
    }
}
  , w3 = (e, t) => ({
    ...m3(e),
    options: [e, t]
})
  , N3 = (e, t) => ({
    ...f3(e),
    options: [e, t]
})
  , b3 = (e, t) => ({
    ...g3(e),
    options: [e, t]
})
  , S3 = (e, t) => ({
    ...h3(e),
    options: [e, t]
})
  , C3 = (e, t) => ({
    ...p3(e),
    options: [e, t]
})
  , k3 = (e, t) => ({
    ...x3(e),
    options: [e, t]
})
  , T3 = (e, t) => ({
    ...j3(e),
    options: [e, t]
});
var P3 = "Arrow"
  , Bk = m.forwardRef( (e, t) => {
    const {children: n, width: s=10, height: a=5, ...i} = e;
    return r.jsx(Le.svg, {
        ...i,
        ref: t,
        width: s,
        height: a,
        viewBox: "0 0 30 10",
        preserveAspectRatio: "none",
        children: e.asChild ? n : r.jsx("polygon", {
            points: "0,0 30,0 15,10"
        })
    })
}
);
Bk.displayName = P3;
var E3 = Bk;
function gv(e) {
    const [t,n] = m.useState(void 0);
    return kn( () => {
        if (e) {
            n({
                width: e.offsetWidth,
                height: e.offsetHeight
            });
            const s = new ResizeObserver(a => {
                if (!Array.isArray(a) || !a.length)
                    return;
                const i = a[0];
                let o, l;
                if ("borderBoxSize"in i) {
                    const c = i.borderBoxSize
                      , d = Array.isArray(c) ? c[0] : c;
                    o = d.inlineSize,
                    l = d.blockSize
                } else
                    o = e.offsetWidth,
                    l = e.offsetHeight;
                n({
                    width: o,
                    height: l
                })
            }
            );
            return s.observe(e, {
                box: "border-box"
            }),
            () => s.unobserve(e)
        } else
            n(void 0)
    }
    , [e]),
    t
}
var vv = "Popper"
  , [Uk,Kl] = sr(vv)
  , [_3,qk] = Uk(vv)
  , Wk = e => {
    const {__scopePopper: t, children: n} = e
      , [s,a] = m.useState(null);
    return r.jsx(_3, {
        scope: t,
        anchor: s,
        onAnchorChange: a,
        children: n
    })
}
;
Wk.displayName = vv;
var Hk = "PopperAnchor"
  , Kk = m.forwardRef( (e, t) => {
    const {__scopePopper: n, virtualRef: s, ...a} = e
      , i = qk(Hk, n)
      , o = m.useRef(null)
      , l = at(t, o);
    return m.useEffect( () => {
        i.onAnchorChange((s == null ? void 0 : s.current) || o.current)
    }
    ),
    s ? null : r.jsx(Le.div, {
        ...a,
        ref: l
    })
}
);
Kk.displayName = Hk;
var yv = "PopperContent"
  , [A3,R3] = Uk(yv)
  , Qk = m.forwardRef( (e, t) => {
    var z, W, ze, Ze, Je, Ve;
    const {__scopePopper: n, side: s="bottom", sideOffset: a=0, align: i="center", alignOffset: o=0, arrowPadding: l=0, avoidCollisions: c=!0, collisionBoundary: d=[], collisionPadding: u=0, sticky: f="partial", hideWhenDetached: h=!1, updatePositionStrategy: x="optimized", onPlaced: j, ...v} = e
      , w = qk(yv, n)
      , [y,p] = m.useState(null)
      , g = at(t, Ft => p(Ft))
      , [b,k] = m.useState(null)
      , S = gv(b)
      , C = (S == null ? void 0 : S.width) ?? 0
      , T = (S == null ? void 0 : S.height) ?? 0
      , D = s + (i !== "center" ? "-" + i : "")
      , L = typeof u == "number" ? u : {
        top: 0,
        right: 0,
        bottom: 0,
        left: 0,
        ...u
    }
      , G = Array.isArray(d) ? d : [d]
      , M = G.length > 0
      , H = {
        padding: L,
        boundary: G.filter(D3),
        altBoundary: M
    }
      , {refs: U, floatingStyles: re, placement: ae, isPositioned: X, middlewareData: I} = y3({
        strategy: "fixed",
        placement: D,
        whileElementsMounted: (...Ft) => u3(...Ft, {
            animationFrame: x === "always"
        }),
        elements: {
            reference: w.anchor
        },
        middleware: [w3({
            mainAxis: a + T,
            alignmentAxis: o
        }), c && N3({
            mainAxis: !0,
            crossAxis: !1,
            limiter: f === "partial" ? b3() : void 0,
            ...H
        }), c && S3({
            ...H
        }), C3({
            ...H,
            apply: ({elements: Ft, rects: F, availableWidth: nt, availableHeight: et}) => {
                const {width: bt, height: hn} = F.reference
                  , jn = Ft.floating.style;
                jn.setProperty("--radix-popper-available-width", `${nt}px`),
                jn.setProperty("--radix-popper-available-height", `${et}px`),
                jn.setProperty("--radix-popper-anchor-width", `${bt}px`),
                jn.setProperty("--radix-popper-anchor-height", `${hn}px`)
            }
        }), b && T3({
            element: b,
            padding: l
        }), M3({
            arrowWidth: C,
            arrowHeight: T
        }), h && k3({
            strategy: "referenceHidden",
            ...H
        })]
    })
      , [V,oe] = Yk(ae)
      , he = en(j);
    kn( () => {
        X && (he == null || he())
    }
    , [X, he]);
    const ce = (z = I.arrow) == null ? void 0 : z.x
      , xt = (W = I.arrow) == null ? void 0 : W.y
      , gt = ((ze = I.arrow) == null ? void 0 : ze.centerOffset) !== 0
      , [Nt,ot] = m.useState();
    return kn( () => {
        y && ot(window.getComputedStyle(y).zIndex)
    }
    , [y]),
    r.jsx("div", {
        ref: U.setFloating,
        "data-radix-popper-content-wrapper": "",
        style: {
            ...re,
            transform: X ? re.transform : "translate(0, -200%)",
            minWidth: "max-content",
            zIndex: Nt,
            "--radix-popper-transform-origin": [(Ze = I.transformOrigin) == null ? void 0 : Ze.x, (Je = I.transformOrigin) == null ? void 0 : Je.y].join(" "),
            ...((Ve = I.hide) == null ? void 0 : Ve.referenceHidden) && {
                visibility: "hidden",
                pointerEvents: "none"
            }
        },
        dir: e.dir,
        children: r.jsx(A3, {
            scope: n,
            placedSide: V,
            onArrowChange: k,
            arrowX: ce,
            arrowY: xt,
            shouldHideArrow: gt,
            children: r.jsx(Le.div, {
                "data-side": V,
                "data-align": oe,
                ...v,
                ref: g,
                style: {
                    ...v.style,
                    animation: X ? void 0 : "none"
                }
            })
        })
    })
}
);
Qk.displayName = yv;
var Gk = "PopperArrow"
  , I3 = {
    top: "bottom",
    right: "left",
    bottom: "top",
    left: "right"
}
  , Xk = m.forwardRef(function(t, n) {
    const {__scopePopper: s, ...a} = t
      , i = R3(Gk, s)
      , o = I3[i.placedSide];
    return r.jsx("span", {
        ref: i.onArrowChange,
        style: {
            position: "absolute",
            left: i.arrowX,
            top: i.arrowY,
            [o]: 0,
            transformOrigin: {
                top: "",
                right: "0 0",
                bottom: "center 0",
                left: "100% 0"
            }[i.placedSide],
            transform: {
                top: "translateY(100%)",
                right: "translateY(50%) rotate(90deg) translateX(-50%)",
                bottom: "rotate(180deg)",
                left: "translateY(50%) rotate(-90deg) translateX(50%)"
            }[i.placedSide],
            visibility: i.shouldHideArrow ? "hidden" : void 0
        },
        children: r.jsx(E3, {
            ...a,
            ref: n,
            style: {
                ...a.style,
                display: "block"
            }
        })
    })
});
Xk.displayName = Gk;
function D3(e) {
    return e !== null
}
var M3 = e => ({
    name: "transformOrigin",
    options: e,
    fn(t) {
        var w, y, p;
        const {placement: n, rects: s, middlewareData: a} = t
          , o = ((w = a.arrow) == null ? void 0 : w.centerOffset) !== 0
          , l = o ? 0 : e.arrowWidth
          , c = o ? 0 : e.arrowHeight
          , [d,u] = Yk(n)
          , f = {
            start: "0%",
            center: "50%",
            end: "100%"
        }[u]
          , h = (((y = a.arrow) == null ? void 0 : y.x) ?? 0) + l / 2
          , x = (((p = a.arrow) == null ? void 0 : p.y) ?? 0) + c / 2;
        let j = ""
          , v = "";
        return d === "bottom" ? (j = o ? f : `${h}px`,
        v = `${-c}px`) : d === "top" ? (j = o ? f : `${h}px`,
        v = `${s.floating.height + c}px`) : d === "right" ? (j = `${-c}px`,
        v = o ? f : `${x}px`) : d === "left" && (j = `${s.floating.width + c}px`,
        v = o ? f : `${x}px`),
        {
            data: {
                x: j,
                y: v
            }
        }
    }
});
function Yk(e) {
    const [t,n="center"] = e.split("-");
    return [t, n]
}
var jv = Wk
  , wv = Kk
  , Nv = Qk
  , bv = Xk
  , [Ff,iW] = sr("Tooltip", [Kl])
  , $f = Kl()
  , Zk = "TooltipProvider"
  , O3 = 700
  , Ox = "tooltip.open"
  , [L3,Sv] = Ff(Zk)
  , Jk = e => {
    const {__scopeTooltip: t, delayDuration: n=O3, skipDelayDuration: s=300, disableHoverableContent: a=!1, children: i} = e
      , o = m.useRef(!0)
      , l = m.useRef(!1)
      , c = m.useRef(0);
    return m.useEffect( () => {
        const d = c.current;
        return () => window.clearTimeout(d)
    }
    , []),
    r.jsx(L3, {
        scope: t,
        isOpenDelayedRef: o,
        delayDuration: n,
        onOpen: m.useCallback( () => {
            window.clearTimeout(c.current),
            o.current = !1
        }
        , []),
        onClose: m.useCallback( () => {
            window.clearTimeout(c.current),
            c.current = window.setTimeout( () => o.current = !0, s)
        }
        , [s]),
        isPointerInTransitRef: l,
        onPointerInTransitChange: m.useCallback(d => {
            l.current = d
        }
        , []),
        disableHoverableContent: a,
        children: i
    })
}
;
Jk.displayName = Zk;
var zf = "Tooltip"
  , [F3,Vf] = Ff(zf)
  , eT = e => {
    const {__scopeTooltip: t, children: n, open: s, defaultOpen: a=!1, onOpenChange: i, disableHoverableContent: o, delayDuration: l} = e
      , c = Sv(zf, e.__scopeTooltip)
      , d = $f(t)
      , [u,f] = m.useState(null)
      , h = Ss()
      , x = m.useRef(0)
      , j = o ?? c.disableHoverableContent
      , v = l ?? c.delayDuration
      , w = m.useRef(!1)
      , [y=!1,p] = Gs({
        prop: s,
        defaultProp: a,
        onChange: C => {
            C ? (c.onOpen(),
            document.dispatchEvent(new CustomEvent(Ox))) : c.onClose(),
            i == null || i(C)
        }
    })
      , g = m.useMemo( () => y ? w.current ? "delayed-open" : "instant-open" : "closed", [y])
      , b = m.useCallback( () => {
        window.clearTimeout(x.current),
        x.current = 0,
        w.current = !1,
        p(!0)
    }
    , [p])
      , k = m.useCallback( () => {
        window.clearTimeout(x.current),
        x.current = 0,
        p(!1)
    }
    , [p])
      , S = m.useCallback( () => {
        window.clearTimeout(x.current),
        x.current = window.setTimeout( () => {
            w.current = !0,
            p(!0),
            x.current = 0
        }
        , v)
    }
    , [v, p]);
    return m.useEffect( () => () => {
        x.current && (window.clearTimeout(x.current),
        x.current = 0)
    }
    , []),
    r.jsx(jv, {
        ...d,
        children: r.jsx(F3, {
            scope: t,
            contentId: h,
            open: y,
            stateAttribute: g,
            trigger: u,
            onTriggerChange: f,
            onTriggerEnter: m.useCallback( () => {
                c.isOpenDelayedRef.current ? S() : b()
            }
            , [c.isOpenDelayedRef, S, b]),
            onTriggerLeave: m.useCallback( () => {
                j ? k() : (window.clearTimeout(x.current),
                x.current = 0)
            }
            , [k, j]),
            onOpen: b,
            onClose: k,
            disableHoverableContent: j,
            children: n
        })
    })
}
;
eT.displayName = zf;
var Lx = "TooltipTrigger"
  , tT = m.forwardRef( (e, t) => {
    const {__scopeTooltip: n, ...s} = e
      , a = Vf(Lx, n)
      , i = Sv(Lx, n)
      , o = $f(n)
      , l = m.useRef(null)
      , c = at(t, l, a.onTriggerChange)
      , d = m.useRef(!1)
      , u = m.useRef(!1)
      , f = m.useCallback( () => d.current = !1, []);
    return m.useEffect( () => () => document.removeEventListener("pointerup", f), [f]),
    r.jsx(wv, {
        asChild: !0,
        ...o,
        children: r.jsx(Le.button, {
            "aria-describedby": a.open ? a.contentId : void 0,
            "data-state": a.stateAttribute,
            ...s,
            ref: c,
            onPointerMove: ue(e.onPointerMove, h => {
                h.pointerType !== "touch" && !u.current && !i.isPointerInTransitRef.current && (a.onTriggerEnter(),
                u.current = !0)
            }
            ),
            onPointerLeave: ue(e.onPointerLeave, () => {
                a.onTriggerLeave(),
                u.current = !1
            }
            ),
            onPointerDown: ue(e.onPointerDown, () => {
                a.open && a.onClose(),
                d.current = !0,
                document.addEventListener("pointerup", f, {
                    once: !0
                })
            }
            ),
            onFocus: ue(e.onFocus, () => {
                d.current || a.onOpen()
            }
            ),
            onBlur: ue(e.onBlur, a.onClose),
            onClick: ue(e.onClick, a.onClose)
        })
    })
}
);
tT.displayName = Lx;
var $3 = "TooltipPortal"
  , [oW,z3] = Ff($3, {
    forceMount: void 0
})
  , Al = "TooltipContent"
  , nT = m.forwardRef( (e, t) => {
    const n = z3(Al, e.__scopeTooltip)
      , {forceMount: s=n.forceMount, side: a="top", ...i} = e
      , o = Vf(Al, e.__scopeTooltip);
    return r.jsx(Qn, {
        present: s || o.open,
        children: o.disableHoverableContent ? r.jsx(rT, {
            side: a,
            ...i,
            ref: t
        }) : r.jsx(V3, {
            side: a,
            ...i,
            ref: t
        })
    })
}
)
  , V3 = m.forwardRef( (e, t) => {
    const n = Vf(Al, e.__scopeTooltip)
      , s = Sv(Al, e.__scopeTooltip)
      , a = m.useRef(null)
      , i = at(t, a)
      , [o,l] = m.useState(null)
      , {trigger: c, onClose: d} = n
      , u = a.current
      , {onPointerInTransitChange: f} = s
      , h = m.useCallback( () => {
        l(null),
        f(!1)
    }
    , [f])
      , x = m.useCallback( (j, v) => {
        const w = j.currentTarget
          , y = {
            x: j.clientX,
            y: j.clientY
        }
          , p = H3(y, w.getBoundingClientRect())
          , g = K3(y, p)
          , b = Q3(v.getBoundingClientRect())
          , k = X3([...g, ...b]);
        l(k),
        f(!0)
    }
    , [f]);
    return m.useEffect( () => () => h(), [h]),
    m.useEffect( () => {
        if (c && u) {
            const j = w => x(w, u)
              , v = w => x(w, c);
            return c.addEventListener("pointerleave", j),
            u.addEventListener("pointerleave", v),
            () => {
                c.removeEventListener("pointerleave", j),
                u.removeEventListener("pointerleave", v)
            }
        }
    }
    , [c, u, x, h]),
    m.useEffect( () => {
        if (o) {
            const j = v => {
                const w = v.target
                  , y = {
                    x: v.clientX,
                    y: v.clientY
                }
                  , p = (c == null ? void 0 : c.contains(w)) || (u == null ? void 0 : u.contains(w))
                  , g = !G3(y, o);
                p ? h() : g && (h(),
                d())
            }
            ;
            return document.addEventListener("pointermove", j),
            () => document.removeEventListener("pointermove", j)
        }
    }
    , [c, u, o, d, h]),
    r.jsx(rT, {
        ...e,
        ref: i
    })
}
)
  , [B3,U3] = Ff(zf, {
    isInside: !1
})
  , q3 = B2("TooltipContent")
  , rT = m.forwardRef( (e, t) => {
    const {__scopeTooltip: n, children: s, "aria-label": a, onEscapeKeyDown: i, onPointerDownOutside: o, ...l} = e
      , c = Vf(Al, n)
      , d = $f(n)
      , {onClose: u} = c;
    return m.useEffect( () => (document.addEventListener(Ox, u),
    () => document.removeEventListener(Ox, u)), [u]),
    m.useEffect( () => {
        if (c.trigger) {
            const f = h => {
                const x = h.target;
                x != null && x.contains(c.trigger) && u()
            }
            ;
            return window.addEventListener("scroll", f, {
                capture: !0
            }),
            () => window.removeEventListener("scroll", f, {
                capture: !0
            })
        }
    }
    , [c.trigger, u]),
    r.jsx(Bl, {
        asChild: !0,
        disableOutsidePointerEvents: !1,
        onEscapeKeyDown: i,
        onPointerDownOutside: o,
        onFocusOutside: f => f.preventDefault(),
        onDismiss: u,
        children: r.jsxs(Nv, {
            "data-state": c.stateAttribute,
            ...d,
            ...l,
            ref: t,
            style: {
                ...l.style,
                "--radix-tooltip-content-transform-origin": "var(--radix-popper-transform-origin)",
                "--radix-tooltip-content-available-width": "var(--radix-popper-available-width)",
                "--radix-tooltip-content-available-height": "var(--radix-popper-available-height)",
                "--radix-tooltip-trigger-width": "var(--radix-popper-anchor-width)",
                "--radix-tooltip-trigger-height": "var(--radix-popper-anchor-height)"
            },
            children: [r.jsx(q3, {
                children: s
            }), r.jsx(B3, {
                scope: n,
                isInside: !0,
                children: r.jsx(uL, {
                    id: c.contentId,
                    role: "tooltip",
                    children: a || s
                })
            })]
        })
    })
}
);
nT.displayName = Al;
var sT = "TooltipArrow"
  , W3 = m.forwardRef( (e, t) => {
    const {__scopeTooltip: n, ...s} = e
      , a = $f(n);
    return U3(sT, n).isInside ? null : r.jsx(bv, {
        ...a,
        ...s,
        ref: t
    })
}
);
W3.displayName = sT;
function H3(e, t) {
    const n = Math.abs(t.top - e.y)
      , s = Math.abs(t.bottom - e.y)
      , a = Math.abs(t.right - e.x)
      , i = Math.abs(t.left - e.x);
    switch (Math.min(n, s, a, i)) {
    case i:
        return "left";
    case a:
        return "right";
    case n:
        return "top";
    case s:
        return "bottom";
    default:
        throw new Error("unreachable")
    }
}
function K3(e, t, n=5) {
    const s = [];
    switch (t) {
    case "top":
        s.push({
            x: e.x - n,
            y: e.y + n
        }, {
            x: e.x + n,
            y: e.y + n
        });
        break;
    case "bottom":
        s.push({
            x: e.x - n,
            y: e.y - n
        }, {
            x: e.x + n,
            y: e.y - n
        });
        break;
    case "left":
        s.push({
            x: e.x + n,
            y: e.y - n
        }, {
            x: e.x + n,
            y: e.y + n
        });
        break;
    case "right":
        s.push({
            x: e.x - n,
            y: e.y - n
        }, {
            x: e.x - n,
            y: e.y + n
        });
        break
    }
    return s
}
function Q3(e) {
    const {top: t, right: n, bottom: s, left: a} = e;
    return [{
        x: a,
        y: t
    }, {
        x: n,
        y: t
    }, {
        x: n,
        y: s
    }, {
        x: a,
        y: s
    }]
}
function G3(e, t) {
    const {x: n, y: s} = e;
    let a = !1;
    for (let i = 0, o = t.length - 1; i < t.length; o = i++) {
        const l = t[i].x
          , c = t[i].y
          , d = t[o].x
          , u = t[o].y;
        c > s != u > s && n < (d - l) * (s - c) / (u - c) + l && (a = !a)
    }
    return a
}
function X3(e) {
    const t = e.slice();
    return t.sort( (n, s) => n.x < s.x ? -1 : n.x > s.x ? 1 : n.y < s.y ? -1 : n.y > s.y ? 1 : 0),
    Y3(t)
}
function Y3(e) {
    if (e.length <= 1)
        return e.slice();
    const t = [];
    for (let s = 0; s < e.length; s++) {
        const a = e[s];
        for (; t.length >= 2; ) {
            const i = t[t.length - 1]
              , o = t[t.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                t.pop();
            else
                break
        }
        t.push(a)
    }
    t.pop();
    const n = [];
    for (let s = e.length - 1; s >= 0; s--) {
        const a = e[s];
        for (; n.length >= 2; ) {
            const i = n[n.length - 1]
              , o = n[n.length - 2];
            if ((i.x - o.x) * (a.y - o.y) >= (i.y - o.y) * (a.x - o.x))
                n.pop();
            else
                break
        }
        n.push(a)
    }
    return n.pop(),
    t.length === 1 && n.length === 1 && t[0].x === n[0].x && t[0].y === n[0].y ? t : t.concat(n)
}
var Z3 = Jk
  , J3 = eT
  , e$ = tT
  , aT = nT;
const iT = Z3
  , t$ = J3
  , n$ = e$
  , oT = m.forwardRef( ({className: e, sideOffset: t=4, ...n}, s) => r.jsx(aT, {
    ref: s,
    sideOffset: t,
    className: pe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]", e),
    ...n
}));
oT.displayName = aT.displayName;
const r$ = "modulepreload"
  , s$ = function(e) {
    return "/" + e
}
  , yw = {}
  , lT = function(t, n, s) {
    let a = Promise.resolve();
    if (n && n.length > 0) {
        document.getElementsByTagName("link");
        const o = document.querySelector("meta[property=csp-nonce]")
          , l = (o == null ? void 0 : o.nonce) || (o == null ? void 0 : o.getAttribute("nonce"));
        a = Promise.allSettled(n.map(c => {
            if (c = s$(c),
            c in yw)
                return;
            yw[c] = !0;
            const d = c.endsWith(".css")
              , u = d ? '[rel="stylesheet"]' : "";
            if (document.querySelector(`link[href="${c}"]${u}`))
                return;
            const f = document.createElement("link");
            if (f.rel = d ? "stylesheet" : r$,
            d || (f.as = "script"),
            f.crossOrigin = "",
            f.href = c,
            l && f.setAttribute("nonce", l),
            document.head.appendChild(f),
            d)
                return new Promise( (h, x) => {
                    f.addEventListener("load", h),
                    f.addEventListener("error", () => x(new Error(`Unable to preload CSS for ${c}`)))
                }
                )
        }
        ))
    }
    function i(o) {
        const l = new Event("vite:preloadError",{
            cancelable: !0
        });
        if (l.payload = o,
        window.dispatchEvent(l),
        !l.defaultPrevented)
            throw o
    }
    return a.then(o => {
        for (const l of o || [])
            l.status === "rejected" && i(l.reason);
        return t().catch(i)
    }
    )
};
async function cT() {
    if (window.location.hostname === "localhost" || window.location.hostname.includes("replit.dev") || window.location.hostname.endsWith("camionback.com")) {
        if (console.log(" Service Worker DSACTIV en mode dveloppement"),
        "serviceWorker"in navigator) {
            const t = await navigator.serviceWorker.getRegistrations();
            for (const n of t)
                await n.unregister(),
                console.log(" Service Worker existant dsinstall")
        }
        return null
    }
    if ("serviceWorker"in navigator)
        try {
            const t = await navigator.serviceWorker.register("/service-worker.js", {
                scope: "/",
                updateViaCache: "none"
            });
            return console.log(" Service Worker enregistr pour CamionBack:", t.scope),
            t.addEventListener("updatefound", () => {
                const n = t.installing;
                console.log(" Nouvelle version du Service Worker dtecte"),
                n && n.addEventListener("statechange", () => {
                    n.state === "installed" && navigator.serviceWorker.controller && (console.log(" Nouvelle version disponible, rafrachissement recommand"),
                    window.dispatchEvent(new CustomEvent("sw-update-available")))
                }
                )
            }
            ),
            navigator.serviceWorker.addEventListener("message", n => {
                var s;
                ((s = n.data) == null ? void 0 : s.type) === "SW_ACTIVATED" && console.log(` Service Worker version ${n.data.version} activ`)
            }
            ),
            setInterval( () => {
                console.log(" Vrification des mises  jour du Service Worker..."),
                t.update()
            }
            , 30 * 60 * 1e3),
            t.update(),
            t
        } catch (t) {
            return console.error(" Erreur lors de l'enregistrement du Service Worker:", t),
            null
        }
    else
        return console.warn(" Service Worker non support par ce navigateur"),
        null
}
async function a$() {
    try {
        const e = await fetch("/api/pwa/vapid-public-key");
        if (!e.ok)
            return console.error(" Erreur lors de la rcupration de la cl VAPID"),
            null;
        const t = await e.json();
        return console.log(" Cl VAPID publique rcupre depuis le serveur"),
        t.publicKey
    } catch (e) {
        return console.error(" Erreur lors de la rcupration de la cl VAPID:", e),
        null
    }
}
async function Fx() {
    var e;
    if (!("Notification"in window))
        return console.warn(" Notifications non supportes par ce navigateur"),
        null;
    try {
        console.log(" === DBUT CRATION PUSH SUBSCRIPTION ==="),
        console.log(" Demande de permission de notification...");
        const t = await Notification.requestPermission();
        if (console.log(" Permission de notification reue:", t),
        t !== "granted")
            return console.log(" Permission de notification refuse"),
            null;
        console.log(" Attente du Service Worker...");
        const n = await navigator.serviceWorker.ready;
        console.log(" Service Worker prt:", (e = n.active) == null ? void 0 : e.state),
        console.log(" Vrification subscription existante...");
        const s = await n.pushManager.getSubscription();
        s && (console.log(" Subscription existante trouve, dsabonnement..."),
        await s.unsubscribe(),
        console.log(" Ancienne subscription supprime")),
        console.log(" Rcupration de la cl VAPID publique...");
        const a = await a$();
        if (console.log(" Cl VAPID reue:", a ? `${a.substring(0, 20)}...` : "null"),
        !a)
            return console.error(" Impossible de rcuprer la cl VAPID publique"),
            null;
        console.log(" Conversion de la cl VAPID en Uint8Array...");
        const i = o$(a);
        console.log(" Cl VAPID convertie, longueur:", i.length),
        console.log(" Souscription aux push notifications avec pushManager.subscribe()..."),
        console.log(" Options:", {
            userVisibleOnly: !0,
            applicationServerKey: "(Uint8Array)"
        });
        const o = await n.pushManager.subscribe({
            userVisibleOnly: !0,
            applicationServerKey: i
        });
        return console.log("   PUSH SUBSCRIPTION CRE AVEC SUCCS !   "),
        console.log(" Push subscription:", o),
        console.log(" Endpoint:", o.endpoint),
        console.log(" Cl p256dh:", o.getKey("p256dh")),
        console.log(" Cl auth:", o.getKey("auth")),
        console.log(" ExpirationTime:", o.expirationTime),
        o
    } catch (t) {
        return console.error("   ERREUR LORS DE LA SOUSCRIPTION AUX NOTIFICATIONS   "),
        console.error(" Type d'erreur:", t instanceof Error ? t.name : typeof t),
        console.error(" Message:", t instanceof Error ? t.message : String(t)),
        console.error(" Stack:", t instanceof Error ? t.stack : "N/A"),
        console.error(" Objet complet:", t),
        null
    }
}
async function i$() {
    if ("serviceWorker"in navigator)
        try {
            return await (await navigator.serviceWorker.ready).pushManager.getSubscription()
        } catch (e) {
            return console.error(" Erreur lors de la rcupration de la souscription:", e),
            null
        }
    return null
}
function o$(e) {
    console.log(" urlBase64ToUint8Array - Input:", e.substring(0, 20) + "...");
    const t = "=".repeat((4 - e.length % 4) % 4)
      , n = (e + t).replace(/\-/g, "+").replace(/_/g, "/");
    console.log(" Base64 avec padding:", n.substring(0, 20) + "...");
    const s = window.atob(n);
    console.log(" Raw data length:", s.length);
    const a = new Uint8Array(s.length);
    for (let i = 0; i < s.length; ++i)
        a[i] = s.charCodeAt(i);
    return console.log(" Uint8Array cr, longueur:", a.length),
    a
}
function dT() {
    return window.matchMedia("(display-mode: standalone)").matches || window.navigator.standalone === !0
}
function uT() {
    let e = null;
    window.addEventListener("beforeinstallprompt", t => {
        t.preventDefault(),
        e = t,
        console.log(" PWA peut tre installe"),
        window.dispatchEvent(new CustomEvent("pwa-installable",{
            detail: e
        }))
    }
    ),
    window.addEventListener("appinstalled", () => {
        console.log(" PWA installe avec succs"),
        e = null
    }
    )
}
function mT(e) {
    return JSON.stringify(e)
}
async function fT() {
    console.log(" Initialisation PWA CamionBack..."),
    await cT(),
    uT(),
    dT() ? console.log(" CamionBack fonctionne en mode PWA") : console.log(" CamionBack en mode navigateur web")
}
const hT = Object.freeze(Object.defineProperty({
    __proto__: null,
    getDeviceTokenFromSubscription: mT,
    getPushSubscription: i$,
    initializePWA: fT,
    isPWAInstalled: dT,
    registerServiceWorker: cT,
    requestPushPermission: Fx,
    setupPWAInstallPrompt: uT
}, Symbol.toStringTag, {
    value: "Module"
}));
function l$({userId: e, enabled: t}) {
    const [n,s] = m.useState(!1)
      , [a,i] = m.useState("default");
    return m.useEffect( () => {
        "Notification"in window && i(Notification.permission)
    }
    , []),
    m.useEffect( () => {
        async function o() {
            if (!t || !e) {
                console.log(" [usePushNotifications] Push notifications dsactives ou userId manquant");
                return
            }
            try {
                console.log(" === [usePushNotifications] DBUT CONFIGURATION PUSH NOTIFICATIONS ==="),
                console.log(" [usePushNotifications] userId:", e),
                console.log(" [usePushNotifications] permission actuelle:", a);
                let l = null;
                if (a === "granted") {
                    console.log(" [usePushNotifications] Permission dj accorde"),
                    console.log(" [usePushNotifications] Rcupration de la souscription existante...");
                    const {getPushSubscription: c} = await lT(async () => {
                        const {getPushSubscription: d} = await Promise.resolve().then( () => hT);
                        return {
                            getPushSubscription: d
                        }
                    }
                    , void 0);
                    l = await c(),
                    l ? console.log(" [usePushNotifications] Souscription existante trouve:", {
                        endpoint: l.endpoint.substring(0, 50) + "...",
                        expirationTime: l.expirationTime
                    }) : (console.log(" [usePushNotifications] Aucune souscription existante !"),
                    console.log(" [usePushNotifications] Cration d'une nouvelle subscription..."),
                    l = await Fx())
                } else
                    a === "default" ? (console.log(" [usePushNotifications] Permission par dfaut, demande de permission..."),
                    l = await Fx()) : a === "denied" && console.log(" [usePushNotifications] Permission refuse par l'utilisateur");
                if (l) {
                    console.log(" [usePushNotifications] Subscription obtenue !");
                    const c = mT(l);
                    console.log(" [usePushNotifications] Envoi du device token au serveur..."),
                    console.log(" [usePushNotifications] Device token length:", c.length),
                    console.log(" [usePushNotifications] URL:", `/api/users/${e}/device-token`),
                    console.log(" [usePushNotifications] Method: PATCH"),
                    console.log(" [usePushNotifications] Body:", JSON.stringify({
                        deviceToken: c
                    }, null, 2));
                    try {
                        console.log(" [usePushNotifications] Appel de apiRequest...");
                        const d = await Ae("PATCH", `/api/users/${e}/device-token`, {
                            deviceToken: c
                        });
                        console.log(" [usePushNotifications] apiRequest retourn avec succs !"),
                        console.log(" [usePushNotifications] Response status:", d.status),
                        console.log(" [usePushNotifications] Response ok:", d.ok);
                        const u = await d.json();
                        console.log(" [usePushNotifications] Response data:", u)
                    } catch (d) {
                        throw console.error("   [usePushNotifications] ERREUR LORS DE L'ENVOI DU TOKEN   "),
                        console.error(" [usePushNotifications] Type:", d instanceof Error ? d.name : typeof d),
                        console.error(" [usePushNotifications] Message:", d instanceof Error ? d.message : String(d)),
                        console.error(" [usePushNotifications] Stack:", d instanceof Error ? d.stack : "N/A"),
                        d
                    }
                    s(!0),
                    i("granted"),
                    console.log("   [usePushNotifications] PUSH NOTIFICATIONS ACTIVES ET SYNCHRONISES !   ")
                } else
                    console.log(" [usePushNotifications] Aucune subscription obtenue")
            } catch (l) {
                console.error("   [usePushNotifications] ERREUR CONFIGURATION   "),
                console.error(" [usePushNotifications] Erreur:", l)
            }
        }
        o()
    }
    , [e, t, a]),
    {
        isSubscribed: n,
        permission: a
    }
}
function c$({children: e}) {
    const [t,n] = m.useState(null)
      , s = m.useRef(null);
    m.useEffect( () => {
        const i = () => {
            const c = localStorage.getItem("camionback_user")
              , d = c ? JSON.parse(c) : null;
            console.log(" [PushNotificationProvider] User loaded from localStorage:", d ? {
                id: d.id,
                name: d.name,
                role: d.role,
                phoneNumber: d.phoneNumber
            } : "null"),
            s.current = d,
            n(d)
        }
        ;
        i();
        const o = setInterval( () => {
            const c = localStorage.getItem("camionback_user")
              , d = c ? JSON.parse(c) : null;
            JSON.stringify(d) !== JSON.stringify(s.current) && (console.log(" [PushNotificationProvider] User change detected in localStorage, reloading..."),
            s.current = d,
            n(d))
        }
        , 2e3)
          , l = c => {
            c.key === "camionback_user" && (console.log(" [PushNotificationProvider] localStorage change detected from another tab"),
            i())
        }
        ;
        return window.addEventListener("storage", l),
        () => {
            clearInterval(o),
            window.removeEventListener("storage", l)
        }
    }
    , []);
    const {permission: a} = l$({
        userId: (t == null ? void 0 : t.id) || null,
        enabled: !!(t != null && t.id)
    });
    return m.useEffect( () => {
        a === "granted" && t && console.log(` [PushNotificationProvider] Notifications push actives pour ${t.name || t.phoneNumber}`)
    }
    , [a, t]),
    r.jsx(r.Fragment, {
        children: e
    })
}
const Cv = Ul("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2", {
    variants: {
        variant: {
            default: "bg-primary text-primary-foreground border border-primary-border",
            destructive: "bg-destructive text-destructive-foreground border border-destructive-border",
            outline: " border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",
            secondary: "border bg-secondary text-secondary-foreground border border-secondary-border ",
            ghost: "border border-transparent"
        },
        size: {
            default: "min-h-9 px-4 py-2",
            sm: "min-h-8 rounded-md px-3 text-xs",
            lg: "min-h-10 rounded-md px-8",
            icon: "h-9 w-9"
        }
    },
    defaultVariants: {
        variant: "default",
        size: "default"
    }
})
  , E = m.forwardRef( ({className: e, variant: t, size: n, asChild: s=!1, ...a}, i) => {
    const o = s ? z2 : "button";
    return r.jsx(o, {
        className: pe(Cv({
            variant: t,
            size: n,
            className: e
        })),
        ref: i,
        ...a
    })
}
);
E.displayName = "Button";
const J = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm", e),
    ...t
}));
J.displayName = "Card";
const ye = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("flex flex-col space-y-1.5 p-6", e),
    ...t
}));
ye.displayName = "CardHeader";
const we = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("text-2xl font-semibold leading-none tracking-tight", e),
    ...t
}));
we.displayName = "CardTitle";
const Mn = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("text-sm text-muted-foreground", e),
    ...t
}));
Mn.displayName = "CardDescription";
const te = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("p-6 pt-0", e),
    ...t
}));
te.displayName = "CardContent";
const kv = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("flex items-center p-6 pt-0", e),
    ...t
}));
kv.displayName = "CardFooter";
const rp = "pwaPromptDismissed"
  , d$ = 1e4
  , u$ = 15e3;
function m$() {
    const [e,t] = m.useState(null)
      , [n,s] = m.useState(!1)
      , [a,i] = m.useState(!1)
      , o = m.useRef(null)
      , l = m.useRef(null)
      , c = m.useRef(!1)
      , d = () => window.matchMedia("(display-mode: standalone)").matches || window.navigator.standalone === !0
      , u = () => localStorage.getItem(rp) === "true";
    m.useEffect( () => {
        if (d() || u() || c.current)
            return;
        const x = w => {
            w.preventDefault(),
            t(w),
            console.log(" PWA installable dtecte")
        }
          , j = w => {
            t(w.detail),
            console.log(" vnement PWA-installable reu")
        }
          , v = () => {
            s(!1),
            i(!1),
            t(null),
            console.log(" CamionBack install avec succs")
        }
        ;
        return window.addEventListener("beforeinstallprompt", x),
        window.addEventListener("pwa-installable", j),
        window.addEventListener("appinstalled", v),
        window.deferredPrompt && (t(window.deferredPrompt),
        console.log(" deferredPrompt global dtect")),
        () => {
            window.removeEventListener("beforeinstallprompt", x),
            window.removeEventListener("pwa-installable", j),
            window.removeEventListener("appinstalled", v),
            o.current && clearTimeout(o.current),
            l.current && clearTimeout(l.current)
        }
    }
    , []),
    m.useEffect( () => {
        if (!e || n || c.current)
            return;
        const x = () => {
            o.current && clearTimeout(o.current),
            o.current = setTimeout( () => {
                s(!0),
                c.current = !0,
                console.log(" Affichage du toast d'installation PWA")
            }
            , d$)
        }
          , j = ["mousemove", "scroll", "touchstart", "click", "keydown"];
        return j.forEach(v => window.addEventListener(v, x)),
        x(),
        () => {
            j.forEach(v => window.removeEventListener(v, x)),
            o.current && clearTimeout(o.current)
        }
    }
    , [e, n]),
    m.useEffect( () => {
        if (n)
            return setTimeout( () => i(!0), 50),
            l.current = setTimeout( () => {
                h()
            }
            , u$),
            () => {
                l.current && clearTimeout(l.current)
            }
    }
    , [n]);
    const f = async () => {
        const x = e || window.deferredPrompt;
        if (!x) {
            console.warn(" Aucun prompt d'installation disponible");
            return
        }
        try {
            await x.prompt();
            const {outcome: j} = await x.userChoice;
            j === "accepted" ? console.log(" Utilisateur a accept l'installation") : (console.log(" Utilisateur a refus l'installation"),
            localStorage.setItem(rp, "true")),
            i(!1),
            setTimeout( () => s(!1), 400),
            t(null)
        } catch (j) {
            console.error(" Erreur lors de l'installation:", j)
        }
    }
      , h = () => {
        i(!1),
        setTimeout( () => s(!1), 400),
        localStorage.setItem(rp, "true"),
        console.log(" Installation PWA reporte")
    }
    ;
    return n ? r.jsx("div", {
        className: `
        fixed z-50
        bottom-4 right-4 sm:top-4 sm:bottom-auto
        transition-all duration-400 ease-out
        ${a ? "opacity-100 translate-y-0 sm:translate-y-0" : "opacity-0 translate-y-8 sm:translate-y-[-2rem]"}
      `,
        "data-testid": "pwa-install-toast",
        children: r.jsx(J, {
            className: "w-[340px] sm:w-[380px] shadow-lg border border-border/50 bg-background",
            children: r.jsx("div", {
                className: "p-4",
                children: r.jsxs("div", {
                    className: "flex items-start gap-3",
                    children: [r.jsx("div", {
                        className: "flex-shrink-0 mt-0.5",
                        children: r.jsx(UL, {
                            className: "h-6 w-6 text-[#00BFA5]"
                        })
                    }), r.jsxs("div", {
                        className: "flex-1 min-w-0",
                        children: [r.jsx("h3", {
                            className: "text-sm font-semibold text-foreground mb-1",
                            children: "Installer CamionBack"
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground mb-4",
                            children: "Accdez rapidement  vos transports depuis votre cran d'accueil"
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(E, {
                                onClick: f,
                                size: "sm",
                                className: "bg-[#00BFA5] hover:bg-[#00a892] text-white flex-1",
                                "data-testid": "button-install-pwa",
                                children: "Installer"
                            }), r.jsx(E, {
                                onClick: h,
                                size: "sm",
                                variant: "ghost",
                                className: "text-muted-foreground hover:text-foreground",
                                "data-testid": "button-dismiss-pwa",
                                children: "Plus tard"
                            })]
                        })]
                    }), r.jsx(E, {
                        onClick: h,
                        size: "icon",
                        variant: "ghost",
                        className: "h-6 w-6 flex-shrink-0 -mt-1 -mr-1",
                        "data-testid": "button-close-pwa-toast",
                        children: r.jsx(Pi, {
                            className: "h-4 w-4"
                        })
                    })]
                })
            })
        })
    }) : null
}
const _e = m.forwardRef( ({className: e, type: t, ...n}, s) => r.jsx("input", {
    type: t,
    className: pe("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", e),
    ref: s,
    ...n
}));
_e.displayName = "Input";
const f$ = "/assets/logo%20camion%20(14)_1760911574566-xPVAGFRQ.png";
function h$({onAuthSuccess: e}) {
    const [,t] = rr()
      , [n,s] = m.useState("phone")
      , [a,i] = m.useState("login")
      , [o,l] = m.useState("")
      , [c,d] = m.useState("")
      , [u,f] = m.useState("")
      , [h,x] = m.useState(!1)
      , [j,v] = m.useState(!1)
      , [w,y] = m.useState(!1)
      , {toast: p} = Ht()
      , g = S => {
        const C = S.replace(/\D/g, "").slice(0, 9);
        return C.length === 0 ? "" : C.length <= 1 ? C : C.length <= 3 ? `${C.slice(0, 1)} ${C.slice(1)}` : C.length <= 5 ? `${C.slice(0, 1)} ${C.slice(1, 3)} ${C.slice(3)}` : C.length <= 7 ? `${C.slice(0, 1)} ${C.slice(1, 3)} ${C.slice(3, 5)} ${C.slice(5)}` : `${C.slice(0, 1)} ${C.slice(1, 3)} ${C.slice(3, 5)} ${C.slice(5, 7)} ${C.slice(7)}`
    }
      , b = async () => {
        const S = o.replace(/\s/g, "");
        if (S.length !== 9) {
            p({
                variant: "destructive",
                title: "Erreur",
                description: "Le numro doit contenir exactement 9 chiffres"
            });
            return
        }
        v(!0);
        try {
            const C = await fetch("/api/auth/check-phone", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: `+212${S}`
                })
            });
            if (!C.ok)
                throw new Error;
            const T = await C.json();
            i(T.exists ? "login" : "register"),
            s("pin")
        } catch {
            p({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la vrification"
            })
        } finally {
            v(!1)
        }
    }
      , k = async () => {
        const S = o.replace(/\s/g, "");
        if (c.length !== 6) {
            p({
                variant: "destructive",
                title: "Erreur",
                description: "Le code PIN doit contenir 6 chiffres"
            });
            return
        }
        if (a === "register" && c !== u) {
            p({
                variant: "destructive",
                title: "Erreur",
                description: "Les codes PIN ne correspondent pas"
            });
            return
        }
        v(!0);
        try {
            const T = await fetch(a === "login" ? "/api/auth/login" : "/api/auth/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: `+212${S}`,
                    pin: c
                })
            });
            if (!T.ok) {
                const G = await T.json();
                p({
                    variant: "destructive",
                    title: "Erreur",
                    description: G.error || (a === "login" ? "Numro ou code PIN incorrect" : "chec de l'inscription")
                });
                return
            }
            const L = (await T.json()).user;
            localStorage.setItem("camionback_user", JSON.stringify(L)),
            e(L),
            L.role ? L.role === "admin" ? t("/admin-dashboard") : L.role === "coordinateur" ? t("/coordinator-dashboard") : L.role === "transporter" && (!L.name || !L.city) ? t("/complete-profile") : t("/") : t("/select-role")
        } catch {
            p({
                variant: "destructive",
                title: "Erreur",
                description: a === "login" ? "chec de la connexion" : "chec de l'inscription"
            })
        } finally {
            v(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen flex items-center justify-center p-4 bg-gradient-to-b from-[#0A2540] to-[#163049]",
        children: r.jsxs(J, {
            className: "w-full max-w-md",
            children: [r.jsxs(ye, {
                className: "text-center space-y-3 pb-4",
                children: [r.jsxs("div", {
                    className: "relative mb-4",
                    style: {
                        height: "90px"
                    },
                    children: [r.jsx("style", {
                        dangerouslySetInnerHTML: {
                            __html: `
              @keyframes truckTop {
                0% { transform: translateX(-120%); }
                100% { transform: translateX(120%); }
              }
              @keyframes truckBottom {
                0% { transform: translateX(120%) scaleX(-1); }
                100% { transform: translateX(-120%) scaleX(-1); }
              }
              .truck-top {
                animation: truckTop 6s linear infinite;
                display: block;
              }
              .truck-bottom {
                animation: truckBottom 6s linear infinite;
                animation-delay: 0.5s;
                display: block;
              }
              .truck-container.paused .truck-top,
              .truck-container.paused .truck-bottom {
                animation-play-state: paused;
              }
              @media (max-height: 680px) {
                .truck-container-wrapper {
                  transform: scale(0.9);
                  margin-top: -8px;
                }
              }
            `
                        }
                    }), r.jsxs("div", {
                        className: "truck-container-wrapper",
                        children: [r.jsxs("div", {
                            className: `truck-container ${w ? "paused" : ""}`,
                            style: {
                                position: "relative",
                                height: "60px",
                                overflow: "visible",
                                paddingTop: "8px"
                            },
                            children: [r.jsx("div", {
                                className: "truck-top",
                                style: {
                                    position: "absolute",
                                    top: "8px",
                                    left: 0,
                                    right: 0
                                },
                                children: r.jsx(At, {
                                    className: "w-10 h-10 md:w-11 md:h-11 text-[#1CA6A6]",
                                    style: {
                                        filter: "drop-shadow(0 2px 4px rgba(28, 166, 166, 0.4))"
                                    }
                                })
                            }), r.jsx("div", {
                                className: "truck-bottom",
                                style: {
                                    position: "absolute",
                                    top: "38px",
                                    left: 0,
                                    right: 0
                                },
                                children: r.jsx(At, {
                                    className: "w-10 h-10 md:w-11 md:h-11 text-[#2BB673]",
                                    style: {
                                        filter: "drop-shadow(0 2px 4px rgba(43, 182, 115, 0.4))"
                                    }
                                })
                            })]
                        }), r.jsx("div", {
                            style: {
                                marginTop: "10px",
                                textAlign: "center"
                            },
                            children: r.jsx("p", {
                                className: "text-[11px] md:text-xs text-[#CDE8E8]/85 font-medium",
                                children: "Pas de retour  vide "
                            })
                        })]
                    })]
                }), r.jsx("div", {
                    className: "mx-auto w-full max-w-[200px]",
                    children: r.jsx("img", {
                        src: f$,
                        alt: "CamionBack Logo",
                        className: "w-full h-auto",
                        loading: "eager",
                        "data-testid": "img-logo"
                    })
                }), r.jsx(Mn, {
                    className: "text-base",
                    children: n === "phone" ? "Entrez votre numro de tlphone" : a === "login" ? "Entrez votre code PIN" : "Crez votre code PIN  6 chiffres"
                })]
            }), r.jsx(te, {
                className: "space-y-6",
                children: n === "phone" ? r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Numro de tlphone"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx("span", {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium pointer-events-none select-none",
                                children: "+212"
                            }), r.jsx(_e, {
                                type: "tel",
                                placeholder: "6 12 34 56 78",
                                value: o,
                                onChange: S => l(g(S.target.value)),
                                onFocus: () => y(!0),
                                onBlur: () => y(!1),
                                className: "pl-16",
                                "data-testid": "input-phone"
                            })]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Format: 6 12 34 56 78 (9 chiffres)"
                        })]
                    }), r.jsxs(E, {
                        onClick: b,
                        className: "w-full",
                        size: "lg",
                        disabled: j,
                        "data-testid": "button-continue",
                        children: [j ? "Vrification..." : "Continuer", r.jsx(hk, {
                            className: "ml-2 h-5 w-5"
                        })]
                    })]
                }) : r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: a === "login" ? "Code PIN" : "Crer un code PIN"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx(_e, {
                                type: h ? "text" : "password",
                                placeholder: "",
                                value: c,
                                onChange: S => d(S.target.value.replace(/\D/g, "").slice(0, 6)),
                                onFocus: () => y(!0),
                                onBlur: () => y(!1),
                                className: "text-center text-2xl tracking-widest pr-12",
                                maxLength: 6,
                                "data-testid": "input-pin"
                            }), r.jsx("button", {
                                type: "button",
                                onClick: () => x(!h),
                                className: "absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",
                                "data-testid": "button-toggle-pin",
                                children: h ? r.jsx(lv, {
                                    className: "h-5 w-5"
                                }) : r.jsx(vs, {
                                    className: "h-5 w-5"
                                })
                            })]
                        })]
                    }), a === "register" && r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Confirmer le code PIN"
                        }), r.jsx(_e, {
                            type: h ? "text" : "password",
                            placeholder: "",
                            value: u,
                            onChange: S => f(S.target.value.replace(/\D/g, "").slice(0, 6)),
                            onFocus: () => y(!0),
                            onBlur: () => y(!1),
                            className: "text-center text-2xl tracking-widest",
                            maxLength: 6,
                            "data-testid": "input-confirm-pin"
                        })]
                    }), r.jsx(E, {
                        onClick: k,
                        className: "w-full",
                        size: "lg",
                        disabled: j,
                        "data-testid": "button-submit",
                        children: j ? a === "login" ? "Connexion..." : "Inscription..." : a === "login" ? "Se connecter" : "S'inscrire"
                    }), a === "login" && r.jsx(E, {
                        variant: "ghost",
                        className: "w-full text-sm",
                        disabled: !0,
                        "data-testid": "button-forgot-pin",
                        children: "Mot de passe oubli ?"
                    }), r.jsx(E, {
                        variant: "ghost",
                        onClick: () => {
                            s("phone"),
                            d(""),
                            f("")
                        }
                        ,
                        className: "w-full",
                        "data-testid": "button-back",
                        children: "Changer de numro"
                    })]
                })
            })]
        })
    })
}
var p$ = m.createContext(void 0);
function Ql(e) {
    const t = m.useContext(p$);
    return e || t || "ltr"
}
var sp = "rovingFocusGroup.onEntryFocus"
  , x$ = {
    bubbles: !1,
    cancelable: !0
}
  , Bf = "RovingFocusGroup"
  , [$x,pT,g$] = Af(Bf)
  , [v$,Gl] = sr(Bf, [g$])
  , [y$,j$] = v$(Bf)
  , xT = m.forwardRef( (e, t) => r.jsx($x.Provider, {
    scope: e.__scopeRovingFocusGroup,
    children: r.jsx($x.Slot, {
        scope: e.__scopeRovingFocusGroup,
        children: r.jsx(w$, {
            ...e,
            ref: t
        })
    })
}));
xT.displayName = Bf;
var w$ = m.forwardRef( (e, t) => {
    const {__scopeRovingFocusGroup: n, orientation: s, loop: a=!1, dir: i, currentTabStopId: o, defaultCurrentTabStopId: l, onCurrentTabStopIdChange: c, onEntryFocus: d, preventScrollOnEntryFocus: u=!1, ...f} = e
      , h = m.useRef(null)
      , x = at(t, h)
      , j = Ql(i)
      , [v=null,w] = Gs({
        prop: o,
        defaultProp: l,
        onChange: c
    })
      , [y,p] = m.useState(!1)
      , g = en(d)
      , b = pT(n)
      , k = m.useRef(!1)
      , [S,C] = m.useState(0);
    return m.useEffect( () => {
        const T = h.current;
        if (T)
            return T.addEventListener(sp, g),
            () => T.removeEventListener(sp, g)
    }
    , [g]),
    r.jsx(y$, {
        scope: n,
        orientation: s,
        dir: j,
        loop: a,
        currentTabStopId: v,
        onItemFocus: m.useCallback(T => w(T), [w]),
        onItemShiftTab: m.useCallback( () => p(!0), []),
        onFocusableItemAdd: m.useCallback( () => C(T => T + 1), []),
        onFocusableItemRemove: m.useCallback( () => C(T => T - 1), []),
        children: r.jsx(Le.div, {
            tabIndex: y || S === 0 ? -1 : 0,
            "data-orientation": s,
            ...f,
            ref: x,
            style: {
                outline: "none",
                ...e.style
            },
            onMouseDown: ue(e.onMouseDown, () => {
                k.current = !0
            }
            ),
            onFocus: ue(e.onFocus, T => {
                const D = !k.current;
                if (T.target === T.currentTarget && D && !y) {
                    const L = new CustomEvent(sp,x$);
                    if (T.currentTarget.dispatchEvent(L),
                    !L.defaultPrevented) {
                        const G = b().filter(ae => ae.focusable)
                          , M = G.find(ae => ae.active)
                          , H = G.find(ae => ae.id === v)
                          , re = [M, H, ...G].filter(Boolean).map(ae => ae.ref.current);
                        yT(re, u)
                    }
                }
                k.current = !1
            }
            ),
            onBlur: ue(e.onBlur, () => p(!1))
        })
    })
}
)
  , gT = "RovingFocusGroupItem"
  , vT = m.forwardRef( (e, t) => {
    const {__scopeRovingFocusGroup: n, focusable: s=!0, active: a=!1, tabStopId: i, ...o} = e
      , l = Ss()
      , c = i || l
      , d = j$(gT, n)
      , u = d.currentTabStopId === c
      , f = pT(n)
      , {onFocusableItemAdd: h, onFocusableItemRemove: x} = d;
    return m.useEffect( () => {
        if (s)
            return h(),
            () => x()
    }
    , [s, h, x]),
    r.jsx($x.ItemSlot, {
        scope: n,
        id: c,
        focusable: s,
        active: a,
        children: r.jsx(Le.span, {
            tabIndex: u ? 0 : -1,
            "data-orientation": d.orientation,
            ...o,
            ref: t,
            onMouseDown: ue(e.onMouseDown, j => {
                s ? d.onItemFocus(c) : j.preventDefault()
            }
            ),
            onFocus: ue(e.onFocus, () => d.onItemFocus(c)),
            onKeyDown: ue(e.onKeyDown, j => {
                if (j.key === "Tab" && j.shiftKey) {
                    d.onItemShiftTab();
                    return
                }
                if (j.target !== j.currentTarget)
                    return;
                const v = S$(j, d.orientation, d.dir);
                if (v !== void 0) {
                    if (j.metaKey || j.ctrlKey || j.altKey || j.shiftKey)
                        return;
                    j.preventDefault();
                    let y = f().filter(p => p.focusable).map(p => p.ref.current);
                    if (v === "last")
                        y.reverse();
                    else if (v === "prev" || v === "next") {
                        v === "prev" && y.reverse();
                        const p = y.indexOf(j.currentTarget);
                        y = d.loop ? C$(y, p + 1) : y.slice(p + 1)
                    }
                    setTimeout( () => yT(y))
                }
            }
            )
        })
    })
}
);
vT.displayName = gT;
var N$ = {
    ArrowLeft: "prev",
    ArrowUp: "prev",
    ArrowRight: "next",
    ArrowDown: "next",
    PageUp: "first",
    Home: "first",
    PageDown: "last",
    End: "last"
};
function b$(e, t) {
    return t !== "rtl" ? e : e === "ArrowLeft" ? "ArrowRight" : e === "ArrowRight" ? "ArrowLeft" : e
}
function S$(e, t, n) {
    const s = b$(e.key, n);
    if (!(t === "vertical" && ["ArrowLeft", "ArrowRight"].includes(s)) && !(t === "horizontal" && ["ArrowUp", "ArrowDown"].includes(s)))
        return N$[s]
}
function yT(e, t=!1) {
    const n = document.activeElement;
    for (const s of e)
        if (s === n || (s.focus({
            preventScroll: t
        }),
        document.activeElement !== n))
            return
}
function C$(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
var Tv = xT
  , Pv = vT
  , Ev = "Tabs"
  , [k$,lW] = sr(Ev, [Gl])
  , jT = Gl()
  , [T$,_v] = k$(Ev)
  , wT = m.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, onValueChange: a, defaultValue: i, orientation: o="horizontal", dir: l, activationMode: c="automatic", ...d} = e
      , u = Ql(l)
      , [f,h] = Gs({
        prop: s,
        onChange: a,
        defaultProp: i
    });
    return r.jsx(T$, {
        scope: n,
        baseId: Ss(),
        value: f,
        onValueChange: h,
        orientation: o,
        dir: u,
        activationMode: c,
        children: r.jsx(Le.div, {
            dir: u,
            "data-orientation": o,
            ...d,
            ref: t
        })
    })
}
);
wT.displayName = Ev;
var NT = "TabsList"
  , bT = m.forwardRef( (e, t) => {
    const {__scopeTabs: n, loop: s=!0, ...a} = e
      , i = _v(NT, n)
      , o = jT(n);
    return r.jsx(Tv, {
        asChild: !0,
        ...o,
        orientation: i.orientation,
        dir: i.dir,
        loop: s,
        children: r.jsx(Le.div, {
            role: "tablist",
            "aria-orientation": i.orientation,
            ...a,
            ref: t
        })
    })
}
);
bT.displayName = NT;
var ST = "TabsTrigger"
  , CT = m.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, disabled: a=!1, ...i} = e
      , o = _v(ST, n)
      , l = jT(n)
      , c = PT(o.baseId, s)
      , d = ET(o.baseId, s)
      , u = s === o.value;
    return r.jsx(Pv, {
        asChild: !0,
        ...l,
        focusable: !a,
        active: u,
        children: r.jsx(Le.button, {
            type: "button",
            role: "tab",
            "aria-selected": u,
            "aria-controls": d,
            "data-state": u ? "active" : "inactive",
            "data-disabled": a ? "" : void 0,
            disabled: a,
            id: c,
            ...i,
            ref: t,
            onMouseDown: ue(e.onMouseDown, f => {
                !a && f.button === 0 && f.ctrlKey === !1 ? o.onValueChange(s) : f.preventDefault()
            }
            ),
            onKeyDown: ue(e.onKeyDown, f => {
                [" ", "Enter"].includes(f.key) && o.onValueChange(s)
            }
            ),
            onFocus: ue(e.onFocus, () => {
                const f = o.activationMode !== "manual";
                !u && !a && f && o.onValueChange(s)
            }
            )
        })
    })
}
);
CT.displayName = ST;
var kT = "TabsContent"
  , TT = m.forwardRef( (e, t) => {
    const {__scopeTabs: n, value: s, forceMount: a, children: i, ...o} = e
      , l = _v(kT, n)
      , c = PT(l.baseId, s)
      , d = ET(l.baseId, s)
      , u = s === l.value
      , f = m.useRef(u);
    return m.useEffect( () => {
        const h = requestAnimationFrame( () => f.current = !1);
        return () => cancelAnimationFrame(h)
    }
    , []),
    r.jsx(Qn, {
        present: a || u,
        children: ({present: h}) => r.jsx(Le.div, {
            "data-state": u ? "active" : "inactive",
            "data-orientation": l.orientation,
            role: "tabpanel",
            "aria-labelledby": c,
            hidden: !h,
            id: d,
            tabIndex: 0,
            ...o,
            ref: t,
            style: {
                ...e.style,
                animationDuration: f.current ? "0s" : void 0
            },
            children: h && i
        })
    })
}
);
TT.displayName = kT;
function PT(e, t) {
    return `${e}-trigger-${t}`
}
function ET(e, t) {
    return `${e}-content-${t}`
}
var P$ = wT
  , _T = bT
  , AT = CT
  , RT = TT;
const Xl = P$
  , vi = m.forwardRef( ({className: e, ...t}, n) => r.jsx(_T, {
    ref: n,
    className: pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", e),
    ...t
}));
vi.displayName = _T.displayName;
const Pt = m.forwardRef( ({className: e, ...t}, n) => r.jsx(AT, {
    ref: n,
    className: pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", e),
    ...t
}));
Pt.displayName = AT.displayName;
const Et = m.forwardRef( ({className: e, ...t}, n) => r.jsx(RT, {
    ref: n,
    className: pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", e),
    ...t
}));
Et.displayName = RT.displayName;
var ap = 0;
function Av() {
    m.useEffect( () => {
        const e = document.querySelectorAll("[data-radix-focus-guard]");
        return document.body.insertAdjacentElement("afterbegin", e[0] ?? jw()),
        document.body.insertAdjacentElement("beforeend", e[1] ?? jw()),
        ap++,
        () => {
            ap === 1 && document.querySelectorAll("[data-radix-focus-guard]").forEach(t => t.remove()),
            ap--
        }
    }
    , [])
}
function jw() {
    const e = document.createElement("span");
    return e.setAttribute("data-radix-focus-guard", ""),
    e.tabIndex = 0,
    e.style.outline = "none",
    e.style.opacity = "0",
    e.style.position = "fixed",
    e.style.pointerEvents = "none",
    e
}
var ip = "focusScope.autoFocusOnMount"
  , op = "focusScope.autoFocusOnUnmount"
  , ww = {
    bubbles: !1,
    cancelable: !0
}
  , E$ = "FocusScope"
  , Uf = m.forwardRef( (e, t) => {
    const {loop: n=!1, trapped: s=!1, onMountAutoFocus: a, onUnmountAutoFocus: i, ...o} = e
      , [l,c] = m.useState(null)
      , d = en(a)
      , u = en(i)
      , f = m.useRef(null)
      , h = at(t, v => c(v))
      , x = m.useRef({
        paused: !1,
        pause() {
            this.paused = !0
        },
        resume() {
            this.paused = !1
        }
    }).current;
    m.useEffect( () => {
        if (s) {
            let v = function(g) {
                if (x.paused || !l)
                    return;
                const b = g.target;
                l.contains(b) ? f.current = b : Ra(f.current, {
                    select: !0
                })
            }
              , w = function(g) {
                if (x.paused || !l)
                    return;
                const b = g.relatedTarget;
                b !== null && (l.contains(b) || Ra(f.current, {
                    select: !0
                }))
            }
              , y = function(g) {
                if (document.activeElement === document.body)
                    for (const k of g)
                        k.removedNodes.length > 0 && Ra(l)
            };
            document.addEventListener("focusin", v),
            document.addEventListener("focusout", w);
            const p = new MutationObserver(y);
            return l && p.observe(l, {
                childList: !0,
                subtree: !0
            }),
            () => {
                document.removeEventListener("focusin", v),
                document.removeEventListener("focusout", w),
                p.disconnect()
            }
        }
    }
    , [s, l, x.paused]),
    m.useEffect( () => {
        if (l) {
            bw.add(x);
            const v = document.activeElement;
            if (!l.contains(v)) {
                const y = new CustomEvent(ip,ww);
                l.addEventListener(ip, d),
                l.dispatchEvent(y),
                y.defaultPrevented || (_$(M$(IT(l)), {
                    select: !0
                }),
                document.activeElement === v && Ra(l))
            }
            return () => {
                l.removeEventListener(ip, d),
                setTimeout( () => {
                    const y = new CustomEvent(op,ww);
                    l.addEventListener(op, u),
                    l.dispatchEvent(y),
                    y.defaultPrevented || Ra(v ?? document.body, {
                        select: !0
                    }),
                    l.removeEventListener(op, u),
                    bw.remove(x)
                }
                , 0)
            }
        }
    }
    , [l, d, u, x]);
    const j = m.useCallback(v => {
        if (!n && !s || x.paused)
            return;
        const w = v.key === "Tab" && !v.altKey && !v.ctrlKey && !v.metaKey
          , y = document.activeElement;
        if (w && y) {
            const p = v.currentTarget
              , [g,b] = A$(p);
            g && b ? !v.shiftKey && y === b ? (v.preventDefault(),
            n && Ra(g, {
                select: !0
            })) : v.shiftKey && y === g && (v.preventDefault(),
            n && Ra(b, {
                select: !0
            })) : y === p && v.preventDefault()
        }
    }
    , [n, s, x.paused]);
    return r.jsx(Le.div, {
        tabIndex: -1,
        ...o,
        ref: h,
        onKeyDown: j
    })
}
);
Uf.displayName = E$;
function _$(e, {select: t=!1}={}) {
    const n = document.activeElement;
    for (const s of e)
        if (Ra(s, {
            select: t
        }),
        document.activeElement !== n)
            return
}
function A$(e) {
    const t = IT(e)
      , n = Nw(t, e)
      , s = Nw(t.reverse(), e);
    return [n, s]
}
function IT(e) {
    const t = []
      , n = document.createTreeWalker(e, NodeFilter.SHOW_ELEMENT, {
        acceptNode: s => {
            const a = s.tagName === "INPUT" && s.type === "hidden";
            return s.disabled || s.hidden || a ? NodeFilter.FILTER_SKIP : s.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP
        }
    });
    for (; n.nextNode(); )
        t.push(n.currentNode);
    return t
}
function Nw(e, t) {
    for (const n of e)
        if (!R$(n, {
            upTo: t
        }))
            return n
}
function R$(e, {upTo: t}) {
    if (getComputedStyle(e).visibility === "hidden")
        return !0;
    for (; e; ) {
        if (t !== void 0 && e === t)
            return !1;
        if (getComputedStyle(e).display === "none")
            return !0;
        e = e.parentElement
    }
    return !1
}
function I$(e) {
    return e instanceof HTMLInputElement && "select"in e
}
function Ra(e, {select: t=!1}={}) {
    if (e && e.focus) {
        const n = document.activeElement;
        e.focus({
            preventScroll: !0
        }),
        e !== n && I$(e) && t && e.select()
    }
}
var bw = D$();
function D$() {
    let e = [];
    return {
        add(t) {
            const n = e[0];
            t !== n && (n == null || n.pause()),
            e = Sw(e, t),
            e.unshift(t)
        },
        remove(t) {
            var n;
            e = Sw(e, t),
            (n = e[0]) == null || n.resume()
        }
    }
}
function Sw(e, t) {
    const n = [...e]
      , s = n.indexOf(t);
    return s !== -1 && n.splice(s, 1),
    n
}
function M$(e) {
    return e.filter(t => t.tagName !== "A")
}
var O$ = function(e) {
    if (typeof document > "u")
        return null;
    var t = Array.isArray(e) ? e[0] : e;
    return t.ownerDocument.body
}
  , ko = new WeakMap
  , Du = new WeakMap
  , Mu = {}
  , lp = 0
  , DT = function(e) {
    return e && (e.host || DT(e.parentNode))
}
  , L$ = function(e, t) {
    return t.map(function(n) {
        if (e.contains(n))
            return n;
        var s = DT(n);
        return s && e.contains(s) ? s : (console.error("aria-hidden", n, "in not contained inside", e, ". Doing nothing"),
        null)
    }).filter(function(n) {
        return !!n
    })
}
  , F$ = function(e, t, n, s) {
    var a = L$(t, Array.isArray(e) ? e : [e]);
    Mu[n] || (Mu[n] = new WeakMap);
    var i = Mu[n]
      , o = []
      , l = new Set
      , c = new Set(a)
      , d = function(f) {
        !f || l.has(f) || (l.add(f),
        d(f.parentNode))
    };
    a.forEach(d);
    var u = function(f) {
        !f || c.has(f) || Array.prototype.forEach.call(f.children, function(h) {
            if (l.has(h))
                u(h);
            else
                try {
                    var x = h.getAttribute(s)
                      , j = x !== null && x !== "false"
                      , v = (ko.get(h) || 0) + 1
                      , w = (i.get(h) || 0) + 1;
                    ko.set(h, v),
                    i.set(h, w),
                    o.push(h),
                    v === 1 && j && Du.set(h, !0),
                    w === 1 && h.setAttribute(n, "true"),
                    j || h.setAttribute(s, "true")
                } catch (y) {
                    console.error("aria-hidden: cannot operate on ", h, y)
                }
        })
    };
    return u(t),
    l.clear(),
    lp++,
    function() {
        o.forEach(function(f) {
            var h = ko.get(f) - 1
              , x = i.get(f) - 1;
            ko.set(f, h),
            i.set(f, x),
            h || (Du.has(f) || f.removeAttribute(s),
            Du.delete(f)),
            x || f.removeAttribute(n)
        }),
        lp--,
        lp || (ko = new WeakMap,
        ko = new WeakMap,
        Du = new WeakMap,
        Mu = {})
    }
}
  , Rv = function(e, t, n) {
    n === void 0 && (n = "data-aria-hidden");
    var s = Array.from(Array.isArray(e) ? e : [e])
      , a = O$(e);
    return a ? (s.push.apply(s, Array.from(a.querySelectorAll("[aria-live]"))),
    F$(s, a, n, "aria-hidden")) : function() {
        return null
    }
}
  , Vs = function() {
    return Vs = Object.assign || function(t) {
        for (var n, s = 1, a = arguments.length; s < a; s++) {
            n = arguments[s];
            for (var i in n)
                Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
        }
        return t
    }
    ,
    Vs.apply(this, arguments)
};
function MT(e, t) {
    var n = {};
    for (var s in e)
        Object.prototype.hasOwnProperty.call(e, s) && t.indexOf(s) < 0 && (n[s] = e[s]);
    if (e != null && typeof Object.getOwnPropertySymbols == "function")
        for (var a = 0, s = Object.getOwnPropertySymbols(e); a < s.length; a++)
            t.indexOf(s[a]) < 0 && Object.prototype.propertyIsEnumerable.call(e, s[a]) && (n[s[a]] = e[s[a]]);
    return n
}
function $$(e, t, n) {
    if (n || arguments.length === 2)
        for (var s = 0, a = t.length, i; s < a; s++)
            (i || !(s in t)) && (i || (i = Array.prototype.slice.call(t, 0, s)),
            i[s] = t[s]);
    return e.concat(i || Array.prototype.slice.call(t))
}
var nm = "right-scroll-bar-position"
  , rm = "width-before-scroll-bar"
  , z$ = "with-scroll-bars-hidden"
  , V$ = "--removed-body-scroll-bar-size";
function cp(e, t) {
    return typeof e == "function" ? e(t) : e && (e.current = t),
    e
}
function B$(e, t) {
    var n = m.useState(function() {
        return {
            value: e,
            callback: t,
            facade: {
                get current() {
                    return n.value
                },
                set current(s) {
                    var a = n.value;
                    a !== s && (n.value = s,
                    n.callback(s, a))
                }
            }
        }
    })[0];
    return n.callback = t,
    n.facade
}
var U$ = typeof window < "u" ? m.useLayoutEffect : m.useEffect
  , Cw = new WeakMap;
function q$(e, t) {
    var n = B$(null, function(s) {
        return e.forEach(function(a) {
            return cp(a, s)
        })
    });
    return U$(function() {
        var s = Cw.get(n);
        if (s) {
            var a = new Set(s)
              , i = new Set(e)
              , o = n.current;
            a.forEach(function(l) {
                i.has(l) || cp(l, null)
            }),
            i.forEach(function(l) {
                a.has(l) || cp(l, o)
            })
        }
        Cw.set(n, e)
    }, [e]),
    n
}
function W$(e) {
    return e
}
function H$(e, t) {
    t === void 0 && (t = W$);
    var n = []
      , s = !1
      , a = {
        read: function() {
            if (s)
                throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");
            return n.length ? n[n.length - 1] : e
        },
        useMedium: function(i) {
            var o = t(i, s);
            return n.push(o),
            function() {
                n = n.filter(function(l) {
                    return l !== o
                })
            }
        },
        assignSyncMedium: function(i) {
            for (s = !0; n.length; ) {
                var o = n;
                n = [],
                o.forEach(i)
            }
            n = {
                push: function(l) {
                    return i(l)
                },
                filter: function() {
                    return n
                }
            }
        },
        assignMedium: function(i) {
            s = !0;
            var o = [];
            if (n.length) {
                var l = n;
                n = [],
                l.forEach(i),
                o = n
            }
            var c = function() {
                var u = o;
                o = [],
                u.forEach(i)
            }
              , d = function() {
                return Promise.resolve().then(c)
            };
            d(),
            n = {
                push: function(u) {
                    o.push(u),
                    d()
                },
                filter: function(u) {
                    return o = o.filter(u),
                    n
                }
            }
        }
    };
    return a
}
function K$(e) {
    e === void 0 && (e = {});
    var t = H$(null);
    return t.options = Vs({
        async: !0,
        ssr: !1
    }, e),
    t
}
var OT = function(e) {
    var t = e.sideCar
      , n = MT(e, ["sideCar"]);
    if (!t)
        throw new Error("Sidecar: please provide `sideCar` property to import the right car");
    var s = t.read();
    if (!s)
        throw new Error("Sidecar medium not found");
    return m.createElement(s, Vs({}, n))
};
OT.isSideCarExport = !0;
function Q$(e, t) {
    return e.useMedium(t),
    OT
}
var LT = K$()
  , dp = function() {}
  , qf = m.forwardRef(function(e, t) {
    var n = m.useRef(null)
      , s = m.useState({
        onScrollCapture: dp,
        onWheelCapture: dp,
        onTouchMoveCapture: dp
    })
      , a = s[0]
      , i = s[1]
      , o = e.forwardProps
      , l = e.children
      , c = e.className
      , d = e.removeScrollBar
      , u = e.enabled
      , f = e.shards
      , h = e.sideCar
      , x = e.noIsolation
      , j = e.inert
      , v = e.allowPinchZoom
      , w = e.as
      , y = w === void 0 ? "div" : w
      , p = e.gapMode
      , g = MT(e, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as", "gapMode"])
      , b = h
      , k = q$([n, t])
      , S = Vs(Vs({}, g), a);
    return m.createElement(m.Fragment, null, u && m.createElement(b, {
        sideCar: LT,
        removeScrollBar: d,
        shards: f,
        noIsolation: x,
        inert: j,
        setCallbacks: i,
        allowPinchZoom: !!v,
        lockRef: n,
        gapMode: p
    }), o ? m.cloneElement(m.Children.only(l), Vs(Vs({}, S), {
        ref: k
    })) : m.createElement(y, Vs({}, S, {
        className: c,
        ref: k
    }), l))
});
qf.defaultProps = {
    enabled: !0,
    removeScrollBar: !0,
    inert: !1
};
qf.classNames = {
    fullWidth: rm,
    zeroRight: nm
};
var G$ = function() {
    if (typeof __webpack_nonce__ < "u")
        return __webpack_nonce__
};
function X$() {
    if (!document)
        return null;
    var e = document.createElement("style");
    e.type = "text/css";
    var t = G$();
    return t && e.setAttribute("nonce", t),
    e
}
function Y$(e, t) {
    e.styleSheet ? e.styleSheet.cssText = t : e.appendChild(document.createTextNode(t))
}
function Z$(e) {
    var t = document.head || document.getElementsByTagName("head")[0];
    t.appendChild(e)
}
var J$ = function() {
    var e = 0
      , t = null;
    return {
        add: function(n) {
            e == 0 && (t = X$()) && (Y$(t, n),
            Z$(t)),
            e++
        },
        remove: function() {
            e--,
            !e && t && (t.parentNode && t.parentNode.removeChild(t),
            t = null)
        }
    }
}
  , e5 = function() {
    var e = J$();
    return function(t, n) {
        m.useEffect(function() {
            return e.add(t),
            function() {
                e.remove()
            }
        }, [t && n])
    }
}
  , FT = function() {
    var e = e5()
      , t = function(n) {
        var s = n.styles
          , a = n.dynamic;
        return e(s, a),
        null
    };
    return t
}
  , t5 = {
    left: 0,
    top: 0,
    right: 0,
    gap: 0
}
  , up = function(e) {
    return parseInt(e || "", 10) || 0
}
  , n5 = function(e) {
    var t = window.getComputedStyle(document.body)
      , n = t[e === "padding" ? "paddingLeft" : "marginLeft"]
      , s = t[e === "padding" ? "paddingTop" : "marginTop"]
      , a = t[e === "padding" ? "paddingRight" : "marginRight"];
    return [up(n), up(s), up(a)]
}
  , r5 = function(e) {
    if (e === void 0 && (e = "margin"),
    typeof window > "u")
        return t5;
    var t = n5(e)
      , n = document.documentElement.clientWidth
      , s = window.innerWidth;
    return {
        left: t[0],
        top: t[1],
        right: t[2],
        gap: Math.max(0, s - n + t[2] - t[0])
    }
}
  , s5 = FT()
  , nl = "data-scroll-locked"
  , a5 = function(e, t, n, s) {
    var a = e.left
      , i = e.top
      , o = e.right
      , l = e.gap;
    return n === void 0 && (n = "margin"),
    `
  .`.concat(z$, ` {
   overflow: hidden `).concat(s, `;
   padding-right: `).concat(l, "px ").concat(s, `;
  }
  body[`).concat(nl, `] {
    overflow: hidden `).concat(s, `;
    overscroll-behavior: contain;
    `).concat([t && "position: relative ".concat(s, ";"), n === "margin" && `
    padding-left: `.concat(a, `px;
    padding-top: `).concat(i, `px;
    padding-right: `).concat(o, `px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l, "px ").concat(s, `;
    `), n === "padding" && "padding-right: ".concat(l, "px ").concat(s, ";")].filter(Boolean).join(""), `
  }
  
  .`).concat(nm, ` {
    right: `).concat(l, "px ").concat(s, `;
  }
  
  .`).concat(rm, ` {
    margin-right: `).concat(l, "px ").concat(s, `;
  }
  
  .`).concat(nm, " .").concat(nm, ` {
    right: 0 `).concat(s, `;
  }
  
  .`).concat(rm, " .").concat(rm, ` {
    margin-right: 0 `).concat(s, `;
  }
  
  body[`).concat(nl, `] {
    `).concat(V$, ": ").concat(l, `px;
  }
`)
}
  , kw = function() {
    var e = parseInt(document.body.getAttribute(nl) || "0", 10);
    return isFinite(e) ? e : 0
}
  , i5 = function() {
    m.useEffect(function() {
        return document.body.setAttribute(nl, (kw() + 1).toString()),
        function() {
            var e = kw() - 1;
            e <= 0 ? document.body.removeAttribute(nl) : document.body.setAttribute(nl, e.toString())
        }
    }, [])
}
  , o5 = function(e) {
    var t = e.noRelative
      , n = e.noImportant
      , s = e.gapMode
      , a = s === void 0 ? "margin" : s;
    i5();
    var i = m.useMemo(function() {
        return r5(a)
    }, [a]);
    return m.createElement(s5, {
        styles: a5(i, !t, a, n ? "" : "!important")
    })
}
  , zx = !1;
if (typeof window < "u")
    try {
        var Ou = Object.defineProperty({}, "passive", {
            get: function() {
                return zx = !0,
                !0
            }
        });
        window.addEventListener("test", Ou, Ou),
        window.removeEventListener("test", Ou, Ou)
    } catch {
        zx = !1
    }
var To = zx ? {
    passive: !1
} : !1
  , l5 = function(e) {
    return e.tagName === "TEXTAREA"
}
  , $T = function(e, t) {
    if (!(e instanceof Element))
        return !1;
    var n = window.getComputedStyle(e);
    return n[t] !== "hidden" && !(n.overflowY === n.overflowX && !l5(e) && n[t] === "visible")
}
  , c5 = function(e) {
    return $T(e, "overflowY")
}
  , d5 = function(e) {
    return $T(e, "overflowX")
}
  , Tw = function(e, t) {
    var n = t.ownerDocument
      , s = t;
    do {
        typeof ShadowRoot < "u" && s instanceof ShadowRoot && (s = s.host);
        var a = zT(e, s);
        if (a) {
            var i = VT(e, s)
              , o = i[1]
              , l = i[2];
            if (o > l)
                return !0
        }
        s = s.parentNode
    } while (s && s !== n.body);
    return !1
}
  , u5 = function(e) {
    var t = e.scrollTop
      , n = e.scrollHeight
      , s = e.clientHeight;
    return [t, n, s]
}
  , m5 = function(e) {
    var t = e.scrollLeft
      , n = e.scrollWidth
      , s = e.clientWidth;
    return [t, n, s]
}
  , zT = function(e, t) {
    return e === "v" ? c5(t) : d5(t)
}
  , VT = function(e, t) {
    return e === "v" ? u5(t) : m5(t)
}
  , f5 = function(e, t) {
    return e === "h" && t === "rtl" ? -1 : 1
}
  , h5 = function(e, t, n, s, a) {
    var i = f5(e, window.getComputedStyle(t).direction)
      , o = i * s
      , l = n.target
      , c = t.contains(l)
      , d = !1
      , u = o > 0
      , f = 0
      , h = 0;
    do {
        var x = VT(e, l)
          , j = x[0]
          , v = x[1]
          , w = x[2]
          , y = v - w - i * j;
        (j || y) && zT(e, l) && (f += y,
        h += j),
        l instanceof ShadowRoot ? l = l.host : l = l.parentNode
    } while (!c && l !== document.body || c && (t.contains(l) || t === l));
    return (u && (Math.abs(f) < 1 || !a) || !u && (Math.abs(h) < 1 || !a)) && (d = !0),
    d
}
  , Lu = function(e) {
    return "changedTouches"in e ? [e.changedTouches[0].clientX, e.changedTouches[0].clientY] : [0, 0]
}
  , Pw = function(e) {
    return [e.deltaX, e.deltaY]
}
  , Ew = function(e) {
    return e && "current"in e ? e.current : e
}
  , p5 = function(e, t) {
    return e[0] === t[0] && e[1] === t[1]
}
  , x5 = function(e) {
    return `
  .block-interactivity-`.concat(e, ` {pointer-events: none;}
  .allow-interactivity-`).concat(e, ` {pointer-events: all;}
`)
}
  , g5 = 0
  , Po = [];
function v5(e) {
    var t = m.useRef([])
      , n = m.useRef([0, 0])
      , s = m.useRef()
      , a = m.useState(g5++)[0]
      , i = m.useState(FT)[0]
      , o = m.useRef(e);
    m.useEffect(function() {
        o.current = e
    }, [e]),
    m.useEffect(function() {
        if (e.inert) {
            document.body.classList.add("block-interactivity-".concat(a));
            var v = $$([e.lockRef.current], (e.shards || []).map(Ew), !0).filter(Boolean);
            return v.forEach(function(w) {
                return w.classList.add("allow-interactivity-".concat(a))
            }),
            function() {
                document.body.classList.remove("block-interactivity-".concat(a)),
                v.forEach(function(w) {
                    return w.classList.remove("allow-interactivity-".concat(a))
                })
            }
        }
    }, [e.inert, e.lockRef.current, e.shards]);
    var l = m.useCallback(function(v, w) {
        if ("touches"in v && v.touches.length === 2 || v.type === "wheel" && v.ctrlKey)
            return !o.current.allowPinchZoom;
        var y = Lu(v), p = n.current, g = "deltaX"in v ? v.deltaX : p[0] - y[0], b = "deltaY"in v ? v.deltaY : p[1] - y[1], k, S = v.target, C = Math.abs(g) > Math.abs(b) ? "h" : "v";
        if ("touches"in v && C === "h" && S.type === "range")
            return !1;
        var T = Tw(C, S);
        if (!T)
            return !0;
        if (T ? k = C : (k = C === "v" ? "h" : "v",
        T = Tw(C, S)),
        !T)
            return !1;
        if (!s.current && "changedTouches"in v && (g || b) && (s.current = k),
        !k)
            return !0;
        var D = s.current || k;
        return h5(D, w, v, D === "h" ? g : b, !0)
    }, [])
      , c = m.useCallback(function(v) {
        var w = v;
        if (!(!Po.length || Po[Po.length - 1] !== i)) {
            var y = "deltaY"in w ? Pw(w) : Lu(w)
              , p = t.current.filter(function(k) {
                return k.name === w.type && (k.target === w.target || w.target === k.shadowParent) && p5(k.delta, y)
            })[0];
            if (p && p.should) {
                w.cancelable && w.preventDefault();
                return
            }
            if (!p) {
                var g = (o.current.shards || []).map(Ew).filter(Boolean).filter(function(k) {
                    return k.contains(w.target)
                })
                  , b = g.length > 0 ? l(w, g[0]) : !o.current.noIsolation;
                b && w.cancelable && w.preventDefault()
            }
        }
    }, [])
      , d = m.useCallback(function(v, w, y, p) {
        var g = {
            name: v,
            delta: w,
            target: y,
            should: p,
            shadowParent: y5(y)
        };
        t.current.push(g),
        setTimeout(function() {
            t.current = t.current.filter(function(b) {
                return b !== g
            })
        }, 1)
    }, [])
      , u = m.useCallback(function(v) {
        n.current = Lu(v),
        s.current = void 0
    }, [])
      , f = m.useCallback(function(v) {
        d(v.type, Pw(v), v.target, l(v, e.lockRef.current))
    }, [])
      , h = m.useCallback(function(v) {
        d(v.type, Lu(v), v.target, l(v, e.lockRef.current))
    }, []);
    m.useEffect(function() {
        return Po.push(i),
        e.setCallbacks({
            onScrollCapture: f,
            onWheelCapture: f,
            onTouchMoveCapture: h
        }),
        document.addEventListener("wheel", c, To),
        document.addEventListener("touchmove", c, To),
        document.addEventListener("touchstart", u, To),
        function() {
            Po = Po.filter(function(v) {
                return v !== i
            }),
            document.removeEventListener("wheel", c, To),
            document.removeEventListener("touchmove", c, To),
            document.removeEventListener("touchstart", u, To)
        }
    }, []);
    var x = e.removeScrollBar
      , j = e.inert;
    return m.createElement(m.Fragment, null, j ? m.createElement(i, {
        styles: x5(a)
    }) : null, x ? m.createElement(o5, {
        gapMode: e.gapMode
    }) : null)
}
function y5(e) {
    for (var t = null; e !== null; )
        e instanceof ShadowRoot && (t = e.host,
        e = e.host),
        e = e.parentNode;
    return t
}
const j5 = Q$(LT, v5);
var Wf = m.forwardRef(function(e, t) {
    return m.createElement(qf, Vs({}, e, {
        ref: t,
        sideCar: j5
    }))
});
Wf.classNames = qf.classNames;
var Vx = ["Enter", " "]
  , w5 = ["ArrowDown", "PageUp", "Home"]
  , BT = ["ArrowUp", "PageDown", "End"]
  , N5 = [...w5, ...BT]
  , b5 = {
    ltr: [...Vx, "ArrowRight"],
    rtl: [...Vx, "ArrowLeft"]
}
  , S5 = {
    ltr: ["ArrowLeft"],
    rtl: ["ArrowRight"]
}
  , qd = "Menu"
  , [dd,C5,k5] = Af(qd)
  , [jo,UT] = sr(qd, [k5, Kl, Gl])
  , Hf = Kl()
  , qT = Gl()
  , [T5,wo] = jo(qd)
  , [P5,Wd] = jo(qd)
  , WT = e => {
    const {__scopeMenu: t, open: n=!1, children: s, dir: a, onOpenChange: i, modal: o=!0} = e
      , l = Hf(t)
      , [c,d] = m.useState(null)
      , u = m.useRef(!1)
      , f = en(i)
      , h = Ql(a);
    return m.useEffect( () => {
        const x = () => {
            u.current = !0,
            document.addEventListener("pointerdown", j, {
                capture: !0,
                once: !0
            }),
            document.addEventListener("pointermove", j, {
                capture: !0,
                once: !0
            })
        }
          , j = () => u.current = !1;
        return document.addEventListener("keydown", x, {
            capture: !0
        }),
        () => {
            document.removeEventListener("keydown", x, {
                capture: !0
            }),
            document.removeEventListener("pointerdown", j, {
                capture: !0
            }),
            document.removeEventListener("pointermove", j, {
                capture: !0
            })
        }
    }
    , []),
    r.jsx(jv, {
        ...l,
        children: r.jsx(T5, {
            scope: t,
            open: n,
            onOpenChange: f,
            content: c,
            onContentChange: d,
            children: r.jsx(P5, {
                scope: t,
                onClose: m.useCallback( () => f(!1), [f]),
                isUsingKeyboardRef: u,
                dir: h,
                modal: o,
                children: s
            })
        })
    })
}
;
WT.displayName = qd;
var E5 = "MenuAnchor"
  , Iv = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e
      , a = Hf(n);
    return r.jsx(wv, {
        ...a,
        ...s,
        ref: t
    })
}
);
Iv.displayName = E5;
var Dv = "MenuPortal"
  , [_5,HT] = jo(Dv, {
    forceMount: void 0
})
  , KT = e => {
    const {__scopeMenu: t, forceMount: n, children: s, container: a} = e
      , i = wo(Dv, t);
    return r.jsx(_5, {
        scope: t,
        forceMount: n,
        children: r.jsx(Qn, {
            present: n || i.open,
            children: r.jsx(Fd, {
                asChild: !0,
                container: a,
                children: s
            })
        })
    })
}
;
KT.displayName = Dv;
var es = "MenuContent"
  , [A5,Mv] = jo(es)
  , QT = m.forwardRef( (e, t) => {
    const n = HT(es, e.__scopeMenu)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = wo(es, e.__scopeMenu)
      , o = Wd(es, e.__scopeMenu);
    return r.jsx(dd.Provider, {
        scope: e.__scopeMenu,
        children: r.jsx(Qn, {
            present: s || i.open,
            children: r.jsx(dd.Slot, {
                scope: e.__scopeMenu,
                children: o.modal ? r.jsx(R5, {
                    ...a,
                    ref: t
                }) : r.jsx(I5, {
                    ...a,
                    ref: t
                })
            })
        })
    })
}
)
  , R5 = m.forwardRef( (e, t) => {
    const n = wo(es, e.__scopeMenu)
      , s = m.useRef(null)
      , a = at(t, s);
    return m.useEffect( () => {
        const i = s.current;
        if (i)
            return Rv(i)
    }
    , []),
    r.jsx(Ov, {
        ...e,
        ref: a,
        trapFocus: n.open,
        disableOutsidePointerEvents: n.open,
        disableOutsideScroll: !0,
        onFocusOutside: ue(e.onFocusOutside, i => i.preventDefault(), {
            checkForDefaultPrevented: !1
        }),
        onDismiss: () => n.onOpenChange(!1)
    })
}
)
  , I5 = m.forwardRef( (e, t) => {
    const n = wo(es, e.__scopeMenu);
    return r.jsx(Ov, {
        ...e,
        ref: t,
        trapFocus: !1,
        disableOutsidePointerEvents: !1,
        disableOutsideScroll: !1,
        onDismiss: () => n.onOpenChange(!1)
    })
}
)
  , D5 = co("MenuContent.ScrollLock")
  , Ov = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, loop: s=!1, trapFocus: a, onOpenAutoFocus: i, onCloseAutoFocus: o, disableOutsidePointerEvents: l, onEntryFocus: c, onEscapeKeyDown: d, onPointerDownOutside: u, onFocusOutside: f, onInteractOutside: h, onDismiss: x, disableOutsideScroll: j, ...v} = e
      , w = wo(es, n)
      , y = Wd(es, n)
      , p = Hf(n)
      , g = qT(n)
      , b = C5(n)
      , [k,S] = m.useState(null)
      , C = m.useRef(null)
      , T = at(t, C, w.onContentChange)
      , D = m.useRef(0)
      , L = m.useRef("")
      , G = m.useRef(0)
      , M = m.useRef(null)
      , H = m.useRef("right")
      , U = m.useRef(0)
      , re = j ? Wf : m.Fragment
      , ae = j ? {
        as: D5,
        allowPinchZoom: !0
    } : void 0
      , X = V => {
        var z, W;
        const oe = L.current + V
          , he = b().filter(ze => !ze.disabled)
          , ce = document.activeElement
          , xt = (z = he.find(ze => ze.ref.current === ce)) == null ? void 0 : z.textValue
          , gt = he.map(ze => ze.textValue)
          , Nt = H5(gt, oe, xt)
          , ot = (W = he.find(ze => ze.textValue === Nt)) == null ? void 0 : W.ref.current;
        (function ze(Ze) {
            L.current = Ze,
            window.clearTimeout(D.current),
            Ze !== "" && (D.current = window.setTimeout( () => ze(""), 1e3))
        }
        )(oe),
        ot && setTimeout( () => ot.focus())
    }
    ;
    m.useEffect( () => () => window.clearTimeout(D.current), []),
    Av();
    const I = m.useCallback(V => {
        var he, ce;
        return H.current === ((he = M.current) == null ? void 0 : he.side) && Q5(V, (ce = M.current) == null ? void 0 : ce.area)
    }
    , []);
    return r.jsx(A5, {
        scope: n,
        searchRef: L,
        onItemEnter: m.useCallback(V => {
            I(V) && V.preventDefault()
        }
        , [I]),
        onItemLeave: m.useCallback(V => {
            var oe;
            I(V) || ((oe = C.current) == null || oe.focus(),
            S(null))
        }
        , [I]),
        onTriggerLeave: m.useCallback(V => {
            I(V) && V.preventDefault()
        }
        , [I]),
        pointerGraceTimerRef: G,
        onPointerGraceIntentChange: m.useCallback(V => {
            M.current = V
        }
        , []),
        children: r.jsx(re, {
            ...ae,
            children: r.jsx(Uf, {
                asChild: !0,
                trapped: a,
                onMountAutoFocus: ue(i, V => {
                    var oe;
                    V.preventDefault(),
                    (oe = C.current) == null || oe.focus({
                        preventScroll: !0
                    })
                }
                ),
                onUnmountAutoFocus: o,
                children: r.jsx(Bl, {
                    asChild: !0,
                    disableOutsidePointerEvents: l,
                    onEscapeKeyDown: d,
                    onPointerDownOutside: u,
                    onFocusOutside: f,
                    onInteractOutside: h,
                    onDismiss: x,
                    children: r.jsx(Tv, {
                        asChild: !0,
                        ...g,
                        dir: y.dir,
                        orientation: "vertical",
                        loop: s,
                        currentTabStopId: k,
                        onCurrentTabStopIdChange: S,
                        onEntryFocus: ue(c, V => {
                            y.isUsingKeyboardRef.current || V.preventDefault()
                        }
                        ),
                        preventScrollOnEntryFocus: !0,
                        children: r.jsx(Nv, {
                            role: "menu",
                            "aria-orientation": "vertical",
                            "data-state": dP(w.open),
                            "data-radix-menu-content": "",
                            dir: y.dir,
                            ...p,
                            ...v,
                            ref: T,
                            style: {
                                outline: "none",
                                ...v.style
                            },
                            onKeyDown: ue(v.onKeyDown, V => {
                                const he = V.target.closest("[data-radix-menu-content]") === V.currentTarget
                                  , ce = V.ctrlKey || V.altKey || V.metaKey
                                  , xt = V.key.length === 1;
                                he && (V.key === "Tab" && V.preventDefault(),
                                !ce && xt && X(V.key));
                                const gt = C.current;
                                if (V.target !== gt || !N5.includes(V.key))
                                    return;
                                V.preventDefault();
                                const ot = b().filter(z => !z.disabled).map(z => z.ref.current);
                                BT.includes(V.key) && ot.reverse(),
                                q5(ot)
                            }
                            ),
                            onBlur: ue(e.onBlur, V => {
                                V.currentTarget.contains(V.target) || (window.clearTimeout(D.current),
                                L.current = "")
                            }
                            ),
                            onPointerMove: ue(e.onPointerMove, ud(V => {
                                const oe = V.target
                                  , he = U.current !== V.clientX;
                                if (V.currentTarget.contains(oe) && he) {
                                    const ce = V.clientX > U.current ? "right" : "left";
                                    H.current = ce,
                                    U.current = V.clientX
                                }
                            }
                            ))
                        })
                    })
                })
            })
        })
    })
}
);
QT.displayName = es;
var M5 = "MenuGroup"
  , Lv = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Le.div, {
        role: "group",
        ...s,
        ref: t
    })
}
);
Lv.displayName = M5;
var O5 = "MenuLabel"
  , GT = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Le.div, {
        ...s,
        ref: t
    })
}
);
GT.displayName = O5;
var zm = "MenuItem"
  , _w = "menu.itemSelect"
  , Kf = m.forwardRef( (e, t) => {
    const {disabled: n=!1, onSelect: s, ...a} = e
      , i = m.useRef(null)
      , o = Wd(zm, e.__scopeMenu)
      , l = Mv(zm, e.__scopeMenu)
      , c = at(t, i)
      , d = m.useRef(!1)
      , u = () => {
        const f = i.current;
        if (!n && f) {
            const h = new CustomEvent(_w,{
                bubbles: !0,
                cancelable: !0
            });
            f.addEventListener(_w, x => s == null ? void 0 : s(x), {
                once: !0
            }),
            rv(f, h),
            h.defaultPrevented ? d.current = !1 : o.onClose()
        }
    }
    ;
    return r.jsx(XT, {
        ...a,
        ref: c,
        disabled: n,
        onClick: ue(e.onClick, u),
        onPointerDown: f => {
            var h;
            (h = e.onPointerDown) == null || h.call(e, f),
            d.current = !0
        }
        ,
        onPointerUp: ue(e.onPointerUp, f => {
            var h;
            d.current || (h = f.currentTarget) == null || h.click()
        }
        ),
        onKeyDown: ue(e.onKeyDown, f => {
            const h = l.searchRef.current !== "";
            n || h && f.key === " " || Vx.includes(f.key) && (f.currentTarget.click(),
            f.preventDefault())
        }
        )
    })
}
);
Kf.displayName = zm;
var XT = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, disabled: s=!1, textValue: a, ...i} = e
      , o = Mv(zm, n)
      , l = qT(n)
      , c = m.useRef(null)
      , d = at(t, c)
      , [u,f] = m.useState(!1)
      , [h,x] = m.useState("");
    return m.useEffect( () => {
        const j = c.current;
        j && x((j.textContent ?? "").trim())
    }
    , [i.children]),
    r.jsx(dd.ItemSlot, {
        scope: n,
        disabled: s,
        textValue: a ?? h,
        children: r.jsx(Pv, {
            asChild: !0,
            ...l,
            focusable: !s,
            children: r.jsx(Le.div, {
                role: "menuitem",
                "data-highlighted": u ? "" : void 0,
                "aria-disabled": s || void 0,
                "data-disabled": s ? "" : void 0,
                ...i,
                ref: d,
                onPointerMove: ue(e.onPointerMove, ud(j => {
                    s ? o.onItemLeave(j) : (o.onItemEnter(j),
                    j.defaultPrevented || j.currentTarget.focus({
                        preventScroll: !0
                    }))
                }
                )),
                onPointerLeave: ue(e.onPointerLeave, ud(j => o.onItemLeave(j))),
                onFocus: ue(e.onFocus, () => f(!0)),
                onBlur: ue(e.onBlur, () => f(!1))
            })
        })
    })
}
)
  , L5 = "MenuCheckboxItem"
  , YT = m.forwardRef( (e, t) => {
    const {checked: n=!1, onCheckedChange: s, ...a} = e;
    return r.jsx(nP, {
        scope: e.__scopeMenu,
        checked: n,
        children: r.jsx(Kf, {
            role: "menuitemcheckbox",
            "aria-checked": Vm(n) ? "mixed" : n,
            ...a,
            ref: t,
            "data-state": $v(n),
            onSelect: ue(a.onSelect, () => s == null ? void 0 : s(Vm(n) ? !0 : !n), {
                checkForDefaultPrevented: !1
            })
        })
    })
}
);
YT.displayName = L5;
var ZT = "MenuRadioGroup"
  , [F5,$5] = jo(ZT, {
    value: void 0,
    onValueChange: () => {}
})
  , JT = m.forwardRef( (e, t) => {
    const {value: n, onValueChange: s, ...a} = e
      , i = en(s);
    return r.jsx(F5, {
        scope: e.__scopeMenu,
        value: n,
        onValueChange: i,
        children: r.jsx(Lv, {
            ...a,
            ref: t
        })
    })
}
);
JT.displayName = ZT;
var eP = "MenuRadioItem"
  , tP = m.forwardRef( (e, t) => {
    const {value: n, ...s} = e
      , a = $5(eP, e.__scopeMenu)
      , i = n === a.value;
    return r.jsx(nP, {
        scope: e.__scopeMenu,
        checked: i,
        children: r.jsx(Kf, {
            role: "menuitemradio",
            "aria-checked": i,
            ...s,
            ref: t,
            "data-state": $v(i),
            onSelect: ue(s.onSelect, () => {
                var o;
                return (o = a.onValueChange) == null ? void 0 : o.call(a, n)
            }
            , {
                checkForDefaultPrevented: !1
            })
        })
    })
}
);
tP.displayName = eP;
var Fv = "MenuItemIndicator"
  , [nP,z5] = jo(Fv, {
    checked: !1
})
  , rP = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, forceMount: s, ...a} = e
      , i = z5(Fv, n);
    return r.jsx(Qn, {
        present: s || Vm(i.checked) || i.checked === !0,
        children: r.jsx(Le.span, {
            ...a,
            ref: t,
            "data-state": $v(i.checked)
        })
    })
}
);
rP.displayName = Fv;
var V5 = "MenuSeparator"
  , sP = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e;
    return r.jsx(Le.div, {
        role: "separator",
        "aria-orientation": "horizontal",
        ...s,
        ref: t
    })
}
);
sP.displayName = V5;
var B5 = "MenuArrow"
  , aP = m.forwardRef( (e, t) => {
    const {__scopeMenu: n, ...s} = e
      , a = Hf(n);
    return r.jsx(bv, {
        ...a,
        ...s,
        ref: t
    })
}
);
aP.displayName = B5;
var U5 = "MenuSub"
  , [cW,iP] = jo(U5)
  , bc = "MenuSubTrigger"
  , oP = m.forwardRef( (e, t) => {
    const n = wo(bc, e.__scopeMenu)
      , s = Wd(bc, e.__scopeMenu)
      , a = iP(bc, e.__scopeMenu)
      , i = Mv(bc, e.__scopeMenu)
      , o = m.useRef(null)
      , {pointerGraceTimerRef: l, onPointerGraceIntentChange: c} = i
      , d = {
        __scopeMenu: e.__scopeMenu
    }
      , u = m.useCallback( () => {
        o.current && window.clearTimeout(o.current),
        o.current = null
    }
    , []);
    return m.useEffect( () => u, [u]),
    m.useEffect( () => {
        const f = l.current;
        return () => {
            window.clearTimeout(f),
            c(null)
        }
    }
    , [l, c]),
    r.jsx(Iv, {
        asChild: !0,
        ...d,
        children: r.jsx(XT, {
            id: a.triggerId,
            "aria-haspopup": "menu",
            "aria-expanded": n.open,
            "aria-controls": a.contentId,
            "data-state": dP(n.open),
            ...e,
            ref: _f(t, a.onTriggerChange),
            onClick: f => {
                var h;
                (h = e.onClick) == null || h.call(e, f),
                !(e.disabled || f.defaultPrevented) && (f.currentTarget.focus(),
                n.open || n.onOpenChange(!0))
            }
            ,
            onPointerMove: ue(e.onPointerMove, ud(f => {
                i.onItemEnter(f),
                !f.defaultPrevented && !e.disabled && !n.open && !o.current && (i.onPointerGraceIntentChange(null),
                o.current = window.setTimeout( () => {
                    n.onOpenChange(!0),
                    u()
                }
                , 100))
            }
            )),
            onPointerLeave: ue(e.onPointerLeave, ud(f => {
                var x, j;
                u();
                const h = (x = n.content) == null ? void 0 : x.getBoundingClientRect();
                if (h) {
                    const v = (j = n.content) == null ? void 0 : j.dataset.side
                      , w = v === "right"
                      , y = w ? -5 : 5
                      , p = h[w ? "left" : "right"]
                      , g = h[w ? "right" : "left"];
                    i.onPointerGraceIntentChange({
                        area: [{
                            x: f.clientX + y,
                            y: f.clientY
                        }, {
                            x: p,
                            y: h.top
                        }, {
                            x: g,
                            y: h.top
                        }, {
                            x: g,
                            y: h.bottom
                        }, {
                            x: p,
                            y: h.bottom
                        }],
                        side: v
                    }),
                    window.clearTimeout(l.current),
                    l.current = window.setTimeout( () => i.onPointerGraceIntentChange(null), 300)
                } else {
                    if (i.onTriggerLeave(f),
                    f.defaultPrevented)
                        return;
                    i.onPointerGraceIntentChange(null)
                }
            }
            )),
            onKeyDown: ue(e.onKeyDown, f => {
                var x;
                const h = i.searchRef.current !== "";
                e.disabled || h && f.key === " " || b5[s.dir].includes(f.key) && (n.onOpenChange(!0),
                (x = n.content) == null || x.focus(),
                f.preventDefault())
            }
            )
        })
    })
}
);
oP.displayName = bc;
var lP = "MenuSubContent"
  , cP = m.forwardRef( (e, t) => {
    const n = HT(es, e.__scopeMenu)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = wo(es, e.__scopeMenu)
      , o = Wd(es, e.__scopeMenu)
      , l = iP(lP, e.__scopeMenu)
      , c = m.useRef(null)
      , d = at(t, c);
    return r.jsx(dd.Provider, {
        scope: e.__scopeMenu,
        children: r.jsx(Qn, {
            present: s || i.open,
            children: r.jsx(dd.Slot, {
                scope: e.__scopeMenu,
                children: r.jsx(Ov, {
                    id: l.contentId,
                    "aria-labelledby": l.triggerId,
                    ...a,
                    ref: d,
                    align: "start",
                    side: o.dir === "rtl" ? "left" : "right",
                    disableOutsidePointerEvents: !1,
                    disableOutsideScroll: !1,
                    trapFocus: !1,
                    onOpenAutoFocus: u => {
                        var f;
                        o.isUsingKeyboardRef.current && ((f = c.current) == null || f.focus()),
                        u.preventDefault()
                    }
                    ,
                    onCloseAutoFocus: u => u.preventDefault(),
                    onFocusOutside: ue(e.onFocusOutside, u => {
                        u.target !== l.trigger && i.onOpenChange(!1)
                    }
                    ),
                    onEscapeKeyDown: ue(e.onEscapeKeyDown, u => {
                        o.onClose(),
                        u.preventDefault()
                    }
                    ),
                    onKeyDown: ue(e.onKeyDown, u => {
                        var x;
                        const f = u.currentTarget.contains(u.target)
                          , h = S5[o.dir].includes(u.key);
                        f && h && (i.onOpenChange(!1),
                        (x = l.trigger) == null || x.focus(),
                        u.preventDefault())
                    }
                    )
                })
            })
        })
    })
}
);
cP.displayName = lP;
function dP(e) {
    return e ? "open" : "closed"
}
function Vm(e) {
    return e === "indeterminate"
}
function $v(e) {
    return Vm(e) ? "indeterminate" : e ? "checked" : "unchecked"
}
function q5(e) {
    const t = document.activeElement;
    for (const n of e)
        if (n === t || (n.focus(),
        document.activeElement !== t))
            return
}
function W5(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
function H5(e, t, n) {
    const a = t.length > 1 && Array.from(t).every(d => d === t[0]) ? t[0] : t
      , i = n ? e.indexOf(n) : -1;
    let o = W5(e, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== n));
    const c = o.find(d => d.toLowerCase().startsWith(a.toLowerCase()));
    return c !== n ? c : void 0
}
function K5(e, t) {
    const {x: n, y: s} = e;
    let a = !1;
    for (let i = 0, o = t.length - 1; i < t.length; o = i++) {
        const l = t[i].x
          , c = t[i].y
          , d = t[o].x
          , u = t[o].y;
        c > s != u > s && n < (d - l) * (s - c) / (u - c) + l && (a = !a)
    }
    return a
}
function Q5(e, t) {
    if (!t)
        return !1;
    const n = {
        x: e.clientX,
        y: e.clientY
    };
    return K5(n, t)
}
function ud(e) {
    return t => t.pointerType === "mouse" ? e(t) : void 0
}
var G5 = WT
  , X5 = Iv
  , Y5 = KT
  , Z5 = QT
  , J5 = Lv
  , ez = GT
  , tz = Kf
  , nz = YT
  , rz = JT
  , sz = tP
  , az = rP
  , iz = sP
  , oz = aP
  , lz = oP
  , cz = cP
  , zv = "DropdownMenu"
  , [dz,dW] = sr(zv, [UT])
  , xr = UT()
  , [uz,uP] = dz(zv)
  , mP = e => {
    const {__scopeDropdownMenu: t, children: n, dir: s, open: a, defaultOpen: i, onOpenChange: o, modal: l=!0} = e
      , c = xr(t)
      , d = m.useRef(null)
      , [u=!1,f] = Gs({
        prop: a,
        defaultProp: i,
        onChange: o
    });
    return r.jsx(uz, {
        scope: t,
        triggerId: Ss(),
        triggerRef: d,
        contentId: Ss(),
        open: u,
        onOpenChange: f,
        onOpenToggle: m.useCallback( () => f(h => !h), [f]),
        modal: l,
        children: r.jsx(G5, {
            ...c,
            open: u,
            onOpenChange: f,
            dir: s,
            modal: l,
            children: n
        })
    })
}
;
mP.displayName = zv;
var fP = "DropdownMenuTrigger"
  , hP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, disabled: s=!1, ...a} = e
      , i = uP(fP, n)
      , o = xr(n);
    return r.jsx(X5, {
        asChild: !0,
        ...o,
        children: r.jsx(Le.button, {
            type: "button",
            id: i.triggerId,
            "aria-haspopup": "menu",
            "aria-expanded": i.open,
            "aria-controls": i.open ? i.contentId : void 0,
            "data-state": i.open ? "open" : "closed",
            "data-disabled": s ? "" : void 0,
            disabled: s,
            ...a,
            ref: _f(t, i.triggerRef),
            onPointerDown: ue(e.onPointerDown, l => {
                !s && l.button === 0 && l.ctrlKey === !1 && (i.onOpenToggle(),
                i.open || l.preventDefault())
            }
            ),
            onKeyDown: ue(e.onKeyDown, l => {
                s || (["Enter", " "].includes(l.key) && i.onOpenToggle(),
                l.key === "ArrowDown" && i.onOpenChange(!0),
                ["Enter", " ", "ArrowDown"].includes(l.key) && l.preventDefault())
            }
            )
        })
    })
}
);
hP.displayName = fP;
var mz = "DropdownMenuPortal"
  , pP = e => {
    const {__scopeDropdownMenu: t, ...n} = e
      , s = xr(t);
    return r.jsx(Y5, {
        ...s,
        ...n
    })
}
;
pP.displayName = mz;
var xP = "DropdownMenuContent"
  , gP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = uP(xP, n)
      , i = xr(n)
      , o = m.useRef(!1);
    return r.jsx(Z5, {
        id: a.contentId,
        "aria-labelledby": a.triggerId,
        ...i,
        ...s,
        ref: t,
        onCloseAutoFocus: ue(e.onCloseAutoFocus, l => {
            var c;
            o.current || (c = a.triggerRef.current) == null || c.focus(),
            o.current = !1,
            l.preventDefault()
        }
        ),
        onInteractOutside: ue(e.onInteractOutside, l => {
            const c = l.detail.originalEvent
              , d = c.button === 0 && c.ctrlKey === !0
              , u = c.button === 2 || d;
            (!a.modal || u) && (o.current = !0)
        }
        ),
        style: {
            ...e.style,
            "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
            "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
            "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
gP.displayName = xP;
var fz = "DropdownMenuGroup"
  , hz = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(J5, {
        ...a,
        ...s,
        ref: t
    })
}
);
hz.displayName = fz;
var pz = "DropdownMenuLabel"
  , vP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(ez, {
        ...a,
        ...s,
        ref: t
    })
}
);
vP.displayName = pz;
var xz = "DropdownMenuItem"
  , yP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(tz, {
        ...a,
        ...s,
        ref: t
    })
}
);
yP.displayName = xz;
var gz = "DropdownMenuCheckboxItem"
  , jP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(nz, {
        ...a,
        ...s,
        ref: t
    })
}
);
jP.displayName = gz;
var vz = "DropdownMenuRadioGroup"
  , yz = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(rz, {
        ...a,
        ...s,
        ref: t
    })
}
);
yz.displayName = vz;
var jz = "DropdownMenuRadioItem"
  , wP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(sz, {
        ...a,
        ...s,
        ref: t
    })
}
);
wP.displayName = jz;
var wz = "DropdownMenuItemIndicator"
  , NP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(az, {
        ...a,
        ...s,
        ref: t
    })
}
);
NP.displayName = wz;
var Nz = "DropdownMenuSeparator"
  , bP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(iz, {
        ...a,
        ...s,
        ref: t
    })
}
);
bP.displayName = Nz;
var bz = "DropdownMenuArrow"
  , Sz = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(oz, {
        ...a,
        ...s,
        ref: t
    })
}
);
Sz.displayName = bz;
var Cz = "DropdownMenuSubTrigger"
  , SP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(lz, {
        ...a,
        ...s,
        ref: t
    })
}
);
SP.displayName = Cz;
var kz = "DropdownMenuSubContent"
  , CP = m.forwardRef( (e, t) => {
    const {__scopeDropdownMenu: n, ...s} = e
      , a = xr(n);
    return r.jsx(cz, {
        ...a,
        ...s,
        ref: t,
        style: {
            ...e.style,
            "--radix-dropdown-menu-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-dropdown-menu-content-available-width": "var(--radix-popper-available-width)",
            "--radix-dropdown-menu-content-available-height": "var(--radix-popper-available-height)",
            "--radix-dropdown-menu-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-dropdown-menu-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
CP.displayName = kz;
var Tz = mP
  , Pz = hP
  , Ez = pP
  , kP = gP
  , TP = vP
  , PP = yP
  , EP = jP
  , _P = wP
  , AP = NP
  , RP = bP
  , IP = SP
  , DP = CP;
const MP = Tz
  , OP = Pz
  , _z = m.forwardRef( ({className: e, inset: t, children: n, ...s}, a) => r.jsxs(IP, {
    ref: a,
    className: pe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", t && "pl-8", e),
    ...s,
    children: [n, r.jsx(ad, {
        className: "ml-auto"
    })]
}));
_z.displayName = IP.displayName;
const Az = m.forwardRef( ({className: e, ...t}, n) => r.jsx(DP, {
    ref: n,
    className: pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", e),
    ...t
}));
Az.displayName = DP.displayName;
const Vv = m.forwardRef( ({className: e, sideOffset: t=4, ...n}, s) => r.jsx(Ez, {
    children: r.jsx(kP, {
        ref: s,
        sideOffset: t,
        className: pe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", e),
        ...n
    })
}));
Vv.displayName = kP.displayName;
const md = m.forwardRef( ({className: e, inset: t, ...n}, s) => r.jsx(PP, {
    ref: s,
    className: pe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", t && "pl-8", e),
    ...n
}));
md.displayName = PP.displayName;
const Rz = m.forwardRef( ({className: e, children: t, checked: n, ...s}, a) => r.jsxs(EP, {
    ref: a,
    className: pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    checked: n,
    ...s,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(AP, {
            children: r.jsx(Vd, {
                className: "h-4 w-4"
            })
        })
    }), t]
}));
Rz.displayName = EP.displayName;
const Iz = m.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(_P, {
    ref: s,
    className: pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    ...n,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(AP, {
            children: r.jsx(id, {
                className: "h-2 w-2 fill-current"
            })
        })
    }), t]
}));
Iz.displayName = _P.displayName;
const LP = m.forwardRef( ({className: e, inset: t, ...n}, s) => r.jsx(TP, {
    ref: s,
    className: pe("px-2 py-1.5 text-sm font-semibold", t && "pl-8", e),
    ...n
}));
LP.displayName = TP.displayName;
const Bx = m.forwardRef( ({className: e, ...t}, n) => r.jsx(RP, {
    ref: n,
    className: pe("-mx-1 my-1 h-px bg-muted", e),
    ...t
}));
Bx.displayName = RP.displayName;
const Dz = Ul("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ", {
    variants: {
        variant: {
            default: "border-transparent bg-primary text-primary-foreground shadow-xs",
            secondary: "border-transparent bg-secondary text-secondary-foreground",
            destructive: "border-transparent bg-destructive text-destructive-foreground shadow-xs",
            outline: " border [border-color:var(--badge-outline)] shadow-xs"
        }
    },
    defaultVariants: {
        variant: "default"
    }
});
function de({className: e, variant: t, ...n}) {
    return r.jsx("div", {
        className: pe(Dz({
            variant: t
        }), e),
        ...n
    })
}
function Mz({userId: e}) {
    const [,t] = rr()
      , {data: n} = Oe({
        queryKey: [`/api/notifications/unread-count?userId=${e}`],
        enabled: !!e,
        refetchInterval: 3e4
    })
      , s = (n == null ? void 0 : n.count) || 0;
    return r.jsxs(E, {
        variant: "ghost",
        size: "icon",
        className: "relative",
        onClick: () => t("/notifications"),
        "data-testid": "button-notifications",
        children: [r.jsx(Ji, {
            className: "h-5 w-5"
        }), s > 0 && r.jsx(de, {
            variant: "destructive",
            className: "absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",
            "data-testid": "badge-unread-count",
            children: s > 9 ? "9+" : s
        })]
    })
}
function Oz({userId: e}) {
    const [,t] = rr()
      , {data: n} = Oe({
        queryKey: [`/api/chat/unread-count?userId=${e}`],
        refetchInterval: 5e3
    })
      , s = (n == null ? void 0 : n.count) || 0;
    return r.jsxs(E, {
        variant: "ghost",
        size: "icon",
        onClick: () => t("/messages"),
        className: "relative",
        "data-testid": "button-messages",
        children: [r.jsx(Ln, {
            className: "h-5 w-5"
        }), s > 0 && r.jsx("span", {
            className: "absolute -top-1 -right-1 bg-destructive text-destructive-foreground text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center",
            "data-testid": "badge-unread-messages-count",
            children: s > 9 ? "9+" : s
        })]
    })
}
var Bv = "Dialog"
  , [FP,$P] = sr(Bv)
  , [Lz,Rs] = FP(Bv)
  , zP = e => {
    const {__scopeDialog: t, children: n, open: s, defaultOpen: a, onOpenChange: i, modal: o=!0} = e
      , l = m.useRef(null)
      , c = m.useRef(null)
      , [d=!1,u] = Gs({
        prop: s,
        defaultProp: a,
        onChange: i
    });
    return r.jsx(Lz, {
        scope: t,
        triggerRef: l,
        contentRef: c,
        contentId: Ss(),
        titleId: Ss(),
        descriptionId: Ss(),
        open: d,
        onOpenChange: u,
        onOpenToggle: m.useCallback( () => u(f => !f), [u]),
        modal: o,
        children: n
    })
}
;
zP.displayName = Bv;
var VP = "DialogTrigger"
  , BP = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Rs(VP, n)
      , i = at(t, a.triggerRef);
    return r.jsx(Le.button, {
        type: "button",
        "aria-haspopup": "dialog",
        "aria-expanded": a.open,
        "aria-controls": a.contentId,
        "data-state": Wv(a.open),
        ...s,
        ref: i,
        onClick: ue(e.onClick, a.onOpenToggle)
    })
}
);
BP.displayName = VP;
var Uv = "DialogPortal"
  , [Fz,UP] = FP(Uv, {
    forceMount: void 0
})
  , qP = e => {
    const {__scopeDialog: t, forceMount: n, children: s, container: a} = e
      , i = Rs(Uv, t);
    return r.jsx(Fz, {
        scope: t,
        forceMount: n,
        children: m.Children.map(s, o => r.jsx(Qn, {
            present: n || i.open,
            children: r.jsx(Fd, {
                asChild: !0,
                container: a,
                children: o
            })
        }))
    })
}
;
qP.displayName = Uv;
var Bm = "DialogOverlay"
  , WP = m.forwardRef( (e, t) => {
    const n = UP(Bm, e.__scopeDialog)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = Rs(Bm, e.__scopeDialog);
    return i.modal ? r.jsx(Qn, {
        present: s || i.open,
        children: r.jsx(zz, {
            ...a,
            ref: t
        })
    }) : null
}
);
WP.displayName = Bm;
var $z = co("DialogOverlay.RemoveScroll")
  , zz = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Rs(Bm, n);
    return r.jsx(Wf, {
        as: $z,
        allowPinchZoom: !0,
        shards: [a.contentRef],
        children: r.jsx(Le.div, {
            "data-state": Wv(a.open),
            ...s,
            ref: t,
            style: {
                pointerEvents: "auto",
                ...s.style
            }
        })
    })
}
)
  , mo = "DialogContent"
  , HP = m.forwardRef( (e, t) => {
    const n = UP(mo, e.__scopeDialog)
      , {forceMount: s=n.forceMount, ...a} = e
      , i = Rs(mo, e.__scopeDialog);
    return r.jsx(Qn, {
        present: s || i.open,
        children: i.modal ? r.jsx(Vz, {
            ...a,
            ref: t
        }) : r.jsx(Bz, {
            ...a,
            ref: t
        })
    })
}
);
HP.displayName = mo;
var Vz = m.forwardRef( (e, t) => {
    const n = Rs(mo, e.__scopeDialog)
      , s = m.useRef(null)
      , a = at(t, n.contentRef, s);
    return m.useEffect( () => {
        const i = s.current;
        if (i)
            return Rv(i)
    }
    , []),
    r.jsx(KP, {
        ...e,
        ref: a,
        trapFocus: n.open,
        disableOutsidePointerEvents: !0,
        onCloseAutoFocus: ue(e.onCloseAutoFocus, i => {
            var o;
            i.preventDefault(),
            (o = n.triggerRef.current) == null || o.focus()
        }
        ),
        onPointerDownOutside: ue(e.onPointerDownOutside, i => {
            const o = i.detail.originalEvent
              , l = o.button === 0 && o.ctrlKey === !0;
            (o.button === 2 || l) && i.preventDefault()
        }
        ),
        onFocusOutside: ue(e.onFocusOutside, i => i.preventDefault())
    })
}
)
  , Bz = m.forwardRef( (e, t) => {
    const n = Rs(mo, e.__scopeDialog)
      , s = m.useRef(!1)
      , a = m.useRef(!1);
    return r.jsx(KP, {
        ...e,
        ref: t,
        trapFocus: !1,
        disableOutsidePointerEvents: !1,
        onCloseAutoFocus: i => {
            var o, l;
            (o = e.onCloseAutoFocus) == null || o.call(e, i),
            i.defaultPrevented || (s.current || (l = n.triggerRef.current) == null || l.focus(),
            i.preventDefault()),
            s.current = !1,
            a.current = !1
        }
        ,
        onInteractOutside: i => {
            var c, d;
            (c = e.onInteractOutside) == null || c.call(e, i),
            i.defaultPrevented || (s.current = !0,
            i.detail.originalEvent.type === "pointerdown" && (a.current = !0));
            const o = i.target;
            ((d = n.triggerRef.current) == null ? void 0 : d.contains(o)) && i.preventDefault(),
            i.detail.originalEvent.type === "focusin" && a.current && i.preventDefault()
        }
    })
}
)
  , KP = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, trapFocus: s, onOpenAutoFocus: a, onCloseAutoFocus: i, ...o} = e
      , l = Rs(mo, n)
      , c = m.useRef(null)
      , d = at(t, c);
    return Av(),
    r.jsxs(r.Fragment, {
        children: [r.jsx(Uf, {
            asChild: !0,
            loop: !0,
            trapped: s,
            onMountAutoFocus: a,
            onUnmountAutoFocus: i,
            children: r.jsx(Bl, {
                role: "dialog",
                id: l.contentId,
                "aria-describedby": l.descriptionId,
                "aria-labelledby": l.titleId,
                "data-state": Wv(l.open),
                ...o,
                ref: d,
                onDismiss: () => l.onOpenChange(!1)
            })
        }), r.jsxs(r.Fragment, {
            children: [r.jsx(qz, {
                titleId: l.titleId
            }), r.jsx(Hz, {
                contentRef: c,
                descriptionId: l.descriptionId
            })]
        })]
    })
}
)
  , qv = "DialogTitle"
  , QP = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Rs(qv, n);
    return r.jsx(Le.h2, {
        id: a.titleId,
        ...s,
        ref: t
    })
}
);
QP.displayName = qv;
var GP = "DialogDescription"
  , XP = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Rs(GP, n);
    return r.jsx(Le.p, {
        id: a.descriptionId,
        ...s,
        ref: t
    })
}
);
XP.displayName = GP;
var YP = "DialogClose"
  , ZP = m.forwardRef( (e, t) => {
    const {__scopeDialog: n, ...s} = e
      , a = Rs(YP, n);
    return r.jsx(Le.button, {
        type: "button",
        ...s,
        ref: t,
        onClick: ue(e.onClick, () => a.onOpenChange(!1))
    })
}
);
ZP.displayName = YP;
function Wv(e) {
    return e ? "open" : "closed"
}
var JP = "DialogTitleWarning"
  , [Uz,eE] = UO(JP, {
    contentName: mo,
    titleName: qv,
    docsSlug: "dialog"
})
  , qz = ({titleId: e}) => {
    const t = eE(JP)
      , n = `\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;
    return m.useEffect( () => {
        e && (document.getElementById(e) || console.error(n))
    }
    , [n, e]),
    null
}
  , Wz = "DialogDescriptionWarning"
  , Hz = ({contentRef: e, descriptionId: t}) => {
    const s = `Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eE(Wz).contentName}}.`;
    return m.useEffect( () => {
        var i;
        const a = (i = e.current) == null ? void 0 : i.getAttribute("aria-describedby");
        t && a && (document.getElementById(t) || console.warn(s))
    }
    , [s, e, t]),
    null
}
  , Hv = zP
  , tE = BP
  , Kv = qP
  , Hd = WP
  , Kd = HP
  , Qd = QP
  , Gd = XP
  , Qf = ZP;
const mt = Hv
  , Kz = Kv
  , nE = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Hd, {
    ref: n,
    className: pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e),
    ...t
}));
nE.displayName = Hd.displayName;
const dt = m.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(Kz, {
    children: [r.jsx(nE, {}), r.jsxs(Kd, {
        ref: s,
        className: pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e),
        ...n,
        children: [t, r.jsxs(Qf, {
            className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",
            children: [r.jsx(Pi, {
                className: "h-4 w-4"
            }), r.jsx("span", {
                className: "sr-only",
                children: "Close"
            })]
        })]
    })]
}));
dt.displayName = Kd.displayName;
const ft = ({className: e, ...t}) => r.jsx("div", {
    className: pe("flex flex-col space-y-1.5 text-center sm:text-left", e),
    ...t
});
ft.displayName = "DialogHeader";
const mr = ({className: e, ...t}) => r.jsx("div", {
    className: pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e),
    ...t
});
mr.displayName = "DialogFooter";
const ht = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Qd, {
    ref: n,
    className: pe("text-lg font-semibold leading-none tracking-tight", e),
    ...t
}));
ht.displayName = Qd.displayName;
const _t = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Gd, {
    ref: n,
    className: pe("text-sm text-muted-foreground", e),
    ...t
}));
_t.displayName = Gd.displayName;
function Qz({open: e, onOpenChange: t}) {
    const n = () => {
        window.open("https://wa.me/212664373534", "_blank")
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "max-w-[90vw] sm:max-w-md",
            children: [r.jsxs(ft, {
                children: [r.jsx(ht, {
                    className: "flex items-center gap-2 text-xl",
                    children: " Contactez-nous facilement"
                }), r.jsx(_t, {
                    className: "text-base pt-2",
                    children: "Besoin d'aide ? crivez-nous directement sur WhatsApp."
                })]
            }), r.jsxs("div", {
                className: "py-6 space-y-4",
                children: [r.jsxs("div", {
                    className: "text-center",
                    children: [r.jsx("div", {
                        className: "inline-flex items-center justify-center w-20 h-20 rounded-full bg-[#25D366]/10 mb-4",
                        children: r.jsx(Vi, {
                            className: "h-10 w-10 text-[#25D366]"
                        })
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground mb-2",
                        children: "Notre quipe est disponible pour rpondre  toutes vos questions"
                    })]
                }), r.jsxs(E, {
                    onClick: n,
                    className: "w-full bg-[#25D366] hover:bg-[#25D366]/90 text-white gap-2 h-12 text-base shadow-lg",
                    "data-testid": "button-whatsapp",
                    children: [r.jsx(Vi, {
                        className: "h-5 w-5"
                    }), "Ouvrir WhatsApp"]
                }), r.jsx("div", {
                    className: "text-center",
                    children: r.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: "+212 664 37 35 34"
                    })
                })]
            })]
        })
    })
}
const rE = Hv
  , sE = tE
  , Gz = Kv
  , aE = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Hd, {
    className: pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e),
    ...t,
    ref: n
}));
aE.displayName = Hd.displayName;
const Xz = Ul("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500", {
    variants: {
        side: {
            top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
            bottom: "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
            left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
            right: "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"
        }
    },
    defaultVariants: {
        side: "right"
    }
})
  , Qv = m.forwardRef( ({side: e="right", className: t, children: n, ...s}, a) => r.jsxs(Gz, {
    children: [r.jsx(aE, {}), r.jsxs(Kd, {
        ref: a,
        className: pe(Xz({
            side: e
        }), t),
        ...s,
        children: [n, r.jsxs(Qf, {
            className: "absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",
            children: [r.jsx(Pi, {
                className: "h-4 w-4"
            }), r.jsx("span", {
                className: "sr-only",
                children: "Close"
            })]
        })]
    })]
}));
Qv.displayName = Kd.displayName;
const Gv = ({className: e, ...t}) => r.jsx("div", {
    className: pe("flex flex-col space-y-2 text-center sm:text-left", e),
    ...t
});
Gv.displayName = "SheetHeader";
const Xv = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Qd, {
    ref: n,
    className: pe("text-lg font-semibold text-foreground", e),
    ...t
}));
Xv.displayName = Qd.displayName;
const Yv = m.forwardRef( ({className: e, ...t}, n) => r.jsx(Gd, {
    ref: n,
    className: pe("text-sm text-muted-foreground", e),
    ...t
}));
Yv.displayName = Gd.displayName;
function Cn(e) {
    const t = Object.prototype.toString.call(e);
    return e instanceof Date || typeof e == "object" && t === "[object Date]" ? new e.constructor(+e) : typeof e == "number" || t === "[object Number]" || typeof e == "string" || t === "[object String]" ? new Date(e) : new Date(NaN)
}
function yi(e, t) {
    return e instanceof Date ? new e.constructor(t) : new Date(t)
}
const iE = 6048e5
  , Yz = 864e5
  , oE = 6e4
  , lE = 36e5;
let Zz = {};
function Gf() {
    return Zz
}
function fd(e, t) {
    var l, c, d, u;
    const n = Gf()
      , s = (t == null ? void 0 : t.weekStartsOn) ?? ((c = (l = t == null ? void 0 : t.locale) == null ? void 0 : l.options) == null ? void 0 : c.weekStartsOn) ?? n.weekStartsOn ?? ((u = (d = n.locale) == null ? void 0 : d.options) == null ? void 0 : u.weekStartsOn) ?? 0
      , a = Cn(e)
      , i = a.getDay()
      , o = (i < s ? 7 : 0) + i - s;
    return a.setDate(a.getDate() - o),
    a.setHours(0, 0, 0, 0),
    a
}
function Um(e) {
    return fd(e, {
        weekStartsOn: 1
    })
}
function cE(e) {
    const t = Cn(e)
      , n = t.getFullYear()
      , s = yi(e, 0);
    s.setFullYear(n + 1, 0, 4),
    s.setHours(0, 0, 0, 0);
    const a = Um(s)
      , i = yi(e, 0);
    i.setFullYear(n, 0, 4),
    i.setHours(0, 0, 0, 0);
    const o = Um(i);
    return t.getTime() >= a.getTime() ? n + 1 : t.getTime() >= o.getTime() ? n : n - 1
}
function qm(e) {
    const t = Cn(e);
    return t.setHours(0, 0, 0, 0),
    t
}
function Aw(e) {
    const t = Cn(e)
      , n = new Date(Date.UTC(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes(), t.getSeconds(), t.getMilliseconds()));
    return n.setUTCFullYear(t.getFullYear()),
    +e - +n
}
function Jz(e, t) {
    const n = qm(e)
      , s = qm(t)
      , a = +n - Aw(n)
      , i = +s - Aw(s);
    return Math.round((a - i) / Yz)
}
function e6(e) {
    const t = cE(e)
      , n = yi(e, 0);
    return n.setFullYear(t, 0, 4),
    n.setHours(0, 0, 0, 0),
    Um(n)
}
function sm(e, t) {
    const n = qm(e)
      , s = qm(t);
    return +n == +s
}
function t6(e) {
    return e instanceof Date || typeof e == "object" && Object.prototype.toString.call(e) === "[object Date]"
}
function n6(e) {
    if (!t6(e) && typeof e != "number")
        return !1;
    const t = Cn(e);
    return !isNaN(Number(t))
}
function r6(e) {
    const t = Cn(e)
      , n = t.getMonth();
    return t.setFullYear(t.getFullYear(), n + 1, 0),
    t.setHours(23, 59, 59, 999),
    t
}
function s6(e, t) {
    const n = Cn(e.start)
      , s = Cn(e.end);
    let a = +n > +s;
    const i = a ? +n : +s
      , o = a ? s : n;
    o.setHours(0, 0, 0, 0);
    let l = 1;
    const c = [];
    for (; +o <= i; )
        c.push(Cn(o)),
        o.setDate(o.getDate() + l),
        o.setHours(0, 0, 0, 0);
    return a ? c.reverse() : c
}
function a6(e) {
    const t = Cn(e);
    return t.setDate(1),
    t.setHours(0, 0, 0, 0),
    t
}
function i6(e) {
    const t = Cn(e)
      , n = yi(e, 0);
    return n.setFullYear(t.getFullYear(), 0, 1),
    n.setHours(0, 0, 0, 0),
    n
}
const o6 = {
    lessThanXSeconds: {
        one: "less than a second",
        other: "less than {{count}} seconds"
    },
    xSeconds: {
        one: "1 second",
        other: "{{count}} seconds"
    },
    halfAMinute: "half a minute",
    lessThanXMinutes: {
        one: "less than a minute",
        other: "less than {{count}} minutes"
    },
    xMinutes: {
        one: "1 minute",
        other: "{{count}} minutes"
    },
    aboutXHours: {
        one: "about 1 hour",
        other: "about {{count}} hours"
    },
    xHours: {
        one: "1 hour",
        other: "{{count}} hours"
    },
    xDays: {
        one: "1 day",
        other: "{{count}} days"
    },
    aboutXWeeks: {
        one: "about 1 week",
        other: "about {{count}} weeks"
    },
    xWeeks: {
        one: "1 week",
        other: "{{count}} weeks"
    },
    aboutXMonths: {
        one: "about 1 month",
        other: "about {{count}} months"
    },
    xMonths: {
        one: "1 month",
        other: "{{count}} months"
    },
    aboutXYears: {
        one: "about 1 year",
        other: "about {{count}} years"
    },
    xYears: {
        one: "1 year",
        other: "{{count}} years"
    },
    overXYears: {
        one: "over 1 year",
        other: "over {{count}} years"
    },
    almostXYears: {
        one: "almost 1 year",
        other: "almost {{count}} years"
    }
}
  , l6 = (e, t, n) => {
    let s;
    const a = o6[e];
    return typeof a == "string" ? s = a : t === 1 ? s = a.one : s = a.other.replace("{{count}}", t.toString()),
    n != null && n.addSuffix ? n.comparison && n.comparison > 0 ? "in " + s : s + " ago" : s
}
;
function rl(e) {
    return (t={}) => {
        const n = t.width ? String(t.width) : e.defaultWidth;
        return e.formats[n] || e.formats[e.defaultWidth]
    }
}
const c6 = {
    full: "EEEE, MMMM do, y",
    long: "MMMM do, y",
    medium: "MMM d, y",
    short: "MM/dd/yyyy"
}
  , d6 = {
    full: "h:mm:ss a zzzz",
    long: "h:mm:ss a z",
    medium: "h:mm:ss a",
    short: "h:mm a"
}
  , u6 = {
    full: "{{date}} 'at' {{time}}",
    long: "{{date}} 'at' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
}
  , m6 = {
    date: rl({
        formats: c6,
        defaultWidth: "full"
    }),
    time: rl({
        formats: d6,
        defaultWidth: "full"
    }),
    dateTime: rl({
        formats: u6,
        defaultWidth: "full"
    })
}
  , f6 = {
    lastWeek: "'last' eeee 'at' p",
    yesterday: "'yesterday at' p",
    today: "'today at' p",
    tomorrow: "'tomorrow at' p",
    nextWeek: "eeee 'at' p",
    other: "P"
}
  , h6 = (e, t, n, s) => f6[e];
function Bs(e) {
    return (t, n) => {
        const s = n != null && n.context ? String(n.context) : "standalone";
        let a;
        if (s === "formatting" && e.formattingValues) {
            const o = e.defaultFormattingWidth || e.defaultWidth
              , l = n != null && n.width ? String(n.width) : o;
            a = e.formattingValues[l] || e.formattingValues[o]
        } else {
            const o = e.defaultWidth
              , l = n != null && n.width ? String(n.width) : e.defaultWidth;
            a = e.values[l] || e.values[o]
        }
        const i = e.argumentCallback ? e.argumentCallback(t) : t;
        return a[i]
    }
}
const p6 = {
    narrow: ["B", "A"],
    abbreviated: ["BC", "AD"],
    wide: ["Before Christ", "Anno Domini"]
}
  , x6 = {
    narrow: ["1", "2", "3", "4"],
    abbreviated: ["Q1", "Q2", "Q3", "Q4"],
    wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
}
  , g6 = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
    wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
}
  , v6 = {
    narrow: ["S", "M", "T", "W", "T", "F", "S"],
    short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
    abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
}
  , y6 = {
    narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    },
    wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
    }
}
  , j6 = {
    narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    },
    wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
    }
}
  , w6 = (e, t) => {
    const n = Number(e)
      , s = n % 100;
    if (s > 20 || s < 10)
        switch (s % 10) {
        case 1:
            return n + "st";
        case 2:
            return n + "nd";
        case 3:
            return n + "rd"
        }
    return n + "th"
}
  , N6 = {
    ordinalNumber: w6,
    era: Bs({
        values: p6,
        defaultWidth: "wide"
    }),
    quarter: Bs({
        values: x6,
        defaultWidth: "wide",
        argumentCallback: e => e - 1
    }),
    month: Bs({
        values: g6,
        defaultWidth: "wide"
    }),
    day: Bs({
        values: v6,
        defaultWidth: "wide"
    }),
    dayPeriod: Bs({
        values: y6,
        defaultWidth: "wide",
        formattingValues: j6,
        defaultFormattingWidth: "wide"
    })
};
function Us(e) {
    return (t, n={}) => {
        const s = n.width
          , a = s && e.matchPatterns[s] || e.matchPatterns[e.defaultMatchWidth]
          , i = t.match(a);
        if (!i)
            return null;
        const o = i[0]
          , l = s && e.parsePatterns[s] || e.parsePatterns[e.defaultParseWidth]
          , c = Array.isArray(l) ? S6(l, f => f.test(o)) : b6(l, f => f.test(o));
        let d;
        d = e.valueCallback ? e.valueCallback(c) : c,
        d = n.valueCallback ? n.valueCallback(d) : d;
        const u = t.slice(o.length);
        return {
            value: d,
            rest: u
        }
    }
}
function b6(e, t) {
    for (const n in e)
        if (Object.prototype.hasOwnProperty.call(e, n) && t(e[n]))
            return n
}
function S6(e, t) {
    for (let n = 0; n < e.length; n++)
        if (t(e[n]))
            return n
}
function dE(e) {
    return (t, n={}) => {
        const s = t.match(e.matchPattern);
        if (!s)
            return null;
        const a = s[0]
          , i = t.match(e.parsePattern);
        if (!i)
            return null;
        let o = e.valueCallback ? e.valueCallback(i[0]) : i[0];
        o = n.valueCallback ? n.valueCallback(o) : o;
        const l = t.slice(a.length);
        return {
            value: o,
            rest: l
        }
    }
}
const C6 = /^(\d+)(th|st|nd|rd)?/i
  , k6 = /\d+/i
  , T6 = {
    narrow: /^(b|a)/i,
    abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
    wide: /^(before christ|before common era|anno domini|common era)/i
}
  , P6 = {
    any: [/^b/i, /^(a|c)/i]
}
  , E6 = {
    narrow: /^[1234]/i,
    abbreviated: /^q[1234]/i,
    wide: /^[1234](th|st|nd|rd)? quarter/i
}
  , _6 = {
    any: [/1/i, /2/i, /3/i, /4/i]
}
  , A6 = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
    wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
}
  , R6 = {
    narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
    any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
}
  , I6 = {
    narrow: /^[smtwf]/i,
    short: /^(su|mo|tu|we|th|fr|sa)/i,
    abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
    wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
}
  , D6 = {
    narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
    any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
}
  , M6 = {
    narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
    any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
}
  , O6 = {
    any: {
        am: /^a/i,
        pm: /^p/i,
        midnight: /^mi/i,
        noon: /^no/i,
        morning: /morning/i,
        afternoon: /afternoon/i,
        evening: /evening/i,
        night: /night/i
    }
}
  , L6 = {
    ordinalNumber: dE({
        matchPattern: C6,
        parsePattern: k6,
        valueCallback: e => parseInt(e, 10)
    }),
    era: Us({
        matchPatterns: T6,
        defaultMatchWidth: "wide",
        parsePatterns: P6,
        defaultParseWidth: "any"
    }),
    quarter: Us({
        matchPatterns: E6,
        defaultMatchWidth: "wide",
        parsePatterns: _6,
        defaultParseWidth: "any",
        valueCallback: e => e + 1
    }),
    month: Us({
        matchPatterns: A6,
        defaultMatchWidth: "wide",
        parsePatterns: R6,
        defaultParseWidth: "any"
    }),
    day: Us({
        matchPatterns: I6,
        defaultMatchWidth: "wide",
        parsePatterns: D6,
        defaultParseWidth: "any"
    }),
    dayPeriod: Us({
        matchPatterns: M6,
        defaultMatchWidth: "any",
        parsePatterns: O6,
        defaultParseWidth: "any"
    })
}
  , F6 = {
    code: "en-US",
    formatDistance: l6,
    formatLong: m6,
    formatRelative: h6,
    localize: N6,
    match: L6,
    options: {
        weekStartsOn: 0,
        firstWeekContainsDate: 1
    }
};
function $6(e) {
    const t = Cn(e);
    return Jz(t, i6(t)) + 1
}
function z6(e) {
    const t = Cn(e)
      , n = +Um(t) - +e6(t);
    return Math.round(n / iE) + 1
}
function uE(e, t) {
    var u, f, h, x;
    const n = Cn(e)
      , s = n.getFullYear()
      , a = Gf()
      , i = (t == null ? void 0 : t.firstWeekContainsDate) ?? ((f = (u = t == null ? void 0 : t.locale) == null ? void 0 : u.options) == null ? void 0 : f.firstWeekContainsDate) ?? a.firstWeekContainsDate ?? ((x = (h = a.locale) == null ? void 0 : h.options) == null ? void 0 : x.firstWeekContainsDate) ?? 1
      , o = yi(e, 0);
    o.setFullYear(s + 1, 0, i),
    o.setHours(0, 0, 0, 0);
    const l = fd(o, t)
      , c = yi(e, 0);
    c.setFullYear(s, 0, i),
    c.setHours(0, 0, 0, 0);
    const d = fd(c, t);
    return n.getTime() >= l.getTime() ? s + 1 : n.getTime() >= d.getTime() ? s : s - 1
}
function V6(e, t) {
    var l, c, d, u;
    const n = Gf()
      , s = (t == null ? void 0 : t.firstWeekContainsDate) ?? ((c = (l = t == null ? void 0 : t.locale) == null ? void 0 : l.options) == null ? void 0 : c.firstWeekContainsDate) ?? n.firstWeekContainsDate ?? ((u = (d = n.locale) == null ? void 0 : d.options) == null ? void 0 : u.firstWeekContainsDate) ?? 1
      , a = uE(e, t)
      , i = yi(e, 0);
    return i.setFullYear(a, 0, s),
    i.setHours(0, 0, 0, 0),
    fd(i, t)
}
function B6(e, t) {
    const n = Cn(e)
      , s = +fd(n, t) - +V6(n, t);
    return Math.round(s / iE) + 1
}
function $t(e, t) {
    const n = e < 0 ? "-" : ""
      , s = Math.abs(e).toString().padStart(t, "0");
    return n + s
}
const _a = {
    y(e, t) {
        const n = e.getFullYear()
          , s = n > 0 ? n : 1 - n;
        return $t(t === "yy" ? s % 100 : s, t.length)
    },
    M(e, t) {
        const n = e.getMonth();
        return t === "M" ? String(n + 1) : $t(n + 1, 2)
    },
    d(e, t) {
        return $t(e.getDate(), t.length)
    },
    a(e, t) {
        const n = e.getHours() / 12 >= 1 ? "pm" : "am";
        switch (t) {
        case "a":
        case "aa":
            return n.toUpperCase();
        case "aaa":
            return n;
        case "aaaaa":
            return n[0];
        case "aaaa":
        default:
            return n === "am" ? "a.m." : "p.m."
        }
    },
    h(e, t) {
        return $t(e.getHours() % 12 || 12, t.length)
    },
    H(e, t) {
        return $t(e.getHours(), t.length)
    },
    m(e, t) {
        return $t(e.getMinutes(), t.length)
    },
    s(e, t) {
        return $t(e.getSeconds(), t.length)
    },
    S(e, t) {
        const n = t.length
          , s = e.getMilliseconds()
          , a = Math.trunc(s * Math.pow(10, n - 3));
        return $t(a, t.length)
    }
}
  , Eo = {
    am: "am",
    pm: "pm",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
}
  , Rw = {
    G: function(e, t, n) {
        const s = e.getFullYear() > 0 ? 1 : 0;
        switch (t) {
        case "G":
        case "GG":
        case "GGG":
            return n.era(s, {
                width: "abbreviated"
            });
        case "GGGGG":
            return n.era(s, {
                width: "narrow"
            });
        case "GGGG":
        default:
            return n.era(s, {
                width: "wide"
            })
        }
    },
    y: function(e, t, n) {
        if (t === "yo") {
            const s = e.getFullYear()
              , a = s > 0 ? s : 1 - s;
            return n.ordinalNumber(a, {
                unit: "year"
            })
        }
        return _a.y(e, t)
    },
    Y: function(e, t, n, s) {
        const a = uE(e, s)
          , i = a > 0 ? a : 1 - a;
        if (t === "YY") {
            const o = i % 100;
            return $t(o, 2)
        }
        return t === "Yo" ? n.ordinalNumber(i, {
            unit: "year"
        }) : $t(i, t.length)
    },
    R: function(e, t) {
        const n = cE(e);
        return $t(n, t.length)
    },
    u: function(e, t) {
        const n = e.getFullYear();
        return $t(n, t.length)
    },
    Q: function(e, t, n) {
        const s = Math.ceil((e.getMonth() + 1) / 3);
        switch (t) {
        case "Q":
            return String(s);
        case "QQ":
            return $t(s, 2);
        case "Qo":
            return n.ordinalNumber(s, {
                unit: "quarter"
            });
        case "QQQ":
            return n.quarter(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "QQQQQ":
            return n.quarter(s, {
                width: "narrow",
                context: "formatting"
            });
        case "QQQQ":
        default:
            return n.quarter(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    q: function(e, t, n) {
        const s = Math.ceil((e.getMonth() + 1) / 3);
        switch (t) {
        case "q":
            return String(s);
        case "qq":
            return $t(s, 2);
        case "qo":
            return n.ordinalNumber(s, {
                unit: "quarter"
            });
        case "qqq":
            return n.quarter(s, {
                width: "abbreviated",
                context: "standalone"
            });
        case "qqqqq":
            return n.quarter(s, {
                width: "narrow",
                context: "standalone"
            });
        case "qqqq":
        default:
            return n.quarter(s, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    M: function(e, t, n) {
        const s = e.getMonth();
        switch (t) {
        case "M":
        case "MM":
            return _a.M(e, t);
        case "Mo":
            return n.ordinalNumber(s + 1, {
                unit: "month"
            });
        case "MMM":
            return n.month(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "MMMMM":
            return n.month(s, {
                width: "narrow",
                context: "formatting"
            });
        case "MMMM":
        default:
            return n.month(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    L: function(e, t, n) {
        const s = e.getMonth();
        switch (t) {
        case "L":
            return String(s + 1);
        case "LL":
            return $t(s + 1, 2);
        case "Lo":
            return n.ordinalNumber(s + 1, {
                unit: "month"
            });
        case "LLL":
            return n.month(s, {
                width: "abbreviated",
                context: "standalone"
            });
        case "LLLLL":
            return n.month(s, {
                width: "narrow",
                context: "standalone"
            });
        case "LLLL":
        default:
            return n.month(s, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    w: function(e, t, n, s) {
        const a = B6(e, s);
        return t === "wo" ? n.ordinalNumber(a, {
            unit: "week"
        }) : $t(a, t.length)
    },
    I: function(e, t, n) {
        const s = z6(e);
        return t === "Io" ? n.ordinalNumber(s, {
            unit: "week"
        }) : $t(s, t.length)
    },
    d: function(e, t, n) {
        return t === "do" ? n.ordinalNumber(e.getDate(), {
            unit: "date"
        }) : _a.d(e, t)
    },
    D: function(e, t, n) {
        const s = $6(e);
        return t === "Do" ? n.ordinalNumber(s, {
            unit: "dayOfYear"
        }) : $t(s, t.length)
    },
    E: function(e, t, n) {
        const s = e.getDay();
        switch (t) {
        case "E":
        case "EE":
        case "EEE":
            return n.day(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "EEEEE":
            return n.day(s, {
                width: "narrow",
                context: "formatting"
            });
        case "EEEEEE":
            return n.day(s, {
                width: "short",
                context: "formatting"
            });
        case "EEEE":
        default:
            return n.day(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    e: function(e, t, n, s) {
        const a = e.getDay()
          , i = (a - s.weekStartsOn + 8) % 7 || 7;
        switch (t) {
        case "e":
            return String(i);
        case "ee":
            return $t(i, 2);
        case "eo":
            return n.ordinalNumber(i, {
                unit: "day"
            });
        case "eee":
            return n.day(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "eeeee":
            return n.day(a, {
                width: "narrow",
                context: "formatting"
            });
        case "eeeeee":
            return n.day(a, {
                width: "short",
                context: "formatting"
            });
        case "eeee":
        default:
            return n.day(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    c: function(e, t, n, s) {
        const a = e.getDay()
          , i = (a - s.weekStartsOn + 8) % 7 || 7;
        switch (t) {
        case "c":
            return String(i);
        case "cc":
            return $t(i, t.length);
        case "co":
            return n.ordinalNumber(i, {
                unit: "day"
            });
        case "ccc":
            return n.day(a, {
                width: "abbreviated",
                context: "standalone"
            });
        case "ccccc":
            return n.day(a, {
                width: "narrow",
                context: "standalone"
            });
        case "cccccc":
            return n.day(a, {
                width: "short",
                context: "standalone"
            });
        case "cccc":
        default:
            return n.day(a, {
                width: "wide",
                context: "standalone"
            })
        }
    },
    i: function(e, t, n) {
        const s = e.getDay()
          , a = s === 0 ? 7 : s;
        switch (t) {
        case "i":
            return String(a);
        case "ii":
            return $t(a, t.length);
        case "io":
            return n.ordinalNumber(a, {
                unit: "day"
            });
        case "iii":
            return n.day(s, {
                width: "abbreviated",
                context: "formatting"
            });
        case "iiiii":
            return n.day(s, {
                width: "narrow",
                context: "formatting"
            });
        case "iiiiii":
            return n.day(s, {
                width: "short",
                context: "formatting"
            });
        case "iiii":
        default:
            return n.day(s, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    a: function(e, t, n) {
        const a = e.getHours() / 12 >= 1 ? "pm" : "am";
        switch (t) {
        case "a":
        case "aa":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "aaa":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            }).toLowerCase();
        case "aaaaa":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "aaaa":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    b: function(e, t, n) {
        const s = e.getHours();
        let a;
        switch (s === 12 ? a = Eo.noon : s === 0 ? a = Eo.midnight : a = s / 12 >= 1 ? "pm" : "am",
        t) {
        case "b":
        case "bb":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "bbb":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            }).toLowerCase();
        case "bbbbb":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "bbbb":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    B: function(e, t, n) {
        const s = e.getHours();
        let a;
        switch (s >= 17 ? a = Eo.evening : s >= 12 ? a = Eo.afternoon : s >= 4 ? a = Eo.morning : a = Eo.night,
        t) {
        case "B":
        case "BB":
        case "BBB":
            return n.dayPeriod(a, {
                width: "abbreviated",
                context: "formatting"
            });
        case "BBBBB":
            return n.dayPeriod(a, {
                width: "narrow",
                context: "formatting"
            });
        case "BBBB":
        default:
            return n.dayPeriod(a, {
                width: "wide",
                context: "formatting"
            })
        }
    },
    h: function(e, t, n) {
        if (t === "ho") {
            let s = e.getHours() % 12;
            return s === 0 && (s = 12),
            n.ordinalNumber(s, {
                unit: "hour"
            })
        }
        return _a.h(e, t)
    },
    H: function(e, t, n) {
        return t === "Ho" ? n.ordinalNumber(e.getHours(), {
            unit: "hour"
        }) : _a.H(e, t)
    },
    K: function(e, t, n) {
        const s = e.getHours() % 12;
        return t === "Ko" ? n.ordinalNumber(s, {
            unit: "hour"
        }) : $t(s, t.length)
    },
    k: function(e, t, n) {
        let s = e.getHours();
        return s === 0 && (s = 24),
        t === "ko" ? n.ordinalNumber(s, {
            unit: "hour"
        }) : $t(s, t.length)
    },
    m: function(e, t, n) {
        return t === "mo" ? n.ordinalNumber(e.getMinutes(), {
            unit: "minute"
        }) : _a.m(e, t)
    },
    s: function(e, t, n) {
        return t === "so" ? n.ordinalNumber(e.getSeconds(), {
            unit: "second"
        }) : _a.s(e, t)
    },
    S: function(e, t) {
        return _a.S(e, t)
    },
    X: function(e, t, n) {
        const s = e.getTimezoneOffset();
        if (s === 0)
            return "Z";
        switch (t) {
        case "X":
            return Dw(s);
        case "XXXX":
        case "XX":
            return Oi(s);
        case "XXXXX":
        case "XXX":
        default:
            return Oi(s, ":")
        }
    },
    x: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "x":
            return Dw(s);
        case "xxxx":
        case "xx":
            return Oi(s);
        case "xxxxx":
        case "xxx":
        default:
            return Oi(s, ":")
        }
    },
    O: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "O":
        case "OO":
        case "OOO":
            return "GMT" + Iw(s, ":");
        case "OOOO":
        default:
            return "GMT" + Oi(s, ":")
        }
    },
    z: function(e, t, n) {
        const s = e.getTimezoneOffset();
        switch (t) {
        case "z":
        case "zz":
        case "zzz":
            return "GMT" + Iw(s, ":");
        case "zzzz":
        default:
            return "GMT" + Oi(s, ":")
        }
    },
    t: function(e, t, n) {
        const s = Math.trunc(e.getTime() / 1e3);
        return $t(s, t.length)
    },
    T: function(e, t, n) {
        const s = e.getTime();
        return $t(s, t.length)
    }
};
function Iw(e, t="") {
    const n = e > 0 ? "-" : "+"
      , s = Math.abs(e)
      , a = Math.trunc(s / 60)
      , i = s % 60;
    return i === 0 ? n + String(a) : n + String(a) + t + $t(i, 2)
}
function Dw(e, t) {
    return e % 60 === 0 ? (e > 0 ? "-" : "+") + $t(Math.abs(e) / 60, 2) : Oi(e, t)
}
function Oi(e, t="") {
    const n = e > 0 ? "-" : "+"
      , s = Math.abs(e)
      , a = $t(Math.trunc(s / 60), 2)
      , i = $t(s % 60, 2);
    return n + a + t + i
}
const Mw = (e, t) => {
    switch (e) {
    case "P":
        return t.date({
            width: "short"
        });
    case "PP":
        return t.date({
            width: "medium"
        });
    case "PPP":
        return t.date({
            width: "long"
        });
    case "PPPP":
    default:
        return t.date({
            width: "full"
        })
    }
}
  , mE = (e, t) => {
    switch (e) {
    case "p":
        return t.time({
            width: "short"
        });
    case "pp":
        return t.time({
            width: "medium"
        });
    case "ppp":
        return t.time({
            width: "long"
        });
    case "pppp":
    default:
        return t.time({
            width: "full"
        })
    }
}
  , U6 = (e, t) => {
    const n = e.match(/(P+)(p+)?/) || []
      , s = n[1]
      , a = n[2];
    if (!a)
        return Mw(e, t);
    let i;
    switch (s) {
    case "P":
        i = t.dateTime({
            width: "short"
        });
        break;
    case "PP":
        i = t.dateTime({
            width: "medium"
        });
        break;
    case "PPP":
        i = t.dateTime({
            width: "long"
        });
        break;
    case "PPPP":
    default:
        i = t.dateTime({
            width: "full"
        });
        break
    }
    return i.replace("{{date}}", Mw(s, t)).replace("{{time}}", mE(a, t))
}
  , q6 = {
    p: mE,
    P: U6
}
  , W6 = /^D+$/
  , H6 = /^Y+$/
  , K6 = ["D", "DD", "YY", "YYYY"];
function Q6(e) {
    return W6.test(e)
}
function G6(e) {
    return H6.test(e)
}
function X6(e, t, n) {
    const s = Y6(e, t, n);
    if (console.warn(s),
    K6.includes(e))
        throw new RangeError(s)
}
function Y6(e, t, n) {
    const s = e[0] === "Y" ? "years" : "days of the month";
    return `Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`
}
const Z6 = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g
  , J6 = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g
  , eV = /^'([^]*?)'?$/
  , tV = /''/g
  , nV = /[a-zA-Z]/;
function Dt(e, t, n) {
    var u, f, h, x, j, v, w, y;
    const s = Gf()
      , a = (n == null ? void 0 : n.locale) ?? s.locale ?? F6
      , i = (n == null ? void 0 : n.firstWeekContainsDate) ?? ((f = (u = n == null ? void 0 : n.locale) == null ? void 0 : u.options) == null ? void 0 : f.firstWeekContainsDate) ?? s.firstWeekContainsDate ?? ((x = (h = s.locale) == null ? void 0 : h.options) == null ? void 0 : x.firstWeekContainsDate) ?? 1
      , o = (n == null ? void 0 : n.weekStartsOn) ?? ((v = (j = n == null ? void 0 : n.locale) == null ? void 0 : j.options) == null ? void 0 : v.weekStartsOn) ?? s.weekStartsOn ?? ((y = (w = s.locale) == null ? void 0 : w.options) == null ? void 0 : y.weekStartsOn) ?? 0
      , l = Cn(e);
    if (!n6(l))
        throw new RangeError("Invalid time value");
    let c = t.match(J6).map(p => {
        const g = p[0];
        if (g === "p" || g === "P") {
            const b = q6[g];
            return b(p, a.formatLong)
        }
        return p
    }
    ).join("").match(Z6).map(p => {
        if (p === "''")
            return {
                isToken: !1,
                value: "'"
            };
        const g = p[0];
        if (g === "'")
            return {
                isToken: !1,
                value: rV(p)
            };
        if (Rw[g])
            return {
                isToken: !0,
                value: p
            };
        if (g.match(nV))
            throw new RangeError("Format string contains an unescaped latin alphabet character `" + g + "`");
        return {
            isToken: !1,
            value: p
        }
    }
    );
    a.localize.preprocessor && (c = a.localize.preprocessor(l, c));
    const d = {
        firstWeekContainsDate: i,
        weekStartsOn: o,
        locale: a
    };
    return c.map(p => {
        if (!p.isToken)
            return p.value;
        const g = p.value;
        (!(n != null && n.useAdditionalWeekYearTokens) && G6(g) || !(n != null && n.useAdditionalDayOfYearTokens) && Q6(g)) && X6(g, t, String(e));
        const b = Rw[g[0]];
        return b(l, g, a.localize, d)
    }
    ).join("")
}
function rV(e) {
    const t = e.match(eV);
    return t ? t[1].replace(tV, "'") : e
}
function mp(e) {
    return Cn(e).getFullYear()
}
function sV(e, t) {
    const n = Cn(e)
      , s = Cn(t);
    return n.getFullYear() === s.getFullYear() && n.getMonth() === s.getMonth()
}
function ia(e, t) {
    const s = lV(e);
    let a;
    if (s.date) {
        const c = cV(s.date, 2);
        a = dV(c.restDateString, c.year)
    }
    if (!a || isNaN(a.getTime()))
        return new Date(NaN);
    const i = a.getTime();
    let o = 0, l;
    if (s.time && (o = uV(s.time),
    isNaN(o)))
        return new Date(NaN);
    if (s.timezone) {
        if (l = mV(s.timezone),
        isNaN(l))
            return new Date(NaN)
    } else {
        const c = new Date(i + o)
          , d = new Date(0);
        return d.setFullYear(c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()),
        d.setHours(c.getUTCHours(), c.getUTCMinutes(), c.getUTCSeconds(), c.getUTCMilliseconds()),
        d
    }
    return new Date(i + o + l)
}
const Fu = {
    dateTimeDelimiter: /[T ]/,
    timeZoneDelimiter: /[Z ]/i,
    timezone: /([Z+-].*)$/
}
  , aV = /^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/
  , iV = /^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/
  , oV = /^([+-])(\d{2})(?::?(\d{2}))?$/;
function lV(e) {
    const t = {}
      , n = e.split(Fu.dateTimeDelimiter);
    let s;
    if (n.length > 2)
        return t;
    if (/:/.test(n[0]) ? s = n[0] : (t.date = n[0],
    s = n[1],
    Fu.timeZoneDelimiter.test(t.date) && (t.date = e.split(Fu.timeZoneDelimiter)[0],
    s = e.substr(t.date.length, e.length))),
    s) {
        const a = Fu.timezone.exec(s);
        a ? (t.time = s.replace(a[1], ""),
        t.timezone = a[1]) : t.time = s
    }
    return t
}
function cV(e, t) {
    const n = new RegExp("^(?:(\\d{4}|[+-]\\d{" + (4 + t) + "})|(\\d{2}|[+-]\\d{" + (2 + t) + "})$)")
      , s = e.match(n);
    if (!s)
        return {
            year: NaN,
            restDateString: ""
        };
    const a = s[1] ? parseInt(s[1]) : null
      , i = s[2] ? parseInt(s[2]) : null;
    return {
        year: i === null ? a : i * 100,
        restDateString: e.slice((s[1] || s[2]).length)
    }
}
function dV(e, t) {
    if (t === null)
        return new Date(NaN);
    const n = e.match(aV);
    if (!n)
        return new Date(NaN);
    const s = !!n[4]
      , a = pc(n[1])
      , i = pc(n[2]) - 1
      , o = pc(n[3])
      , l = pc(n[4])
      , c = pc(n[5]) - 1;
    if (s)
        return gV(t, l, c) ? fV(t, l, c) : new Date(NaN);
    {
        const d = new Date(0);
        return !pV(t, i, o) || !xV(t, a) ? new Date(NaN) : (d.setUTCFullYear(t, i, Math.max(a, o)),
        d)
    }
}
function pc(e) {
    return e ? parseInt(e) : 1
}
function uV(e) {
    const t = e.match(iV);
    if (!t)
        return NaN;
    const n = fp(t[1])
      , s = fp(t[2])
      , a = fp(t[3]);
    return vV(n, s, a) ? n * lE + s * oE + a * 1e3 : NaN
}
function fp(e) {
    return e && parseFloat(e.replace(",", ".")) || 0
}
function mV(e) {
    if (e === "Z")
        return 0;
    const t = e.match(oV);
    if (!t)
        return 0;
    const n = t[1] === "+" ? -1 : 1
      , s = parseInt(t[2])
      , a = t[3] && parseInt(t[3]) || 0;
    return yV(s, a) ? n * (s * lE + a * oE) : NaN
}
function fV(e, t, n) {
    const s = new Date(0);
    s.setUTCFullYear(e, 0, 4);
    const a = s.getUTCDay() || 7
      , i = (t - 1) * 7 + n + 1 - a;
    return s.setUTCDate(s.getUTCDate() + i),
    s
}
const hV = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
function fE(e) {
    return e % 400 === 0 || e % 4 === 0 && e % 100 !== 0
}
function pV(e, t, n) {
    return t >= 0 && t <= 11 && n >= 1 && n <= (hV[t] || (fE(e) ? 29 : 28))
}
function xV(e, t) {
    return t >= 1 && t <= (fE(e) ? 366 : 365)
}
function gV(e, t, n) {
    return t >= 1 && t <= 53 && n >= 0 && n <= 6
}
function vV(e, t, n) {
    return e === 24 ? t === 0 && n === 0 : n >= 0 && n < 60 && t >= 0 && t < 60 && e >= 0 && e < 25
}
function yV(e, t) {
    return t >= 0 && t <= 59
}
function jV(e, t) {
    const n = Cn(e);
    return isNaN(+n) ? yi(e, NaN) : (n.setFullYear(t),
    n)
}
const wV = {
    lessThanXSeconds: {
        one: "moins dune seconde",
        other: "moins de {{count}} secondes"
    },
    xSeconds: {
        one: "1 seconde",
        other: "{{count}} secondes"
    },
    halfAMinute: "30 secondes",
    lessThanXMinutes: {
        one: "moins dune minute",
        other: "moins de {{count}} minutes"
    },
    xMinutes: {
        one: "1 minute",
        other: "{{count}} minutes"
    },
    aboutXHours: {
        one: "environ 1 heure",
        other: "environ {{count}} heures"
    },
    xHours: {
        one: "1 heure",
        other: "{{count}} heures"
    },
    xDays: {
        one: "1 jour",
        other: "{{count}} jours"
    },
    aboutXWeeks: {
        one: "environ 1 semaine",
        other: "environ {{count}} semaines"
    },
    xWeeks: {
        one: "1 semaine",
        other: "{{count}} semaines"
    },
    aboutXMonths: {
        one: "environ 1 mois",
        other: "environ {{count}} mois"
    },
    xMonths: {
        one: "1 mois",
        other: "{{count}} mois"
    },
    aboutXYears: {
        one: "environ 1 an",
        other: "environ {{count}} ans"
    },
    xYears: {
        one: "1 an",
        other: "{{count}} ans"
    },
    overXYears: {
        one: "plus dun an",
        other: "plus de {{count}} ans"
    },
    almostXYears: {
        one: "presquun an",
        other: "presque {{count}} ans"
    }
}
  , NV = (e, t, n) => {
    let s;
    const a = wV[e];
    return typeof a == "string" ? s = a : t === 1 ? s = a.one : s = a.other.replace("{{count}}", String(t)),
    n != null && n.addSuffix ? n.comparison && n.comparison > 0 ? "dans " + s : "il y a " + s : s
}
  , bV = {
    full: "EEEE d MMMM y",
    long: "d MMMM y",
    medium: "d MMM y",
    short: "dd/MM/y"
}
  , SV = {
    full: "HH:mm:ss zzzz",
    long: "HH:mm:ss z",
    medium: "HH:mm:ss",
    short: "HH:mm"
}
  , CV = {
    full: "{{date}} '' {{time}}",
    long: "{{date}} '' {{time}}",
    medium: "{{date}}, {{time}}",
    short: "{{date}}, {{time}}"
}
  , kV = {
    date: rl({
        formats: bV,
        defaultWidth: "full"
    }),
    time: rl({
        formats: SV,
        defaultWidth: "full"
    }),
    dateTime: rl({
        formats: CV,
        defaultWidth: "full"
    })
}
  , TV = {
    lastWeek: "eeee 'dernier ' p",
    yesterday: "'hier ' p",
    today: "'aujourdhui ' p",
    tomorrow: "'demain ' p'",
    nextWeek: "eeee 'prochain ' p",
    other: "P"
}
  , PV = (e, t, n, s) => TV[e]
  , EV = {
    narrow: ["av. J.-C", "ap. J.-C"],
    abbreviated: ["av. J.-C", "ap. J.-C"],
    wide: ["avant Jsus-Christ", "aprs Jsus-Christ"]
}
  , _V = {
    narrow: ["T1", "T2", "T3", "T4"],
    abbreviated: ["1er trim.", "2me trim.", "3me trim.", "4me trim."],
    wide: ["1er trimestre", "2me trimestre", "3me trimestre", "4me trimestre"]
}
  , AV = {
    narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
    abbreviated: ["janv.", "fvr.", "mars", "avr.", "mai", "juin", "juil.", "aot", "sept.", "oct.", "nov.", "dc."],
    wide: ["janvier", "fvrier", "mars", "avril", "mai", "juin", "juillet", "aot", "septembre", "octobre", "novembre", "dcembre"]
}
  , RV = {
    narrow: ["D", "L", "M", "M", "J", "V", "S"],
    short: ["di", "lu", "ma", "me", "je", "ve", "sa"],
    abbreviated: ["dim.", "lun.", "mar.", "mer.", "jeu.", "ven.", "sam."],
    wide: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"]
}
  , IV = {
    narrow: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "mat.",
        afternoon: "ap.m.",
        evening: "soir",
        night: "mat."
    },
    abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "matin",
        afternoon: "aprs-midi",
        evening: "soir",
        night: "matin"
    },
    wide: {
        am: "AM",
        pm: "PM",
        midnight: "minuit",
        noon: "midi",
        morning: "du matin",
        afternoon: "de laprs-midi",
        evening: "du soir",
        night: "du matin"
    }
}
  , DV = (e, t) => {
    const n = Number(e)
      , s = t == null ? void 0 : t.unit;
    if (n === 0)
        return "0";
    const a = ["year", "week", "hour", "minute", "second"];
    let i;
    return n === 1 ? i = s && a.includes(s) ? "re" : "er" : i = "me",
    n + i
}
  , MV = ["MMM", "MMMM"]
  , OV = {
    preprocessor: (e, t) => e.getDate() === 1 || !t.some(s => s.isToken && MV.includes(s.value)) ? t : t.map(s => s.isToken && s.value === "do" ? {
        isToken: !0,
        value: "d"
    } : s),
    ordinalNumber: DV,
    era: Bs({
        values: EV,
        defaultWidth: "wide"
    }),
    quarter: Bs({
        values: _V,
        defaultWidth: "wide",
        argumentCallback: e => e - 1
    }),
    month: Bs({
        values: AV,
        defaultWidth: "wide"
    }),
    day: Bs({
        values: RV,
        defaultWidth: "wide"
    }),
    dayPeriod: Bs({
        values: IV,
        defaultWidth: "wide"
    })
}
  , LV = /^(\d+)(ime|re|me|er|e)?/i
  , FV = /\d+/i
  , $V = {
    narrow: /^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,
    abbreviated: /^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,
    wide: /^(avant Jsus-Christ|aprs Jsus-Christ)/i
}
  , zV = {
    any: [/^av/i, /^ap/i]
}
  , VV = {
    narrow: /^T?[1234]/i,
    abbreviated: /^[1234](er|me|e)? trim\.?/i,
    wide: /^[1234](er|me|e)? trimestre/i
}
  , BV = {
    any: [/1/i, /2/i, /3/i, /4/i]
}
  , UV = {
    narrow: /^[jfmasond]/i,
    abbreviated: /^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,
    wide: /^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i
}
  , qV = {
    narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
    any: [/^ja/i, /^f/i, /^mar/i, /^av/i, /^ma/i, /^juin/i, /^juil/i, /^ao/i, /^s/i, /^o/i, /^n/i, /^d/i]
}
  , WV = {
    narrow: /^[lmjvsd]/i,
    short: /^(di|lu|ma|me|je|ve|sa)/i,
    abbreviated: /^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,
    wide: /^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i
}
  , HV = {
    narrow: [/^d/i, /^l/i, /^m/i, /^m/i, /^j/i, /^v/i, /^s/i],
    any: [/^di/i, /^lu/i, /^ma/i, /^me/i, /^je/i, /^ve/i, /^sa/i]
}
  , KV = {
    narrow: /^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,
    any: /^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i
}
  , QV = {
    any: {
        am: /^a/i,
        pm: /^p/i,
        midnight: /^min/i,
        noon: /^mid/i,
        morning: /mat/i,
        afternoon: /ap/i,
        evening: /soir/i,
        night: /nuit/i
    }
}
  , GV = {
    ordinalNumber: dE({
        matchPattern: LV,
        parsePattern: FV,
        valueCallback: e => parseInt(e)
    }),
    era: Us({
        matchPatterns: $V,
        defaultMatchWidth: "wide",
        parsePatterns: zV,
        defaultParseWidth: "any"
    }),
    quarter: Us({
        matchPatterns: VV,
        defaultMatchWidth: "wide",
        parsePatterns: BV,
        defaultParseWidth: "any",
        valueCallback: e => e + 1
    }),
    month: Us({
        matchPatterns: UV,
        defaultMatchWidth: "wide",
        parsePatterns: qV,
        defaultParseWidth: "any"
    }),
    day: Us({
        matchPatterns: WV,
        defaultMatchWidth: "wide",
        parsePatterns: HV,
        defaultParseWidth: "any"
    }),
    dayPeriod: Us({
        matchPatterns: KV,
        defaultMatchWidth: "any",
        parsePatterns: QV,
        defaultParseWidth: "any"
    })
}
  , Xt = {
    code: "fr",
    formatDistance: NV,
    formatLong: kV,
    formatRelative: PV,
    localize: OV,
    match: GV,
    options: {
        weekStartsOn: 1,
        firstWeekContainsDate: 4
    }
};
function XV({userId: e}) {
    const [t,n] = m.useState(!1)
      , {data: s, isLoading: a} = Oe({
        queryKey: [`/api/coordinator/notifications?userId=${e}`],
        enabled: !!e && t,
        refetchInterval: 3e4
    })
      , i = Fe({
        mutationFn: async d => Ae("PATCH", `/api/notifications/${d}/read`),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/coordinator/notifications?userId=${e}`]
            }),
            le.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${e}`]
            })
        }
    })
      , o = Fe({
        mutationFn: async () => Ae("POST", "/api/coordinator/notifications/mark-all-read", {
            userId: e
        }),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/coordinator/notifications?userId=${e}`]
            }),
            le.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${e}`]
            })
        }
    })
      , l = d => {
        const u = {
            className: "h-5 w-5"
        };
        switch (d) {
        case "offer_received":
            return r.jsx(gk, {
                ...u
            });
        case "offer_accepted":
            return r.jsx(mn, {
                ...u
            });
        case "message_received":
            return r.jsx(Ln, {
                ...u
            });
        case "payment_validated":
            return r.jsx(zt, {
                ...u
            });
        default:
            return r.jsx(Ji, {
                ...u
            })
        }
    }
      , c = (s == null ? void 0 : s.reduce( (d, u) => d + u.unreadCount, 0)) || 0;
    return r.jsxs(rE, {
        open: t,
        onOpenChange: n,
        children: [r.jsx(sE, {
            asChild: !0,
            children: r.jsxs(E, {
                variant: "ghost",
                size: "icon",
                className: "relative",
                "data-testid": "button-coordinator-notifications",
                children: [r.jsx(Ji, {
                    className: "h-5 w-5"
                }), c > 0 && r.jsx(de, {
                    variant: "destructive",
                    className: "absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",
                    "data-testid": "badge-coordinator-unread-count",
                    children: c > 9 ? "9+" : c
                })]
            })
        }), r.jsxs(Qv, {
            className: "w-full sm:max-w-lg overflow-y-auto",
            children: [r.jsx(Gv, {
                children: r.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [r.jsxs("div", {
                        children: [r.jsx(Xv, {
                            children: "Notifications"
                        }), r.jsx(Yv, {
                            children: c > 0 ? `${c} notification${c > 1 ? "s" : ""} non lue${c > 1 ? "s" : ""}` : "Toutes vos notifications sont lues"
                        })]
                    }), c > 0 && r.jsx(E, {
                        variant: "ghost",
                        size: "sm",
                        onClick: () => o.mutate(),
                        disabled: o.isPending,
                        "data-testid": "button-mark-all-read",
                        className: "gap-2",
                        children: r.jsx(ov, {
                            className: "h-4 w-4"
                        })
                    })]
                })
            }), r.jsx("div", {
                className: "mt-6 space-y-4",
                children: a ? r.jsx("div", {
                    className: "space-y-3",
                    children: [...Array(3)].map( (d, u) => r.jsx(J, {
                        className: "animate-pulse",
                        children: r.jsxs(te, {
                            className: "p-4",
                            children: [r.jsx("div", {
                                className: "h-4 bg-muted rounded w-3/4 mb-2"
                            }), r.jsx("div", {
                                className: "h-3 bg-muted rounded w-1/2"
                            })]
                        })
                    }, u))
                }) : s && s.length > 0 ? r.jsx("div", {
                    className: "space-y-4",
                    children: s.map(d => r.jsxs(J, {
                        className: `${d.unreadCount > 0 ? "border-l-4 border-l-[#5BC0EB]" : ""}`,
                        "data-testid": `notification-group-${d.requestId}`,
                        children: [r.jsx(ye, {
                            className: "pb-3",
                            children: r.jsxs("div", {
                                className: "flex items-center justify-between",
                                children: [r.jsxs(we, {
                                    className: "text-base font-semibold flex items-center gap-2",
                                    children: [r.jsx(zt, {
                                        className: "h-4 w-4 text-[#5BC0EB]"
                                    }), d.referenceId]
                                }), d.unreadCount > 0 && r.jsxs(de, {
                                    variant: "secondary",
                                    className: "bg-[#5BC0EB]/10 text-[#5BC0EB] border-[#5BC0EB]/20",
                                    children: [d.unreadCount, " nouveau", d.unreadCount > 1 ? "x" : ""]
                                })]
                            })
                        }), r.jsx(te, {
                            className: "space-y-2",
                            children: d.notifications.map(u => r.jsx("div", {
                                className: `p-3 rounded-md hover-elevate ${u.read ? "" : "bg-muted/50"}`,
                                "data-testid": `notification-${u.id}`,
                                children: r.jsxs("div", {
                                    className: "flex items-start gap-3",
                                    children: [r.jsx("div", {
                                        className: "flex-shrink-0 text-[#5BC0EB]",
                                        children: l(u.type)
                                    }), r.jsx("div", {
                                        className: "flex-1 min-w-0",
                                        children: r.jsxs("div", {
                                            className: "flex items-start justify-between gap-2",
                                            children: [r.jsxs("div", {
                                                className: "flex-1",
                                                children: [r.jsx("p", {
                                                    className: "font-medium text-sm",
                                                    children: u.title
                                                }), r.jsx("p", {
                                                    className: "text-xs text-muted-foreground mt-1",
                                                    children: u.message
                                                }), r.jsx("p", {
                                                    className: "text-xs text-muted-foreground mt-1",
                                                    children: Dt(new Date(u.createdAt), "dd/MM  HH:mm", {
                                                        locale: Xt
                                                    })
                                                })]
                                            }), !u.read && r.jsx(E, {
                                                variant: "ghost",
                                                size: "icon",
                                                className: "h-7 w-7 flex-shrink-0",
                                                onClick: () => i.mutate(u.id),
                                                "data-testid": `button-mark-read-${u.id}`,
                                                children: r.jsx(Vd, {
                                                    className: "h-3 w-3"
                                                })
                                            })]
                                        })
                                    })]
                                })
                            }, u.id))
                        })]
                    }, d.requestId))
                }) : r.jsx(J, {
                    children: r.jsxs(te, {
                        className: "p-12 text-center",
                        children: [r.jsx(Ji, {
                            className: "h-16 w-16 mx-auto mb-4 text-muted-foreground"
                        }), r.jsx("h3", {
                            className: "text-lg font-semibold mb-2",
                            children: "Aucune notification"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Vous n'avez pas encore de notifications."
                        })]
                    })
                })
            })]
        })]
    })
}
const Cs = m.forwardRef( ({className: e, ...t}, n) => r.jsx("textarea", {
    className: pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm", e),
    ref: n,
    ...t
}));
Cs.displayName = "Textarea";
function YV({userId: e}) {
    const [t,n] = m.useState(!1)
      , [s,a] = m.useState(null)
      , [i,o] = m.useState("")
      , {toast: l} = Ht()
      , {data: c, isLoading: d} = Oe({
        queryKey: [`/api/coordinator/conversations?userId=${e}`],
        enabled: t && !!e,
        refetchInterval: 15e3
    })
      , {data: u, isLoading: f} = Oe({
        queryKey: [`/api/coordinator/conversations/${s == null ? void 0 : s.requestId}/messages`],
        enabled: !!s,
        refetchInterval: 5e3
    })
      , h = Fe({
        mutationFn: async g => Ae("POST", `/api/coordinator/conversations/${s == null ? void 0 : s.requestId}/messages`, g),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/coordinator/conversations/${s == null ? void 0 : s.requestId}/messages`]
            }),
            le.invalidateQueries({
                queryKey: ["/api/coordinator/conversations"]
            }),
            o(""),
            l({
                title: "Message envoy",
                description: "Votre message a t envoy avec succs"
            })
        }
        ,
        onError: () => {
            l({
                title: "Erreur",
                description: "Impossible d'envoyer le message",
                variant: "destructive"
            })
        }
    })
      , x = Fe({
        mutationFn: async g => Ae("PATCH", `/api/coordinator/conversations/${g}/mark-read`),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/coordinator/conversations"]
            })
        }
    })
      , j = g => {
        !i.trim() || !s || h.mutate({
            senderId: e,
            receiverId: g,
            message: i.trim()
        })
    }
      , v = g => {
        a(g),
        g.unreadCount > 0 && x.mutate(g.requestId)
    }
      , w = (c == null ? void 0 : c.reduce( (g, b) => g + b.unreadCount, 0)) || 0
      , y = g => {
        if (!g)
            return "";
        const b = g.replace(/\D/g, "");
        return b.startsWith("212") ? b : `212${b.replace(/^0+/, "")}`
    }
      , p = g => {
        const b = y(g);
        window.location.href = `tel:+${b}`
    }
    ;
    return r.jsxs(r.Fragment, {
        children: [r.jsxs(rE, {
            open: t,
            onOpenChange: n,
            children: [r.jsx(sE, {
                asChild: !0,
                children: r.jsxs(E, {
                    variant: "ghost",
                    size: "icon",
                    className: "relative",
                    "data-testid": "button-coordinator-messages",
                    children: [r.jsx(Ln, {
                        className: "h-5 w-5"
                    }), w > 0 && r.jsx(de, {
                        variant: "destructive",
                        className: "absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",
                        "data-testid": "badge-coordinator-messages-unread",
                        children: w > 9 ? "9+" : w
                    })]
                })
            }), r.jsxs(Qv, {
                className: "w-full sm:max-w-lg overflow-y-auto",
                children: [r.jsxs(Gv, {
                    children: [r.jsx(Xv, {
                        children: "Messagerie"
                    }), r.jsx(Yv, {
                        children: w > 0 ? `${w} conversation${w > 1 ? "s" : ""} non lue${w > 1 ? "s" : ""}` : "Toutes les conversations"
                    })]
                }), r.jsx("div", {
                    className: "mt-6 space-y-3",
                    children: d ? r.jsx("div", {
                        className: "space-y-3",
                        children: [...Array(3)].map( (g, b) => r.jsx(J, {
                            className: "animate-pulse",
                            children: r.jsxs(te, {
                                className: "p-4",
                                children: [r.jsx("div", {
                                    className: "h-4 bg-muted rounded w-3/4 mb-2"
                                }), r.jsx("div", {
                                    className: "h-3 bg-muted rounded w-1/2"
                                })]
                            })
                        }, b))
                    }) : c && c.length > 0 ? r.jsx("div", {
                        className: "space-y-3",
                        children: c.map(g => r.jsxs(J, {
                            className: `cursor-pointer hover-elevate ${g.unreadCount > 0 ? "border-l-4 border-l-[#5BC0EB]" : ""}`,
                            onClick: () => v(g),
                            "data-testid": `conversation-${g.requestId}`,
                            children: [r.jsx(ye, {
                                className: "pb-2",
                                children: r.jsxs("div", {
                                    className: "flex items-center justify-between",
                                    children: [r.jsx(we, {
                                        className: "text-sm font-semibold",
                                        children: g.referenceId
                                    }), g.unreadCount > 0 && r.jsx(de, {
                                        variant: "secondary",
                                        className: "bg-[#5BC0EB]/10 text-[#5BC0EB] border-[#5BC0EB]/20",
                                        children: g.unreadCount
                                    })]
                                })
                            }), r.jsx(te, {
                                children: r.jsxs("div", {
                                    className: "space-y-2",
                                    children: [g.client && r.jsxs("div", {
                                        className: "flex items-center justify-between text-xs",
                                        children: [r.jsx("span", {
                                            className: "text-muted-foreground",
                                            children: "Client:"
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsx("span", {
                                                className: "font-medium",
                                                children: g.client.name
                                            }), r.jsx(E, {
                                                variant: "ghost",
                                                size: "icon",
                                                className: "h-6 w-6",
                                                onClick: b => {
                                                    b.stopPropagation(),
                                                    p(g.client.phoneNumber)
                                                }
                                                ,
                                                "data-testid": `button-call-client-${g.requestId}`,
                                                children: r.jsx(an, {
                                                    className: "h-3 w-3"
                                                })
                                            })]
                                        })]
                                    }), g.transporter && r.jsxs("div", {
                                        className: "flex items-center justify-between text-xs",
                                        children: [r.jsx("span", {
                                            className: "text-muted-foreground",
                                            children: "Transporteur:"
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsx("span", {
                                                className: "font-medium",
                                                children: g.transporter.name
                                            }), r.jsx(E, {
                                                variant: "ghost",
                                                size: "icon",
                                                className: "h-6 w-6",
                                                onClick: b => {
                                                    b.stopPropagation(),
                                                    p(g.transporter.phoneNumber)
                                                }
                                                ,
                                                "data-testid": `button-call-transporter-${g.requestId}`,
                                                children: r.jsx(an, {
                                                    className: "h-3 w-3"
                                                })
                                            })]
                                        })]
                                    }), g.lastMessage && r.jsxs("div", {
                                        className: "mt-2 pt-2 border-t",
                                        children: [r.jsx("p", {
                                            className: "text-xs text-muted-foreground truncate",
                                            children: g.lastMessage.content
                                        }), r.jsx("p", {
                                            className: "text-xs text-muted-foreground mt-1",
                                            children: Dt(new Date(g.lastMessage.createdAt), "dd/MM  HH:mm", {
                                                locale: Xt
                                            })
                                        })]
                                    })]
                                })
                            })]
                        }, g.requestId))
                    }) : r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "p-12 text-center",
                            children: [r.jsx(Ln, {
                                className: "h-16 w-16 mx-auto mb-4 text-muted-foreground"
                            }), r.jsx("h3", {
                                className: "text-lg font-semibold mb-2",
                                children: "Aucune conversation"
                            }), r.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children: "Les conversations apparatront ici."
                            })]
                        })
                    })
                })]
            })]
        }), r.jsx(mt, {
            open: !!s,
            onOpenChange: () => a(null),
            children: r.jsxs(dt, {
                className: "max-w-2xl max-h-[80vh] flex flex-col",
                children: [r.jsx(ft, {
                    children: r.jsx("div", {
                        className: "flex items-center justify-between",
                        children: r.jsxs("div", {
                            children: [r.jsx(ht, {
                                children: s == null ? void 0 : s.referenceId
                            }), r.jsxs(_t, {
                                className: "mt-2 space-y-1",
                                children: [(s == null ? void 0 : s.client) && r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsxs("span", {
                                        children: ["Client: ", s.client.name]
                                    }), r.jsxs(E, {
                                        variant: "outline",
                                        size: "sm",
                                        className: "h-6 gap-1",
                                        onClick: () => p(s.client.phoneNumber),
                                        "data-testid": "button-call-client-dialog",
                                        children: [r.jsx(an, {
                                            className: "h-3 w-3"
                                        }), r.jsx("span", {
                                            className: "text-xs",
                                            children: s.client.phoneNumber
                                        })]
                                    })]
                                }), (s == null ? void 0 : s.transporter) && r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsxs("span", {
                                        children: ["Transporteur: ", s.transporter.name]
                                    }), r.jsxs(E, {
                                        variant: "outline",
                                        size: "sm",
                                        className: "h-6 gap-1",
                                        onClick: () => p(s.transporter.phoneNumber),
                                        "data-testid": "button-call-transporter-dialog",
                                        children: [r.jsx(an, {
                                            className: "h-3 w-3"
                                        }), r.jsx("span", {
                                            className: "text-xs",
                                            children: s.transporter.phoneNumber
                                        })]
                                    })]
                                })]
                            })]
                        })
                    })
                }), r.jsx("div", {
                    className: "flex-1 overflow-y-auto space-y-3 py-4",
                    children: f ? r.jsx("div", {
                        className: "space-y-2",
                        children: [...Array(3)].map( (g, b) => r.jsx("div", {
                            className: "animate-pulse",
                            children: r.jsx("div", {
                                className: "h-16 bg-muted rounded"
                            })
                        }, b))
                    }) : u && u.length > 0 ? u.map(g => r.jsx("div", {
                        className: `flex ${g.senderType === "coordinateur" ? "justify-end" : "justify-start"}`,
                        "data-testid": `message-${g.id}`,
                        children: r.jsxs("div", {
                            className: `max-w-[70%] p-3 rounded-lg ${g.senderType === "coordinateur" ? "bg-[#5BC0EB] text-white" : "bg-muted"}`,
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-2 mb-1",
                                children: [r.jsx("span", {
                                    className: "text-xs font-medium opacity-80",
                                    children: g.senderType === "client" ? "Client" : g.senderType === "transporter" ? "Transporteur" : "Vous"
                                }), g.isRead && g.senderType === "coordinateur" && r.jsx(ov, {
                                    className: "h-3 w-3 opacity-80"
                                })]
                            }), r.jsx("p", {
                                className: "text-sm",
                                children: g.message
                            }), r.jsx("p", {
                                className: `text-xs mt-1 ${g.senderType === "coordinateur" ? "opacity-80" : "text-muted-foreground"}`,
                                children: Dt(new Date(g.createdAt), "HH:mm", {
                                    locale: Xt
                                })
                            })]
                        })
                    }, g.id)) : r.jsx("div", {
                        className: "text-center text-muted-foreground py-8",
                        children: "Aucun message dans cette conversation"
                    })
                }), r.jsxs("div", {
                    className: "border-t pt-4 space-y-3",
                    children: [r.jsxs("div", {
                        className: "flex gap-2",
                        children: [(s == null ? void 0 : s.client) && r.jsx(E, {
                            variant: "outline",
                            size: "sm",
                            className: "flex-1",
                            onClick: () => j(s.client.id),
                            disabled: !i.trim() || h.isPending,
                            "data-testid": "button-send-to-client",
                            children: "Envoyer au client"
                        }), (s == null ? void 0 : s.transporter) && r.jsx(E, {
                            variant: "outline",
                            size: "sm",
                            className: "flex-1",
                            onClick: () => j(s.transporter.id),
                            disabled: !i.trim() || h.isPending,
                            "data-testid": "button-send-to-transporter",
                            children: "Envoyer au transporteur"
                        })]
                    }), r.jsx("div", {
                        className: "flex gap-2",
                        children: r.jsx(Cs, {
                            placeholder: "crivez votre message...",
                            value: i,
                            onChange: g => o(g.target.value),
                            className: "min-h-[80px]",
                            "data-testid": "textarea-coordinator-message"
                        })
                    })]
                })]
            })
        })]
    })
}
function ks({user: e, onNewRequest: t, onAnnounceReturn: n, onLogout: s}) {
    const [a,i] = rr()
      , [o,l] = m.useState(!1)
      , d = e.role === "client" ? [{
        label: "Mes commandes",
        icon: zt,
        href: "/"
    }, {
        label: "Comment a marche",
        icon: iw,
        href: "/how-it-works-client"
    }, {
        label: "Nous contacter",
        icon: Vi,
        onClick: () => l(!0)
    }] : e.role === "transporter" ? [{
        label: "Tableau de bord",
        icon: zt,
        href: "/"
    }, {
        label: "Mon Profil",
        icon: Mm,
        href: "/transporter/profile"
    }, {
        label: "Paiements reus",
        icon: BL,
        href: "/transporter/payments"
    }, {
        label: "Mes avis clients",
        icon: Xs,
        href: "/transporter/ratings"
    }, {
        label: "Mon RIB",
        icon: pa,
        href: "/transporter/rib"
    }, {
        label: "Comment a marche",
        icon: iw,
        href: "/how-it-works-transporter"
    }, {
        label: "Nous contacter",
        icon: Vi,
        onClick: () => l(!0)
    }] : e.role === "admin" ? [{
        label: "Tableau de bord",
        icon: zt,
        href: "/"
    }, {
        label: "Nous contacter",
        icon: Vi,
        onClick: () => l(!0)
    }] : e.role === "coordinateur" ? [{
        label: "Tableau de bord",
        icon: zt,
        href: "/"
    }, {
        label: "Gestions des Utilisateurs",
        icon: Mm,
        href: "/coordinator/users"
    }, {
        label: "Nous contacter",
        icon: Vi,
        onClick: () => l(!0)
    }] : [];
    return r.jsxs("header", {
        className: "sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",
        children: [r.jsxs("div", {
            className: "container flex h-16 items-center justify-between px-4 md:px-6",
            children: [r.jsxs("div", {
                className: "flex items-center gap-6",
                children: [r.jsxs("div", {
                    onClick: () => i("/"),
                    className: "flex items-center gap-2 font-bold text-xl hover:opacity-80 transition-opacity cursor-pointer",
                    children: [r.jsx("div", {
                        className: "w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-primary-foreground",
                        children: "C"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "CamionBack"
                    })]
                }), r.jsx("nav", {
                    className: "hidden md:flex items-center gap-1",
                    children: d.map( (u, f) => {
                        const h = u.icon
                          , x = u.href && a === u.href;
                        return r.jsxs(E, {
                            onClick: () => u.onClick ? u.onClick() : u.href && i(u.href),
                            variant: x ? "secondary" : "ghost",
                            size: "sm",
                            className: "gap-2",
                            "data-testid": `nav-${u.label.toLowerCase().replace(/\s+/g, "-")}`,
                            children: [r.jsx(h, {
                                className: "h-4 w-4"
                            }), u.label]
                        }, u.href || f)
                    }
                    )
                })]
            }), r.jsxs("div", {
                className: "flex items-center gap-2",
                children: [e.role === "client" && t && r.jsxs(E, {
                    onClick: t,
                    size: "default",
                    className: "gap-2",
                    "data-testid": "button-new-request-header",
                    children: [r.jsx(Wo, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Nouvelle demande"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Nouveau"
                    })]
                }), e.role === "transporter" && n && r.jsxs(E, {
                    onClick: n,
                    size: "default",
                    className: "gap-2 bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                    "data-testid": "button-announce-return-header",
                    children: [r.jsx(At, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Annoncer un retour"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Retour"
                    })]
                }), e.role === "coordinateur" ? r.jsxs(r.Fragment, {
                    children: [r.jsx(XV, {
                        userId: e.id
                    }), r.jsx(YV, {
                        userId: e.id
                    })]
                }) : r.jsxs(r.Fragment, {
                    children: [r.jsx(Mz, {
                        userId: e.id
                    }), r.jsx(Oz, {
                        userId: e.id
                    })]
                }), r.jsxs(MP, {
                    children: [r.jsx(OP, {
                        asChild: !0,
                        children: r.jsx(E, {
                            variant: "ghost",
                            size: "icon",
                            "data-testid": "button-user-menu",
                            children: r.jsx($L, {
                                className: "h-5 w-5"
                            })
                        })
                    }), r.jsxs(Vv, {
                        align: "end",
                        className: "w-56",
                        children: [r.jsx(LP, {
                            children: r.jsxs("div", {
                                className: "flex flex-col",
                                children: [r.jsx("span", {
                                    className: "font-medium",
                                    children: e.role === "client" && e.clientId ? e.clientId : e.name || "Utilisateur"
                                }), r.jsx("span", {
                                    className: "text-xs text-muted-foreground capitalize",
                                    children: e.role
                                })]
                            })
                        }), r.jsx(Bx, {}), r.jsxs("div", {
                            className: "md:hidden",
                            children: [d.map( (u, f) => {
                                const h = u.icon
                                  , x = `nav-mobile-${u.label.toLowerCase().replace(/\s+/g, "-")}`;
                                return r.jsxs(md, {
                                    onClick: () => u.onClick ? u.onClick() : u.href && i(u.href),
                                    className: "gap-2 cursor-pointer",
                                    "data-testid": x,
                                    children: [r.jsx(h, {
                                        className: "h-4 w-4"
                                    }), u.label]
                                }, u.href || f)
                            }
                            ), r.jsx(Bx, {})]
                        }), r.jsxs(md, {
                            onClick: s,
                            className: "gap-2 cursor-pointer text-destructive focus:text-destructive hover:bg-destructive/10 transition-all duration-200 font-medium",
                            "data-testid": "button-logout",
                            children: [r.jsx(LL, {
                                className: "h-4 w-4"
                            }), "Se dconnecter"]
                        })]
                    })]
                })]
            })]
        }), r.jsx(Qz, {
            open: o,
            onOpenChange: l
        })]
    })
}
var Xd = e => e.type === "checkbox"
  , Ui = e => e instanceof Date
  , cr = e => e == null;
const hE = e => typeof e == "object";
var yn = e => !cr(e) && !Array.isArray(e) && hE(e) && !Ui(e)
  , pE = e => yn(e) && e.target ? Xd(e.target) ? e.target.checked : e.target.value : e
  , ZV = e => e.substring(0, e.search(/\.\d+(\.|$)/)) || e
  , xE = (e, t) => e.has(ZV(t))
  , JV = e => {
    const t = e.constructor && e.constructor.prototype;
    return yn(t) && t.hasOwnProperty("isPrototypeOf")
}
  , Zv = typeof window < "u" && typeof window.HTMLElement < "u" && typeof document < "u";
function zn(e) {
    let t;
    const n = Array.isArray(e)
      , s = typeof FileList < "u" ? e instanceof FileList : !1;
    if (e instanceof Date)
        t = new Date(e);
    else if (e instanceof Set)
        t = new Set(e);
    else if (!(Zv && (e instanceof Blob || s)) && (n || yn(e)))
        if (t = n ? [] : {},
        !n && !JV(e))
            t = e;
        else
            for (const a in e)
                e.hasOwnProperty(a) && (t[a] = zn(e[a]));
    else
        return e;
    return t
}
var Xf = e => Array.isArray(e) ? e.filter(Boolean) : []
  , xn = e => e === void 0
  , ge = (e, t, n) => {
    if (!t || !yn(e))
        return n;
    const s = Xf(t.split(/[,[\].]+?/)).reduce( (a, i) => cr(a) ? a : a[i], e);
    return xn(s) || s === e ? xn(e[t]) ? n : e[t] : s
}
  , Ar = e => typeof e == "boolean"
  , Jv = e => /^\w*$/.test(e)
  , gE = e => Xf(e.replace(/["|']|\]/g, "").split(/\.|\[/))
  , It = (e, t, n) => {
    let s = -1;
    const a = Jv(t) ? [t] : gE(t)
      , i = a.length
      , o = i - 1;
    for (; ++s < i; ) {
        const l = a[s];
        let c = n;
        if (s !== o) {
            const d = e[l];
            c = yn(d) || Array.isArray(d) ? d : isNaN(+a[s + 1]) ? {} : []
        }
        if (l === "__proto__" || l === "constructor" || l === "prototype")
            return;
        e[l] = c,
        e = e[l]
    }
}
;
const Wm = {
    BLUR: "blur",
    FOCUS_OUT: "focusout",
    CHANGE: "change"
}
  , ys = {
    onBlur: "onBlur",
    onChange: "onChange",
    onSubmit: "onSubmit",
    onTouched: "onTouched",
    all: "all"
}
  , sa = {
    max: "max",
    min: "min",
    maxLength: "maxLength",
    minLength: "minLength",
    pattern: "pattern",
    required: "required",
    validate: "validate"
}
  , vE = rt.createContext(null)
  , Yf = () => rt.useContext(vE)
  , e8 = e => {
    const {children: t, ...n} = e;
    return rt.createElement(vE.Provider, {
        value: n
    }, t)
}
;
var yE = (e, t, n, s=!0) => {
    const a = {
        defaultValues: t._defaultValues
    };
    for (const i in e)
        Object.defineProperty(a, i, {
            get: () => {
                const o = i;
                return t._proxyFormState[o] !== ys.all && (t._proxyFormState[o] = !s || ys.all),
                n && (n[o] = !0),
                e[o]
            }
        });
    return a
}
;
function t8(e) {
    const t = Yf()
      , {control: n=t.control, disabled: s, name: a, exact: i} = e || {}
      , [o,l] = rt.useState(n._formState)
      , c = rt.useRef({
        isDirty: !1,
        isLoading: !1,
        dirtyFields: !1,
        touchedFields: !1,
        validatingFields: !1,
        isValidating: !1,
        isValid: !1,
        errors: !1
    })
      , d = rt.useRef(a);
    return d.current = a,
    rt.useEffect( () => n._subscribe({
        name: d.current,
        formState: c.current,
        exact: i,
        callback: u => {
            !s && l({
                ...n._formState,
                ...u
            })
        }
    }), [n, s, i]),
    rt.useEffect( () => {
        c.current.isValid && n._setValid(!0)
    }
    , [n]),
    rt.useMemo( () => yE(o, n, c.current, !1), [o, n])
}
var qs = e => typeof e == "string"
  , jE = (e, t, n, s, a) => qs(e) ? (s && t.watch.add(e),
ge(n, e, a)) : Array.isArray(e) ? e.map(i => (s && t.watch.add(i),
ge(n, i))) : (s && (t.watchAll = !0),
n);
function n8(e) {
    const t = Yf()
      , {control: n=t.control, name: s, defaultValue: a, disabled: i, exact: o} = e || {}
      , l = rt.useRef(s)
      , c = rt.useRef(a);
    l.current = s,
    rt.useEffect( () => n._subscribe({
        name: l.current,
        formState: {
            values: !0
        },
        exact: o,
        callback: f => !i && u(jE(l.current, n._names, f.values || n._formValues, !1, c.current))
    }), [n, i, o]);
    const [d,u] = rt.useState(n._getWatch(s, a));
    return rt.useEffect( () => n._removeUnmounted()),
    d
}
function r8(e) {
    const t = Yf()
      , {name: n, disabled: s, control: a=t.control, shouldUnregister: i} = e
      , o = xE(a._names.array, n)
      , l = n8({
        control: a,
        name: n,
        defaultValue: ge(a._formValues, n, ge(a._defaultValues, n, e.defaultValue)),
        exact: !0
    })
      , c = t8({
        control: a,
        name: n,
        exact: !0
    })
      , d = rt.useRef(e)
      , u = rt.useRef(a.register(n, {
        ...e.rules,
        value: l,
        ...Ar(e.disabled) ? {
            disabled: e.disabled
        } : {}
    }))
      , f = rt.useMemo( () => Object.defineProperties({}, {
        invalid: {
            enumerable: !0,
            get: () => !!ge(c.errors, n)
        },
        isDirty: {
            enumerable: !0,
            get: () => !!ge(c.dirtyFields, n)
        },
        isTouched: {
            enumerable: !0,
            get: () => !!ge(c.touchedFields, n)
        },
        isValidating: {
            enumerable: !0,
            get: () => !!ge(c.validatingFields, n)
        },
        error: {
            enumerable: !0,
            get: () => ge(c.errors, n)
        }
    }), [c, n])
      , h = rt.useCallback(w => u.current.onChange({
        target: {
            value: pE(w),
            name: n
        },
        type: Wm.CHANGE
    }), [n])
      , x = rt.useCallback( () => u.current.onBlur({
        target: {
            value: ge(a._formValues, n),
            name: n
        },
        type: Wm.BLUR
    }), [n, a._formValues])
      , j = rt.useCallback(w => {
        const y = ge(a._fields, n);
        y && w && (y._f.ref = {
            focus: () => w.focus(),
            select: () => w.select(),
            setCustomValidity: p => w.setCustomValidity(p),
            reportValidity: () => w.reportValidity()
        })
    }
    , [a._fields, n])
      , v = rt.useMemo( () => ({
        name: n,
        value: l,
        ...Ar(s) || c.disabled ? {
            disabled: c.disabled || s
        } : {},
        onChange: h,
        onBlur: x,
        ref: j
    }), [n, s, c.disabled, h, x, j, l]);
    return rt.useEffect( () => {
        const w = a._options.shouldUnregister || i;
        a.register(n, {
            ...d.current.rules,
            ...Ar(d.current.disabled) ? {
                disabled: d.current.disabled
            } : {}
        });
        const y = (p, g) => {
            const b = ge(a._fields, p);
            b && b._f && (b._f.mount = g)
        }
        ;
        if (y(n, !0),
        w) {
            const p = zn(ge(a._options.defaultValues, n));
            It(a._defaultValues, n, p),
            xn(ge(a._formValues, n)) && It(a._formValues, n, p)
        }
        return !o && a.register(n),
        () => {
            (o ? w && !a._state.action : w) ? a.unregister(n) : y(n, !1)
        }
    }
    , [n, a, o, i]),
    rt.useEffect( () => {
        a._setDisabledField({
            disabled: s,
            name: n
        })
    }
    , [s, n, a]),
    rt.useMemo( () => ({
        field: v,
        formState: c,
        fieldState: f
    }), [v, c, f])
}
const s8 = e => e.render(r8(e));
var wE = (e, t, n, s, a) => t ? {
    ...n[e],
    types: {
        ...n[e] && n[e].types ? n[e].types : {},
        [s]: a || !0
    }
} : {}
  , $c = e => Array.isArray(e) ? e : [e]
  , Ow = () => {
    let e = [];
    return {
        get observers() {
            return e
        },
        next: a => {
            for (const i of e)
                i.next && i.next(a)
        }
        ,
        subscribe: a => (e.push(a),
        {
            unsubscribe: () => {
                e = e.filter(i => i !== a)
            }
        }),
        unsubscribe: () => {
            e = []
        }
    }
}
  , Ux = e => cr(e) || !hE(e);
function Fa(e, t) {
    if (Ux(e) || Ux(t))
        return e === t;
    if (Ui(e) && Ui(t))
        return e.getTime() === t.getTime();
    const n = Object.keys(e)
      , s = Object.keys(t);
    if (n.length !== s.length)
        return !1;
    for (const a of n) {
        const i = e[a];
        if (!s.includes(a))
            return !1;
        if (a !== "ref") {
            const o = t[a];
            if (Ui(i) && Ui(o) || yn(i) && yn(o) || Array.isArray(i) && Array.isArray(o) ? !Fa(i, o) : i !== o)
                return !1
        }
    }
    return !0
}
var or = e => yn(e) && !Object.keys(e).length
  , ey = e => e.type === "file"
  , js = e => typeof e == "function"
  , Hm = e => {
    if (!Zv)
        return !1;
    const t = e ? e.ownerDocument : 0;
    return e instanceof (t && t.defaultView ? t.defaultView.HTMLElement : HTMLElement)
}
  , NE = e => e.type === "select-multiple"
  , ty = e => e.type === "radio"
  , a8 = e => ty(e) || Xd(e)
  , hp = e => Hm(e) && e.isConnected;
function i8(e, t) {
    const n = t.slice(0, -1).length;
    let s = 0;
    for (; s < n; )
        e = xn(e) ? s++ : e[t[s++]];
    return e
}
function o8(e) {
    for (const t in e)
        if (e.hasOwnProperty(t) && !xn(e[t]))
            return !1;
    return !0
}
function Tn(e, t) {
    const n = Array.isArray(t) ? t : Jv(t) ? [t] : gE(t)
      , s = n.length === 1 ? e : i8(e, n)
      , a = n.length - 1
      , i = n[a];
    return s && delete s[i],
    a !== 0 && (yn(s) && or(s) || Array.isArray(s) && o8(s)) && Tn(e, n.slice(0, -1)),
    e
}
var bE = e => {
    for (const t in e)
        if (js(e[t]))
            return !0;
    return !1
}
;
function Km(e, t={}) {
    const n = Array.isArray(e);
    if (yn(e) || n)
        for (const s in e)
            Array.isArray(e[s]) || yn(e[s]) && !bE(e[s]) ? (t[s] = Array.isArray(e[s]) ? [] : {},
            Km(e[s], t[s])) : cr(e[s]) || (t[s] = !0);
    return t
}
function SE(e, t, n) {
    const s = Array.isArray(e);
    if (yn(e) || s)
        for (const a in e)
            Array.isArray(e[a]) || yn(e[a]) && !bE(e[a]) ? xn(t) || Ux(n[a]) ? n[a] = Array.isArray(e[a]) ? Km(e[a], []) : {
                ...Km(e[a])
            } : SE(e[a], cr(t) ? {} : t[a], n[a]) : n[a] = !Fa(e[a], t[a]);
    return n
}
var xc = (e, t) => SE(e, t, Km(t));
const Lw = {
    value: !1,
    isValid: !1
}
  , Fw = {
    value: !0,
    isValid: !0
};
var CE = e => {
    if (Array.isArray(e)) {
        if (e.length > 1) {
            const t = e.filter(n => n && n.checked && !n.disabled).map(n => n.value);
            return {
                value: t,
                isValid: !!t.length
            }
        }
        return e[0].checked && !e[0].disabled ? e[0].attributes && !xn(e[0].attributes.value) ? xn(e[0].value) || e[0].value === "" ? Fw : {
            value: e[0].value,
            isValid: !0
        } : Fw : Lw
    }
    return Lw
}
  , kE = (e, {valueAsNumber: t, valueAsDate: n, setValueAs: s}) => xn(e) ? e : t ? e === "" ? NaN : e && +e : n && qs(e) ? new Date(e) : s ? s(e) : e;
const $w = {
    isValid: !1,
    value: null
};
var TE = e => Array.isArray(e) ? e.reduce( (t, n) => n && n.checked && !n.disabled ? {
    isValid: !0,
    value: n.value
} : t, $w) : $w;
function zw(e) {
    const t = e.ref;
    return ey(t) ? t.files : ty(t) ? TE(e.refs).value : NE(t) ? [...t.selectedOptions].map( ({value: n}) => n) : Xd(t) ? CE(e.refs).value : kE(xn(t.value) ? e.ref.value : t.value, e)
}
var l8 = (e, t, n, s) => {
    const a = {};
    for (const i of e) {
        const o = ge(t, i);
        o && It(a, i, o._f)
    }
    return {
        criteriaMode: n,
        names: [...e],
        fields: a,
        shouldUseNativeValidation: s
    }
}
  , Qm = e => e instanceof RegExp
  , gc = e => xn(e) ? e : Qm(e) ? e.source : yn(e) ? Qm(e.value) ? e.value.source : e.value : e
  , Vw = e => ({
    isOnSubmit: !e || e === ys.onSubmit,
    isOnBlur: e === ys.onBlur,
    isOnChange: e === ys.onChange,
    isOnAll: e === ys.all,
    isOnTouch: e === ys.onTouched
});
const Bw = "AsyncFunction";
var c8 = e => !!e && !!e.validate && !!(js(e.validate) && e.validate.constructor.name === Bw || yn(e.validate) && Object.values(e.validate).find(t => t.constructor.name === Bw))
  , d8 = e => e.mount && (e.required || e.min || e.max || e.maxLength || e.minLength || e.pattern || e.validate)
  , Uw = (e, t, n) => !n && (t.watchAll || t.watch.has(e) || [...t.watch].some(s => e.startsWith(s) && /^\.\w+/.test(e.slice(s.length))));
const zc = (e, t, n, s) => {
    for (const a of n || Object.keys(e)) {
        const i = ge(e, a);
        if (i) {
            const {_f: o, ...l} = i;
            if (o) {
                if (o.refs && o.refs[0] && t(o.refs[0], a) && !s)
                    return !0;
                if (o.ref && t(o.ref, o.name) && !s)
                    return !0;
                if (zc(l, t))
                    break
            } else if (yn(l) && zc(l, t))
                break
        }
    }
}
;
function qw(e, t, n) {
    const s = ge(e, n);
    if (s || Jv(n))
        return {
            error: s,
            name: n
        };
    const a = n.split(".");
    for (; a.length; ) {
        const i = a.join(".")
          , o = ge(t, i)
          , l = ge(e, i);
        if (o && !Array.isArray(o) && n !== i)
            return {
                name: n
            };
        if (l && l.type)
            return {
                name: i,
                error: l
            };
        a.pop()
    }
    return {
        name: n
    }
}
var u8 = (e, t, n, s) => {
    n(e);
    const {name: a, ...i} = e;
    return or(i) || Object.keys(i).length >= Object.keys(t).length || Object.keys(i).find(o => t[o] === (!s || ys.all))
}
  , m8 = (e, t, n) => !e || !t || e === t || $c(e).some(s => s && (n ? s === t : s.startsWith(t) || t.startsWith(s)))
  , f8 = (e, t, n, s, a) => a.isOnAll ? !1 : !n && a.isOnTouch ? !(t || e) : (n ? s.isOnBlur : a.isOnBlur) ? !e : (n ? s.isOnChange : a.isOnChange) ? e : !0
  , h8 = (e, t) => !Xf(ge(e, t)).length && Tn(e, t)
  , p8 = (e, t, n) => {
    const s = $c(ge(e, n));
    return It(s, "root", t[n]),
    It(e, n, s),
    e
}
  , am = e => qs(e);
function Ww(e, t, n="validate") {
    if (am(e) || Array.isArray(e) && e.every(am) || Ar(e) && !e)
        return {
            type: n,
            message: am(e) ? e : "",
            ref: t
        }
}
var _o = e => yn(e) && !Qm(e) ? e : {
    value: e,
    message: ""
}
  , Hw = async (e, t, n, s, a, i) => {
    const {ref: o, refs: l, required: c, maxLength: d, minLength: u, min: f, max: h, pattern: x, validate: j, name: v, valueAsNumber: w, mount: y} = e._f
      , p = ge(n, v);
    if (!y || t.has(v))
        return {};
    const g = l ? l[0] : o
      , b = M => {
        a && g.reportValidity && (g.setCustomValidity(Ar(M) ? "" : M || ""),
        g.reportValidity())
    }
      , k = {}
      , S = ty(o)
      , C = Xd(o)
      , T = S || C
      , D = (w || ey(o)) && xn(o.value) && xn(p) || Hm(o) && o.value === "" || p === "" || Array.isArray(p) && !p.length
      , L = wE.bind(null, v, s, k)
      , G = (M, H, U, re=sa.maxLength, ae=sa.minLength) => {
        const X = M ? H : U;
        k[v] = {
            type: M ? re : ae,
            message: X,
            ref: o,
            ...L(M ? re : ae, X)
        }
    }
    ;
    if (i ? !Array.isArray(p) || !p.length : c && (!T && (D || cr(p)) || Ar(p) && !p || C && !CE(l).isValid || S && !TE(l).isValid)) {
        const {value: M, message: H} = am(c) ? {
            value: !!c,
            message: c
        } : _o(c);
        if (M && (k[v] = {
            type: sa.required,
            message: H,
            ref: g,
            ...L(sa.required, H)
        },
        !s))
            return b(H),
            k
    }
    if (!D && (!cr(f) || !cr(h))) {
        let M, H;
        const U = _o(h)
          , re = _o(f);
        if (!cr(p) && !isNaN(p)) {
            const ae = o.valueAsNumber || p && +p;
            cr(U.value) || (M = ae > U.value),
            cr(re.value) || (H = ae < re.value)
        } else {
            const ae = o.valueAsDate || new Date(p)
              , X = oe => new Date(new Date().toDateString() + " " + oe)
              , I = o.type == "time"
              , V = o.type == "week";
            qs(U.value) && p && (M = I ? X(p) > X(U.value) : V ? p > U.value : ae > new Date(U.value)),
            qs(re.value) && p && (H = I ? X(p) < X(re.value) : V ? p < re.value : ae < new Date(re.value))
        }
        if ((M || H) && (G(!!M, U.message, re.message, sa.max, sa.min),
        !s))
            return b(k[v].message),
            k
    }
    if ((d || u) && !D && (qs(p) || i && Array.isArray(p))) {
        const M = _o(d)
          , H = _o(u)
          , U = !cr(M.value) && p.length > +M.value
          , re = !cr(H.value) && p.length < +H.value;
        if ((U || re) && (G(U, M.message, H.message),
        !s))
            return b(k[v].message),
            k
    }
    if (x && !D && qs(p)) {
        const {value: M, message: H} = _o(x);
        if (Qm(M) && !p.match(M) && (k[v] = {
            type: sa.pattern,
            message: H,
            ref: o,
            ...L(sa.pattern, H)
        },
        !s))
            return b(H),
            k
    }
    if (j) {
        if (js(j)) {
            const M = await j(p, n)
              , H = Ww(M, g);
            if (H && (k[v] = {
                ...H,
                ...L(sa.validate, H.message)
            },
            !s))
                return b(H.message),
                k
        } else if (yn(j)) {
            let M = {};
            for (const H in j) {
                if (!or(M) && !s)
                    break;
                const U = Ww(await j[H](p, n), g, H);
                U && (M = {
                    ...U,
                    ...L(H, U.message)
                },
                b(U.message),
                s && (k[v] = M))
            }
            if (!or(M) && (k[v] = {
                ref: g,
                ...M
            },
            !s))
                return k
        }
    }
    return b(!0),
    k
}
;
const x8 = {
    mode: ys.onSubmit,
    reValidateMode: ys.onChange,
    shouldFocusError: !0
};
function g8(e={}) {
    let t = {
        ...x8,
        ...e
    }
      , n = {
        submitCount: 0,
        isDirty: !1,
        isLoading: js(t.defaultValues),
        isValidating: !1,
        isSubmitted: !1,
        isSubmitting: !1,
        isSubmitSuccessful: !1,
        isValid: !1,
        touchedFields: {},
        dirtyFields: {},
        validatingFields: {},
        errors: t.errors || {},
        disabled: t.disabled || !1
    };
    const s = {};
    let a = yn(t.defaultValues) || yn(t.values) ? zn(t.values || t.defaultValues) || {} : {}, i = t.shouldUnregister ? {} : zn(a), o = {
        action: !1,
        mount: !1,
        watch: !1
    }, l = {
        mount: new Set,
        disabled: new Set,
        unMount: new Set,
        array: new Set,
        watch: new Set
    }, c, d = 0;
    const u = {
        isDirty: !1,
        dirtyFields: !1,
        validatingFields: !1,
        touchedFields: !1,
        isValidating: !1,
        isValid: !1,
        errors: !1
    };
    let f = {
        ...u
    };
    const h = {
        array: Ow(),
        state: Ow()
    }
      , x = Vw(t.mode)
      , j = Vw(t.reValidateMode)
      , v = t.criteriaMode === ys.all
      , w = _ => $ => {
        clearTimeout(d),
        d = setTimeout(_, $)
    }
      , y = async _ => {
        if (!t.disabled && (u.isValid || f.isValid || _)) {
            const $ = t.resolver ? or((await D()).errors) : await G(s, !0);
            $ !== n.isValid && h.state.next({
                isValid: $
            })
        }
    }
      , p = (_, $) => {
        !t.disabled && (u.isValidating || u.validatingFields || f.isValidating || f.validatingFields) && ((_ || Array.from(l.mount)).forEach(q => {
            q && ($ ? It(n.validatingFields, q, $) : Tn(n.validatingFields, q))
        }
        ),
        h.state.next({
            validatingFields: n.validatingFields,
            isValidating: !or(n.validatingFields)
        }))
    }
      , g = (_, $=[], q, xe, me=!0, ee=!0) => {
        if (xe && q && !t.disabled) {
            if (o.action = !0,
            ee && Array.isArray(ge(s, _))) {
                const je = q(ge(s, _), xe.argA, xe.argB);
                me && It(s, _, je)
            }
            if (ee && Array.isArray(ge(n.errors, _))) {
                const je = q(ge(n.errors, _), xe.argA, xe.argB);
                me && It(n.errors, _, je),
                h8(n.errors, _)
            }
            if ((u.touchedFields || f.touchedFields) && ee && Array.isArray(ge(n.touchedFields, _))) {
                const je = q(ge(n.touchedFields, _), xe.argA, xe.argB);
                me && It(n.touchedFields, _, je)
            }
            (u.dirtyFields || f.dirtyFields) && (n.dirtyFields = xc(a, i)),
            h.state.next({
                name: _,
                isDirty: H(_, $),
                dirtyFields: n.dirtyFields,
                errors: n.errors,
                isValid: n.isValid
            })
        } else
            It(i, _, $)
    }
      , b = (_, $) => {
        It(n.errors, _, $),
        h.state.next({
            errors: n.errors
        })
    }
      , k = _ => {
        n.errors = _,
        h.state.next({
            errors: n.errors,
            isValid: !1
        })
    }
      , S = (_, $, q, xe) => {
        const me = ge(s, _);
        if (me) {
            const ee = ge(i, _, xn(q) ? ge(a, _) : q);
            xn(ee) || xe && xe.defaultChecked || $ ? It(i, _, $ ? ee : zw(me._f)) : ae(_, ee),
            o.mount && y()
        }
    }
      , C = (_, $, q, xe, me) => {
        let ee = !1
          , je = !1;
        const $e = {
            name: _
        };
        if (!t.disabled) {
            if (!q || xe) {
                (u.isDirty || f.isDirty) && (je = n.isDirty,
                n.isDirty = $e.isDirty = H(),
                ee = je !== $e.isDirty);
                const Rt = Fa(ge(a, _), $);
                je = !!ge(n.dirtyFields, _),
                Rt ? Tn(n.dirtyFields, _) : It(n.dirtyFields, _, !0),
                $e.dirtyFields = n.dirtyFields,
                ee = ee || (u.dirtyFields || f.dirtyFields) && je !== !Rt
            }
            if (q) {
                const Rt = ge(n.touchedFields, _);
                Rt || (It(n.touchedFields, _, q),
                $e.touchedFields = n.touchedFields,
                ee = ee || (u.touchedFields || f.touchedFields) && Rt !== q)
            }
            ee && me && h.state.next($e)
        }
        return ee ? $e : {}
    }
      , T = (_, $, q, xe) => {
        const me = ge(n.errors, _)
          , ee = (u.isValid || f.isValid) && Ar($) && n.isValid !== $;
        if (t.delayError && q ? (c = w( () => b(_, q)),
        c(t.delayError)) : (clearTimeout(d),
        c = null,
        q ? It(n.errors, _, q) : Tn(n.errors, _)),
        (q ? !Fa(me, q) : me) || !or(xe) || ee) {
            const je = {
                ...xe,
                ...ee && Ar($) ? {
                    isValid: $
                } : {},
                errors: n.errors,
                name: _
            };
            n = {
                ...n,
                ...je
            },
            h.state.next(je)
        }
    }
      , D = async _ => {
        p(_, !0);
        const $ = await t.resolver(i, t.context, l8(_ || l.mount, s, t.criteriaMode, t.shouldUseNativeValidation));
        return p(_),
        $
    }
      , L = async _ => {
        const {errors: $} = await D(_);
        if (_)
            for (const q of _) {
                const xe = ge($, q);
                xe ? It(n.errors, q, xe) : Tn(n.errors, q)
            }
        else
            n.errors = $;
        return $
    }
      , G = async (_, $, q={
        valid: !0
    }) => {
        for (const xe in _) {
            const me = _[xe];
            if (me) {
                const {_f: ee, ...je} = me;
                if (ee) {
                    const $e = l.array.has(ee.name)
                      , Rt = me._f && c8(me._f);
                    Rt && u.validatingFields && p([xe], !0);
                    const B = await Hw(me, l.disabled, i, v, t.shouldUseNativeValidation && !$, $e);
                    if (Rt && u.validatingFields && p([xe]),
                    B[ee.name] && (q.valid = !1,
                    $))
                        break;
                    !$ && (ge(B, ee.name) ? $e ? p8(n.errors, B, ee.name) : It(n.errors, ee.name, B[ee.name]) : Tn(n.errors, ee.name))
                }
                !or(je) && await G(je, $, q)
            }
        }
        return q.valid
    }
      , M = () => {
        for (const _ of l.unMount) {
            const $ = ge(s, _);
            $ && ($._f.refs ? $._f.refs.every(q => !hp(q)) : !hp($._f.ref)) && ze(_)
        }
        l.unMount = new Set
    }
      , H = (_, $) => !t.disabled && (_ && $ && It(i, _, $),
    !Fa(ce(), a))
      , U = (_, $, q) => jE(_, l, {
        ...o.mount ? i : xn($) ? a : qs(_) ? {
            [_]: $
        } : $
    }, q, $)
      , re = _ => Xf(ge(o.mount ? i : a, _, t.shouldUnregister ? ge(a, _, []) : []))
      , ae = (_, $, q={}) => {
        const xe = ge(s, _);
        let me = $;
        if (xe) {
            const ee = xe._f;
            ee && (!ee.disabled && It(i, _, kE($, ee)),
            me = Hm(ee.ref) && cr($) ? "" : $,
            NE(ee.ref) ? [...ee.ref.options].forEach(je => je.selected = me.includes(je.value)) : ee.refs ? Xd(ee.ref) ? ee.refs.length > 1 ? ee.refs.forEach(je => (!je.defaultChecked || !je.disabled) && (je.checked = Array.isArray(me) ? !!me.find($e => $e === je.value) : me === je.value)) : ee.refs[0] && (ee.refs[0].checked = !!me) : ee.refs.forEach(je => je.checked = je.value === me) : ey(ee.ref) ? ee.ref.value = "" : (ee.ref.value = me,
            ee.ref.type || h.state.next({
                name: _,
                values: zn(i)
            })))
        }
        (q.shouldDirty || q.shouldTouch) && C(_, me, q.shouldTouch, q.shouldDirty, !0),
        q.shouldValidate && he(_)
    }
      , X = (_, $, q) => {
        for (const xe in $) {
            const me = $[xe]
              , ee = `${_}.${xe}`
              , je = ge(s, ee);
            (l.array.has(_) || yn(me) || je && !je._f) && !Ui(me) ? X(ee, me, q) : ae(ee, me, q)
        }
    }
      , I = (_, $, q={}) => {
        const xe = ge(s, _)
          , me = l.array.has(_)
          , ee = zn($);
        It(i, _, ee),
        me ? (h.array.next({
            name: _,
            values: zn(i)
        }),
        (u.isDirty || u.dirtyFields || f.isDirty || f.dirtyFields) && q.shouldDirty && h.state.next({
            name: _,
            dirtyFields: xc(a, i),
            isDirty: H(_, ee)
        })) : xe && !xe._f && !cr(ee) ? X(_, ee, q) : ae(_, ee, q),
        Uw(_, l) && h.state.next({
            ...n
        }),
        h.state.next({
            name: o.mount ? _ : void 0,
            values: zn(i)
        })
    }
      , V = async _ => {
        o.mount = !0;
        const $ = _.target;
        let q = $.name
          , xe = !0;
        const me = ge(s, q)
          , ee = je => {
            xe = Number.isNaN(je) || Ui(je) && isNaN(je.getTime()) || Fa(je, ge(i, q, je))
        }
        ;
        if (me) {
            let je, $e;
            const Rt = $.type ? zw(me._f) : pE(_)
              , B = _.type === Wm.BLUR || _.type === Wm.FOCUS_OUT
              , Ke = !d8(me._f) && !t.resolver && !ge(n.errors, q) && !me._f.deps || f8(B, ge(n.touchedFields, q), n.isSubmitted, j, x)
              , Yt = Uw(q, l, B);
            It(i, q, Rt),
            B ? (me._f.onBlur && me._f.onBlur(_),
            c && c(0)) : me._f.onChange && me._f.onChange(_);
            const cn = C(q, Rt, B)
              , gr = !or(cn) || Yt;
            if (!B && h.state.next({
                name: q,
                type: _.type,
                values: zn(i)
            }),
            Ke)
                return (u.isValid || f.isValid) && (t.mode === "onBlur" ? B && y() : B || y()),
                gr && h.state.next({
                    name: q,
                    ...Yt ? {} : cn
                });
            if (!B && Yt && h.state.next({
                ...n
            }),
            t.resolver) {
                const {errors: wn} = await D([q]);
                if (ee(Rt),
                xe) {
                    const Tr = qw(n.errors, s, q)
                      , Br = qw(wn, s, Tr.name || q);
                    je = Br.error,
                    q = Br.name,
                    $e = or(wn)
                }
            } else
                p([q], !0),
                je = (await Hw(me, l.disabled, i, v, t.shouldUseNativeValidation))[q],
                p([q]),
                ee(Rt),
                xe && (je ? $e = !1 : (u.isValid || f.isValid) && ($e = await G(s, !0)));
            xe && (me._f.deps && he(me._f.deps),
            T(q, $e, je, cn))
        }
    }
      , oe = (_, $) => {
        if (ge(n.errors, $) && _.focus)
            return _.focus(),
            1
    }
      , he = async (_, $={}) => {
        let q, xe;
        const me = $c(_);
        if (t.resolver) {
            const ee = await L(xn(_) ? _ : me);
            q = or(ee),
            xe = _ ? !me.some(je => ge(ee, je)) : q
        } else
            _ ? (xe = (await Promise.all(me.map(async ee => {
                const je = ge(s, ee);
                return await G(je && je._f ? {
                    [ee]: je
                } : je)
            }
            ))).every(Boolean),
            !(!xe && !n.isValid) && y()) : xe = q = await G(s);
        return h.state.next({
            ...!qs(_) || (u.isValid || f.isValid) && q !== n.isValid ? {} : {
                name: _
            },
            ...t.resolver || !_ ? {
                isValid: q
            } : {},
            errors: n.errors
        }),
        $.shouldFocus && !xe && zc(s, oe, _ ? me : l.mount),
        xe
    }
      , ce = _ => {
        const $ = {
            ...o.mount ? i : a
        };
        return xn(_) ? $ : qs(_) ? ge($, _) : _.map(q => ge($, q))
    }
      , xt = (_, $) => ({
        invalid: !!ge(($ || n).errors, _),
        isDirty: !!ge(($ || n).dirtyFields, _),
        error: ge(($ || n).errors, _),
        isValidating: !!ge(n.validatingFields, _),
        isTouched: !!ge(($ || n).touchedFields, _)
    })
      , gt = _ => {
        _ && $c(_).forEach($ => Tn(n.errors, $)),
        h.state.next({
            errors: _ ? n.errors : {}
        })
    }
      , Nt = (_, $, q) => {
        const xe = (ge(s, _, {
            _f: {}
        })._f || {}).ref
          , me = ge(n.errors, _) || {}
          , {ref: ee, message: je, type: $e, ...Rt} = me;
        It(n.errors, _, {
            ...Rt,
            ...$,
            ref: xe
        }),
        h.state.next({
            name: _,
            errors: n.errors,
            isValid: !1
        }),
        q && q.shouldFocus && xe && xe.focus && xe.focus()
    }
      , ot = (_, $) => js(_) ? h.state.subscribe({
        next: q => _(U(void 0, $), q)
    }) : U(_, $, !0)
      , z = _ => h.state.subscribe({
        next: $ => {
            m8(_.name, $.name, _.exact) && u8($, _.formState || u, jn, _.reRenderRoot) && _.callback({
                values: {
                    ...i
                },
                ...n,
                ...$
            })
        }
    }).unsubscribe
      , W = _ => (o.mount = !0,
    f = {
        ...f,
        ..._.formState
    },
    z({
        ..._,
        formState: f
    }))
      , ze = (_, $={}) => {
        for (const q of _ ? $c(_) : l.mount)
            l.mount.delete(q),
            l.array.delete(q),
            $.keepValue || (Tn(s, q),
            Tn(i, q)),
            !$.keepError && Tn(n.errors, q),
            !$.keepDirty && Tn(n.dirtyFields, q),
            !$.keepTouched && Tn(n.touchedFields, q),
            !$.keepIsValidating && Tn(n.validatingFields, q),
            !t.shouldUnregister && !$.keepDefaultValue && Tn(a, q);
        h.state.next({
            values: zn(i)
        }),
        h.state.next({
            ...n,
            ...$.keepDirty ? {
                isDirty: H()
            } : {}
        }),
        !$.keepIsValid && y()
    }
      , Ze = ({disabled: _, name: $}) => {
        (Ar(_) && o.mount || _ || l.disabled.has($)) && (_ ? l.disabled.add($) : l.disabled.delete($))
    }
      , Je = (_, $={}) => {
        let q = ge(s, _);
        const xe = Ar($.disabled) || Ar(t.disabled);
        return It(s, _, {
            ...q || {},
            _f: {
                ...q && q._f ? q._f : {
                    ref: {
                        name: _
                    }
                },
                name: _,
                mount: !0,
                ...$
            }
        }),
        l.mount.add(_),
        q ? Ze({
            disabled: Ar($.disabled) ? $.disabled : t.disabled,
            name: _
        }) : S(_, !0, $.value),
        {
            ...xe ? {
                disabled: $.disabled || t.disabled
            } : {},
            ...t.progressive ? {
                required: !!$.required,
                min: gc($.min),
                max: gc($.max),
                minLength: gc($.minLength),
                maxLength: gc($.maxLength),
                pattern: gc($.pattern)
            } : {},
            name: _,
            onChange: V,
            onBlur: V,
            ref: me => {
                if (me) {
                    Je(_, $),
                    q = ge(s, _);
                    const ee = xn(me.value) && me.querySelectorAll && me.querySelectorAll("input,select,textarea")[0] || me
                      , je = a8(ee)
                      , $e = q._f.refs || [];
                    if (je ? $e.find(Rt => Rt === ee) : ee === q._f.ref)
                        return;
                    It(s, _, {
                        _f: {
                            ...q._f,
                            ...je ? {
                                refs: [...$e.filter(hp), ee, ...Array.isArray(ge(a, _)) ? [{}] : []],
                                ref: {
                                    type: ee.type,
                                    name: _
                                }
                            } : {
                                ref: ee
                            }
                        }
                    }),
                    S(_, !1, void 0, ee)
                } else
                    q = ge(s, _, {}),
                    q._f && (q._f.mount = !1),
                    (t.shouldUnregister || $.shouldUnregister) && !(xE(l.array, _) && o.action) && l.unMount.add(_)
            }
        }
    }
      , Ve = () => t.shouldFocusError && zc(s, oe, l.mount)
      , Ft = _ => {
        Ar(_) && (h.state.next({
            disabled: _
        }),
        zc(s, ($, q) => {
            const xe = ge(s, q);
            xe && ($.disabled = xe._f.disabled || _,
            Array.isArray(xe._f.refs) && xe._f.refs.forEach(me => {
                me.disabled = xe._f.disabled || _
            }
            ))
        }
        , 0, !1))
    }
      , F = (_, $) => async q => {
        let xe;
        q && (q.preventDefault && q.preventDefault(),
        q.persist && q.persist());
        let me = zn(i);
        if (h.state.next({
            isSubmitting: !0
        }),
        t.resolver) {
            const {errors: ee, values: je} = await D();
            n.errors = ee,
            me = je
        } else
            await G(s);
        if (l.disabled.size)
            for (const ee of l.disabled)
                It(me, ee, void 0);
        if (Tn(n.errors, "root"),
        or(n.errors)) {
            h.state.next({
                errors: {}
            });
            try {
                await _(me, q)
            } catch (ee) {
                xe = ee
            }
        } else
            $ && await $({
                ...n.errors
            }, q),
            Ve(),
            setTimeout(Ve);
        if (h.state.next({
            isSubmitted: !0,
            isSubmitting: !1,
            isSubmitSuccessful: or(n.errors) && !xe,
            submitCount: n.submitCount + 1,
            errors: n.errors
        }),
        xe)
            throw xe
    }
      , nt = (_, $={}) => {
        ge(s, _) && (xn($.defaultValue) ? I(_, zn(ge(a, _))) : (I(_, $.defaultValue),
        It(a, _, zn($.defaultValue))),
        $.keepTouched || Tn(n.touchedFields, _),
        $.keepDirty || (Tn(n.dirtyFields, _),
        n.isDirty = $.defaultValue ? H(_, zn(ge(a, _))) : H()),
        $.keepError || (Tn(n.errors, _),
        u.isValid && y()),
        h.state.next({
            ...n
        }))
    }
      , et = (_, $={}) => {
        const q = _ ? zn(_) : a
          , xe = zn(q)
          , me = or(_)
          , ee = me ? a : xe;
        if ($.keepDefaultValues || (a = q),
        !$.keepValues) {
            if ($.keepDirtyValues) {
                const je = new Set([...l.mount, ...Object.keys(xc(a, i))]);
                for (const $e of Array.from(je))
                    ge(n.dirtyFields, $e) ? It(ee, $e, ge(i, $e)) : I($e, ge(ee, $e))
            } else {
                if (Zv && xn(_))
                    for (const je of l.mount) {
                        const $e = ge(s, je);
                        if ($e && $e._f) {
                            const Rt = Array.isArray($e._f.refs) ? $e._f.refs[0] : $e._f.ref;
                            if (Hm(Rt)) {
                                const B = Rt.closest("form");
                                if (B) {
                                    B.reset();
                                    break
                                }
                            }
                        }
                    }
                for (const je of l.mount)
                    I(je, ge(ee, je))
            }
            i = zn(ee),
            h.array.next({
                values: {
                    ...ee
                }
            }),
            h.state.next({
                values: {
                    ...ee
                }
            })
        }
        l = {
            mount: $.keepDirtyValues ? l.mount : new Set,
            unMount: new Set,
            array: new Set,
            disabled: new Set,
            watch: new Set,
            watchAll: !1,
            focus: ""
        },
        o.mount = !u.isValid || !!$.keepIsValid || !!$.keepDirtyValues,
        o.watch = !!t.shouldUnregister,
        h.state.next({
            submitCount: $.keepSubmitCount ? n.submitCount : 0,
            isDirty: me ? !1 : $.keepDirty ? n.isDirty : !!($.keepDefaultValues && !Fa(_, a)),
            isSubmitted: $.keepIsSubmitted ? n.isSubmitted : !1,
            dirtyFields: me ? {} : $.keepDirtyValues ? $.keepDefaultValues && i ? xc(a, i) : n.dirtyFields : $.keepDefaultValues && _ ? xc(a, _) : $.keepDirty ? n.dirtyFields : {},
            touchedFields: $.keepTouched ? n.touchedFields : {},
            errors: $.keepErrors ? n.errors : {},
            isSubmitSuccessful: $.keepIsSubmitSuccessful ? n.isSubmitSuccessful : !1,
            isSubmitting: !1
        })
    }
      , bt = (_, $) => et(js(_) ? _(i) : _, $)
      , hn = (_, $={}) => {
        const q = ge(s, _)
          , xe = q && q._f;
        if (xe) {
            const me = xe.refs ? xe.refs[0] : xe.ref;
            me.focus && (me.focus(),
            $.shouldSelect && js(me.select) && me.select())
        }
    }
      , jn = _ => {
        n = {
            ...n,
            ..._
        }
    }
      , In = {
        control: {
            register: Je,
            unregister: ze,
            getFieldState: xt,
            handleSubmit: F,
            setError: Nt,
            _subscribe: z,
            _runSchema: D,
            _getWatch: U,
            _getDirty: H,
            _setValid: y,
            _setFieldArray: g,
            _setDisabledField: Ze,
            _setErrors: k,
            _getFieldArray: re,
            _reset: et,
            _resetDefaultValues: () => js(t.defaultValues) && t.defaultValues().then(_ => {
                bt(_, t.resetOptions),
                h.state.next({
                    isLoading: !1
                })
            }
            ),
            _removeUnmounted: M,
            _disableForm: Ft,
            _subjects: h,
            _proxyFormState: u,
            get _fields() {
                return s
            },
            get _formValues() {
                return i
            },
            get _state() {
                return o
            },
            set _state(_) {
                o = _
            },
            get _defaultValues() {
                return a
            },
            get _names() {
                return l
            },
            set _names(_) {
                l = _
            },
            get _formState() {
                return n
            },
            get _options() {
                return t
            },
            set _options(_) {
                t = {
                    ...t,
                    ..._
                }
            }
        },
        subscribe: W,
        trigger: he,
        register: Je,
        handleSubmit: F,
        watch: ot,
        setValue: I,
        getValues: ce,
        reset: bt,
        resetField: nt,
        clearErrors: gt,
        unregister: ze,
        setError: Nt,
        setFocus: hn,
        getFieldState: xt
    };
    return {
        ...In,
        formControl: In
    }
}
function ts(e={}) {
    const t = rt.useRef(void 0)
      , n = rt.useRef(void 0)
      , [s,a] = rt.useState({
        isDirty: !1,
        isValidating: !1,
        isLoading: js(e.defaultValues),
        isSubmitted: !1,
        isSubmitting: !1,
        isSubmitSuccessful: !1,
        isValid: !1,
        submitCount: 0,
        dirtyFields: {},
        touchedFields: {},
        validatingFields: {},
        errors: e.errors || {},
        disabled: e.disabled || !1,
        defaultValues: js(e.defaultValues) ? void 0 : e.defaultValues
    });
    t.current || (t.current = {
        ...e.formControl ? e.formControl : g8(e),
        formState: s
    },
    e.formControl && e.defaultValues && !js(e.defaultValues) && e.formControl.reset(e.defaultValues, e.resetOptions));
    const i = t.current.control;
    return i._options = e,
    rt.useLayoutEffect( () => i._subscribe({
        formState: i._proxyFormState,
        callback: () => a({
            ...i._formState
        }),
        reRenderRoot: !0
    }), [i]),
    rt.useEffect( () => i._disableForm(e.disabled), [i, e.disabled]),
    rt.useEffect( () => {
        if (i._proxyFormState.isDirty) {
            const o = i._getDirty();
            o !== s.isDirty && i._subjects.state.next({
                isDirty: o
            })
        }
    }
    , [i, s.isDirty]),
    rt.useEffect( () => {
        e.values && !Fa(e.values, n.current) ? (i._reset(e.values, i._options.resetOptions),
        n.current = e.values,
        a(o => ({
            ...o
        }))) : i._resetDefaultValues()
    }
    , [e.values, i]),
    rt.useEffect( () => {
        e.errors && !or(e.errors) && i._setErrors(e.errors)
    }
    , [e.errors, i]),
    rt.useEffect( () => {
        i._state.mount || (i._setValid(),
        i._state.mount = !0),
        i._state.watch && (i._state.watch = !1,
        i._subjects.state.next({
            ...i._formState
        })),
        i._removeUnmounted()
    }
    ),
    rt.useEffect( () => {
        e.shouldUnregister && i._subjects.state.next({
            values: i._getWatch()
        })
    }
    , [e.shouldUnregister, i]),
    t.current.formState = yE(s, i),
    t.current
}
const Kw = (e, t, n) => {
    if (e && "reportValidity"in e) {
        const s = ge(n, t);
        e.setCustomValidity(s && s.message || ""),
        e.reportValidity()
    }
}
  , PE = (e, t) => {
    for (const n in t.fields) {
        const s = t.fields[n];
        s && s.ref && "reportValidity"in s.ref ? Kw(s.ref, n, e) : s.refs && s.refs.forEach(a => Kw(a, n, e))
    }
}
  , v8 = (e, t) => {
    t.shouldUseNativeValidation && PE(e, t);
    const n = {};
    for (const s in e) {
        const a = ge(t.fields, s)
          , i = Object.assign(e[s] || {}, {
            ref: a && a.ref
        });
        if (y8(t.names || Object.keys(e), s)) {
            const o = Object.assign({}, ge(n, s));
            It(o, "root", i),
            It(n, s, o)
        } else
            It(n, s, i)
    }
    return n
}
  , y8 = (e, t) => e.some(n => n.startsWith(t + "."));
var j8 = function(e, t) {
    for (var n = {}; e.length; ) {
        var s = e[0]
          , a = s.code
          , i = s.message
          , o = s.path.join(".");
        if (!n[o])
            if ("unionErrors"in s) {
                var l = s.unionErrors[0].errors[0];
                n[o] = {
                    message: l.message,
                    type: l.code
                }
            } else
                n[o] = {
                    message: i,
                    type: a
                };
        if ("unionErrors"in s && s.unionErrors.forEach(function(u) {
            return u.errors.forEach(function(f) {
                return e.push(f)
            })
        }),
        t) {
            var c = n[o].types
              , d = c && c[s.code];
            n[o] = wE(o, t, n, a, d ? [].concat(d, s.message) : s.message)
        }
        e.shift()
    }
    return n
}, ns = function(e, t, n) {
    return n === void 0 && (n = {}),
    function(s, a, i) {
        try {
            return Promise.resolve(function(o, l) {
                try {
                    var c = Promise.resolve(e[n.mode === "sync" ? "parse" : "parseAsync"](s, t)).then(function(d) {
                        return i.shouldUseNativeValidation && PE({}, i),
                        {
                            errors: {},
                            values: n.raw ? s : d
                        }
                    })
                } catch (d) {
                    return l(d)
                }
                return c && c.then ? c.then(void 0, l) : c
            }(0, function(o) {
                if (function(l) {
                    return Array.isArray(l == null ? void 0 : l.errors)
                }(o))
                    return {
                        values: {},
                        errors: v8(j8(o.errors, !i.shouldUseNativeValidation && i.criteriaMode === "all"), i)
                    };
                throw o
            }))
        } catch (o) {
            return Promise.reject(o)
        }
    }
}, St;
(function(e) {
    e.assertEqual = a => a;
    function t(a) {}
    e.assertIs = t;
    function n(a) {
        throw new Error
    }
    e.assertNever = n,
    e.arrayToEnum = a => {
        const i = {};
        for (const o of a)
            i[o] = o;
        return i
    }
    ,
    e.getValidEnumValues = a => {
        const i = e.objectKeys(a).filter(l => typeof a[a[l]] != "number")
          , o = {};
        for (const l of i)
            o[l] = a[l];
        return e.objectValues(o)
    }
    ,
    e.objectValues = a => e.objectKeys(a).map(function(i) {
        return a[i]
    }),
    e.objectKeys = typeof Object.keys == "function" ? a => Object.keys(a) : a => {
        const i = [];
        for (const o in a)
            Object.prototype.hasOwnProperty.call(a, o) && i.push(o);
        return i
    }
    ,
    e.find = (a, i) => {
        for (const o of a)
            if (i(o))
                return o
    }
    ,
    e.isInteger = typeof Number.isInteger == "function" ? a => Number.isInteger(a) : a => typeof a == "number" && isFinite(a) && Math.floor(a) === a;
    function s(a, i=" | ") {
        return a.map(o => typeof o == "string" ? `'${o}'` : o).join(i)
    }
    e.joinValues = s,
    e.jsonStringifyReplacer = (a, i) => typeof i == "bigint" ? i.toString() : i
}
)(St || (St = {}));
var qx;
(function(e) {
    e.mergeShapes = (t, n) => ({
        ...t,
        ...n
    })
}
)(qx || (qx = {}));
const Ce = St.arrayToEnum(["string", "nan", "number", "integer", "float", "boolean", "date", "bigint", "symbol", "function", "undefined", "null", "array", "object", "unknown", "promise", "void", "never", "map", "set"])
  , da = e => {
    switch (typeof e) {
    case "undefined":
        return Ce.undefined;
    case "string":
        return Ce.string;
    case "number":
        return isNaN(e) ? Ce.nan : Ce.number;
    case "boolean":
        return Ce.boolean;
    case "function":
        return Ce.function;
    case "bigint":
        return Ce.bigint;
    case "symbol":
        return Ce.symbol;
    case "object":
        return Array.isArray(e) ? Ce.array : e === null ? Ce.null : e.then && typeof e.then == "function" && e.catch && typeof e.catch == "function" ? Ce.promise : typeof Map < "u" && e instanceof Map ? Ce.map : typeof Set < "u" && e instanceof Set ? Ce.set : typeof Date < "u" && e instanceof Date ? Ce.date : Ce.object;
    default:
        return Ce.unknown
    }
}
  , se = St.arrayToEnum(["invalid_type", "invalid_literal", "custom", "invalid_union", "invalid_union_discriminator", "invalid_enum_value", "unrecognized_keys", "invalid_arguments", "invalid_return_type", "invalid_date", "invalid_string", "too_small", "too_big", "invalid_intersection_types", "not_multiple_of", "not_finite"])
  , w8 = e => JSON.stringify(e, null, 2).replace(/"([^"]+)":/g, "$1:");
class Fr extends Error {
    get errors() {
        return this.issues
    }
    constructor(t) {
        super(),
        this.issues = [],
        this.addIssue = s => {
            this.issues = [...this.issues, s]
        }
        ,
        this.addIssues = (s=[]) => {
            this.issues = [...this.issues, ...s]
        }
        ;
        const n = new.target.prototype;
        Object.setPrototypeOf ? Object.setPrototypeOf(this, n) : this.__proto__ = n,
        this.name = "ZodError",
        this.issues = t
    }
    format(t) {
        const n = t || function(i) {
            return i.message
        }
          , s = {
            _errors: []
        }
          , a = i => {
            for (const o of i.issues)
                if (o.code === "invalid_union")
                    o.unionErrors.map(a);
                else if (o.code === "invalid_return_type")
                    a(o.returnTypeError);
                else if (o.code === "invalid_arguments")
                    a(o.argumentsError);
                else if (o.path.length === 0)
                    s._errors.push(n(o));
                else {
                    let l = s
                      , c = 0;
                    for (; c < o.path.length; ) {
                        const d = o.path[c];
                        c === o.path.length - 1 ? (l[d] = l[d] || {
                            _errors: []
                        },
                        l[d]._errors.push(n(o))) : l[d] = l[d] || {
                            _errors: []
                        },
                        l = l[d],
                        c++
                    }
                }
        }
        ;
        return a(this),
        s
    }
    static assert(t) {
        if (!(t instanceof Fr))
            throw new Error(`Not a ZodError: ${t}`)
    }
    toString() {
        return this.message
    }
    get message() {
        return JSON.stringify(this.issues, St.jsonStringifyReplacer, 2)
    }
    get isEmpty() {
        return this.issues.length === 0
    }
    flatten(t=n => n.message) {
        const n = {}
          , s = [];
        for (const a of this.issues)
            a.path.length > 0 ? (n[a.path[0]] = n[a.path[0]] || [],
            n[a.path[0]].push(t(a))) : s.push(t(a));
        return {
            formErrors: s,
            fieldErrors: n
        }
    }
    get formErrors() {
        return this.flatten()
    }
}
Fr.create = e => new Fr(e);
const Rl = (e, t) => {
    let n;
    switch (e.code) {
    case se.invalid_type:
        e.received === Ce.undefined ? n = "Required" : n = `Expected ${e.expected}, received ${e.received}`;
        break;
    case se.invalid_literal:
        n = `Invalid literal value, expected ${JSON.stringify(e.expected, St.jsonStringifyReplacer)}`;
        break;
    case se.unrecognized_keys:
        n = `Unrecognized key(s) in object: ${St.joinValues(e.keys, ", ")}`;
        break;
    case se.invalid_union:
        n = "Invalid input";
        break;
    case se.invalid_union_discriminator:
        n = `Invalid discriminator value. Expected ${St.joinValues(e.options)}`;
        break;
    case se.invalid_enum_value:
        n = `Invalid enum value. Expected ${St.joinValues(e.options)}, received '${e.received}'`;
        break;
    case se.invalid_arguments:
        n = "Invalid function arguments";
        break;
    case se.invalid_return_type:
        n = "Invalid function return type";
        break;
    case se.invalid_date:
        n = "Invalid date";
        break;
    case se.invalid_string:
        typeof e.validation == "object" ? "includes"in e.validation ? (n = `Invalid input: must include "${e.validation.includes}"`,
        typeof e.validation.position == "number" && (n = `${n} at one or more positions greater than or equal to ${e.validation.position}`)) : "startsWith"in e.validation ? n = `Invalid input: must start with "${e.validation.startsWith}"` : "endsWith"in e.validation ? n = `Invalid input: must end with "${e.validation.endsWith}"` : St.assertNever(e.validation) : e.validation !== "regex" ? n = `Invalid ${e.validation}` : n = "Invalid";
        break;
    case se.too_small:
        e.type === "array" ? n = `Array must contain ${e.exact ? "exactly" : e.inclusive ? "at least" : "more than"} ${e.minimum} element(s)` : e.type === "string" ? n = `String must contain ${e.exact ? "exactly" : e.inclusive ? "at least" : "over"} ${e.minimum} character(s)` : e.type === "number" ? n = `Number must be ${e.exact ? "exactly equal to " : e.inclusive ? "greater than or equal to " : "greater than "}${e.minimum}` : e.type === "date" ? n = `Date must be ${e.exact ? "exactly equal to " : e.inclusive ? "greater than or equal to " : "greater than "}${new Date(Number(e.minimum))}` : n = "Invalid input";
        break;
    case se.too_big:
        e.type === "array" ? n = `Array must contain ${e.exact ? "exactly" : e.inclusive ? "at most" : "less than"} ${e.maximum} element(s)` : e.type === "string" ? n = `String must contain ${e.exact ? "exactly" : e.inclusive ? "at most" : "under"} ${e.maximum} character(s)` : e.type === "number" ? n = `Number must be ${e.exact ? "exactly" : e.inclusive ? "less than or equal to" : "less than"} ${e.maximum}` : e.type === "bigint" ? n = `BigInt must be ${e.exact ? "exactly" : e.inclusive ? "less than or equal to" : "less than"} ${e.maximum}` : e.type === "date" ? n = `Date must be ${e.exact ? "exactly" : e.inclusive ? "smaller than or equal to" : "smaller than"} ${new Date(Number(e.maximum))}` : n = "Invalid input";
        break;
    case se.custom:
        n = "Invalid input";
        break;
    case se.invalid_intersection_types:
        n = "Intersection results could not be merged";
        break;
    case se.not_multiple_of:
        n = `Number must be a multiple of ${e.multipleOf}`;
        break;
    case se.not_finite:
        n = "Number must be finite";
        break;
    default:
        n = t.defaultError,
        St.assertNever(e)
    }
    return {
        message: n
    }
}
;
let EE = Rl;
function N8(e) {
    EE = e
}
function Gm() {
    return EE
}
const Xm = e => {
    const {data: t, path: n, errorMaps: s, issueData: a} = e
      , i = [...n, ...a.path || []]
      , o = {
        ...a,
        path: i
    };
    if (a.message !== void 0)
        return {
            ...a,
            path: i,
            message: a.message
        };
    let l = "";
    const c = s.filter(d => !!d).slice().reverse();
    for (const d of c)
        l = d(o, {
            data: t,
            defaultError: l
        }).message;
    return {
        ...a,
        path: i,
        message: l
    }
}
  , b8 = [];
function ve(e, t) {
    const n = Gm()
      , s = Xm({
        issueData: t,
        data: e.data,
        path: e.path,
        errorMaps: [e.common.contextualErrorMap, e.schemaErrorMap, n, n === Rl ? void 0 : Rl].filter(a => !!a)
    });
    e.common.issues.push(s)
}
class nr {
    constructor() {
        this.value = "valid"
    }
    dirty() {
        this.value === "valid" && (this.value = "dirty")
    }
    abort() {
        this.value !== "aborted" && (this.value = "aborted")
    }
    static mergeArray(t, n) {
        const s = [];
        for (const a of n) {
            if (a.status === "aborted")
                return Qe;
            a.status === "dirty" && t.dirty(),
            s.push(a.value)
        }
        return {
            status: t.value,
            value: s
        }
    }
    static async mergeObjectAsync(t, n) {
        const s = [];
        for (const a of n) {
            const i = await a.key
              , o = await a.value;
            s.push({
                key: i,
                value: o
            })
        }
        return nr.mergeObjectSync(t, s)
    }
    static mergeObjectSync(t, n) {
        const s = {};
        for (const a of n) {
            const {key: i, value: o} = a;
            if (i.status === "aborted" || o.status === "aborted")
                return Qe;
            i.status === "dirty" && t.dirty(),
            o.status === "dirty" && t.dirty(),
            i.value !== "__proto__" && (typeof o.value < "u" || a.alwaysSet) && (s[i.value] = o.value)
        }
        return {
            status: t.value,
            value: s
        }
    }
}
const Qe = Object.freeze({
    status: "aborted"
})
  , Ho = e => ({
    status: "dirty",
    value: e
})
  , fr = e => ({
    status: "valid",
    value: e
})
  , Wx = e => e.status === "aborted"
  , Hx = e => e.status === "dirty"
  , fo = e => e.status === "valid"
  , hd = e => typeof Promise < "u" && e instanceof Promise;
function Ym(e, t, n, s) {
    if (typeof t == "function" ? e !== t || !s : !t.has(e))
        throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return t.get(e)
}
function _E(e, t, n, s, a) {
    if (typeof t == "function" ? e !== t || !a : !t.has(e))
        throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return t.set(e, n),
    n
}
var De;
(function(e) {
    e.errToObj = t => typeof t == "string" ? {
        message: t
    } : t || {},
    e.toString = t => typeof t == "string" ? t : t == null ? void 0 : t.message
}
)(De || (De = {}));
var Sc, Cc;
class Zs {
    constructor(t, n, s, a) {
        this._cachedPath = [],
        this.parent = t,
        this.data = n,
        this._path = s,
        this._key = a
    }
    get path() {
        return this._cachedPath.length || (this._key instanceof Array ? this._cachedPath.push(...this._path, ...this._key) : this._cachedPath.push(...this._path, this._key)),
        this._cachedPath
    }
}
const Qw = (e, t) => {
    if (fo(t))
        return {
            success: !0,
            data: t.value
        };
    if (!e.common.issues.length)
        throw new Error("Validation failed but no issues detected.");
    return {
        success: !1,
        get error() {
            if (this._error)
                return this._error;
            const n = new Fr(e.common.issues);
            return this._error = n,
            this._error
        }
    }
}
;
function st(e) {
    if (!e)
        return {};
    const {errorMap: t, invalid_type_error: n, required_error: s, description: a} = e;
    if (t && (n || s))
        throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
    return t ? {
        errorMap: t,
        description: a
    } : {
        errorMap: (o, l) => {
            var c, d;
            const {message: u} = e;
            return o.code === "invalid_enum_value" ? {
                message: u ?? l.defaultError
            } : typeof l.data > "u" ? {
                message: (c = u ?? s) !== null && c !== void 0 ? c : l.defaultError
            } : o.code !== "invalid_type" ? {
                message: l.defaultError
            } : {
                message: (d = u ?? n) !== null && d !== void 0 ? d : l.defaultError
            }
        }
        ,
        description: a
    }
}
class pt {
    get description() {
        return this._def.description
    }
    _getType(t) {
        return da(t.data)
    }
    _getOrReturnCtx(t, n) {
        return n || {
            common: t.parent.common,
            data: t.data,
            parsedType: da(t.data),
            schemaErrorMap: this._def.errorMap,
            path: t.path,
            parent: t.parent
        }
    }
    _processInputParams(t) {
        return {
            status: new nr,
            ctx: {
                common: t.parent.common,
                data: t.data,
                parsedType: da(t.data),
                schemaErrorMap: this._def.errorMap,
                path: t.path,
                parent: t.parent
            }
        }
    }
    _parseSync(t) {
        const n = this._parse(t);
        if (hd(n))
            throw new Error("Synchronous parse encountered promise.");
        return n
    }
    _parseAsync(t) {
        const n = this._parse(t);
        return Promise.resolve(n)
    }
    parse(t, n) {
        const s = this.safeParse(t, n);
        if (s.success)
            return s.data;
        throw s.error
    }
    safeParse(t, n) {
        var s;
        const a = {
            common: {
                issues: [],
                async: (s = n == null ? void 0 : n.async) !== null && s !== void 0 ? s : !1,
                contextualErrorMap: n == null ? void 0 : n.errorMap
            },
            path: (n == null ? void 0 : n.path) || [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: da(t)
        }
          , i = this._parseSync({
            data: t,
            path: a.path,
            parent: a
        });
        return Qw(a, i)
    }
    "~validate"(t) {
        var n, s;
        const a = {
            common: {
                issues: [],
                async: !!this["~standard"].async
            },
            path: [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: da(t)
        };
        if (!this["~standard"].async)
            try {
                const i = this._parseSync({
                    data: t,
                    path: [],
                    parent: a
                });
                return fo(i) ? {
                    value: i.value
                } : {
                    issues: a.common.issues
                }
            } catch (i) {
                !((s = (n = i == null ? void 0 : i.message) === null || n === void 0 ? void 0 : n.toLowerCase()) === null || s === void 0) && s.includes("encountered") && (this["~standard"].async = !0),
                a.common = {
                    issues: [],
                    async: !0
                }
            }
        return this._parseAsync({
            data: t,
            path: [],
            parent: a
        }).then(i => fo(i) ? {
            value: i.value
        } : {
            issues: a.common.issues
        })
    }
    async parseAsync(t, n) {
        const s = await this.safeParseAsync(t, n);
        if (s.success)
            return s.data;
        throw s.error
    }
    async safeParseAsync(t, n) {
        const s = {
            common: {
                issues: [],
                contextualErrorMap: n == null ? void 0 : n.errorMap,
                async: !0
            },
            path: (n == null ? void 0 : n.path) || [],
            schemaErrorMap: this._def.errorMap,
            parent: null,
            data: t,
            parsedType: da(t)
        }
          , a = this._parse({
            data: t,
            path: s.path,
            parent: s
        })
          , i = await (hd(a) ? a : Promise.resolve(a));
        return Qw(s, i)
    }
    refine(t, n) {
        const s = a => typeof n == "string" || typeof n > "u" ? {
            message: n
        } : typeof n == "function" ? n(a) : n;
        return this._refinement( (a, i) => {
            const o = t(a)
              , l = () => i.addIssue({
                code: se.custom,
                ...s(a)
            });
            return typeof Promise < "u" && o instanceof Promise ? o.then(c => c ? !0 : (l(),
            !1)) : o ? !0 : (l(),
            !1)
        }
        )
    }
    refinement(t, n) {
        return this._refinement( (s, a) => t(s) ? !0 : (a.addIssue(typeof n == "function" ? n(s, a) : n),
        !1))
    }
    _refinement(t) {
        return new As({
            schema: this,
            typeName: We.ZodEffects,
            effect: {
                type: "refinement",
                refinement: t
            }
        })
    }
    superRefine(t) {
        return this._refinement(t)
    }
    constructor(t) {
        this.spa = this.safeParseAsync,
        this._def = t,
        this.parse = this.parse.bind(this),
        this.safeParse = this.safeParse.bind(this),
        this.parseAsync = this.parseAsync.bind(this),
        this.safeParseAsync = this.safeParseAsync.bind(this),
        this.spa = this.spa.bind(this),
        this.refine = this.refine.bind(this),
        this.refinement = this.refinement.bind(this),
        this.superRefine = this.superRefine.bind(this),
        this.optional = this.optional.bind(this),
        this.nullable = this.nullable.bind(this),
        this.nullish = this.nullish.bind(this),
        this.array = this.array.bind(this),
        this.promise = this.promise.bind(this),
        this.or = this.or.bind(this),
        this.and = this.and.bind(this),
        this.transform = this.transform.bind(this),
        this.brand = this.brand.bind(this),
        this.default = this.default.bind(this),
        this.catch = this.catch.bind(this),
        this.describe = this.describe.bind(this),
        this.pipe = this.pipe.bind(this),
        this.readonly = this.readonly.bind(this),
        this.isNullable = this.isNullable.bind(this),
        this.isOptional = this.isOptional.bind(this),
        this["~standard"] = {
            version: 1,
            vendor: "zod",
            validate: n => this["~validate"](n)
        }
    }
    optional() {
        return Qs.create(this, this._def)
    }
    nullable() {
        return bi.create(this, this._def)
    }
    nullish() {
        return this.nullable().optional()
    }
    array() {
        return Ts.create(this)
    }
    promise() {
        return Dl.create(this, this._def)
    }
    or(t) {
        return vd.create([this, t], this._def)
    }
    and(t) {
        return yd.create(this, t, this._def)
    }
    transform(t) {
        return new As({
            ...st(this._def),
            schema: this,
            typeName: We.ZodEffects,
            effect: {
                type: "transform",
                transform: t
            }
        })
    }
    default(t) {
        const n = typeof t == "function" ? t : () => t;
        return new Sd({
            ...st(this._def),
            innerType: this,
            defaultValue: n,
            typeName: We.ZodDefault
        })
    }
    brand() {
        return new ny({
            typeName: We.ZodBranded,
            type: this,
            ...st(this._def)
        })
    }
    catch(t) {
        const n = typeof t == "function" ? t : () => t;
        return new Cd({
            ...st(this._def),
            innerType: this,
            catchValue: n,
            typeName: We.ZodCatch
        })
    }
    describe(t) {
        const n = this.constructor;
        return new n({
            ...this._def,
            description: t
        })
    }
    pipe(t) {
        return Yd.create(this, t)
    }
    readonly() {
        return kd.create(this)
    }
    isOptional() {
        return this.safeParse(void 0).success
    }
    isNullable() {
        return this.safeParse(null).success
    }
}
const S8 = /^c[^\s-]{8,}$/i
  , C8 = /^[0-9a-z]+$/
  , k8 = /^[0-9A-HJKMNP-TV-Z]{26}$/i
  , T8 = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i
  , P8 = /^[a-z0-9_-]{21}$/i
  , E8 = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/
  , _8 = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/
  , A8 = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i
  , R8 = "^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";
let pp;
const I8 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/
  , D8 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/
  , M8 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/
  , O8 = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/
  , L8 = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/
  , F8 = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/
  , AE = "((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))"
  , $8 = new RegExp(`^${AE}$`);
function RE(e) {
    let t = "([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";
    return e.precision ? t = `${t}\\.\\d{${e.precision}}` : e.precision == null && (t = `${t}(\\.\\d+)?`),
    t
}
function z8(e) {
    return new RegExp(`^${RE(e)}$`)
}
function IE(e) {
    let t = `${AE}T${RE(e)}`;
    const n = [];
    return n.push(e.local ? "Z?" : "Z"),
    e.offset && n.push("([+-]\\d{2}:?\\d{2})"),
    t = `${t}(${n.join("|")})`,
    new RegExp(`^${t}$`)
}
function V8(e, t) {
    return !!((t === "v4" || !t) && I8.test(e) || (t === "v6" || !t) && M8.test(e))
}
function B8(e, t) {
    if (!E8.test(e))
        return !1;
    try {
        const [n] = e.split(".")
          , s = n.replace(/-/g, "+").replace(/_/g, "/").padEnd(n.length + (4 - n.length % 4) % 4, "=")
          , a = JSON.parse(atob(s));
        return !(typeof a != "object" || a === null || !a.typ || !a.alg || t && a.alg !== t)
    } catch {
        return !1
    }
}
function U8(e, t) {
    return !!((t === "v4" || !t) && D8.test(e) || (t === "v6" || !t) && O8.test(e))
}
class ws extends pt {
    _parse(t) {
        if (this._def.coerce && (t.data = String(t.data)),
        this._getType(t) !== Ce.string) {
            const i = this._getOrReturnCtx(t);
            return ve(i, {
                code: se.invalid_type,
                expected: Ce.string,
                received: i.parsedType
            }),
            Qe
        }
        const s = new nr;
        let a;
        for (const i of this._def.checks)
            if (i.kind === "min")
                t.data.length < i.value && (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "max")
                t.data.length > i.value && (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !1,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "length") {
                const o = t.data.length > i.value
                  , l = t.data.length < i.value;
                (o || l) && (a = this._getOrReturnCtx(t, a),
                o ? ve(a, {
                    code: se.too_big,
                    maximum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }) : l && ve(a, {
                    code: se.too_small,
                    minimum: i.value,
                    type: "string",
                    inclusive: !0,
                    exact: !0,
                    message: i.message
                }),
                s.dirty())
            } else if (i.kind === "email")
                A8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "email",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "emoji")
                pp || (pp = new RegExp(R8,"u")),
                pp.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "emoji",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "uuid")
                T8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "uuid",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "nanoid")
                P8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "nanoid",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "cuid")
                S8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "cuid",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "cuid2")
                C8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "cuid2",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "ulid")
                k8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "ulid",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty());
            else if (i.kind === "url")
                try {
                    new URL(t.data)
                } catch {
                    a = this._getOrReturnCtx(t, a),
                    ve(a, {
                        validation: "url",
                        code: se.invalid_string,
                        message: i.message
                    }),
                    s.dirty()
                }
            else
                i.kind === "regex" ? (i.regex.lastIndex = 0,
                i.regex.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "regex",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty())) : i.kind === "trim" ? t.data = t.data.trim() : i.kind === "includes" ? t.data.includes(i.value, i.position) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: {
                        includes: i.value,
                        position: i.position
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "toLowerCase" ? t.data = t.data.toLowerCase() : i.kind === "toUpperCase" ? t.data = t.data.toUpperCase() : i.kind === "startsWith" ? t.data.startsWith(i.value) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: {
                        startsWith: i.value
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "endsWith" ? t.data.endsWith(i.value) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: {
                        endsWith: i.value
                    },
                    message: i.message
                }),
                s.dirty()) : i.kind === "datetime" ? IE(i).test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: "datetime",
                    message: i.message
                }),
                s.dirty()) : i.kind === "date" ? $8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: "date",
                    message: i.message
                }),
                s.dirty()) : i.kind === "time" ? z8(i).test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    code: se.invalid_string,
                    validation: "time",
                    message: i.message
                }),
                s.dirty()) : i.kind === "duration" ? _8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "duration",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "ip" ? V8(t.data, i.version) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "ip",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "jwt" ? B8(t.data, i.alg) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "jwt",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "cidr" ? U8(t.data, i.version) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "cidr",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "base64" ? L8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "base64",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : i.kind === "base64url" ? F8.test(t.data) || (a = this._getOrReturnCtx(t, a),
                ve(a, {
                    validation: "base64url",
                    code: se.invalid_string,
                    message: i.message
                }),
                s.dirty()) : St.assertNever(i);
        return {
            status: s.value,
            value: t.data
        }
    }
    _regex(t, n, s) {
        return this.refinement(a => t.test(a), {
            validation: n,
            code: se.invalid_string,
            ...De.errToObj(s)
        })
    }
    _addCheck(t) {
        return new ws({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    email(t) {
        return this._addCheck({
            kind: "email",
            ...De.errToObj(t)
        })
    }
    url(t) {
        return this._addCheck({
            kind: "url",
            ...De.errToObj(t)
        })
    }
    emoji(t) {
        return this._addCheck({
            kind: "emoji",
            ...De.errToObj(t)
        })
    }
    uuid(t) {
        return this._addCheck({
            kind: "uuid",
            ...De.errToObj(t)
        })
    }
    nanoid(t) {
        return this._addCheck({
            kind: "nanoid",
            ...De.errToObj(t)
        })
    }
    cuid(t) {
        return this._addCheck({
            kind: "cuid",
            ...De.errToObj(t)
        })
    }
    cuid2(t) {
        return this._addCheck({
            kind: "cuid2",
            ...De.errToObj(t)
        })
    }
    ulid(t) {
        return this._addCheck({
            kind: "ulid",
            ...De.errToObj(t)
        })
    }
    base64(t) {
        return this._addCheck({
            kind: "base64",
            ...De.errToObj(t)
        })
    }
    base64url(t) {
        return this._addCheck({
            kind: "base64url",
            ...De.errToObj(t)
        })
    }
    jwt(t) {
        return this._addCheck({
            kind: "jwt",
            ...De.errToObj(t)
        })
    }
    ip(t) {
        return this._addCheck({
            kind: "ip",
            ...De.errToObj(t)
        })
    }
    cidr(t) {
        return this._addCheck({
            kind: "cidr",
            ...De.errToObj(t)
        })
    }
    datetime(t) {
        var n, s;
        return typeof t == "string" ? this._addCheck({
            kind: "datetime",
            precision: null,
            offset: !1,
            local: !1,
            message: t
        }) : this._addCheck({
            kind: "datetime",
            precision: typeof (t == null ? void 0 : t.precision) > "u" ? null : t == null ? void 0 : t.precision,
            offset: (n = t == null ? void 0 : t.offset) !== null && n !== void 0 ? n : !1,
            local: (s = t == null ? void 0 : t.local) !== null && s !== void 0 ? s : !1,
            ...De.errToObj(t == null ? void 0 : t.message)
        })
    }
    date(t) {
        return this._addCheck({
            kind: "date",
            message: t
        })
    }
    time(t) {
        return typeof t == "string" ? this._addCheck({
            kind: "time",
            precision: null,
            message: t
        }) : this._addCheck({
            kind: "time",
            precision: typeof (t == null ? void 0 : t.precision) > "u" ? null : t == null ? void 0 : t.precision,
            ...De.errToObj(t == null ? void 0 : t.message)
        })
    }
    duration(t) {
        return this._addCheck({
            kind: "duration",
            ...De.errToObj(t)
        })
    }
    regex(t, n) {
        return this._addCheck({
            kind: "regex",
            regex: t,
            ...De.errToObj(n)
        })
    }
    includes(t, n) {
        return this._addCheck({
            kind: "includes",
            value: t,
            position: n == null ? void 0 : n.position,
            ...De.errToObj(n == null ? void 0 : n.message)
        })
    }
    startsWith(t, n) {
        return this._addCheck({
            kind: "startsWith",
            value: t,
            ...De.errToObj(n)
        })
    }
    endsWith(t, n) {
        return this._addCheck({
            kind: "endsWith",
            value: t,
            ...De.errToObj(n)
        })
    }
    min(t, n) {
        return this._addCheck({
            kind: "min",
            value: t,
            ...De.errToObj(n)
        })
    }
    max(t, n) {
        return this._addCheck({
            kind: "max",
            value: t,
            ...De.errToObj(n)
        })
    }
    length(t, n) {
        return this._addCheck({
            kind: "length",
            value: t,
            ...De.errToObj(n)
        })
    }
    nonempty(t) {
        return this.min(1, De.errToObj(t))
    }
    trim() {
        return new ws({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "trim"
            }]
        })
    }
    toLowerCase() {
        return new ws({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toLowerCase"
            }]
        })
    }
    toUpperCase() {
        return new ws({
            ...this._def,
            checks: [...this._def.checks, {
                kind: "toUpperCase"
            }]
        })
    }
    get isDatetime() {
        return !!this._def.checks.find(t => t.kind === "datetime")
    }
    get isDate() {
        return !!this._def.checks.find(t => t.kind === "date")
    }
    get isTime() {
        return !!this._def.checks.find(t => t.kind === "time")
    }
    get isDuration() {
        return !!this._def.checks.find(t => t.kind === "duration")
    }
    get isEmail() {
        return !!this._def.checks.find(t => t.kind === "email")
    }
    get isURL() {
        return !!this._def.checks.find(t => t.kind === "url")
    }
    get isEmoji() {
        return !!this._def.checks.find(t => t.kind === "emoji")
    }
    get isUUID() {
        return !!this._def.checks.find(t => t.kind === "uuid")
    }
    get isNANOID() {
        return !!this._def.checks.find(t => t.kind === "nanoid")
    }
    get isCUID() {
        return !!this._def.checks.find(t => t.kind === "cuid")
    }
    get isCUID2() {
        return !!this._def.checks.find(t => t.kind === "cuid2")
    }
    get isULID() {
        return !!this._def.checks.find(t => t.kind === "ulid")
    }
    get isIP() {
        return !!this._def.checks.find(t => t.kind === "ip")
    }
    get isCIDR() {
        return !!this._def.checks.find(t => t.kind === "cidr")
    }
    get isBase64() {
        return !!this._def.checks.find(t => t.kind === "base64")
    }
    get isBase64url() {
        return !!this._def.checks.find(t => t.kind === "base64url")
    }
    get minLength() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxLength() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
}
ws.create = e => {
    var t;
    return new ws({
        checks: [],
        typeName: We.ZodString,
        coerce: (t = e == null ? void 0 : e.coerce) !== null && t !== void 0 ? t : !1,
        ...st(e)
    })
}
;
function q8(e, t) {
    const n = (e.toString().split(".")[1] || "").length
      , s = (t.toString().split(".")[1] || "").length
      , a = n > s ? n : s
      , i = parseInt(e.toFixed(a).replace(".", ""))
      , o = parseInt(t.toFixed(a).replace(".", ""));
    return i % o / Math.pow(10, a)
}
class ji extends pt {
    constructor() {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte,
        this.step = this.multipleOf
    }
    _parse(t) {
        if (this._def.coerce && (t.data = Number(t.data)),
        this._getType(t) !== Ce.number) {
            const i = this._getOrReturnCtx(t);
            return ve(i, {
                code: se.invalid_type,
                expected: Ce.number,
                received: i.parsedType
            }),
            Qe
        }
        let s;
        const a = new nr;
        for (const i of this._def.checks)
            i.kind === "int" ? St.isInteger(t.data) || (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.invalid_type,
                expected: "integer",
                received: "float",
                message: i.message
            }),
            a.dirty()) : i.kind === "min" ? (i.inclusive ? t.data < i.value : t.data <= i.value) && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.too_small,
                minimum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }),
            a.dirty()) : i.kind === "max" ? (i.inclusive ? t.data > i.value : t.data >= i.value) && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.too_big,
                maximum: i.value,
                type: "number",
                inclusive: i.inclusive,
                exact: !1,
                message: i.message
            }),
            a.dirty()) : i.kind === "multipleOf" ? q8(t.data, i.value) !== 0 && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }),
            a.dirty()) : i.kind === "finite" ? Number.isFinite(t.data) || (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.not_finite,
                message: i.message
            }),
            a.dirty()) : St.assertNever(i);
        return {
            status: a.value,
            value: t.data
        }
    }
    gte(t, n) {
        return this.setLimit("min", t, !0, De.toString(n))
    }
    gt(t, n) {
        return this.setLimit("min", t, !1, De.toString(n))
    }
    lte(t, n) {
        return this.setLimit("max", t, !0, De.toString(n))
    }
    lt(t, n) {
        return this.setLimit("max", t, !1, De.toString(n))
    }
    setLimit(t, n, s, a) {
        return new ji({
            ...this._def,
            checks: [...this._def.checks, {
                kind: t,
                value: n,
                inclusive: s,
                message: De.toString(a)
            }]
        })
    }
    _addCheck(t) {
        return new ji({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    int(t) {
        return this._addCheck({
            kind: "int",
            message: De.toString(t)
        })
    }
    positive(t) {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !1,
            message: De.toString(t)
        })
    }
    negative(t) {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !1,
            message: De.toString(t)
        })
    }
    nonpositive(t) {
        return this._addCheck({
            kind: "max",
            value: 0,
            inclusive: !0,
            message: De.toString(t)
        })
    }
    nonnegative(t) {
        return this._addCheck({
            kind: "min",
            value: 0,
            inclusive: !0,
            message: De.toString(t)
        })
    }
    multipleOf(t, n) {
        return this._addCheck({
            kind: "multipleOf",
            value: t,
            message: De.toString(n)
        })
    }
    finite(t) {
        return this._addCheck({
            kind: "finite",
            message: De.toString(t)
        })
    }
    safe(t) {
        return this._addCheck({
            kind: "min",
            inclusive: !0,
            value: Number.MIN_SAFE_INTEGER,
            message: De.toString(t)
        })._addCheck({
            kind: "max",
            inclusive: !0,
            value: Number.MAX_SAFE_INTEGER,
            message: De.toString(t)
        })
    }
    get minValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
    get isInt() {
        return !!this._def.checks.find(t => t.kind === "int" || t.kind === "multipleOf" && St.isInteger(t.value))
    }
    get isFinite() {
        let t = null
          , n = null;
        for (const s of this._def.checks) {
            if (s.kind === "finite" || s.kind === "int" || s.kind === "multipleOf")
                return !0;
            s.kind === "min" ? (n === null || s.value > n) && (n = s.value) : s.kind === "max" && (t === null || s.value < t) && (t = s.value)
        }
        return Number.isFinite(n) && Number.isFinite(t)
    }
}
ji.create = e => new ji({
    checks: [],
    typeName: We.ZodNumber,
    coerce: (e == null ? void 0 : e.coerce) || !1,
    ...st(e)
});
class wi extends pt {
    constructor() {
        super(...arguments),
        this.min = this.gte,
        this.max = this.lte
    }
    _parse(t) {
        if (this._def.coerce)
            try {
                t.data = BigInt(t.data)
            } catch {
                return this._getInvalidInput(t)
            }
        if (this._getType(t) !== Ce.bigint)
            return this._getInvalidInput(t);
        let s;
        const a = new nr;
        for (const i of this._def.checks)
            i.kind === "min" ? (i.inclusive ? t.data < i.value : t.data <= i.value) && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.too_small,
                type: "bigint",
                minimum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }),
            a.dirty()) : i.kind === "max" ? (i.inclusive ? t.data > i.value : t.data >= i.value) && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.too_big,
                type: "bigint",
                maximum: i.value,
                inclusive: i.inclusive,
                message: i.message
            }),
            a.dirty()) : i.kind === "multipleOf" ? t.data % i.value !== BigInt(0) && (s = this._getOrReturnCtx(t, s),
            ve(s, {
                code: se.not_multiple_of,
                multipleOf: i.value,
                message: i.message
            }),
            a.dirty()) : St.assertNever(i);
        return {
            status: a.value,
            value: t.data
        }
    }
    _getInvalidInput(t) {
        const n = this._getOrReturnCtx(t);
        return ve(n, {
            code: se.invalid_type,
            expected: Ce.bigint,
            received: n.parsedType
        }),
        Qe
    }
    gte(t, n) {
        return this.setLimit("min", t, !0, De.toString(n))
    }
    gt(t, n) {
        return this.setLimit("min", t, !1, De.toString(n))
    }
    lte(t, n) {
        return this.setLimit("max", t, !0, De.toString(n))
    }
    lt(t, n) {
        return this.setLimit("max", t, !1, De.toString(n))
    }
    setLimit(t, n, s, a) {
        return new wi({
            ...this._def,
            checks: [...this._def.checks, {
                kind: t,
                value: n,
                inclusive: s,
                message: De.toString(a)
            }]
        })
    }
    _addCheck(t) {
        return new wi({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    positive(t) {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !1,
            message: De.toString(t)
        })
    }
    negative(t) {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !1,
            message: De.toString(t)
        })
    }
    nonpositive(t) {
        return this._addCheck({
            kind: "max",
            value: BigInt(0),
            inclusive: !0,
            message: De.toString(t)
        })
    }
    nonnegative(t) {
        return this._addCheck({
            kind: "min",
            value: BigInt(0),
            inclusive: !0,
            message: De.toString(t)
        })
    }
    multipleOf(t, n) {
        return this._addCheck({
            kind: "multipleOf",
            value: t,
            message: De.toString(n)
        })
    }
    get minValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t
    }
    get maxValue() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t
    }
}
wi.create = e => {
    var t;
    return new wi({
        checks: [],
        typeName: We.ZodBigInt,
        coerce: (t = e == null ? void 0 : e.coerce) !== null && t !== void 0 ? t : !1,
        ...st(e)
    })
}
;
class pd extends pt {
    _parse(t) {
        if (this._def.coerce && (t.data = !!t.data),
        this._getType(t) !== Ce.boolean) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.boolean,
                received: s.parsedType
            }),
            Qe
        }
        return fr(t.data)
    }
}
pd.create = e => new pd({
    typeName: We.ZodBoolean,
    coerce: (e == null ? void 0 : e.coerce) || !1,
    ...st(e)
});
class ho extends pt {
    _parse(t) {
        if (this._def.coerce && (t.data = new Date(t.data)),
        this._getType(t) !== Ce.date) {
            const i = this._getOrReturnCtx(t);
            return ve(i, {
                code: se.invalid_type,
                expected: Ce.date,
                received: i.parsedType
            }),
            Qe
        }
        if (isNaN(t.data.getTime())) {
            const i = this._getOrReturnCtx(t);
            return ve(i, {
                code: se.invalid_date
            }),
            Qe
        }
        const s = new nr;
        let a;
        for (const i of this._def.checks)
            i.kind === "min" ? t.data.getTime() < i.value && (a = this._getOrReturnCtx(t, a),
            ve(a, {
                code: se.too_small,
                message: i.message,
                inclusive: !0,
                exact: !1,
                minimum: i.value,
                type: "date"
            }),
            s.dirty()) : i.kind === "max" ? t.data.getTime() > i.value && (a = this._getOrReturnCtx(t, a),
            ve(a, {
                code: se.too_big,
                message: i.message,
                inclusive: !0,
                exact: !1,
                maximum: i.value,
                type: "date"
            }),
            s.dirty()) : St.assertNever(i);
        return {
            status: s.value,
            value: new Date(t.data.getTime())
        }
    }
    _addCheck(t) {
        return new ho({
            ...this._def,
            checks: [...this._def.checks, t]
        })
    }
    min(t, n) {
        return this._addCheck({
            kind: "min",
            value: t.getTime(),
            message: De.toString(n)
        })
    }
    max(t, n) {
        return this._addCheck({
            kind: "max",
            value: t.getTime(),
            message: De.toString(n)
        })
    }
    get minDate() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "min" && (t === null || n.value > t) && (t = n.value);
        return t != null ? new Date(t) : null
    }
    get maxDate() {
        let t = null;
        for (const n of this._def.checks)
            n.kind === "max" && (t === null || n.value < t) && (t = n.value);
        return t != null ? new Date(t) : null
    }
}
ho.create = e => new ho({
    checks: [],
    coerce: (e == null ? void 0 : e.coerce) || !1,
    typeName: We.ZodDate,
    ...st(e)
});
class Zm extends pt {
    _parse(t) {
        if (this._getType(t) !== Ce.symbol) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.symbol,
                received: s.parsedType
            }),
            Qe
        }
        return fr(t.data)
    }
}
Zm.create = e => new Zm({
    typeName: We.ZodSymbol,
    ...st(e)
});
class xd extends pt {
    _parse(t) {
        if (this._getType(t) !== Ce.undefined) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.undefined,
                received: s.parsedType
            }),
            Qe
        }
        return fr(t.data)
    }
}
xd.create = e => new xd({
    typeName: We.ZodUndefined,
    ...st(e)
});
class gd extends pt {
    _parse(t) {
        if (this._getType(t) !== Ce.null) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.null,
                received: s.parsedType
            }),
            Qe
        }
        return fr(t.data)
    }
}
gd.create = e => new gd({
    typeName: We.ZodNull,
    ...st(e)
});
class Il extends pt {
    constructor() {
        super(...arguments),
        this._any = !0
    }
    _parse(t) {
        return fr(t.data)
    }
}
Il.create = e => new Il({
    typeName: We.ZodAny,
    ...st(e)
});
class eo extends pt {
    constructor() {
        super(...arguments),
        this._unknown = !0
    }
    _parse(t) {
        return fr(t.data)
    }
}
eo.create = e => new eo({
    typeName: We.ZodUnknown,
    ...st(e)
});
class ba extends pt {
    _parse(t) {
        const n = this._getOrReturnCtx(t);
        return ve(n, {
            code: se.invalid_type,
            expected: Ce.never,
            received: n.parsedType
        }),
        Qe
    }
}
ba.create = e => new ba({
    typeName: We.ZodNever,
    ...st(e)
});
class Jm extends pt {
    _parse(t) {
        if (this._getType(t) !== Ce.undefined) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.void,
                received: s.parsedType
            }),
            Qe
        }
        return fr(t.data)
    }
}
Jm.create = e => new Jm({
    typeName: We.ZodVoid,
    ...st(e)
});
class Ts extends pt {
    _parse(t) {
        const {ctx: n, status: s} = this._processInputParams(t)
          , a = this._def;
        if (n.parsedType !== Ce.array)
            return ve(n, {
                code: se.invalid_type,
                expected: Ce.array,
                received: n.parsedType
            }),
            Qe;
        if (a.exactLength !== null) {
            const o = n.data.length > a.exactLength.value
              , l = n.data.length < a.exactLength.value;
            (o || l) && (ve(n, {
                code: o ? se.too_big : se.too_small,
                minimum: l ? a.exactLength.value : void 0,
                maximum: o ? a.exactLength.value : void 0,
                type: "array",
                inclusive: !0,
                exact: !0,
                message: a.exactLength.message
            }),
            s.dirty())
        }
        if (a.minLength !== null && n.data.length < a.minLength.value && (ve(n, {
            code: se.too_small,
            minimum: a.minLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.minLength.message
        }),
        s.dirty()),
        a.maxLength !== null && n.data.length > a.maxLength.value && (ve(n, {
            code: se.too_big,
            maximum: a.maxLength.value,
            type: "array",
            inclusive: !0,
            exact: !1,
            message: a.maxLength.message
        }),
        s.dirty()),
        n.common.async)
            return Promise.all([...n.data].map( (o, l) => a.type._parseAsync(new Zs(n,o,n.path,l)))).then(o => nr.mergeArray(s, o));
        const i = [...n.data].map( (o, l) => a.type._parseSync(new Zs(n,o,n.path,l)));
        return nr.mergeArray(s, i)
    }
    get element() {
        return this._def.type
    }
    min(t, n) {
        return new Ts({
            ...this._def,
            minLength: {
                value: t,
                message: De.toString(n)
            }
        })
    }
    max(t, n) {
        return new Ts({
            ...this._def,
            maxLength: {
                value: t,
                message: De.toString(n)
            }
        })
    }
    length(t, n) {
        return new Ts({
            ...this._def,
            exactLength: {
                value: t,
                message: De.toString(n)
            }
        })
    }
    nonempty(t) {
        return this.min(1, t)
    }
}
Ts.create = (e, t) => new Ts({
    type: e,
    minLength: null,
    maxLength: null,
    exactLength: null,
    typeName: We.ZodArray,
    ...st(t)
});
function Ao(e) {
    if (e instanceof rn) {
        const t = {};
        for (const n in e.shape) {
            const s = e.shape[n];
            t[n] = Qs.create(Ao(s))
        }
        return new rn({
            ...e._def,
            shape: () => t
        })
    } else
        return e instanceof Ts ? new Ts({
            ...e._def,
            type: Ao(e.element)
        }) : e instanceof Qs ? Qs.create(Ao(e.unwrap())) : e instanceof bi ? bi.create(Ao(e.unwrap())) : e instanceof Js ? Js.create(e.items.map(t => Ao(t))) : e
}
class rn extends pt {
    constructor() {
        super(...arguments),
        this._cached = null,
        this.nonstrict = this.passthrough,
        this.augment = this.extend
    }
    _getCached() {
        if (this._cached !== null)
            return this._cached;
        const t = this._def.shape()
          , n = St.objectKeys(t);
        return this._cached = {
            shape: t,
            keys: n
        }
    }
    _parse(t) {
        if (this._getType(t) !== Ce.object) {
            const d = this._getOrReturnCtx(t);
            return ve(d, {
                code: se.invalid_type,
                expected: Ce.object,
                received: d.parsedType
            }),
            Qe
        }
        const {status: s, ctx: a} = this._processInputParams(t)
          , {shape: i, keys: o} = this._getCached()
          , l = [];
        if (!(this._def.catchall instanceof ba && this._def.unknownKeys === "strip"))
            for (const d in a.data)
                o.includes(d) || l.push(d);
        const c = [];
        for (const d of o) {
            const u = i[d]
              , f = a.data[d];
            c.push({
                key: {
                    status: "valid",
                    value: d
                },
                value: u._parse(new Zs(a,f,a.path,d)),
                alwaysSet: d in a.data
            })
        }
        if (this._def.catchall instanceof ba) {
            const d = this._def.unknownKeys;
            if (d === "passthrough")
                for (const u of l)
                    c.push({
                        key: {
                            status: "valid",
                            value: u
                        },
                        value: {
                            status: "valid",
                            value: a.data[u]
                        }
                    });
            else if (d === "strict")
                l.length > 0 && (ve(a, {
                    code: se.unrecognized_keys,
                    keys: l
                }),
                s.dirty());
            else if (d !== "strip")
                throw new Error("Internal ZodObject error: invalid unknownKeys value.")
        } else {
            const d = this._def.catchall;
            for (const u of l) {
                const f = a.data[u];
                c.push({
                    key: {
                        status: "valid",
                        value: u
                    },
                    value: d._parse(new Zs(a,f,a.path,u)),
                    alwaysSet: u in a.data
                })
            }
        }
        return a.common.async ? Promise.resolve().then(async () => {
            const d = [];
            for (const u of c) {
                const f = await u.key
                  , h = await u.value;
                d.push({
                    key: f,
                    value: h,
                    alwaysSet: u.alwaysSet
                })
            }
            return d
        }
        ).then(d => nr.mergeObjectSync(s, d)) : nr.mergeObjectSync(s, c)
    }
    get shape() {
        return this._def.shape()
    }
    strict(t) {
        return De.errToObj,
        new rn({
            ...this._def,
            unknownKeys: "strict",
            ...t !== void 0 ? {
                errorMap: (n, s) => {
                    var a, i, o, l;
                    const c = (o = (i = (a = this._def).errorMap) === null || i === void 0 ? void 0 : i.call(a, n, s).message) !== null && o !== void 0 ? o : s.defaultError;
                    return n.code === "unrecognized_keys" ? {
                        message: (l = De.errToObj(t).message) !== null && l !== void 0 ? l : c
                    } : {
                        message: c
                    }
                }
            } : {}
        })
    }
    strip() {
        return new rn({
            ...this._def,
            unknownKeys: "strip"
        })
    }
    passthrough() {
        return new rn({
            ...this._def,
            unknownKeys: "passthrough"
        })
    }
    extend(t) {
        return new rn({
            ...this._def,
            shape: () => ({
                ...this._def.shape(),
                ...t
            })
        })
    }
    merge(t) {
        return new rn({
            unknownKeys: t._def.unknownKeys,
            catchall: t._def.catchall,
            shape: () => ({
                ...this._def.shape(),
                ...t._def.shape()
            }),
            typeName: We.ZodObject
        })
    }
    setKey(t, n) {
        return this.augment({
            [t]: n
        })
    }
    catchall(t) {
        return new rn({
            ...this._def,
            catchall: t
        })
    }
    pick(t) {
        const n = {};
        return St.objectKeys(t).forEach(s => {
            t[s] && this.shape[s] && (n[s] = this.shape[s])
        }
        ),
        new rn({
            ...this._def,
            shape: () => n
        })
    }
    omit(t) {
        const n = {};
        return St.objectKeys(this.shape).forEach(s => {
            t[s] || (n[s] = this.shape[s])
        }
        ),
        new rn({
            ...this._def,
            shape: () => n
        })
    }
    deepPartial() {
        return Ao(this)
    }
    partial(t) {
        const n = {};
        return St.objectKeys(this.shape).forEach(s => {
            const a = this.shape[s];
            t && !t[s] ? n[s] = a : n[s] = a.optional()
        }
        ),
        new rn({
            ...this._def,
            shape: () => n
        })
    }
    required(t) {
        const n = {};
        return St.objectKeys(this.shape).forEach(s => {
            if (t && !t[s])
                n[s] = this.shape[s];
            else {
                let i = this.shape[s];
                for (; i instanceof Qs; )
                    i = i._def.innerType;
                n[s] = i
            }
        }
        ),
        new rn({
            ...this._def,
            shape: () => n
        })
    }
    keyof() {
        return DE(St.objectKeys(this.shape))
    }
}
rn.create = (e, t) => new rn({
    shape: () => e,
    unknownKeys: "strip",
    catchall: ba.create(),
    typeName: We.ZodObject,
    ...st(t)
});
rn.strictCreate = (e, t) => new rn({
    shape: () => e,
    unknownKeys: "strict",
    catchall: ba.create(),
    typeName: We.ZodObject,
    ...st(t)
});
rn.lazycreate = (e, t) => new rn({
    shape: e,
    unknownKeys: "strip",
    catchall: ba.create(),
    typeName: We.ZodObject,
    ...st(t)
});
class vd extends pt {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = this._def.options;
        function a(i) {
            for (const l of i)
                if (l.result.status === "valid")
                    return l.result;
            for (const l of i)
                if (l.result.status === "dirty")
                    return n.common.issues.push(...l.ctx.common.issues),
                    l.result;
            const o = i.map(l => new Fr(l.ctx.common.issues));
            return ve(n, {
                code: se.invalid_union,
                unionErrors: o
            }),
            Qe
        }
        if (n.common.async)
            return Promise.all(s.map(async i => {
                const o = {
                    ...n,
                    common: {
                        ...n.common,
                        issues: []
                    },
                    parent: null
                };
                return {
                    result: await i._parseAsync({
                        data: n.data,
                        path: n.path,
                        parent: o
                    }),
                    ctx: o
                }
            }
            )).then(a);
        {
            let i;
            const o = [];
            for (const c of s) {
                const d = {
                    ...n,
                    common: {
                        ...n.common,
                        issues: []
                    },
                    parent: null
                }
                  , u = c._parseSync({
                    data: n.data,
                    path: n.path,
                    parent: d
                });
                if (u.status === "valid")
                    return u;
                u.status === "dirty" && !i && (i = {
                    result: u,
                    ctx: d
                }),
                d.common.issues.length && o.push(d.common.issues)
            }
            if (i)
                return n.common.issues.push(...i.ctx.common.issues),
                i.result;
            const l = o.map(c => new Fr(c));
            return ve(n, {
                code: se.invalid_union,
                unionErrors: l
            }),
            Qe
        }
    }
    get options() {
        return this._def.options
    }
}
vd.create = (e, t) => new vd({
    options: e,
    typeName: We.ZodUnion,
    ...st(t)
});
const oa = e => e instanceof wd ? oa(e.schema) : e instanceof As ? oa(e.innerType()) : e instanceof Nd ? [e.value] : e instanceof Ni ? e.options : e instanceof bd ? St.objectValues(e.enum) : e instanceof Sd ? oa(e._def.innerType) : e instanceof xd ? [void 0] : e instanceof gd ? [null] : e instanceof Qs ? [void 0, ...oa(e.unwrap())] : e instanceof bi ? [null, ...oa(e.unwrap())] : e instanceof ny || e instanceof kd ? oa(e.unwrap()) : e instanceof Cd ? oa(e._def.innerType) : [];
class Zf extends pt {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== Ce.object)
            return ve(n, {
                code: se.invalid_type,
                expected: Ce.object,
                received: n.parsedType
            }),
            Qe;
        const s = this.discriminator
          , a = n.data[s]
          , i = this.optionsMap.get(a);
        return i ? n.common.async ? i._parseAsync({
            data: n.data,
            path: n.path,
            parent: n
        }) : i._parseSync({
            data: n.data,
            path: n.path,
            parent: n
        }) : (ve(n, {
            code: se.invalid_union_discriminator,
            options: Array.from(this.optionsMap.keys()),
            path: [s]
        }),
        Qe)
    }
    get discriminator() {
        return this._def.discriminator
    }
    get options() {
        return this._def.options
    }
    get optionsMap() {
        return this._def.optionsMap
    }
    static create(t, n, s) {
        const a = new Map;
        for (const i of n) {
            const o = oa(i.shape[t]);
            if (!o.length)
                throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);
            for (const l of o) {
                if (a.has(l))
                    throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);
                a.set(l, i)
            }
        }
        return new Zf({
            typeName: We.ZodDiscriminatedUnion,
            discriminator: t,
            options: n,
            optionsMap: a,
            ...st(s)
        })
    }
}
function Kx(e, t) {
    const n = da(e)
      , s = da(t);
    if (e === t)
        return {
            valid: !0,
            data: e
        };
    if (n === Ce.object && s === Ce.object) {
        const a = St.objectKeys(t)
          , i = St.objectKeys(e).filter(l => a.indexOf(l) !== -1)
          , o = {
            ...e,
            ...t
        };
        for (const l of i) {
            const c = Kx(e[l], t[l]);
            if (!c.valid)
                return {
                    valid: !1
                };
            o[l] = c.data
        }
        return {
            valid: !0,
            data: o
        }
    } else if (n === Ce.array && s === Ce.array) {
        if (e.length !== t.length)
            return {
                valid: !1
            };
        const a = [];
        for (let i = 0; i < e.length; i++) {
            const o = e[i]
              , l = t[i]
              , c = Kx(o, l);
            if (!c.valid)
                return {
                    valid: !1
                };
            a.push(c.data)
        }
        return {
            valid: !0,
            data: a
        }
    } else
        return n === Ce.date && s === Ce.date && +e == +t ? {
            valid: !0,
            data: e
        } : {
            valid: !1
        }
}
class yd extends pt {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t)
          , a = (i, o) => {
            if (Wx(i) || Wx(o))
                return Qe;
            const l = Kx(i.value, o.value);
            return l.valid ? ((Hx(i) || Hx(o)) && n.dirty(),
            {
                status: n.value,
                value: l.data
            }) : (ve(s, {
                code: se.invalid_intersection_types
            }),
            Qe)
        }
        ;
        return s.common.async ? Promise.all([this._def.left._parseAsync({
            data: s.data,
            path: s.path,
            parent: s
        }), this._def.right._parseAsync({
            data: s.data,
            path: s.path,
            parent: s
        })]).then( ([i,o]) => a(i, o)) : a(this._def.left._parseSync({
            data: s.data,
            path: s.path,
            parent: s
        }), this._def.right._parseSync({
            data: s.data,
            path: s.path,
            parent: s
        }))
    }
}
yd.create = (e, t, n) => new yd({
    left: e,
    right: t,
    typeName: We.ZodIntersection,
    ...st(n)
});
class Js extends pt {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== Ce.array)
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.array,
                received: s.parsedType
            }),
            Qe;
        if (s.data.length < this._def.items.length)
            return ve(s, {
                code: se.too_small,
                minimum: this._def.items.length,
                inclusive: !0,
                exact: !1,
                type: "array"
            }),
            Qe;
        !this._def.rest && s.data.length > this._def.items.length && (ve(s, {
            code: se.too_big,
            maximum: this._def.items.length,
            inclusive: !0,
            exact: !1,
            type: "array"
        }),
        n.dirty());
        const i = [...s.data].map( (o, l) => {
            const c = this._def.items[l] || this._def.rest;
            return c ? c._parse(new Zs(s,o,s.path,l)) : null
        }
        ).filter(o => !!o);
        return s.common.async ? Promise.all(i).then(o => nr.mergeArray(n, o)) : nr.mergeArray(n, i)
    }
    get items() {
        return this._def.items
    }
    rest(t) {
        return new Js({
            ...this._def,
            rest: t
        })
    }
}
Js.create = (e, t) => {
    if (!Array.isArray(e))
        throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
    return new Js({
        items: e,
        typeName: We.ZodTuple,
        rest: null,
        ...st(t)
    })
}
;
class jd extends pt {
    get keySchema() {
        return this._def.keyType
    }
    get valueSchema() {
        return this._def.valueType
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== Ce.object)
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.object,
                received: s.parsedType
            }),
            Qe;
        const a = []
          , i = this._def.keyType
          , o = this._def.valueType;
        for (const l in s.data)
            a.push({
                key: i._parse(new Zs(s,l,s.path,l)),
                value: o._parse(new Zs(s,s.data[l],s.path,l)),
                alwaysSet: l in s.data
            });
        return s.common.async ? nr.mergeObjectAsync(n, a) : nr.mergeObjectSync(n, a)
    }
    get element() {
        return this._def.valueType
    }
    static create(t, n, s) {
        return n instanceof pt ? new jd({
            keyType: t,
            valueType: n,
            typeName: We.ZodRecord,
            ...st(s)
        }) : new jd({
            keyType: ws.create(),
            valueType: t,
            typeName: We.ZodRecord,
            ...st(n)
        })
    }
}
class ef extends pt {
    get keySchema() {
        return this._def.keyType
    }
    get valueSchema() {
        return this._def.valueType
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== Ce.map)
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.map,
                received: s.parsedType
            }),
            Qe;
        const a = this._def.keyType
          , i = this._def.valueType
          , o = [...s.data.entries()].map( ([l,c], d) => ({
            key: a._parse(new Zs(s,l,s.path,[d, "key"])),
            value: i._parse(new Zs(s,c,s.path,[d, "value"]))
        }));
        if (s.common.async) {
            const l = new Map;
            return Promise.resolve().then(async () => {
                for (const c of o) {
                    const d = await c.key
                      , u = await c.value;
                    if (d.status === "aborted" || u.status === "aborted")
                        return Qe;
                    (d.status === "dirty" || u.status === "dirty") && n.dirty(),
                    l.set(d.value, u.value)
                }
                return {
                    status: n.value,
                    value: l
                }
            }
            )
        } else {
            const l = new Map;
            for (const c of o) {
                const d = c.key
                  , u = c.value;
                if (d.status === "aborted" || u.status === "aborted")
                    return Qe;
                (d.status === "dirty" || u.status === "dirty") && n.dirty(),
                l.set(d.value, u.value)
            }
            return {
                status: n.value,
                value: l
            }
        }
    }
}
ef.create = (e, t, n) => new ef({
    valueType: t,
    keyType: e,
    typeName: We.ZodMap,
    ...st(n)
});
class po extends pt {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.parsedType !== Ce.set)
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.set,
                received: s.parsedType
            }),
            Qe;
        const a = this._def;
        a.minSize !== null && s.data.size < a.minSize.value && (ve(s, {
            code: se.too_small,
            minimum: a.minSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.minSize.message
        }),
        n.dirty()),
        a.maxSize !== null && s.data.size > a.maxSize.value && (ve(s, {
            code: se.too_big,
            maximum: a.maxSize.value,
            type: "set",
            inclusive: !0,
            exact: !1,
            message: a.maxSize.message
        }),
        n.dirty());
        const i = this._def.valueType;
        function o(c) {
            const d = new Set;
            for (const u of c) {
                if (u.status === "aborted")
                    return Qe;
                u.status === "dirty" && n.dirty(),
                d.add(u.value)
            }
            return {
                status: n.value,
                value: d
            }
        }
        const l = [...s.data.values()].map( (c, d) => i._parse(new Zs(s,c,s.path,d)));
        return s.common.async ? Promise.all(l).then(c => o(c)) : o(l)
    }
    min(t, n) {
        return new po({
            ...this._def,
            minSize: {
                value: t,
                message: De.toString(n)
            }
        })
    }
    max(t, n) {
        return new po({
            ...this._def,
            maxSize: {
                value: t,
                message: De.toString(n)
            }
        })
    }
    size(t, n) {
        return this.min(t, n).max(t, n)
    }
    nonempty(t) {
        return this.min(1, t)
    }
}
po.create = (e, t) => new po({
    valueType: e,
    minSize: null,
    maxSize: null,
    typeName: We.ZodSet,
    ...st(t)
});
class sl extends pt {
    constructor() {
        super(...arguments),
        this.validate = this.implement
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== Ce.function)
            return ve(n, {
                code: se.invalid_type,
                expected: Ce.function,
                received: n.parsedType
            }),
            Qe;
        function s(l, c) {
            return Xm({
                data: l,
                path: n.path,
                errorMaps: [n.common.contextualErrorMap, n.schemaErrorMap, Gm(), Rl].filter(d => !!d),
                issueData: {
                    code: se.invalid_arguments,
                    argumentsError: c
                }
            })
        }
        function a(l, c) {
            return Xm({
                data: l,
                path: n.path,
                errorMaps: [n.common.contextualErrorMap, n.schemaErrorMap, Gm(), Rl].filter(d => !!d),
                issueData: {
                    code: se.invalid_return_type,
                    returnTypeError: c
                }
            })
        }
        const i = {
            errorMap: n.common.contextualErrorMap
        }
          , o = n.data;
        if (this._def.returns instanceof Dl) {
            const l = this;
            return fr(async function(...c) {
                const d = new Fr([])
                  , u = await l._def.args.parseAsync(c, i).catch(x => {
                    throw d.addIssue(s(c, x)),
                    d
                }
                )
                  , f = await Reflect.apply(o, this, u);
                return await l._def.returns._def.type.parseAsync(f, i).catch(x => {
                    throw d.addIssue(a(f, x)),
                    d
                }
                )
            })
        } else {
            const l = this;
            return fr(function(...c) {
                const d = l._def.args.safeParse(c, i);
                if (!d.success)
                    throw new Fr([s(c, d.error)]);
                const u = Reflect.apply(o, this, d.data)
                  , f = l._def.returns.safeParse(u, i);
                if (!f.success)
                    throw new Fr([a(u, f.error)]);
                return f.data
            })
        }
    }
    parameters() {
        return this._def.args
    }
    returnType() {
        return this._def.returns
    }
    args(...t) {
        return new sl({
            ...this._def,
            args: Js.create(t).rest(eo.create())
        })
    }
    returns(t) {
        return new sl({
            ...this._def,
            returns: t
        })
    }
    implement(t) {
        return this.parse(t)
    }
    strictImplement(t) {
        return this.parse(t)
    }
    static create(t, n, s) {
        return new sl({
            args: t || Js.create([]).rest(eo.create()),
            returns: n || eo.create(),
            typeName: We.ZodFunction,
            ...st(s)
        })
    }
}
class wd extends pt {
    get schema() {
        return this._def.getter()
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        return this._def.getter()._parse({
            data: n.data,
            path: n.path,
            parent: n
        })
    }
}
wd.create = (e, t) => new wd({
    getter: e,
    typeName: We.ZodLazy,
    ...st(t)
});
class Nd extends pt {
    _parse(t) {
        if (t.data !== this._def.value) {
            const n = this._getOrReturnCtx(t);
            return ve(n, {
                received: n.data,
                code: se.invalid_literal,
                expected: this._def.value
            }),
            Qe
        }
        return {
            status: "valid",
            value: t.data
        }
    }
    get value() {
        return this._def.value
    }
}
Nd.create = (e, t) => new Nd({
    value: e,
    typeName: We.ZodLiteral,
    ...st(t)
});
function DE(e, t) {
    return new Ni({
        values: e,
        typeName: We.ZodEnum,
        ...st(t)
    })
}
class Ni extends pt {
    constructor() {
        super(...arguments),
        Sc.set(this, void 0)
    }
    _parse(t) {
        if (typeof t.data != "string") {
            const n = this._getOrReturnCtx(t)
              , s = this._def.values;
            return ve(n, {
                expected: St.joinValues(s),
                received: n.parsedType,
                code: se.invalid_type
            }),
            Qe
        }
        if (Ym(this, Sc) || _E(this, Sc, new Set(this._def.values)),
        !Ym(this, Sc).has(t.data)) {
            const n = this._getOrReturnCtx(t)
              , s = this._def.values;
            return ve(n, {
                received: n.data,
                code: se.invalid_enum_value,
                options: s
            }),
            Qe
        }
        return fr(t.data)
    }
    get options() {
        return this._def.values
    }
    get enum() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    get Values() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    get Enum() {
        const t = {};
        for (const n of this._def.values)
            t[n] = n;
        return t
    }
    extract(t, n=this._def) {
        return Ni.create(t, {
            ...this._def,
            ...n
        })
    }
    exclude(t, n=this._def) {
        return Ni.create(this.options.filter(s => !t.includes(s)), {
            ...this._def,
            ...n
        })
    }
}
Sc = new WeakMap;
Ni.create = DE;
class bd extends pt {
    constructor() {
        super(...arguments),
        Cc.set(this, void 0)
    }
    _parse(t) {
        const n = St.getValidEnumValues(this._def.values)
          , s = this._getOrReturnCtx(t);
        if (s.parsedType !== Ce.string && s.parsedType !== Ce.number) {
            const a = St.objectValues(n);
            return ve(s, {
                expected: St.joinValues(a),
                received: s.parsedType,
                code: se.invalid_type
            }),
            Qe
        }
        if (Ym(this, Cc) || _E(this, Cc, new Set(St.getValidEnumValues(this._def.values))),
        !Ym(this, Cc).has(t.data)) {
            const a = St.objectValues(n);
            return ve(s, {
                received: s.data,
                code: se.invalid_enum_value,
                options: a
            }),
            Qe
        }
        return fr(t.data)
    }
    get enum() {
        return this._def.values
    }
}
Cc = new WeakMap;
bd.create = (e, t) => new bd({
    values: e,
    typeName: We.ZodNativeEnum,
    ...st(t)
});
class Dl extends pt {
    unwrap() {
        return this._def.type
    }
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        if (n.parsedType !== Ce.promise && n.common.async === !1)
            return ve(n, {
                code: se.invalid_type,
                expected: Ce.promise,
                received: n.parsedType
            }),
            Qe;
        const s = n.parsedType === Ce.promise ? n.data : Promise.resolve(n.data);
        return fr(s.then(a => this._def.type.parseAsync(a, {
            path: n.path,
            errorMap: n.common.contextualErrorMap
        })))
    }
}
Dl.create = (e, t) => new Dl({
    type: e,
    typeName: We.ZodPromise,
    ...st(t)
});
class As extends pt {
    innerType() {
        return this._def.schema
    }
    sourceType() {
        return this._def.schema._def.typeName === We.ZodEffects ? this._def.schema.sourceType() : this._def.schema
    }
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t)
          , a = this._def.effect || null
          , i = {
            addIssue: o => {
                ve(s, o),
                o.fatal ? n.abort() : n.dirty()
            }
            ,
            get path() {
                return s.path
            }
        };
        if (i.addIssue = i.addIssue.bind(i),
        a.type === "preprocess") {
            const o = a.transform(s.data, i);
            if (s.common.async)
                return Promise.resolve(o).then(async l => {
                    if (n.value === "aborted")
                        return Qe;
                    const c = await this._def.schema._parseAsync({
                        data: l,
                        path: s.path,
                        parent: s
                    });
                    return c.status === "aborted" ? Qe : c.status === "dirty" || n.value === "dirty" ? Ho(c.value) : c
                }
                );
            {
                if (n.value === "aborted")
                    return Qe;
                const l = this._def.schema._parseSync({
                    data: o,
                    path: s.path,
                    parent: s
                });
                return l.status === "aborted" ? Qe : l.status === "dirty" || n.value === "dirty" ? Ho(l.value) : l
            }
        }
        if (a.type === "refinement") {
            const o = l => {
                const c = a.refinement(l, i);
                if (s.common.async)
                    return Promise.resolve(c);
                if (c instanceof Promise)
                    throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
                return l
            }
            ;
            if (s.common.async === !1) {
                const l = this._def.schema._parseSync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                return l.status === "aborted" ? Qe : (l.status === "dirty" && n.dirty(),
                o(l.value),
                {
                    status: n.value,
                    value: l.value
                })
            } else
                return this._def.schema._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                }).then(l => l.status === "aborted" ? Qe : (l.status === "dirty" && n.dirty(),
                o(l.value).then( () => ({
                    status: n.value,
                    value: l.value
                }))))
        }
        if (a.type === "transform")
            if (s.common.async === !1) {
                const o = this._def.schema._parseSync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                if (!fo(o))
                    return o;
                const l = a.transform(o.value, i);
                if (l instanceof Promise)
                    throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");
                return {
                    status: n.value,
                    value: l
                }
            } else
                return this._def.schema._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                }).then(o => fo(o) ? Promise.resolve(a.transform(o.value, i)).then(l => ({
                    status: n.value,
                    value: l
                })) : o);
        St.assertNever(a)
    }
}
As.create = (e, t, n) => new As({
    schema: e,
    typeName: We.ZodEffects,
    effect: t,
    ...st(n)
});
As.createWithPreprocess = (e, t, n) => new As({
    schema: t,
    effect: {
        type: "preprocess",
        transform: e
    },
    typeName: We.ZodEffects,
    ...st(n)
});
class Qs extends pt {
    _parse(t) {
        return this._getType(t) === Ce.undefined ? fr(void 0) : this._def.innerType._parse(t)
    }
    unwrap() {
        return this._def.innerType
    }
}
Qs.create = (e, t) => new Qs({
    innerType: e,
    typeName: We.ZodOptional,
    ...st(t)
});
class bi extends pt {
    _parse(t) {
        return this._getType(t) === Ce.null ? fr(null) : this._def.innerType._parse(t)
    }
    unwrap() {
        return this._def.innerType
    }
}
bi.create = (e, t) => new bi({
    innerType: e,
    typeName: We.ZodNullable,
    ...st(t)
});
class Sd extends pt {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t);
        let s = n.data;
        return n.parsedType === Ce.undefined && (s = this._def.defaultValue()),
        this._def.innerType._parse({
            data: s,
            path: n.path,
            parent: n
        })
    }
    removeDefault() {
        return this._def.innerType
    }
}
Sd.create = (e, t) => new Sd({
    innerType: e,
    typeName: We.ZodDefault,
    defaultValue: typeof t.default == "function" ? t.default : () => t.default,
    ...st(t)
});
class Cd extends pt {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = {
            ...n,
            common: {
                ...n.common,
                issues: []
            }
        }
          , a = this._def.innerType._parse({
            data: s.data,
            path: s.path,
            parent: {
                ...s
            }
        });
        return hd(a) ? a.then(i => ({
            status: "valid",
            value: i.status === "valid" ? i.value : this._def.catchValue({
                get error() {
                    return new Fr(s.common.issues)
                },
                input: s.data
            })
        })) : {
            status: "valid",
            value: a.status === "valid" ? a.value : this._def.catchValue({
                get error() {
                    return new Fr(s.common.issues)
                },
                input: s.data
            })
        }
    }
    removeCatch() {
        return this._def.innerType
    }
}
Cd.create = (e, t) => new Cd({
    innerType: e,
    typeName: We.ZodCatch,
    catchValue: typeof t.catch == "function" ? t.catch : () => t.catch,
    ...st(t)
});
class tf extends pt {
    _parse(t) {
        if (this._getType(t) !== Ce.nan) {
            const s = this._getOrReturnCtx(t);
            return ve(s, {
                code: se.invalid_type,
                expected: Ce.nan,
                received: s.parsedType
            }),
            Qe
        }
        return {
            status: "valid",
            value: t.data
        }
    }
}
tf.create = e => new tf({
    typeName: We.ZodNaN,
    ...st(e)
});
const W8 = Symbol("zod_brand");
class ny extends pt {
    _parse(t) {
        const {ctx: n} = this._processInputParams(t)
          , s = n.data;
        return this._def.type._parse({
            data: s,
            path: n.path,
            parent: n
        })
    }
    unwrap() {
        return this._def.type
    }
}
class Yd extends pt {
    _parse(t) {
        const {status: n, ctx: s} = this._processInputParams(t);
        if (s.common.async)
            return (async () => {
                const i = await this._def.in._parseAsync({
                    data: s.data,
                    path: s.path,
                    parent: s
                });
                return i.status === "aborted" ? Qe : i.status === "dirty" ? (n.dirty(),
                Ho(i.value)) : this._def.out._parseAsync({
                    data: i.value,
                    path: s.path,
                    parent: s
                })
            }
            )();
        {
            const a = this._def.in._parseSync({
                data: s.data,
                path: s.path,
                parent: s
            });
            return a.status === "aborted" ? Qe : a.status === "dirty" ? (n.dirty(),
            {
                status: "dirty",
                value: a.value
            }) : this._def.out._parseSync({
                data: a.value,
                path: s.path,
                parent: s
            })
        }
    }
    static create(t, n) {
        return new Yd({
            in: t,
            out: n,
            typeName: We.ZodPipeline
        })
    }
}
class kd extends pt {
    _parse(t) {
        const n = this._def.innerType._parse(t)
          , s = a => (fo(a) && (a.value = Object.freeze(a.value)),
        a);
        return hd(n) ? n.then(a => s(a)) : s(n)
    }
    unwrap() {
        return this._def.innerType
    }
}
kd.create = (e, t) => new kd({
    innerType: e,
    typeName: We.ZodReadonly,
    ...st(t)
});
function Gw(e, t) {
    const n = typeof e == "function" ? e(t) : typeof e == "string" ? {
        message: e
    } : e;
    return typeof n == "string" ? {
        message: n
    } : n
}
function ME(e, t={}, n) {
    return e ? Il.create().superRefine( (s, a) => {
        var i, o;
        const l = e(s);
        if (l instanceof Promise)
            return l.then(c => {
                var d, u;
                if (!c) {
                    const f = Gw(t, s)
                      , h = (u = (d = f.fatal) !== null && d !== void 0 ? d : n) !== null && u !== void 0 ? u : !0;
                    a.addIssue({
                        code: "custom",
                        ...f,
                        fatal: h
                    })
                }
            }
            );
        if (!l) {
            const c = Gw(t, s)
              , d = (o = (i = c.fatal) !== null && i !== void 0 ? i : n) !== null && o !== void 0 ? o : !0;
            a.addIssue({
                code: "custom",
                ...c,
                fatal: d
            })
        }
    }
    ) : Il.create()
}
const H8 = {
    object: rn.lazycreate
};
var We;
(function(e) {
    e.ZodString = "ZodString",
    e.ZodNumber = "ZodNumber",
    e.ZodNaN = "ZodNaN",
    e.ZodBigInt = "ZodBigInt",
    e.ZodBoolean = "ZodBoolean",
    e.ZodDate = "ZodDate",
    e.ZodSymbol = "ZodSymbol",
    e.ZodUndefined = "ZodUndefined",
    e.ZodNull = "ZodNull",
    e.ZodAny = "ZodAny",
    e.ZodUnknown = "ZodUnknown",
    e.ZodNever = "ZodNever",
    e.ZodVoid = "ZodVoid",
    e.ZodArray = "ZodArray",
    e.ZodObject = "ZodObject",
    e.ZodUnion = "ZodUnion",
    e.ZodDiscriminatedUnion = "ZodDiscriminatedUnion",
    e.ZodIntersection = "ZodIntersection",
    e.ZodTuple = "ZodTuple",
    e.ZodRecord = "ZodRecord",
    e.ZodMap = "ZodMap",
    e.ZodSet = "ZodSet",
    e.ZodFunction = "ZodFunction",
    e.ZodLazy = "ZodLazy",
    e.ZodLiteral = "ZodLiteral",
    e.ZodEnum = "ZodEnum",
    e.ZodEffects = "ZodEffects",
    e.ZodNativeEnum = "ZodNativeEnum",
    e.ZodOptional = "ZodOptional",
    e.ZodNullable = "ZodNullable",
    e.ZodDefault = "ZodDefault",
    e.ZodCatch = "ZodCatch",
    e.ZodPromise = "ZodPromise",
    e.ZodBranded = "ZodBranded",
    e.ZodPipeline = "ZodPipeline",
    e.ZodReadonly = "ZodReadonly"
}
)(We || (We = {}));
const K8 = (e, t={
    message: `Input not instance of ${e.name}`
}) => ME(n => n instanceof e, t)
  , OE = ws.create
  , LE = ji.create
  , Q8 = tf.create
  , G8 = wi.create
  , FE = pd.create
  , X8 = ho.create
  , Y8 = Zm.create
  , Z8 = xd.create
  , J8 = gd.create
  , eB = Il.create
  , tB = eo.create
  , nB = ba.create
  , rB = Jm.create
  , sB = Ts.create
  , aB = rn.create
  , iB = rn.strictCreate
  , oB = vd.create
  , lB = Zf.create
  , cB = yd.create
  , dB = Js.create
  , uB = jd.create
  , mB = ef.create
  , fB = po.create
  , hB = sl.create
  , pB = wd.create
  , xB = Nd.create
  , gB = Ni.create
  , vB = bd.create
  , yB = Dl.create
  , Xw = As.create
  , jB = Qs.create
  , wB = bi.create
  , NB = As.createWithPreprocess
  , bB = Yd.create
  , SB = () => OE().optional()
  , CB = () => LE().optional()
  , kB = () => FE().optional()
  , TB = {
    string: e => ws.create({
        ...e,
        coerce: !0
    }),
    number: e => ji.create({
        ...e,
        coerce: !0
    }),
    boolean: e => pd.create({
        ...e,
        coerce: !0
    }),
    bigint: e => wi.create({
        ...e,
        coerce: !0
    }),
    date: e => ho.create({
        ...e,
        coerce: !0
    })
}
  , PB = Qe;
var fe = Object.freeze({
    __proto__: null,
    defaultErrorMap: Rl,
    setErrorMap: N8,
    getErrorMap: Gm,
    makeIssue: Xm,
    EMPTY_PATH: b8,
    addIssueToContext: ve,
    ParseStatus: nr,
    INVALID: Qe,
    DIRTY: Ho,
    OK: fr,
    isAborted: Wx,
    isDirty: Hx,
    isValid: fo,
    isAsync: hd,
    get util() {
        return St
    },
    get objectUtil() {
        return qx
    },
    ZodParsedType: Ce,
    getParsedType: da,
    ZodType: pt,
    datetimeRegex: IE,
    ZodString: ws,
    ZodNumber: ji,
    ZodBigInt: wi,
    ZodBoolean: pd,
    ZodDate: ho,
    ZodSymbol: Zm,
    ZodUndefined: xd,
    ZodNull: gd,
    ZodAny: Il,
    ZodUnknown: eo,
    ZodNever: ba,
    ZodVoid: Jm,
    ZodArray: Ts,
    ZodObject: rn,
    ZodUnion: vd,
    ZodDiscriminatedUnion: Zf,
    ZodIntersection: yd,
    ZodTuple: Js,
    ZodRecord: jd,
    ZodMap: ef,
    ZodSet: po,
    ZodFunction: sl,
    ZodLazy: wd,
    ZodLiteral: Nd,
    ZodEnum: Ni,
    ZodNativeEnum: bd,
    ZodPromise: Dl,
    ZodEffects: As,
    ZodTransformer: As,
    ZodOptional: Qs,
    ZodNullable: bi,
    ZodDefault: Sd,
    ZodCatch: Cd,
    ZodNaN: tf,
    BRAND: W8,
    ZodBranded: ny,
    ZodPipeline: Yd,
    ZodReadonly: kd,
    custom: ME,
    Schema: pt,
    ZodSchema: pt,
    late: H8,
    get ZodFirstPartyTypeKind() {
        return We
    },
    coerce: TB,
    any: eB,
    array: sB,
    bigint: G8,
    boolean: FE,
    date: X8,
    discriminatedUnion: lB,
    effect: Xw,
    enum: gB,
    function: hB,
    instanceof: K8,
    intersection: cB,
    lazy: pB,
    literal: xB,
    map: mB,
    nan: Q8,
    nativeEnum: vB,
    never: nB,
    null: J8,
    nullable: wB,
    number: LE,
    object: aB,
    oboolean: kB,
    onumber: CB,
    optional: jB,
    ostring: SB,
    pipeline: bB,
    preprocess: NB,
    promise: yB,
    record: uB,
    set: fB,
    strictObject: iB,
    string: OE,
    symbol: Y8,
    transformer: Xw,
    tuple: dB,
    undefined: Z8,
    union: oB,
    unknown: tB,
    void: rB,
    NEVER: PB,
    ZodIssueCode: se,
    quotelessJson: w8,
    ZodError: Fr
})
  , EB = "Label"
  , $E = m.forwardRef( (e, t) => r.jsx(Le.label, {
    ...e,
    ref: t,
    onMouseDown: n => {
        var a;
        n.target.closest("button, input, select, textarea") || ((a = e.onMouseDown) == null || a.call(e, n),
        !n.defaultPrevented && n.detail > 1 && n.preventDefault())
    }
}));
$E.displayName = EB;
var zE = $E;
const _B = Ul("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70")
  , Zt = m.forwardRef( ({className: e, ...t}, n) => r.jsx(zE, {
    ref: n,
    className: pe(_B(), e),
    ...t
}));
Zt.displayName = zE.displayName;
const rs = e8
  , VE = m.createContext({})
  , Xe = ({...e}) => r.jsx(VE.Provider, {
    value: {
        name: e.name
    },
    children: r.jsx(s8, {
        ...e
    })
})
  , Jf = () => {
    const e = m.useContext(VE)
      , t = m.useContext(BE)
      , {getFieldState: n, formState: s} = Yf()
      , a = n(e.name, s);
    if (!e)
        throw new Error("useFormField should be used within <FormField>");
    const {id: i} = t;
    return {
        id: i,
        name: e.name,
        formItemId: `${i}-form-item`,
        formDescriptionId: `${i}-form-item-description`,
        formMessageId: `${i}-form-item-message`,
        ...a
    }
}
  , BE = m.createContext({})
  , qe = m.forwardRef( ({className: e, ...t}, n) => {
    const s = m.useId();
    return r.jsx(BE.Provider, {
        value: {
            id: s
        },
        children: r.jsx("div", {
            ref: n,
            className: pe("space-y-2", e),
            ...t
        })
    })
}
);
qe.displayName = "FormItem";
const Ue = m.forwardRef( ({className: e, ...t}, n) => {
    const {error: s, formItemId: a} = Jf();
    return r.jsx(Zt, {
        ref: n,
        className: pe(s && "text-destructive", e),
        htmlFor: a,
        ...t
    })
}
);
Ue.displayName = "FormLabel";
const Ge = m.forwardRef( ({...e}, t) => {
    const {error: n, formItemId: s, formDescriptionId: a, formMessageId: i} = Jf();
    return r.jsx(z2, {
        ref: t,
        id: s,
        "aria-describedby": n ? `${a} ${i}` : `${a}`,
        "aria-invalid": !!n,
        ...e
    })
}
);
Ge.displayName = "FormControl";
const UE = m.forwardRef( ({className: e, ...t}, n) => {
    const {formDescriptionId: s} = Jf();
    return r.jsx("p", {
        ref: n,
        id: s,
        className: pe("text-sm text-muted-foreground", e),
        ...t
    })
}
);
UE.displayName = "FormDescription";
const tt = m.forwardRef( ({className: e, children: t, ...n}, s) => {
    const {error: a, formMessageId: i} = Jf()
      , o = a ? String((a == null ? void 0 : a.message) ?? "") : t;
    return o ? r.jsx("p", {
        ref: s,
        id: i,
        className: pe("text-sm font-medium text-destructive", e),
        ...n,
        children: o
    }) : null
}
);
tt.displayName = "FormMessage";
function Qx(e, [t,n]) {
    return Math.min(n, Math.max(t, e))
}
function ry(e) {
    const t = m.useRef({
        value: e,
        previous: e
    });
    return m.useMemo( () => (t.current.value !== e && (t.current.previous = t.current.value,
    t.current.value = e),
    t.current.previous), [e])
}
var AB = [" ", "Enter", "ArrowUp", "ArrowDown"]
  , RB = [" ", "Enter"]
  , Zd = "Select"
  , [eh,th,IB] = Af(Zd)
  , [Yl,uW] = sr(Zd, [IB, Kl])
  , nh = Kl()
  , [DB,Ei] = Yl(Zd)
  , [MB,OB] = Yl(Zd)
  , qE = e => {
    const {__scopeSelect: t, children: n, open: s, defaultOpen: a, onOpenChange: i, value: o, defaultValue: l, onValueChange: c, dir: d, name: u, autoComplete: f, disabled: h, required: x, form: j} = e
      , v = nh(t)
      , [w,y] = m.useState(null)
      , [p,g] = m.useState(null)
      , [b,k] = m.useState(!1)
      , S = Ql(d)
      , [C=!1,T] = Gs({
        prop: s,
        defaultProp: a,
        onChange: i
    })
      , [D,L] = Gs({
        prop: o,
        defaultProp: l,
        onChange: c
    })
      , G = m.useRef(null)
      , M = w ? j || !!w.closest("form") : !0
      , [H,U] = m.useState(new Set)
      , re = Array.from(H).map(ae => ae.props.value).join(";");
    return r.jsx(jv, {
        ...v,
        children: r.jsxs(DB, {
            required: x,
            scope: t,
            trigger: w,
            onTriggerChange: y,
            valueNode: p,
            onValueNodeChange: g,
            valueNodeHasChildren: b,
            onValueNodeHasChildrenChange: k,
            contentId: Ss(),
            value: D,
            onValueChange: L,
            open: C,
            onOpenChange: T,
            dir: S,
            triggerPointerDownPosRef: G,
            disabled: h,
            children: [r.jsx(eh.Provider, {
                scope: t,
                children: r.jsx(MB, {
                    scope: e.__scopeSelect,
                    onNativeOptionAdd: m.useCallback(ae => {
                        U(X => new Set(X).add(ae))
                    }
                    , []),
                    onNativeOptionRemove: m.useCallback(ae => {
                        U(X => {
                            const I = new Set(X);
                            return I.delete(ae),
                            I
                        }
                        )
                    }
                    , []),
                    children: n
                })
            }), M ? r.jsxs(p_, {
                "aria-hidden": !0,
                required: x,
                tabIndex: -1,
                name: u,
                autoComplete: f,
                value: D,
                onChange: ae => L(ae.target.value),
                disabled: h,
                form: j,
                children: [D === void 0 ? r.jsx("option", {
                    value: ""
                }) : null, Array.from(H)]
            }, re) : null]
        })
    })
}
;
qE.displayName = Zd;
var WE = "SelectTrigger"
  , HE = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, disabled: s=!1, ...a} = e
      , i = nh(n)
      , o = Ei(WE, n)
      , l = o.disabled || s
      , c = at(t, o.onTriggerChange)
      , d = th(n)
      , u = m.useRef("touch")
      , [f,h,x] = x_(v => {
        const w = d().filter(g => !g.disabled)
          , y = w.find(g => g.value === o.value)
          , p = g_(w, v, y);
        p !== void 0 && o.onValueChange(p.value)
    }
    )
      , j = v => {
        l || (o.onOpenChange(!0),
        x()),
        v && (o.triggerPointerDownPosRef.current = {
            x: Math.round(v.pageX),
            y: Math.round(v.pageY)
        })
    }
    ;
    return r.jsx(wv, {
        asChild: !0,
        ...i,
        children: r.jsx(Le.button, {
            type: "button",
            role: "combobox",
            "aria-controls": o.contentId,
            "aria-expanded": o.open,
            "aria-required": o.required,
            "aria-autocomplete": "none",
            dir: o.dir,
            "data-state": o.open ? "open" : "closed",
            disabled: l,
            "data-disabled": l ? "" : void 0,
            "data-placeholder": h_(o.value) ? "" : void 0,
            ...a,
            ref: c,
            onClick: ue(a.onClick, v => {
                v.currentTarget.focus(),
                u.current !== "mouse" && j(v)
            }
            ),
            onPointerDown: ue(a.onPointerDown, v => {
                u.current = v.pointerType;
                const w = v.target;
                w.hasPointerCapture(v.pointerId) && w.releasePointerCapture(v.pointerId),
                v.button === 0 && v.ctrlKey === !1 && v.pointerType === "mouse" && (j(v),
                v.preventDefault())
            }
            ),
            onKeyDown: ue(a.onKeyDown, v => {
                const w = f.current !== "";
                !(v.ctrlKey || v.altKey || v.metaKey) && v.key.length === 1 && h(v.key),
                !(w && v.key === " ") && AB.includes(v.key) && (j(),
                v.preventDefault())
            }
            )
        })
    })
}
);
HE.displayName = WE;
var KE = "SelectValue"
  , QE = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, className: s, style: a, children: i, placeholder: o="", ...l} = e
      , c = Ei(KE, n)
      , {onValueNodeHasChildrenChange: d} = c
      , u = i !== void 0
      , f = at(t, c.onValueNodeChange);
    return kn( () => {
        d(u)
    }
    , [d, u]),
    r.jsx(Le.span, {
        ...l,
        ref: f,
        style: {
            pointerEvents: "none"
        },
        children: h_(c.value) ? r.jsx(r.Fragment, {
            children: o
        }) : i
    })
}
);
QE.displayName = KE;
var LB = "SelectIcon"
  , GE = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, children: s, ...a} = e;
    return r.jsx(Le.span, {
        "aria-hidden": !0,
        ...a,
        ref: t,
        children: s || ""
    })
}
);
GE.displayName = LB;
var FB = "SelectPortal"
  , XE = e => r.jsx(Fd, {
    asChild: !0,
    ...e
});
XE.displayName = FB;
var xo = "SelectContent"
  , YE = m.forwardRef( (e, t) => {
    const n = Ei(xo, e.__scopeSelect)
      , [s,a] = m.useState();
    if (kn( () => {
        a(new DocumentFragment)
    }
    , []),
    !n.open) {
        const i = s;
        return i ? yo.createPortal(r.jsx(ZE, {
            scope: e.__scopeSelect,
            children: r.jsx(eh.Slot, {
                scope: e.__scopeSelect,
                children: r.jsx("div", {
                    children: e.children
                })
            })
        }), i) : null
    }
    return r.jsx(JE, {
        ...e,
        ref: t
    })
}
);
YE.displayName = xo;
var us = 10
  , [ZE,_i] = Yl(xo)
  , $B = "SelectContentImpl"
  , zB = co("SelectContent.RemoveScroll")
  , JE = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, position: s="item-aligned", onCloseAutoFocus: a, onEscapeKeyDown: i, onPointerDownOutside: o, side: l, sideOffset: c, align: d, alignOffset: u, arrowPadding: f, collisionBoundary: h, collisionPadding: x, sticky: j, hideWhenDetached: v, avoidCollisions: w, ...y} = e
      , p = Ei(xo, n)
      , [g,b] = m.useState(null)
      , [k,S] = m.useState(null)
      , C = at(t, z => b(z))
      , [T,D] = m.useState(null)
      , [L,G] = m.useState(null)
      , M = th(n)
      , [H,U] = m.useState(!1)
      , re = m.useRef(!1);
    m.useEffect( () => {
        if (g)
            return Rv(g)
    }
    , [g]),
    Av();
    const ae = m.useCallback(z => {
        const [W,...ze] = M().map(Ve => Ve.ref.current)
          , [Ze] = ze.slice(-1)
          , Je = document.activeElement;
        for (const Ve of z)
            if (Ve === Je || (Ve == null || Ve.scrollIntoView({
                block: "nearest"
            }),
            Ve === W && k && (k.scrollTop = 0),
            Ve === Ze && k && (k.scrollTop = k.scrollHeight),
            Ve == null || Ve.focus(),
            document.activeElement !== Je))
                return
    }
    , [M, k])
      , X = m.useCallback( () => ae([T, g]), [ae, T, g]);
    m.useEffect( () => {
        H && X()
    }
    , [H, X]);
    const {onOpenChange: I, triggerPointerDownPosRef: V} = p;
    m.useEffect( () => {
        if (g) {
            let z = {
                x: 0,
                y: 0
            };
            const W = Ze => {
                var Je, Ve;
                z = {
                    x: Math.abs(Math.round(Ze.pageX) - (((Je = V.current) == null ? void 0 : Je.x) ?? 0)),
                    y: Math.abs(Math.round(Ze.pageY) - (((Ve = V.current) == null ? void 0 : Ve.y) ?? 0))
                }
            }
              , ze = Ze => {
                z.x <= 10 && z.y <= 10 ? Ze.preventDefault() : g.contains(Ze.target) || I(!1),
                document.removeEventListener("pointermove", W),
                V.current = null
            }
            ;
            return V.current !== null && (document.addEventListener("pointermove", W),
            document.addEventListener("pointerup", ze, {
                capture: !0,
                once: !0
            })),
            () => {
                document.removeEventListener("pointermove", W),
                document.removeEventListener("pointerup", ze, {
                    capture: !0
                })
            }
        }
    }
    , [g, I, V]),
    m.useEffect( () => {
        const z = () => I(!1);
        return window.addEventListener("blur", z),
        window.addEventListener("resize", z),
        () => {
            window.removeEventListener("blur", z),
            window.removeEventListener("resize", z)
        }
    }
    , [I]);
    const [oe,he] = x_(z => {
        const W = M().filter(Je => !Je.disabled)
          , ze = W.find(Je => Je.ref.current === document.activeElement)
          , Ze = g_(W, z, ze);
        Ze && setTimeout( () => Ze.ref.current.focus())
    }
    )
      , ce = m.useCallback( (z, W, ze) => {
        const Ze = !re.current && !ze;
        (p.value !== void 0 && p.value === W || Ze) && (D(z),
        Ze && (re.current = !0))
    }
    , [p.value])
      , xt = m.useCallback( () => g == null ? void 0 : g.focus(), [g])
      , gt = m.useCallback( (z, W, ze) => {
        const Ze = !re.current && !ze;
        (p.value !== void 0 && p.value === W || Ze) && G(z)
    }
    , [p.value])
      , Nt = s === "popper" ? Gx : e_
      , ot = Nt === Gx ? {
        side: l,
        sideOffset: c,
        align: d,
        alignOffset: u,
        arrowPadding: f,
        collisionBoundary: h,
        collisionPadding: x,
        sticky: j,
        hideWhenDetached: v,
        avoidCollisions: w
    } : {};
    return r.jsx(ZE, {
        scope: n,
        content: g,
        viewport: k,
        onViewportChange: S,
        itemRefCallback: ce,
        selectedItem: T,
        onItemLeave: xt,
        itemTextRefCallback: gt,
        focusSelectedItem: X,
        selectedItemText: L,
        position: s,
        isPositioned: H,
        searchRef: oe,
        children: r.jsx(Wf, {
            as: zB,
            allowPinchZoom: !0,
            children: r.jsx(Uf, {
                asChild: !0,
                trapped: p.open,
                onMountAutoFocus: z => {
                    z.preventDefault()
                }
                ,
                onUnmountAutoFocus: ue(a, z => {
                    var W;
                    (W = p.trigger) == null || W.focus({
                        preventScroll: !0
                    }),
                    z.preventDefault()
                }
                ),
                children: r.jsx(Bl, {
                    asChild: !0,
                    disableOutsidePointerEvents: !0,
                    onEscapeKeyDown: i,
                    onPointerDownOutside: o,
                    onFocusOutside: z => z.preventDefault(),
                    onDismiss: () => p.onOpenChange(!1),
                    children: r.jsx(Nt, {
                        role: "listbox",
                        id: p.contentId,
                        "data-state": p.open ? "open" : "closed",
                        dir: p.dir,
                        onContextMenu: z => z.preventDefault(),
                        ...y,
                        ...ot,
                        onPlaced: () => U(!0),
                        ref: C,
                        style: {
                            display: "flex",
                            flexDirection: "column",
                            outline: "none",
                            ...y.style
                        },
                        onKeyDown: ue(y.onKeyDown, z => {
                            const W = z.ctrlKey || z.altKey || z.metaKey;
                            if (z.key === "Tab" && z.preventDefault(),
                            !W && z.key.length === 1 && he(z.key),
                            ["ArrowUp", "ArrowDown", "Home", "End"].includes(z.key)) {
                                let Ze = M().filter(Je => !Je.disabled).map(Je => Je.ref.current);
                                if (["ArrowUp", "End"].includes(z.key) && (Ze = Ze.slice().reverse()),
                                ["ArrowUp", "ArrowDown"].includes(z.key)) {
                                    const Je = z.target
                                      , Ve = Ze.indexOf(Je);
                                    Ze = Ze.slice(Ve + 1)
                                }
                                setTimeout( () => ae(Ze)),
                                z.preventDefault()
                            }
                        }
                        )
                    })
                })
            })
        })
    })
}
);
JE.displayName = $B;
var VB = "SelectItemAlignedPosition"
  , e_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, onPlaced: s, ...a} = e
      , i = Ei(xo, n)
      , o = _i(xo, n)
      , [l,c] = m.useState(null)
      , [d,u] = m.useState(null)
      , f = at(t, C => u(C))
      , h = th(n)
      , x = m.useRef(!1)
      , j = m.useRef(!0)
      , {viewport: v, selectedItem: w, selectedItemText: y, focusSelectedItem: p} = o
      , g = m.useCallback( () => {
        if (i.trigger && i.valueNode && l && d && v && w && y) {
            const C = i.trigger.getBoundingClientRect()
              , T = d.getBoundingClientRect()
              , D = i.valueNode.getBoundingClientRect()
              , L = y.getBoundingClientRect();
            if (i.dir !== "rtl") {
                const Je = L.left - T.left
                  , Ve = D.left - Je
                  , Ft = C.left - Ve
                  , F = C.width + Ft
                  , nt = Math.max(F, T.width)
                  , et = window.innerWidth - us
                  , bt = Qx(Ve, [us, Math.max(us, et - nt)]);
                l.style.minWidth = F + "px",
                l.style.left = bt + "px"
            } else {
                const Je = T.right - L.right
                  , Ve = window.innerWidth - D.right - Je
                  , Ft = window.innerWidth - C.right - Ve
                  , F = C.width + Ft
                  , nt = Math.max(F, T.width)
                  , et = window.innerWidth - us
                  , bt = Qx(Ve, [us, Math.max(us, et - nt)]);
                l.style.minWidth = F + "px",
                l.style.right = bt + "px"
            }
            const G = h()
              , M = window.innerHeight - us * 2
              , H = v.scrollHeight
              , U = window.getComputedStyle(d)
              , re = parseInt(U.borderTopWidth, 10)
              , ae = parseInt(U.paddingTop, 10)
              , X = parseInt(U.borderBottomWidth, 10)
              , I = parseInt(U.paddingBottom, 10)
              , V = re + ae + H + I + X
              , oe = Math.min(w.offsetHeight * 5, V)
              , he = window.getComputedStyle(v)
              , ce = parseInt(he.paddingTop, 10)
              , xt = parseInt(he.paddingBottom, 10)
              , gt = C.top + C.height / 2 - us
              , Nt = M - gt
              , ot = w.offsetHeight / 2
              , z = w.offsetTop + ot
              , W = re + ae + z
              , ze = V - W;
            if (W <= gt) {
                const Je = G.length > 0 && w === G[G.length - 1].ref.current;
                l.style.bottom = "0px";
                const Ve = d.clientHeight - v.offsetTop - v.offsetHeight
                  , Ft = Math.max(Nt, ot + (Je ? xt : 0) + Ve + X)
                  , F = W + Ft;
                l.style.height = F + "px"
            } else {
                const Je = G.length > 0 && w === G[0].ref.current;
                l.style.top = "0px";
                const Ft = Math.max(gt, re + v.offsetTop + (Je ? ce : 0) + ot) + ze;
                l.style.height = Ft + "px",
                v.scrollTop = W - gt + v.offsetTop
            }
            l.style.margin = `${us}px 0`,
            l.style.minHeight = oe + "px",
            l.style.maxHeight = M + "px",
            s == null || s(),
            requestAnimationFrame( () => x.current = !0)
        }
    }
    , [h, i.trigger, i.valueNode, l, d, v, w, y, i.dir, s]);
    kn( () => g(), [g]);
    const [b,k] = m.useState();
    kn( () => {
        d && k(window.getComputedStyle(d).zIndex)
    }
    , [d]);
    const S = m.useCallback(C => {
        C && j.current === !0 && (g(),
        p == null || p(),
        j.current = !1)
    }
    , [g, p]);
    return r.jsx(UB, {
        scope: n,
        contentWrapper: l,
        shouldExpandOnScrollRef: x,
        onScrollButtonChange: S,
        children: r.jsx("div", {
            ref: c,
            style: {
                display: "flex",
                flexDirection: "column",
                position: "fixed",
                zIndex: b
            },
            children: r.jsx(Le.div, {
                ...a,
                ref: f,
                style: {
                    boxSizing: "border-box",
                    maxHeight: "100%",
                    ...a.style
                }
            })
        })
    })
}
);
e_.displayName = VB;
var BB = "SelectPopperPosition"
  , Gx = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, align: s="start", collisionPadding: a=us, ...i} = e
      , o = nh(n);
    return r.jsx(Nv, {
        ...o,
        ...i,
        ref: t,
        align: s,
        collisionPadding: a,
        style: {
            boxSizing: "border-box",
            ...i.style,
            "--radix-select-content-transform-origin": "var(--radix-popper-transform-origin)",
            "--radix-select-content-available-width": "var(--radix-popper-available-width)",
            "--radix-select-content-available-height": "var(--radix-popper-available-height)",
            "--radix-select-trigger-width": "var(--radix-popper-anchor-width)",
            "--radix-select-trigger-height": "var(--radix-popper-anchor-height)"
        }
    })
}
);
Gx.displayName = BB;
var [UB,sy] = Yl(xo, {})
  , Xx = "SelectViewport"
  , t_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, nonce: s, ...a} = e
      , i = _i(Xx, n)
      , o = sy(Xx, n)
      , l = at(t, i.onViewportChange)
      , c = m.useRef(0);
    return r.jsxs(r.Fragment, {
        children: [r.jsx("style", {
            dangerouslySetInnerHTML: {
                __html: "[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"
            },
            nonce: s
        }), r.jsx(eh.Slot, {
            scope: n,
            children: r.jsx(Le.div, {
                "data-radix-select-viewport": "",
                role: "presentation",
                ...a,
                ref: l,
                style: {
                    position: "relative",
                    flex: 1,
                    overflow: "hidden auto",
                    ...a.style
                },
                onScroll: ue(a.onScroll, d => {
                    const u = d.currentTarget
                      , {contentWrapper: f, shouldExpandOnScrollRef: h} = o;
                    if (h != null && h.current && f) {
                        const x = Math.abs(c.current - u.scrollTop);
                        if (x > 0) {
                            const j = window.innerHeight - us * 2
                              , v = parseFloat(f.style.minHeight)
                              , w = parseFloat(f.style.height)
                              , y = Math.max(v, w);
                            if (y < j) {
                                const p = y + x
                                  , g = Math.min(j, p)
                                  , b = p - g;
                                f.style.height = g + "px",
                                f.style.bottom === "0px" && (u.scrollTop = b > 0 ? b : 0,
                                f.style.justifyContent = "flex-end")
                            }
                        }
                    }
                    c.current = u.scrollTop
                }
                )
            })
        })]
    })
}
);
t_.displayName = Xx;
var n_ = "SelectGroup"
  , [qB,WB] = Yl(n_)
  , HB = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = Ss();
    return r.jsx(qB, {
        scope: n,
        id: a,
        children: r.jsx(Le.div, {
            role: "group",
            "aria-labelledby": a,
            ...s,
            ref: t
        })
    })
}
);
HB.displayName = n_;
var r_ = "SelectLabel"
  , s_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = WB(r_, n);
    return r.jsx(Le.div, {
        id: a.id,
        ...s,
        ref: t
    })
}
);
s_.displayName = r_;
var nf = "SelectItem"
  , [KB,a_] = Yl(nf)
  , i_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, value: s, disabled: a=!1, textValue: i, ...o} = e
      , l = Ei(nf, n)
      , c = _i(nf, n)
      , d = l.value === s
      , [u,f] = m.useState(i ?? "")
      , [h,x] = m.useState(!1)
      , j = at(t, p => {
        var g;
        return (g = c.itemRefCallback) == null ? void 0 : g.call(c, p, s, a)
    }
    )
      , v = Ss()
      , w = m.useRef("touch")
      , y = () => {
        a || (l.onValueChange(s),
        l.onOpenChange(!1))
    }
    ;
    if (s === "")
        throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");
    return r.jsx(KB, {
        scope: n,
        value: s,
        disabled: a,
        textId: v,
        isSelected: d,
        onItemTextChange: m.useCallback(p => {
            f(g => g || ((p == null ? void 0 : p.textContent) ?? "").trim())
        }
        , []),
        children: r.jsx(eh.ItemSlot, {
            scope: n,
            value: s,
            disabled: a,
            textValue: u,
            children: r.jsx(Le.div, {
                role: "option",
                "aria-labelledby": v,
                "data-highlighted": h ? "" : void 0,
                "aria-selected": d && h,
                "data-state": d ? "checked" : "unchecked",
                "aria-disabled": a || void 0,
                "data-disabled": a ? "" : void 0,
                tabIndex: a ? void 0 : -1,
                ...o,
                ref: j,
                onFocus: ue(o.onFocus, () => x(!0)),
                onBlur: ue(o.onBlur, () => x(!1)),
                onClick: ue(o.onClick, () => {
                    w.current !== "mouse" && y()
                }
                ),
                onPointerUp: ue(o.onPointerUp, () => {
                    w.current === "mouse" && y()
                }
                ),
                onPointerDown: ue(o.onPointerDown, p => {
                    w.current = p.pointerType
                }
                ),
                onPointerMove: ue(o.onPointerMove, p => {
                    var g;
                    w.current = p.pointerType,
                    a ? (g = c.onItemLeave) == null || g.call(c) : w.current === "mouse" && p.currentTarget.focus({
                        preventScroll: !0
                    })
                }
                ),
                onPointerLeave: ue(o.onPointerLeave, p => {
                    var g;
                    p.currentTarget === document.activeElement && ((g = c.onItemLeave) == null || g.call(c))
                }
                ),
                onKeyDown: ue(o.onKeyDown, p => {
                    var b;
                    ((b = c.searchRef) == null ? void 0 : b.current) !== "" && p.key === " " || (RB.includes(p.key) && y(),
                    p.key === " " && p.preventDefault())
                }
                )
            })
        })
    })
}
);
i_.displayName = nf;
var kc = "SelectItemText"
  , o_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, className: s, style: a, ...i} = e
      , o = Ei(kc, n)
      , l = _i(kc, n)
      , c = a_(kc, n)
      , d = OB(kc, n)
      , [u,f] = m.useState(null)
      , h = at(t, y => f(y), c.onItemTextChange, y => {
        var p;
        return (p = l.itemTextRefCallback) == null ? void 0 : p.call(l, y, c.value, c.disabled)
    }
    )
      , x = u == null ? void 0 : u.textContent
      , j = m.useMemo( () => r.jsx("option", {
        value: c.value,
        disabled: c.disabled,
        children: x
    }, c.value), [c.disabled, c.value, x])
      , {onNativeOptionAdd: v, onNativeOptionRemove: w} = d;
    return kn( () => (v(j),
    () => w(j)), [v, w, j]),
    r.jsxs(r.Fragment, {
        children: [r.jsx(Le.span, {
            id: c.textId,
            ...i,
            ref: h
        }), c.isSelected && o.valueNode && !o.valueNodeHasChildren ? yo.createPortal(i.children, o.valueNode) : null]
    })
}
);
o_.displayName = kc;
var l_ = "SelectItemIndicator"
  , c_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e;
    return a_(l_, n).isSelected ? r.jsx(Le.span, {
        "aria-hidden": !0,
        ...s,
        ref: t
    }) : null
}
);
c_.displayName = l_;
var Yx = "SelectScrollUpButton"
  , d_ = m.forwardRef( (e, t) => {
    const n = _i(Yx, e.__scopeSelect)
      , s = sy(Yx, e.__scopeSelect)
      , [a,i] = m.useState(!1)
      , o = at(t, s.onScrollButtonChange);
    return kn( () => {
        if (n.viewport && n.isPositioned) {
            let l = function() {
                const d = c.scrollTop > 0;
                i(d)
            };
            const c = n.viewport;
            return l(),
            c.addEventListener("scroll", l),
            () => c.removeEventListener("scroll", l)
        }
    }
    , [n.viewport, n.isPositioned]),
    a ? r.jsx(m_, {
        ...e,
        ref: o,
        onAutoScroll: () => {
            const {viewport: l, selectedItem: c} = n;
            l && c && (l.scrollTop = l.scrollTop - c.offsetHeight)
        }
    }) : null
}
);
d_.displayName = Yx;
var Zx = "SelectScrollDownButton"
  , u_ = m.forwardRef( (e, t) => {
    const n = _i(Zx, e.__scopeSelect)
      , s = sy(Zx, e.__scopeSelect)
      , [a,i] = m.useState(!1)
      , o = at(t, s.onScrollButtonChange);
    return kn( () => {
        if (n.viewport && n.isPositioned) {
            let l = function() {
                const d = c.scrollHeight - c.clientHeight
                  , u = Math.ceil(c.scrollTop) < d;
                i(u)
            };
            const c = n.viewport;
            return l(),
            c.addEventListener("scroll", l),
            () => c.removeEventListener("scroll", l)
        }
    }
    , [n.viewport, n.isPositioned]),
    a ? r.jsx(m_, {
        ...e,
        ref: o,
        onAutoScroll: () => {
            const {viewport: l, selectedItem: c} = n;
            l && c && (l.scrollTop = l.scrollTop + c.offsetHeight)
        }
    }) : null
}
);
u_.displayName = Zx;
var m_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, onAutoScroll: s, ...a} = e
      , i = _i("SelectScrollButton", n)
      , o = m.useRef(null)
      , l = th(n)
      , c = m.useCallback( () => {
        o.current !== null && (window.clearInterval(o.current),
        o.current = null)
    }
    , []);
    return m.useEffect( () => () => c(), [c]),
    kn( () => {
        var u;
        const d = l().find(f => f.ref.current === document.activeElement);
        (u = d == null ? void 0 : d.ref.current) == null || u.scrollIntoView({
            block: "nearest"
        })
    }
    , [l]),
    r.jsx(Le.div, {
        "aria-hidden": !0,
        ...a,
        ref: t,
        style: {
            flexShrink: 0,
            ...a.style
        },
        onPointerDown: ue(a.onPointerDown, () => {
            o.current === null && (o.current = window.setInterval(s, 50))
        }
        ),
        onPointerMove: ue(a.onPointerMove, () => {
            var d;
            (d = i.onItemLeave) == null || d.call(i),
            o.current === null && (o.current = window.setInterval(s, 50))
        }
        ),
        onPointerLeave: ue(a.onPointerLeave, () => {
            c()
        }
        )
    })
}
)
  , QB = "SelectSeparator"
  , f_ = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e;
    return r.jsx(Le.div, {
        "aria-hidden": !0,
        ...s,
        ref: t
    })
}
);
f_.displayName = QB;
var Jx = "SelectArrow"
  , GB = m.forwardRef( (e, t) => {
    const {__scopeSelect: n, ...s} = e
      , a = nh(n)
      , i = Ei(Jx, n)
      , o = _i(Jx, n);
    return i.open && o.position === "popper" ? r.jsx(bv, {
        ...a,
        ...s,
        ref: t
    }) : null
}
);
GB.displayName = Jx;
function h_(e) {
    return e === "" || e === void 0
}
var p_ = m.forwardRef( (e, t) => {
    const {value: n, ...s} = e
      , a = m.useRef(null)
      , i = at(t, a)
      , o = ry(n);
    return m.useEffect( () => {
        const l = a.current
          , c = window.HTMLSelectElement.prototype
          , u = Object.getOwnPropertyDescriptor(c, "value").set;
        if (o !== n && u) {
            const f = new Event("change",{
                bubbles: !0
            });
            u.call(l, n),
            l.dispatchEvent(f)
        }
    }
    , [o, n]),
    r.jsx($d, {
        asChild: !0,
        children: r.jsx("select", {
            ...s,
            ref: i,
            defaultValue: n
        })
    })
}
);
p_.displayName = "BubbleSelect";
function x_(e) {
    const t = en(e)
      , n = m.useRef("")
      , s = m.useRef(0)
      , a = m.useCallback(o => {
        const l = n.current + o;
        t(l),
        function c(d) {
            n.current = d,
            window.clearTimeout(s.current),
            d !== "" && (s.current = window.setTimeout( () => c(""), 1e3))
        }(l)
    }
    , [t])
      , i = m.useCallback( () => {
        n.current = "",
        window.clearTimeout(s.current)
    }
    , []);
    return m.useEffect( () => () => window.clearTimeout(s.current), []),
    [n, a, i]
}
function g_(e, t, n) {
    const a = t.length > 1 && Array.from(t).every(d => d === t[0]) ? t[0] : t
      , i = n ? e.indexOf(n) : -1;
    let o = XB(e, Math.max(i, 0));
    a.length === 1 && (o = o.filter(d => d !== n));
    const c = o.find(d => d.textValue.toLowerCase().startsWith(a.toLowerCase()));
    return c !== n ? c : void 0
}
function XB(e, t) {
    return e.map( (n, s) => e[(t + s) % e.length])
}
var YB = qE
  , v_ = HE
  , ZB = QE
  , JB = GE
  , eU = XE
  , y_ = YE
  , tU = t_
  , j_ = s_
  , w_ = i_
  , nU = o_
  , rU = c_
  , N_ = d_
  , b_ = u_
  , S_ = f_;
const Vt = YB
  , Bt = ZB
  , Mt = m.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(v_, {
    ref: s,
    className: pe("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1", e),
    ...n,
    children: [t, r.jsx(JB, {
        asChild: !0,
        children: r.jsx(xk, {
            className: "h-4 w-4 opacity-50"
        })
    })]
}));
Mt.displayName = v_.displayName;
const C_ = m.forwardRef( ({className: e, ...t}, n) => r.jsx(N_, {
    ref: n,
    className: pe("flex cursor-default items-center justify-center py-1", e),
    ...t,
    children: r.jsx(DL, {
        className: "h-4 w-4"
    })
}));
C_.displayName = N_.displayName;
const k_ = m.forwardRef( ({className: e, ...t}, n) => r.jsx(b_, {
    ref: n,
    className: pe("flex cursor-default items-center justify-center py-1", e),
    ...t,
    children: r.jsx(xk, {
        className: "h-4 w-4"
    })
}));
k_.displayName = b_.displayName;
const Ot = m.forwardRef( ({className: e, children: t, position: n="popper", ...s}, a) => r.jsx(eU, {
    children: r.jsxs(y_, {
        ref: a,
        className: pe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]", n === "popper" && "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1", e),
        position: n,
        ...s,
        children: [r.jsx(C_, {}), r.jsx(tU, {
            className: pe("p-1", n === "popper" && "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),
            children: t
        }), r.jsx(k_, {})]
    })
}));
Ot.displayName = y_.displayName;
const sU = m.forwardRef( ({className: e, ...t}, n) => r.jsx(j_, {
    ref: n,
    className: pe("py-1.5 pl-8 pr-2 text-sm font-semibold", e),
    ...t
}));
sU.displayName = j_.displayName;
const Se = m.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(w_, {
    ref: s,
    className: pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", e),
    ...n,
    children: [r.jsx("span", {
        className: "absolute left-2 flex h-3.5 w-3.5 items-center justify-center",
        children: r.jsx(rU, {
            children: r.jsx(Vd, {
                className: "h-4 w-4"
            })
        })
    }), r.jsx(nU, {
        children: t
    })]
}));
Se.displayName = w_.displayName;
const aU = m.forwardRef( ({className: e, ...t}, n) => r.jsx(S_, {
    ref: n,
    className: pe("-mx-1 my-1 h-px bg-muted", e),
    ...t
}));
aU.displayName = S_.displayName;
var ay = "Checkbox"
  , [iU,mW] = sr(ay)
  , [oU,lU] = iU(ay)
  , T_ = m.forwardRef( (e, t) => {
    const {__scopeCheckbox: n, name: s, checked: a, defaultChecked: i, required: o, disabled: l, value: c="on", onCheckedChange: d, form: u, ...f} = e
      , [h,x] = m.useState(null)
      , j = at(t, b => x(b))
      , v = m.useRef(!1)
      , w = h ? u || !!h.closest("form") : !0
      , [y=!1,p] = Gs({
        prop: a,
        defaultProp: i,
        onChange: d
    })
      , g = m.useRef(y);
    return m.useEffect( () => {
        const b = h == null ? void 0 : h.form;
        if (b) {
            const k = () => p(g.current);
            return b.addEventListener("reset", k),
            () => b.removeEventListener("reset", k)
        }
    }
    , [h, p]),
    r.jsxs(oU, {
        scope: n,
        state: y,
        disabled: l,
        children: [r.jsx(Le.button, {
            type: "button",
            role: "checkbox",
            "aria-checked": ii(y) ? "mixed" : y,
            "aria-required": o,
            "data-state": __(y),
            "data-disabled": l ? "" : void 0,
            disabled: l,
            value: c,
            ...f,
            ref: j,
            onKeyDown: ue(e.onKeyDown, b => {
                b.key === "Enter" && b.preventDefault()
            }
            ),
            onClick: ue(e.onClick, b => {
                p(k => ii(k) ? !0 : !k),
                w && (v.current = b.isPropagationStopped(),
                v.current || b.stopPropagation())
            }
            )
        }), w && r.jsx(cU, {
            control: h,
            bubbles: !v.current,
            name: s,
            value: c,
            checked: y,
            required: o,
            disabled: l,
            form: u,
            style: {
                transform: "translateX(-100%)"
            },
            defaultChecked: ii(i) ? !1 : i
        })]
    })
}
);
T_.displayName = ay;
var P_ = "CheckboxIndicator"
  , E_ = m.forwardRef( (e, t) => {
    const {__scopeCheckbox: n, forceMount: s, ...a} = e
      , i = lU(P_, n);
    return r.jsx(Qn, {
        present: s || ii(i.state) || i.state === !0,
        children: r.jsx(Le.span, {
            "data-state": __(i.state),
            "data-disabled": i.disabled ? "" : void 0,
            ...a,
            ref: t,
            style: {
                pointerEvents: "none",
                ...e.style
            }
        })
    })
}
);
E_.displayName = P_;
var cU = e => {
    const {control: t, checked: n, bubbles: s=!0, defaultChecked: a, ...i} = e
      , o = m.useRef(null)
      , l = ry(n)
      , c = gv(t);
    m.useEffect( () => {
        const u = o.current
          , f = window.HTMLInputElement.prototype
          , x = Object.getOwnPropertyDescriptor(f, "checked").set;
        if (l !== n && x) {
            const j = new Event("click",{
                bubbles: s
            });
            u.indeterminate = ii(n),
            x.call(u, ii(n) ? !1 : n),
            u.dispatchEvent(j)
        }
    }
    , [l, n, s]);
    const d = m.useRef(ii(n) ? !1 : n);
    return r.jsx("input", {
        type: "checkbox",
        "aria-hidden": !0,
        defaultChecked: a ?? d.current,
        ...i,
        tabIndex: -1,
        ref: o,
        style: {
            ...e.style,
            ...c,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
}
;
function ii(e) {
    return e === "indeterminate"
}
function __(e) {
    return ii(e) ? "indeterminate" : e ? "checked" : "unchecked"
}
var A_ = T_
  , dU = E_;
const Td = m.forwardRef( ({className: e, ...t}, n) => r.jsx(A_, {
    ref: n,
    className: pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground", e),
    ...t,
    children: r.jsx(dU, {
        className: pe("flex items-center justify-center text-current"),
        children: r.jsx(Vd, {
            className: "h-4 w-4"
        })
    })
}));
Td.displayName = A_.displayName;
function uU({open: e, onOpenChange: t, requestId: n, transporters: s}) {
    const {toast: a} = Ht()
      , [i,o] = m.useState(!1)
      , l = Fe({
        mutationFn: async () => {
            const f = s.map(h => h.id);
            return Ae("POST", `/api/requests/${n}/notify-transporters`, {
                transporterIds: f
            })
        }
        ,
        onSuccess: f => {
            a({
                title: "Notifications envoyes",
                description: f.message || "Les transporteurs ont t notifis"
            }),
            t(!1)
        }
        ,
        onError: () => {
            a({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi des notifications"
            })
        }
    })
      , c = async () => {
        o(!0),
        await l.mutateAsync(),
        o(!1)
    }
      , d = () => {
        t(!1)
    }
      , u = f => {
        switch (f) {
        case "retour":
            return "Retour annonc";
        case "ville_residence":
            return "Ville de rsidence";
        case "top_rated":
            return "Mieux not";
        default:
            return ""
        }
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "sm:max-w-[600px] max-h-[80vh] overflow-y-auto",
            children: [r.jsxs(ft, {
                children: [r.jsxs(ht, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(At, {
                        className: "h-6 w-6 text-primary"
                    }), "Transporteurs disponibles"]
                }), r.jsx(_t, {
                    children: s.length > 0 ? r.jsxs(r.Fragment, {
                        children: [" ", s.length, " transporteur", s.length > 1 ? "s" : "", " disponible", s.length > 1 ? "s" : "", " sur ce trajet.", r.jsx("br", {}), "Souhaitez-vous leur envoyer une notification ?"]
                    }) : "Aucun transporteur disponible pour ce trajet pour le moment."
                })]
            }), s.length > 0 && r.jsx("div", {
                className: "space-y-3 my-4",
                children: s.map(f => r.jsx(J, {
                    className: "p-4",
                    children: r.jsx("div", {
                        className: "flex items-start justify-between gap-3",
                        children: r.jsxs("div", {
                            className: "flex-1",
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-2 mb-2",
                                children: [r.jsx("h4", {
                                    className: "font-medium",
                                    children: f.name || "Transporteur"
                                }), f.availabilityType === "retour" && r.jsxs("span", {
                                    className: "inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",
                                    children: [r.jsx(IL, {
                                        className: "h-3 w-3 mr-1"
                                    }), u(f.availabilityType)]
                                })]
                            }), r.jsxs("div", {
                                className: "flex flex-wrap items-center gap-3 text-sm text-muted-foreground",
                                children: [f.city && r.jsxs("div", {
                                    className: "flex items-center gap-1",
                                    children: [r.jsx(Rr, {
                                        className: "h-4 w-4"
                                    }), f.city]
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-1",
                                    children: [r.jsx(Xs, {
                                        className: "h-4 w-4 fill-yellow-400 text-yellow-400"
                                    }), r.jsx("span", {
                                        className: "font-medium text-foreground",
                                        children: f.rating.toFixed(1)
                                    })]
                                }), r.jsxs("div", {
                                    className: "text-xs",
                                    children: [f.totalTrips, " trajet", f.totalTrips > 1 ? "s" : ""]
                                })]
                            })]
                        })
                    })
                }, f.id))
            }), r.jsxs(mr, {
                className: "flex gap-2 sm:gap-2",
                children: [r.jsx(E, {
                    variant: "outline",
                    onClick: d,
                    disabled: i,
                    "data-testid": "button-notify-later",
                    children: "Non, plus tard"
                }), s.length > 0 && r.jsx(E, {
                    onClick: c,
                    disabled: i,
                    "data-testid": "button-notify-now",
                    children: i ? "Envoi en cours..." : "Oui, notifier"
                })]
            })]
        })
    })
}
const mU = fe.object({
    fromCity: fe.string().min(2, "Ville de dpart requise"),
    toCity: fe.string().min(2, "Ville d'arrive requise"),
    description: fe.string().min(10, "Description minimale: 10 caractres"),
    goodsType: fe.string().min(1, "Type de marchandise requis"),
    dateTime: fe.string().optional(),
    dateFlexible: fe.boolean().default(!1),
    invoiceRequired: fe.boolean().default(!1),
    budget: fe.string().optional()
})
  , fU = ["Meubles", "lectromnager", "Marchandises", "Dmnagement", "Matriaux de construction", "Colis", "Vhicule", "Autre"];
function hU({onSuccess: e}) {
    const [t,n] = m.useState([])
      , [s,a] = m.useState(!1)
      , [i,o] = m.useState([])
      , [l,c] = m.useState("")
      , {toast: d} = Ht()
      , {data: u=[], isLoading: f} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , h = ts({
        resolver: ns(mU),
        defaultValues: {
            fromCity: "",
            toCity: "",
            description: "",
            goodsType: "",
            dateTime: "",
            dateFlexible: !1,
            invoiceRequired: !1,
            budget: ""
        }
    })
      , x = w => {
        w.target.files && n(Array.from(w.target.files))
    }
      , j = w => new Promise( (y, p) => {
        const g = new FileReader;
        g.readAsDataURL(w),
        g.onload = () => y(g.result),
        g.onerror = b => p(b)
    }
    )
      , v = async w => {
        try {
            const y = JSON.parse(localStorage.getItem("camionback_user") || "{}")
              , p = t.map(C => j(C))
              , g = await Promise.all(p)
              , b = {
                fromCity: w.fromCity,
                toCity: w.toCity,
                description: w.description,
                goodsType: w.goodsType,
                clientId: y.id,
                dateTime: w.dateTime ? new Date(w.dateTime).toISOString() : new Date().toISOString(),
                dateFlexible: w.dateFlexible,
                invoiceRequired: w.invoiceRequired,
                photos: g
            };
            w.budget && (b.budget = w.budget);
            const k = await fetch("/api/requests", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(b)
            });
            if (!k.ok)
                throw new Error;
            const S = await k.json();
            c(S.id),
            d({
                title: "Demande cre",
                description: "Votre demande de transport a t publie avec succs"
            });
            try {
                const C = await fetch(`/api/requests/${S.id}/recommended-transporters`);
                if (C.ok) {
                    const T = await C.json();
                    o(T.transporters || []),
                    a(!0)
                } else
                    h.reset(),
                    n([]),
                    e == null || e()
            } catch (C) {
                console.error("Failed to fetch recommendations:", C),
                h.reset(),
                n([]),
                e == null || e()
            }
        } catch {
            d({
                variant: "destructive",
                title: "Erreur",
                description: "chec de cration de la demande"
            })
        }
    }
    ;
    return r.jsxs(J, {
        children: [r.jsx(ye, {
            children: r.jsx(we, {
                className: "text-2xl",
                children: "Nouvelle demande de transport"
            })
        }), r.jsx(te, {
            children: r.jsx(rs, {
                ...h,
                children: r.jsxs("form", {
                    onSubmit: h.handleSubmit(v),
                    className: "space-y-6",
                    children: [r.jsxs("div", {
                        className: "grid gap-4 md:grid-cols-2",
                        children: [r.jsx(Xe, {
                            control: h.control,
                            name: "fromCity",
                            render: ({field: w}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Ville de dpart"
                                }), r.jsxs(Vt, {
                                    onValueChange: w.onChange,
                                    value: w.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-from-city",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(Ot, {
                                        children: f ? r.jsx("div", {
                                            className: "p-2 text-sm text-muted-foreground",
                                            children: "Chargement..."
                                        }) : u.map(y => r.jsx(Se, {
                                            value: y.name,
                                            children: y.name
                                        }, y.id))
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: h.control,
                            name: "toCity",
                            render: ({field: w}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Ville d'arrive"
                                }), r.jsxs(Vt, {
                                    onValueChange: w.onChange,
                                    value: w.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-to-city",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(Ot, {
                                        children: f ? r.jsx("div", {
                                            className: "p-2 text-sm text-muted-foreground",
                                            children: "Chargement..."
                                        }) : u.map(y => r.jsx(Se, {
                                            value: y.name,
                                            children: y.name
                                        }, y.id))
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        })]
                    }), r.jsx(Xe, {
                        control: h.control,
                        name: "goodsType",
                        render: ({field: w}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Type de marchandise"
                            }), r.jsxs(Vt, {
                                onValueChange: w.onChange,
                                value: w.value,
                                children: [r.jsx(Ge, {
                                    children: r.jsx(Mt, {
                                        "data-testid": "select-goods-type",
                                        children: r.jsx(Bt, {
                                            placeholder: "Slectionner"
                                        })
                                    })
                                }), r.jsx(Ot, {
                                    children: fU.map(y => r.jsx(Se, {
                                        value: y,
                                        children: y
                                    }, y))
                                })]
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: h.control,
                        name: "description",
                        render: ({field: w}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Description"
                            }), r.jsx(Ge, {
                                children: r.jsx(Cs, {
                                    placeholder: "Dcrivez votre demande de transport...",
                                    className: "min-h-24",
                                    "data-testid": "input-description",
                                    ...w
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: h.control,
                        name: "budget",
                        render: ({field: w}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Budget (optionnel)"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    placeholder: "ex: 500 MAD",
                                    "data-testid": "input-budget",
                                    ...w
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: h.control,
                        name: "dateTime",
                        render: ({field: w}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Date et heure souhaites (optionnel)"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    type: "datetime-local",
                                    "data-testid": "input-datetime",
                                    ...w
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "grid gap-4 grid-cols-2",
                        children: [r.jsx(Xe, {
                            control: h.control,
                            name: "dateFlexible",
                            render: ({field: w}) => r.jsxs(qe, {
                                className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                children: [r.jsx(Ge, {
                                    children: r.jsx(Td, {
                                        checked: w.value,
                                        onCheckedChange: w.onChange,
                                        "data-testid": "checkbox-date-flexible"
                                    })
                                }), r.jsx("div", {
                                    className: "space-y-1 leading-none",
                                    children: r.jsx(Ue, {
                                        className: "cursor-pointer",
                                        children: "Date flexible"
                                    })
                                })]
                            })
                        }), r.jsx(Xe, {
                            control: h.control,
                            name: "invoiceRequired",
                            render: ({field: w}) => r.jsxs(qe, {
                                className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                children: [r.jsx(Ge, {
                                    children: r.jsx(Td, {
                                        checked: w.value,
                                        onCheckedChange: w.onChange,
                                        "data-testid": "checkbox-invoice-required"
                                    })
                                }), r.jsx("div", {
                                    className: "space-y-1 leading-none",
                                    children: r.jsx(Ue, {
                                        className: "cursor-pointer",
                                        children: "Besoin d'une facture TTC"
                                    })
                                })]
                            })
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            className: "text-sm font-medium",
                            children: "Photos (optionnel)"
                        }), r.jsxs("div", {
                            className: "border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",
                            children: [r.jsx("input", {
                                type: "file",
                                multiple: !0,
                                accept: "image/*",
                                onChange: x,
                                className: "hidden",
                                id: "photo-upload",
                                "data-testid": "input-photos"
                            }), r.jsxs("label", {
                                htmlFor: "photo-upload",
                                className: "cursor-pointer",
                                children: [r.jsx(Bd, {
                                    className: "mx-auto h-10 w-10 text-muted-foreground mb-2"
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: t.length > 0 ? `${t.length} photo(s) slectionne(s)` : "Cliquez pour ajouter des photos"
                                })]
                            })]
                        })]
                    }), r.jsx(E, {
                        type: "submit",
                        size: "lg",
                        className: "w-full",
                        "data-testid": "button-create-request",
                        children: "Publier la demande"
                    })]
                })
            })
        }), r.jsx(uU, {
            open: s,
            onOpenChange: w => {
                a(w),
                w || (h.reset(),
                n([]),
                e == null || e())
            }
            ,
            requestId: l,
            transporters: i
        })]
    })
}
function pU({offer: e, onAccept: t, onDecline: n, onChat: s}) {
    const a = e.status === "accepted"
      , i = e.status === "pending"
      , o = c => {
        if (!c)
            return "";
        try {
            const d = new Date(c);
            return Dt(d, "d MMMM yyyy", {
                locale: Xt
            })
        } catch {
            return c
        }
    }
      , l = c => c === "return" ? "Retour (camion vide qui rentre)" : c === "shared" ? "Groupage / Partag" : "";
    return r.jsxs(J, {
        className: "overflow-hidden hover-elevate",
        children: [r.jsx(te, {
            className: "p-4 space-y-4",
            children: r.jsxs("div", {
                className: "flex items-start gap-4",
                children: [r.jsx("div", {
                    className: "w-20 h-20 rounded-lg overflow-hidden bg-muted flex-shrink-0",
                    children: e.truckPhoto ? r.jsx("img", {
                        src: e.truckPhoto,
                        alt: "Camion",
                        className: "w-full h-full object-cover"
                    }) : r.jsx("div", {
                        className: "w-full h-full flex items-center justify-center",
                        children: r.jsx(At, {
                            className: "w-8 h-8 text-muted-foreground"
                        })
                    })
                }), r.jsxs("div", {
                    className: "flex-1 min-w-0",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-1",
                        children: [r.jsx("h3", {
                            className: "font-semibold text-lg truncate",
                            "data-testid": `text-transporter-${e.id}`,
                            children: e.transporterName || "Transporteur"
                        }), a && r.jsx(de, {
                            variant: "default",
                            className: "bg-green-600",
                            children: "Accepte"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center gap-1 mb-2",
                        children: [[...Array(5)].map( (c, d) => r.jsx(Xs, {
                            className: `w-4 h-4 ${d < Math.floor(e.rating) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                        }, d)), r.jsx("span", {
                            className: "text-sm font-medium text-foreground ml-1",
                            children: e.rating > 0 ? e.rating.toFixed(1) : "0.0"
                        }), r.jsxs("span", {
                            className: "text-sm text-muted-foreground",
                            children: ["(", e.totalTrips, " ", e.totalTrips === 1 ? "course ralise" : "courses ralises", ")"]
                        })]
                    }), r.jsxs("div", {
                        className: "text-2xl font-bold text-primary mb-3",
                        "data-testid": `text-amount-${e.id}`,
                        children: [e.clientAmount || e.amount, " MAD"]
                    }), r.jsxs("div", {
                        className: "space-y-1.5 text-sm",
                        children: [e.pickupDate && r.jsxs("div", {
                            className: "flex items-center gap-2 text-foreground",
                            "data-testid": `text-pickup-date-${e.id}`,
                            children: [r.jsx(Or, {
                                className: "w-4 h-4 text-muted-foreground flex-shrink-0"
                            }), r.jsxs("span", {
                                children: ["Date de prise en charge : ", r.jsx("span", {
                                    className: "font-medium",
                                    children: o(e.pickupDate)
                                })]
                            })]
                        }), e.loadType && r.jsxs("div", {
                            className: "flex items-center gap-2 text-foreground",
                            "data-testid": `text-load-type-${e.id}`,
                            children: [r.jsx(At, {
                                className: "w-4 h-4 text-muted-foreground flex-shrink-0"
                            }), r.jsxs("span", {
                                children: ["Type de chargement : ", r.jsx("span", {
                                    className: "font-medium",
                                    children: l(e.loadType)
                                })]
                            })]
                        })]
                    })]
                })]
            })
        }), r.jsxs(kv, {
            className: "p-4 pt-0 gap-2 flex-col sm:flex-row",
            children: [!a && i && r.jsxs(r.Fragment, {
                children: [r.jsx(E, {
                    onClick: () => t(e.id),
                    className: "w-full sm:flex-1",
                    size: "lg",
                    "data-testid": `button-accept-${e.id}`,
                    children: "Choisir cette offre"
                }), r.jsx(E, {
                    onClick: () => n(e.id),
                    variant: "destructive",
                    className: "w-full sm:flex-1",
                    size: "lg",
                    "data-testid": `button-decline-${e.id}`,
                    children: "Dcliner"
                })]
            }), r.jsxs(E, {
                onClick: s,
                variant: a ? "default" : "outline",
                className: a ? "w-full gap-2" : "w-full sm:flex-1",
                size: "lg",
                "data-testid": `button-chat-${e.id}`,
                children: [r.jsx(Ln, {
                    className: "h-5 w-5"
                }), "Envoyer un message"]
            })]
        })]
    })
}
var iy = "Avatar"
  , [xU,fW] = sr(iy)
  , [gU,R_] = xU(iy)
  , I_ = m.forwardRef( (e, t) => {
    const {__scopeAvatar: n, ...s} = e
      , [a,i] = m.useState("idle");
    return r.jsx(gU, {
        scope: n,
        imageLoadingStatus: a,
        onImageLoadingStatusChange: i,
        children: r.jsx(Le.span, {
            ...s,
            ref: t
        })
    })
}
);
I_.displayName = iy;
var D_ = "AvatarImage"
  , M_ = m.forwardRef( (e, t) => {
    const {__scopeAvatar: n, src: s, onLoadingStatusChange: a= () => {}
    , ...i} = e
      , o = R_(D_, n)
      , l = vU(s, i)
      , c = en(d => {
        a(d),
        o.onImageLoadingStatusChange(d)
    }
    );
    return kn( () => {
        l !== "idle" && c(l)
    }
    , [l, c]),
    l === "loaded" ? r.jsx(Le.img, {
        ...i,
        ref: t,
        src: s
    }) : null
}
);
M_.displayName = D_;
var O_ = "AvatarFallback"
  , L_ = m.forwardRef( (e, t) => {
    const {__scopeAvatar: n, delayMs: s, ...a} = e
      , i = R_(O_, n)
      , [o,l] = m.useState(s === void 0);
    return m.useEffect( () => {
        if (s !== void 0) {
            const c = window.setTimeout( () => l(!0), s);
            return () => window.clearTimeout(c)
        }
    }
    , [s]),
    o && i.imageLoadingStatus !== "loaded" ? r.jsx(Le.span, {
        ...a,
        ref: t
    }) : null
}
);
L_.displayName = O_;
function Yw(e, t) {
    return e ? t ? (e.src !== t && (e.src = t),
    e.complete && e.naturalWidth > 0 ? "loaded" : "loading") : "error" : "idle"
}
function vU(e, {referrerPolicy: t, crossOrigin: n}) {
    const s = jU()
      , a = m.useRef(null)
      , i = s ? (a.current || (a.current = new window.Image),
    a.current) : null
      , [o,l] = m.useState( () => Yw(i, e));
    return kn( () => {
        l(Yw(i, e))
    }
    , [i, e]),
    kn( () => {
        const c = f => () => {
            l(f)
        }
        ;
        if (!i)
            return;
        const d = c("loaded")
          , u = c("error");
        return i.addEventListener("load", d),
        i.addEventListener("error", u),
        t && (i.referrerPolicy = t),
        typeof n == "string" && (i.crossOrigin = n),
        () => {
            i.removeEventListener("load", d),
            i.removeEventListener("error", u)
        }
    }
    , [i, n, t]),
    o
}
function yU() {
    return () => {}
}
function jU() {
    return m.useSyncExternalStore(yU, () => !0, () => !1)
}
var F_ = I_
  , $_ = M_
  , z_ = L_;
const V_ = m.forwardRef( ({className: e, ...t}, n) => r.jsx(F_, {
    ref: n,
    className: pe(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`, e),
    ...t
}));
V_.displayName = F_.displayName;
const wU = m.forwardRef( ({className: e, ...t}, n) => r.jsx($_, {
    ref: n,
    className: pe("aspect-square h-full w-full", e),
    ...t
}));
wU.displayName = $_.displayName;
const B_ = m.forwardRef( ({className: e, ...t}, n) => r.jsx(z_, {
    ref: n,
    className: pe("flex h-full w-full items-center justify-center rounded-full bg-muted", e),
    ...t
}));
B_.displayName = z_.displayName;
function NU(e, t) {
    return m.useReducer( (n, s) => t[n][s] ?? n, e)
}
var oy = "ScrollArea"
  , [U_,hW] = sr(oy)
  , [bU,is] = U_(oy)
  , q_ = m.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, type: s="hover", dir: a, scrollHideDelay: i=600, ...o} = e
      , [l,c] = m.useState(null)
      , [d,u] = m.useState(null)
      , [f,h] = m.useState(null)
      , [x,j] = m.useState(null)
      , [v,w] = m.useState(null)
      , [y,p] = m.useState(0)
      , [g,b] = m.useState(0)
      , [k,S] = m.useState(!1)
      , [C,T] = m.useState(!1)
      , D = at(t, G => c(G))
      , L = Ql(a);
    return r.jsx(bU, {
        scope: n,
        type: s,
        dir: L,
        scrollHideDelay: i,
        scrollArea: l,
        viewport: d,
        onViewportChange: u,
        content: f,
        onContentChange: h,
        scrollbarX: x,
        onScrollbarXChange: j,
        scrollbarXEnabled: k,
        onScrollbarXEnabledChange: S,
        scrollbarY: v,
        onScrollbarYChange: w,
        scrollbarYEnabled: C,
        onScrollbarYEnabledChange: T,
        onCornerWidthChange: p,
        onCornerHeightChange: b,
        children: r.jsx(Le.div, {
            dir: L,
            ...o,
            ref: D,
            style: {
                position: "relative",
                "--radix-scroll-area-corner-width": y + "px",
                "--radix-scroll-area-corner-height": g + "px",
                ...e.style
            }
        })
    })
}
);
q_.displayName = oy;
var W_ = "ScrollAreaViewport"
  , H_ = m.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, children: s, nonce: a, ...i} = e
      , o = is(W_, n)
      , l = m.useRef(null)
      , c = at(t, l, o.onViewportChange);
    return r.jsxs(r.Fragment, {
        children: [r.jsx("style", {
            dangerouslySetInnerHTML: {
                __html: "[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"
            },
            nonce: a
        }), r.jsx(Le.div, {
            "data-radix-scroll-area-viewport": "",
            ...i,
            ref: c,
            style: {
                overflowX: o.scrollbarXEnabled ? "scroll" : "hidden",
                overflowY: o.scrollbarYEnabled ? "scroll" : "hidden",
                ...e.style
            },
            children: r.jsx("div", {
                ref: o.onContentChange,
                style: {
                    minWidth: "100%",
                    display: "table"
                },
                children: s
            })
        })]
    })
}
);
H_.displayName = W_;
var ta = "ScrollAreaScrollbar"
  , ly = m.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = is(ta, e.__scopeScrollArea)
      , {onScrollbarXEnabledChange: i, onScrollbarYEnabledChange: o} = a
      , l = e.orientation === "horizontal";
    return m.useEffect( () => (l ? i(!0) : o(!0),
    () => {
        l ? i(!1) : o(!1)
    }
    ), [l, i, o]),
    a.type === "hover" ? r.jsx(SU, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "scroll" ? r.jsx(CU, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "auto" ? r.jsx(K_, {
        ...s,
        ref: t,
        forceMount: n
    }) : a.type === "always" ? r.jsx(cy, {
        ...s,
        ref: t
    }) : null
}
);
ly.displayName = ta;
var SU = m.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = is(ta, e.__scopeScrollArea)
      , [i,o] = m.useState(!1);
    return m.useEffect( () => {
        const l = a.scrollArea;
        let c = 0;
        if (l) {
            const d = () => {
                window.clearTimeout(c),
                o(!0)
            }
              , u = () => {
                c = window.setTimeout( () => o(!1), a.scrollHideDelay)
            }
            ;
            return l.addEventListener("pointerenter", d),
            l.addEventListener("pointerleave", u),
            () => {
                window.clearTimeout(c),
                l.removeEventListener("pointerenter", d),
                l.removeEventListener("pointerleave", u)
            }
        }
    }
    , [a.scrollArea, a.scrollHideDelay]),
    r.jsx(Qn, {
        present: n || i,
        children: r.jsx(K_, {
            "data-state": i ? "visible" : "hidden",
            ...s,
            ref: t
        })
    })
}
)
  , CU = m.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = is(ta, e.__scopeScrollArea)
      , i = e.orientation === "horizontal"
      , o = sh( () => c("SCROLL_END"), 100)
      , [l,c] = NU("hidden", {
        hidden: {
            SCROLL: "scrolling"
        },
        scrolling: {
            SCROLL_END: "idle",
            POINTER_ENTER: "interacting"
        },
        interacting: {
            SCROLL: "interacting",
            POINTER_LEAVE: "idle"
        },
        idle: {
            HIDE: "hidden",
            SCROLL: "scrolling",
            POINTER_ENTER: "interacting"
        }
    });
    return m.useEffect( () => {
        if (l === "idle") {
            const d = window.setTimeout( () => c("HIDE"), a.scrollHideDelay);
            return () => window.clearTimeout(d)
        }
    }
    , [l, a.scrollHideDelay, c]),
    m.useEffect( () => {
        const d = a.viewport
          , u = i ? "scrollLeft" : "scrollTop";
        if (d) {
            let f = d[u];
            const h = () => {
                const x = d[u];
                f !== x && (c("SCROLL"),
                o()),
                f = x
            }
            ;
            return d.addEventListener("scroll", h),
            () => d.removeEventListener("scroll", h)
        }
    }
    , [a.viewport, i, c, o]),
    r.jsx(Qn, {
        present: n || l !== "hidden",
        children: r.jsx(cy, {
            "data-state": l === "hidden" ? "hidden" : "visible",
            ...s,
            ref: t,
            onPointerEnter: ue(e.onPointerEnter, () => c("POINTER_ENTER")),
            onPointerLeave: ue(e.onPointerLeave, () => c("POINTER_LEAVE"))
        })
    })
}
)
  , K_ = m.forwardRef( (e, t) => {
    const n = is(ta, e.__scopeScrollArea)
      , {forceMount: s, ...a} = e
      , [i,o] = m.useState(!1)
      , l = e.orientation === "horizontal"
      , c = sh( () => {
        if (n.viewport) {
            const d = n.viewport.offsetWidth < n.viewport.scrollWidth
              , u = n.viewport.offsetHeight < n.viewport.scrollHeight;
            o(l ? d : u)
        }
    }
    , 10);
    return Ml(n.viewport, c),
    Ml(n.content, c),
    r.jsx(Qn, {
        present: s || i,
        children: r.jsx(cy, {
            "data-state": i ? "visible" : "hidden",
            ...a,
            ref: t
        })
    })
}
)
  , cy = m.forwardRef( (e, t) => {
    const {orientation: n="vertical", ...s} = e
      , a = is(ta, e.__scopeScrollArea)
      , i = m.useRef(null)
      , o = m.useRef(0)
      , [l,c] = m.useState({
        content: 0,
        viewport: 0,
        scrollbar: {
            size: 0,
            paddingStart: 0,
            paddingEnd: 0
        }
    })
      , d = Z_(l.viewport, l.content)
      , u = {
        ...s,
        sizes: l,
        onSizesChange: c,
        hasThumb: d > 0 && d < 1,
        onThumbChange: h => i.current = h,
        onThumbPointerUp: () => o.current = 0,
        onThumbPointerDown: h => o.current = h
    };
    function f(h, x) {
        return AU(h, o.current, l, x)
    }
    return n === "horizontal" ? r.jsx(kU, {
        ...u,
        ref: t,
        onThumbPositionChange: () => {
            if (a.viewport && i.current) {
                const h = a.viewport.scrollLeft
                  , x = Zw(h, l, a.dir);
                i.current.style.transform = `translate3d(${x}px, 0, 0)`
            }
        }
        ,
        onWheelScroll: h => {
            a.viewport && (a.viewport.scrollLeft = h)
        }
        ,
        onDragScroll: h => {
            a.viewport && (a.viewport.scrollLeft = f(h, a.dir))
        }
    }) : n === "vertical" ? r.jsx(TU, {
        ...u,
        ref: t,
        onThumbPositionChange: () => {
            if (a.viewport && i.current) {
                const h = a.viewport.scrollTop
                  , x = Zw(h, l);
                i.current.style.transform = `translate3d(0, ${x}px, 0)`
            }
        }
        ,
        onWheelScroll: h => {
            a.viewport && (a.viewport.scrollTop = h)
        }
        ,
        onDragScroll: h => {
            a.viewport && (a.viewport.scrollTop = f(h))
        }
    }) : null
}
)
  , kU = m.forwardRef( (e, t) => {
    const {sizes: n, onSizesChange: s, ...a} = e
      , i = is(ta, e.__scopeScrollArea)
      , [o,l] = m.useState()
      , c = m.useRef(null)
      , d = at(t, c, i.onScrollbarXChange);
    return m.useEffect( () => {
        c.current && l(getComputedStyle(c.current))
    }
    , [c]),
    r.jsx(G_, {
        "data-orientation": "horizontal",
        ...a,
        ref: d,
        sizes: n,
        style: {
            bottom: 0,
            left: i.dir === "rtl" ? "var(--radix-scroll-area-corner-width)" : 0,
            right: i.dir === "ltr" ? "var(--radix-scroll-area-corner-width)" : 0,
            "--radix-scroll-area-thumb-width": rh(n) + "px",
            ...e.style
        },
        onThumbPointerDown: u => e.onThumbPointerDown(u.x),
        onDragScroll: u => e.onDragScroll(u.x),
        onWheelScroll: (u, f) => {
            if (i.viewport) {
                const h = i.viewport.scrollLeft + u.deltaX;
                e.onWheelScroll(h),
                eA(h, f) && u.preventDefault()
            }
        }
        ,
        onResize: () => {
            c.current && i.viewport && o && s({
                content: i.viewport.scrollWidth,
                viewport: i.viewport.offsetWidth,
                scrollbar: {
                    size: c.current.clientWidth,
                    paddingStart: sf(o.paddingLeft),
                    paddingEnd: sf(o.paddingRight)
                }
            })
        }
    })
}
)
  , TU = m.forwardRef( (e, t) => {
    const {sizes: n, onSizesChange: s, ...a} = e
      , i = is(ta, e.__scopeScrollArea)
      , [o,l] = m.useState()
      , c = m.useRef(null)
      , d = at(t, c, i.onScrollbarYChange);
    return m.useEffect( () => {
        c.current && l(getComputedStyle(c.current))
    }
    , [c]),
    r.jsx(G_, {
        "data-orientation": "vertical",
        ...a,
        ref: d,
        sizes: n,
        style: {
            top: 0,
            right: i.dir === "ltr" ? 0 : void 0,
            left: i.dir === "rtl" ? 0 : void 0,
            bottom: "var(--radix-scroll-area-corner-height)",
            "--radix-scroll-area-thumb-height": rh(n) + "px",
            ...e.style
        },
        onThumbPointerDown: u => e.onThumbPointerDown(u.y),
        onDragScroll: u => e.onDragScroll(u.y),
        onWheelScroll: (u, f) => {
            if (i.viewport) {
                const h = i.viewport.scrollTop + u.deltaY;
                e.onWheelScroll(h),
                eA(h, f) && u.preventDefault()
            }
        }
        ,
        onResize: () => {
            c.current && i.viewport && o && s({
                content: i.viewport.scrollHeight,
                viewport: i.viewport.offsetHeight,
                scrollbar: {
                    size: c.current.clientHeight,
                    paddingStart: sf(o.paddingTop),
                    paddingEnd: sf(o.paddingBottom)
                }
            })
        }
    })
}
)
  , [PU,Q_] = U_(ta)
  , G_ = m.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, sizes: s, hasThumb: a, onThumbChange: i, onThumbPointerUp: o, onThumbPointerDown: l, onThumbPositionChange: c, onDragScroll: d, onWheelScroll: u, onResize: f, ...h} = e
      , x = is(ta, n)
      , [j,v] = m.useState(null)
      , w = at(t, D => v(D))
      , y = m.useRef(null)
      , p = m.useRef("")
      , g = x.viewport
      , b = s.content - s.viewport
      , k = en(u)
      , S = en(c)
      , C = sh(f, 10);
    function T(D) {
        if (y.current) {
            const L = D.clientX - y.current.left
              , G = D.clientY - y.current.top;
            d({
                x: L,
                y: G
            })
        }
    }
    return m.useEffect( () => {
        const D = L => {
            const G = L.target;
            (j == null ? void 0 : j.contains(G)) && k(L, b)
        }
        ;
        return document.addEventListener("wheel", D, {
            passive: !1
        }),
        () => document.removeEventListener("wheel", D, {
            passive: !1
        })
    }
    , [g, j, b, k]),
    m.useEffect(S, [s, S]),
    Ml(j, C),
    Ml(x.content, C),
    r.jsx(PU, {
        scope: n,
        scrollbar: j,
        hasThumb: a,
        onThumbChange: en(i),
        onThumbPointerUp: en(o),
        onThumbPositionChange: S,
        onThumbPointerDown: en(l),
        children: r.jsx(Le.div, {
            ...h,
            ref: w,
            style: {
                position: "absolute",
                ...h.style
            },
            onPointerDown: ue(e.onPointerDown, D => {
                D.button === 0 && (D.target.setPointerCapture(D.pointerId),
                y.current = j.getBoundingClientRect(),
                p.current = document.body.style.webkitUserSelect,
                document.body.style.webkitUserSelect = "none",
                x.viewport && (x.viewport.style.scrollBehavior = "auto"),
                T(D))
            }
            ),
            onPointerMove: ue(e.onPointerMove, T),
            onPointerUp: ue(e.onPointerUp, D => {
                const L = D.target;
                L.hasPointerCapture(D.pointerId) && L.releasePointerCapture(D.pointerId),
                document.body.style.webkitUserSelect = p.current,
                x.viewport && (x.viewport.style.scrollBehavior = ""),
                y.current = null
            }
            )
        })
    })
}
)
  , rf = "ScrollAreaThumb"
  , X_ = m.forwardRef( (e, t) => {
    const {forceMount: n, ...s} = e
      , a = Q_(rf, e.__scopeScrollArea);
    return r.jsx(Qn, {
        present: n || a.hasThumb,
        children: r.jsx(EU, {
            ref: t,
            ...s
        })
    })
}
)
  , EU = m.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, style: s, ...a} = e
      , i = is(rf, n)
      , o = Q_(rf, n)
      , {onThumbPositionChange: l} = o
      , c = at(t, f => o.onThumbChange(f))
      , d = m.useRef(void 0)
      , u = sh( () => {
        d.current && (d.current(),
        d.current = void 0)
    }
    , 100);
    return m.useEffect( () => {
        const f = i.viewport;
        if (f) {
            const h = () => {
                if (u(),
                !d.current) {
                    const x = RU(f, l);
                    d.current = x,
                    l()
                }
            }
            ;
            return l(),
            f.addEventListener("scroll", h),
            () => f.removeEventListener("scroll", h)
        }
    }
    , [i.viewport, u, l]),
    r.jsx(Le.div, {
        "data-state": o.hasThumb ? "visible" : "hidden",
        ...a,
        ref: c,
        style: {
            width: "var(--radix-scroll-area-thumb-width)",
            height: "var(--radix-scroll-area-thumb-height)",
            ...s
        },
        onPointerDownCapture: ue(e.onPointerDownCapture, f => {
            const x = f.target.getBoundingClientRect()
              , j = f.clientX - x.left
              , v = f.clientY - x.top;
            o.onThumbPointerDown({
                x: j,
                y: v
            })
        }
        ),
        onPointerUp: ue(e.onPointerUp, o.onThumbPointerUp)
    })
}
);
X_.displayName = rf;
var dy = "ScrollAreaCorner"
  , Y_ = m.forwardRef( (e, t) => {
    const n = is(dy, e.__scopeScrollArea)
      , s = !!(n.scrollbarX && n.scrollbarY);
    return n.type !== "scroll" && s ? r.jsx(_U, {
        ...e,
        ref: t
    }) : null
}
);
Y_.displayName = dy;
var _U = m.forwardRef( (e, t) => {
    const {__scopeScrollArea: n, ...s} = e
      , a = is(dy, n)
      , [i,o] = m.useState(0)
      , [l,c] = m.useState(0)
      , d = !!(i && l);
    return Ml(a.scrollbarX, () => {
        var f;
        const u = ((f = a.scrollbarX) == null ? void 0 : f.offsetHeight) || 0;
        a.onCornerHeightChange(u),
        c(u)
    }
    ),
    Ml(a.scrollbarY, () => {
        var f;
        const u = ((f = a.scrollbarY) == null ? void 0 : f.offsetWidth) || 0;
        a.onCornerWidthChange(u),
        o(u)
    }
    ),
    d ? r.jsx(Le.div, {
        ...s,
        ref: t,
        style: {
            width: i,
            height: l,
            position: "absolute",
            right: a.dir === "ltr" ? 0 : void 0,
            left: a.dir === "rtl" ? 0 : void 0,
            bottom: 0,
            ...e.style
        }
    }) : null
}
);
function sf(e) {
    return e ? parseInt(e, 10) : 0
}
function Z_(e, t) {
    const n = e / t;
    return isNaN(n) ? 0 : n
}
function rh(e) {
    const t = Z_(e.viewport, e.content)
      , n = e.scrollbar.paddingStart + e.scrollbar.paddingEnd
      , s = (e.scrollbar.size - n) * t;
    return Math.max(s, 18)
}
function AU(e, t, n, s="ltr") {
    const a = rh(n)
      , i = a / 2
      , o = t || i
      , l = a - o
      , c = n.scrollbar.paddingStart + o
      , d = n.scrollbar.size - n.scrollbar.paddingEnd - l
      , u = n.content - n.viewport
      , f = s === "ltr" ? [0, u] : [u * -1, 0];
    return J_([c, d], f)(e)
}
function Zw(e, t, n="ltr") {
    const s = rh(t)
      , a = t.scrollbar.paddingStart + t.scrollbar.paddingEnd
      , i = t.scrollbar.size - a
      , o = t.content - t.viewport
      , l = i - s
      , c = n === "ltr" ? [0, o] : [o * -1, 0]
      , d = Qx(e, c);
    return J_([0, o], [0, l])(d)
}
function J_(e, t) {
    return n => {
        if (e[0] === e[1] || t[0] === t[1])
            return t[0];
        const s = (t[1] - t[0]) / (e[1] - e[0]);
        return t[0] + s * (n - e[0])
    }
}
function eA(e, t) {
    return e > 0 && e < t
}
var RU = (e, t= () => {}
) => {
    let n = {
        left: e.scrollLeft,
        top: e.scrollTop
    }
      , s = 0;
    return function a() {
        const i = {
            left: e.scrollLeft,
            top: e.scrollTop
        }
          , o = n.left !== i.left
          , l = n.top !== i.top;
        (o || l) && t(),
        n = i,
        s = window.requestAnimationFrame(a)
    }(),
    () => window.cancelAnimationFrame(s)
}
;
function sh(e, t) {
    const n = en(e)
      , s = m.useRef(0);
    return m.useEffect( () => () => window.clearTimeout(s.current), []),
    m.useCallback( () => {
        window.clearTimeout(s.current),
        s.current = window.setTimeout(n, t)
    }
    , [n, t])
}
function Ml(e, t) {
    const n = en(t);
    kn( () => {
        let s = 0;
        if (e) {
            const a = new ResizeObserver( () => {
                cancelAnimationFrame(s),
                s = window.requestAnimationFrame(n)
            }
            );
            return a.observe(e),
            () => {
                window.cancelAnimationFrame(s),
                a.unobserve(e)
            }
        }
    }
    , [e, n])
}
var tA = q_
  , IU = H_
  , DU = Y_;
const nA = m.forwardRef( ({className: e, children: t, ...n}, s) => r.jsxs(tA, {
    ref: s,
    className: pe("relative overflow-hidden", e),
    ...n,
    children: [r.jsx(IU, {
        className: "h-full w-full rounded-[inherit]",
        children: t
    }), r.jsx(rA, {}), r.jsx(DU, {})]
}));
nA.displayName = tA.displayName;
const rA = m.forwardRef( ({className: e, orientation: t="vertical", ...n}, s) => r.jsx(ly, {
    ref: s,
    orientation: t,
    className: pe("flex touch-none select-none transition-colors", t === "vertical" && "h-full w-2.5 border-l border-l-transparent p-[1px]", t === "horizontal" && "h-2.5 flex-col border-t border-t-transparent p-[1px]", e),
    ...n,
    children: r.jsx(X_, {
        className: "relative flex-1 rounded-full bg-border"
    })
}));
rA.displayName = ly.displayName;
function sA({onVoiceRecorded: e, disabled: t}) {
    const [n,s] = m.useState(!1)
      , [a,i] = m.useState(0)
      , [o,l] = m.useState(!1)
      , c = m.useRef(null)
      , d = m.useRef([])
      , u = m.useRef(null)
      , {toast: f} = Ht()
      , h = 60;
    m.useEffect( () => () => {
        u.current && clearInterval(u.current)
    }
    , []);
    const x = async () => {
        try {
            const w = await navigator.mediaDevices.getUserMedia({
                audio: !0
            })
              , y = new MediaRecorder(w,{
                mimeType: MediaRecorder.isTypeSupported("audio/webm") ? "audio/webm" : "audio/mp4"
            });
            c.current = y,
            d.current = [],
            y.ondataavailable = p => {
                p.data.size > 0 && d.current.push(p.data)
            }
            ,
            y.onstop = () => {
                const p = new Blob(d.current,{
                    type: y.mimeType
                });
                if (console.log("Voice recording completed:", {
                    size: p.size,
                    type: p.type,
                    chunks: d.current.length
                }),
                p.size === 0) {
                    f({
                        variant: "destructive",
                        title: "Erreur",
                        description: "L'enregistrement est vide"
                    }),
                    l(!1),
                    w.getTracks().forEach(g => g.stop());
                    return
                }
                e(p),
                w.getTracks().forEach(g => g.stop()),
                l(!1)
            }
            ,
            y.start(),
            s(!0),
            i(0),
            u.current = setInterval( () => {
                i(p => {
                    const g = p + 1;
                    return g >= h && (j(),
                    f({
                        title: "Limite atteinte",
                        description: "Dure maximale d'enregistrement: 1 minute"
                    })),
                    g
                }
                )
            }
            , 1e3)
        } catch (w) {
            console.error("Error accessing microphone:", w),
            f({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible d'accder au microphone"
            })
        }
    }
      , j = () => {
        c.current && n && (l(!0),
        c.current.stop(),
        s(!1),
        u.current && (clearInterval(u.current),
        u.current = null))
    }
      , v = w => {
        const y = Math.floor(w / 60)
          , p = w % 60;
        return `${y}:${p.toString().padStart(2, "0")}`
    }
    ;
    return n ? r.jsxs("div", {
        className: "flex items-center gap-2",
        children: [r.jsx(E, {
            onClick: j,
            size: "icon",
            variant: "destructive",
            "data-testid": "button-stop-recording",
            children: r.jsx(qL, {
                className: "h-4 w-4"
            })
        }), r.jsxs("span", {
            className: "text-sm text-muted-foreground",
            children: [v(a), " / ", v(h)]
        })]
    }) : o ? r.jsx(E, {
        size: "icon",
        disabled: !0,
        children: r.jsx(vk, {
            className: "h-4 w-4 animate-spin"
        })
    }) : r.jsx(E, {
        onClick: x,
        size: "icon",
        variant: "outline",
        disabled: t,
        "data-testid": "button-start-recording",
        children: r.jsx(zL, {
            className: "h-4 w-4"
        })
    })
}
function aA({audioUrl: e}) {
    const [t,n] = m.useState(!1)
      , [s,a] = m.useState(0)
      , [i,o] = m.useState(0)
      , l = m.useRef(null);
    m.useEffect( () => {
        const f = l.current;
        if (!f)
            return;
        const h = () => {
            o(f.duration)
        }
          , x = () => {
            a(f.currentTime)
        }
          , j = () => {
            n(!1),
            a(0)
        }
        ;
        return f.addEventListener("loadedmetadata", h),
        f.addEventListener("timeupdate", x),
        f.addEventListener("ended", j),
        () => {
            f.removeEventListener("loadedmetadata", h),
            f.removeEventListener("timeupdate", x),
            f.removeEventListener("ended", j)
        }
    }
    , []);
    const c = () => {
        const f = l.current;
        f && (t ? f.pause() : f.play(),
        n(!t))
    }
      , d = f => {
        const h = l.current;
        if (!h)
            return;
        const x = parseFloat(f.target.value);
        h.currentTime = x,
        a(x)
    }
      , u = f => {
        const h = Math.floor(f / 60)
          , x = Math.floor(f % 60);
        return `${h}:${x.toString().padStart(2, "0")}`
    }
    ;
    return r.jsxs("div", {
        className: "flex items-center gap-2 bg-muted/50 rounded-lg p-3 min-w-[250px]",
        children: [r.jsx("audio", {
            ref: l,
            src: e,
            preload: "metadata"
        }), r.jsx(E, {
            onClick: c,
            size: "icon",
            variant: "ghost",
            className: "shrink-0",
            "data-testid": "button-play-pause-voice",
            children: t ? r.jsx(VL, {
                className: "h-4 w-4"
            }) : r.jsx(yk, {
                className: "h-4 w-4"
            })
        }), r.jsxs("div", {
            className: "flex-1 space-y-1",
            children: [r.jsx("input", {
                type: "range",
                min: 0,
                max: i || 0,
                value: s,
                onChange: d,
                className: "w-full h-1 bg-primary/20 rounded-lg appearance-none cursor-pointer",
                style: {
                    background: `linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${s / i * 100}%, hsl(var(--primary) / 0.2) ${s / i * 100}%, hsl(var(--primary) / 0.2) 100%)`
                }
            }), r.jsxs("div", {
                className: "flex justify-between text-xs text-muted-foreground",
                children: [r.jsx("span", {
                    children: u(s)
                }), r.jsx("span", {
                    children: u(i)
                })]
            })]
        })]
    })
}
function ah({open: e, onClose: t, otherUser: n, currentUserId: s, currentUserRole: a, requestId: i}) {
    const [o,l] = m.useState("")
      , [c,d] = m.useState(null)
      , [u,f] = m.useState(!1)
      , h = m.useRef(null)
      , x = m.useRef(null)
      , {toast: j} = Ht()
      , {data: v=[], refetch: w} = Oe({
        queryKey: [`/api/chat/messages?requestId=${i}`],
        enabled: e && !!i,
        refetchInterval: 5e3
    });
    m.useEffect( () => {
        h.current && (h.current.scrollTop = h.current.scrollHeight)
    }
    , [v]),
    m.useEffect( () => {
        if (!e) {
            c && (c.close(),
            d(null));
            return
        }
        const C = `${window.location.protocol === "https:" ? "wss:" : "ws:"}//${window.location.host}/ws-chat`
          , T = new WebSocket(C);
        return T.onopen = () => {
            console.log("Chat WebSocket connected")
        }
        ,
        T.onmessage = D => {
            try {
                const L = JSON.parse(D.data);
                L.type === "chat" && L.requestId === i && w()
            } catch (L) {
                console.error("WebSocket message error:", L)
            }
        }
        ,
        T.onerror = D => {
            console.error("WebSocket error:", D)
        }
        ,
        d(T),
        () => {
            T.close(),
            d(null)
        }
    }
    , [e, i, w]);
    const y = Fe({
        mutationFn: async S => Ae("POST", "/api/chat/messages", {
            requestId: i,
            senderId: s,
            receiverId: n.id,
            senderType: a,
            ...S
        }),
        onSuccess: S => {
            c && c.readyState === WebSocket.OPEN && c.send(JSON.stringify({
                type: "chat",
                requestId: i,
                message: S
            })),
            le.invalidateQueries({
                queryKey: [`/api/chat/messages?requestId=${i}`]
            }),
            l("")
        }
    })
      , p = async S => {
        try {
            console.log("Starting voice upload:", {
                size: S.size,
                type: S.type
            });
            const C = new FormData
              , T = `voice-${Date.now()}.webm`;
            C.append("audio", S, T),
            console.log("Sending to /api/messages/upload-voice...");
            const D = await fetch("/api/messages/upload-voice", {
                method: "POST",
                body: C
            });
            if (console.log("Response status:", D.status),
            !D.ok) {
                const M = await D.json().catch( () => ({
                    error: "Unknown error"
                }));
                throw console.error("Upload error response:", M),
                new Error(M.error || "Upload failed")
            }
            const L = await D.json();
            console.log("Upload successful:", L);
            const {fileUrl: G} = L;
            await y.mutateAsync({
                messageType: "voice",
                fileUrl: G
            })
        } catch (C) {
            console.error("Voice message error:", C),
            j({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du message vocal"
            })
        }
    }
      , g = async S => {
        try {
            if (f(!0),
            console.log("Starting media upload:", {
                size: S.size,
                type: S.type,
                name: S.name
            }),
            S.size > 10 * 1024 * 1024) {
                j({
                    variant: "destructive",
                    title: "Erreur",
                    description: "Le fichier est trop volumineux (max 10MB)"
                });
                return
            }
            const C = new FormData;
            C.append("media", S);
            const T = await fetch("/api/messages/upload-media", {
                method: "POST",
                body: C
            });
            if (!T.ok) {
                const U = await T.json().catch( () => ({
                    error: "Erreur inconnue"
                }));
                throw new Error(U.error || "Upload chou")
            }
            const D = await T.json()
              , {fileUrl: L, fileName: G, fileSize: M, messageType: H} = D;
            await y.mutateAsync({
                messageType: H,
                fileUrl: L,
                fileName: G,
                fileSize: M
            }),
            j({
                title: "Mdia envoy",
                description: "Le fichier a t envoy avec succs"
            })
        } catch (C) {
            console.error("Media upload error:", C),
            j({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du mdia"
            })
        } finally {
            f(!1),
            x.current && (x.current.value = "")
        }
    }
      , b = S => {
        var T;
        const C = (T = S.target.files) == null ? void 0 : T[0];
        C && g(C)
    }
      , k = () => {
        const S = o.trim();
        S && y.mutate({
            message: S,
            messageType: "text"
        })
    }
    ;
    return e ? r.jsxs(J, {
        className: "fixed bottom-4 right-4 w-96 max-w-[calc(100vw-2rem)] h-[500px] flex flex-col z-50 shadow-xl",
        children: [r.jsxs(ye, {
            className: "flex-row items-center justify-between space-y-0 pb-4 border-b",
            children: [r.jsxs("div", {
                className: "flex items-center gap-3",
                children: [r.jsx(V_, {
                    children: r.jsx(B_, {
                        children: n.name[0]
                    })
                }), r.jsxs("div", {
                    children: [r.jsx(we, {
                        className: "text-base",
                        children: n.name
                    }), r.jsx("p", {
                        className: "text-xs text-muted-foreground capitalize",
                        children: n.role
                    })]
                })]
            }), r.jsx(E, {
                variant: "ghost",
                size: "icon",
                onClick: t,
                "data-testid": "button-close-chat",
                children: r.jsx(Pi, {
                    className: "h-4 w-4"
                })
            })]
        }), r.jsx(nA, {
            className: "flex-1 p-4",
            ref: h,
            children: r.jsx("div", {
                className: "space-y-4",
                children: v.length === 0 ? r.jsx("p", {
                    className: "text-sm text-muted-foreground text-center py-8",
                    children: "Aucun message. Dmarrez la conversation!"
                }) : v.map(S => {
                    const C = S.senderId === s
                      , T = S.messageType === "voice" || S.messageType === "photo" || S.messageType === "video"
                      , D = S.filteredMessage || S.message;
                    return r.jsx("div", {
                        className: `flex ${C ? "justify-end" : "justify-start"}`,
                        "data-testid": `message-${S.id}`,
                        children: r.jsx("div", {
                            className: `max-w-[80%] ${T ? "" : "rounded-lg px-4 py-2"} ${C ? T ? "" : "bg-primary text-primary-foreground" : T ? "" : "bg-muted"}`,
                            children: S.messageType === "voice" && S.fileUrl ? r.jsx(aA, {
                                audioUrl: S.fileUrl
                            }) : S.messageType === "photo" && S.fileUrl ? r.jsxs("div", {
                                className: "rounded-lg overflow-hidden",
                                children: [r.jsx("img", {
                                    src: S.fileUrl,
                                    alt: "Photo partage",
                                    className: "max-w-full h-auto max-h-64 cursor-pointer hover:opacity-90 transition-opacity",
                                    onClick: () => S.fileUrl && window.open(S.fileUrl, "_blank"),
                                    "data-testid": `img-photo-${S.id}`
                                }), S.fileName && r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1 px-2 pb-1",
                                    children: S.fileName
                                })]
                            }) : S.messageType === "video" && S.fileUrl ? r.jsxs("div", {
                                className: "rounded-lg overflow-hidden",
                                children: [r.jsxs("video", {
                                    controls: !0,
                                    className: "max-w-full h-auto max-h-64",
                                    "data-testid": `video-${S.id}`,
                                    children: [r.jsx("source", {
                                        src: S.fileUrl,
                                        type: "video/mp4"
                                    }), "Votre navigateur ne supporte pas la lecture vido."]
                                }), S.fileName && r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1 px-2 pb-1",
                                    children: S.fileName
                                })]
                            }) : r.jsxs(r.Fragment, {
                                children: [r.jsx("p", {
                                    className: "text-sm",
                                    children: D
                                }), S.filteredMessage && r.jsx("p", {
                                    className: "text-xs opacity-70 mt-1",
                                    children: "[Contenu filtr]"
                                })]
                            })
                        })
                    }, S.id)
                }
                )
            })
        }), r.jsx(te, {
            className: "p-4 pt-0 border-t",
            children: r.jsxs("div", {
                className: "flex gap-2",
                children: [r.jsx(_e, {
                    value: o,
                    onChange: S => l(S.target.value),
                    onKeyPress: S => S.key === "Enter" && !y.isPending && k(),
                    placeholder: "Tapez votre message...",
                    disabled: y.isPending || u,
                    "data-testid": "input-chat-message"
                }), r.jsx("input", {
                    ref: x,
                    type: "file",
                    accept: "image/*,video/*",
                    onChange: b,
                    className: "hidden",
                    "data-testid": "input-file-media"
                }), r.jsx(E, {
                    size: "icon",
                    variant: "ghost",
                    onClick: () => {
                        var S;
                        return (S = x.current) == null ? void 0 : S.click()
                    }
                    ,
                    disabled: y.isPending || u,
                    "data-testid": "button-upload-media",
                    title: "Envoyer une photo ou vido",
                    children: u ? r.jsx(vk, {
                        className: "h-4 w-4 animate-spin"
                    }) : r.jsx(Im, {
                        className: "h-4 w-4"
                    })
                }), r.jsx(sA, {
                    onVoiceRecorded: p,
                    disabled: y.isPending || u
                }), r.jsx(E, {
                    onClick: k,
                    size: "icon",
                    disabled: y.isPending || !o.trim() || u,
                    "data-testid": "button-send-message",
                    children: r.jsx(Bi, {
                        className: "h-4 w-4"
                    })
                })]
            })
        })]
    }) : null
}
function gn({message: e="Chargement en cours...", size: t="md"}) {
    const s = {
        sm: {
            container: "w-32 h-16",
            truck: "w-12 h-12",
            text: "text-sm"
        },
        md: {
            container: "w-48 h-24",
            truck: "w-16 h-16",
            text: "text-lg"
        },
        lg: {
            container: "w-64 h-32",
            truck: "w-20 h-20",
            text: "text-xl"
        }
    }[t];
    return r.jsxs("div", {
        className: "flex flex-col items-center justify-center gap-4 p-6",
        "data-testid": "loading-truck",
        children: [r.jsxs("div", {
            className: `relative ${s.container}`,
            children: [r.jsx("div", {
                className: "absolute bottom-8 left-0 w-full h-1 bg-gray-300 rounded-full overflow-hidden",
                children: r.jsx("div", {
                    className: "h-full bg-gradient-to-r from-[#17cfcf] to-[#13b3b3] rounded-full animate-pulse"
                })
            }), r.jsx("div", {
                className: `absolute bottom-0 left-0 ${s.truck} animate-[drive_2s_ease-in-out_infinite]`,
                children: r.jsx(At, {
                    className: "w-full h-full text-[#17cfcf]"
                })
            })]
        }), e && r.jsx("p", {
            className: `${s.text} font-medium text-[#17cfcf] animate-pulse`,
            children: e
        })]
    })
}
function iA({userRole: e}) {
    const [t,n] = m.useState(null)
      , [s,a] = m.useState(0)
      , {data: i=[]} = Oe({
        queryKey: ["/api/stories/active", e],
        queryFn: async () => {
            const d = await fetch(`/api/stories/active?role=${e}`);
            if (!d.ok)
                throw new Error("Failed to fetch stories");
            return d.json()
        }
    })
      , o = (d, u) => {
        n(d),
        a(u)
    }
      , l = () => {
        s < i.length - 1 ? (a(s + 1),
        n(i[s + 1])) : n(null)
    }
      , c = () => {
        s > 0 && (a(s - 1),
        n(i[s - 1]))
    }
    ;
    return !i || i.length === 0 ? null : r.jsxs(r.Fragment, {
        children: [r.jsx("div", {
            className: "w-full bg-card border-b",
            children: r.jsx("div", {
                className: "overflow-x-auto",
                children: r.jsx("div", {
                    className: "flex gap-3 p-3 min-w-min",
                    children: i.map( (d, u) => r.jsxs("button", {
                        onClick: () => o(d, u),
                        className: "flex flex-col items-center gap-2 flex-shrink-0 hover-elevate active-elevate-2 rounded-lg p-2",
                        "data-testid": `button-story-${u}`,
                        children: [r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx("div", {
                                className: "w-16 h-16 rounded-full bg-gradient-to-tr from-primary via-accent to-primary p-0.5",
                                children: r.jsx("div", {
                                    className: "w-full h-full rounded-full bg-card flex items-center justify-center",
                                    children: d.mediaUrl ? r.jsx("img", {
                                        src: d.mediaUrl,
                                        alt: d.title,
                                        className: "w-14 h-14 rounded-full object-cover"
                                    }) : r.jsx(id, {
                                        className: "w-8 h-8 text-primary"
                                    })
                                })
                            }), r.jsx("div", {
                                className: "absolute bottom-0 right-0 w-5 h-5 bg-primary rounded-full flex items-center justify-center border-2 border-card",
                                children: r.jsx(yk, {
                                    className: "w-3 h-3 text-primary-foreground fill-current"
                                })
                            })]
                        }), r.jsx("span", {
                            className: "text-xs font-medium text-foreground max-w-[70px] truncate",
                            children: d.title
                        })]
                    }, d.id))
                })
            })
        }), r.jsx(mt, {
            open: !!t,
            onOpenChange: () => n(null),
            children: r.jsx(dt, {
                className: "max-w-md h-[80vh] p-0 bg-black/95 border-none",
                children: t && r.jsxs("div", {
                    className: "relative h-full flex flex-col",
                    children: [r.jsx("div", {
                        className: "absolute top-0 left-0 right-0 flex gap-1 p-3 z-10",
                        children: i.map( (d, u) => r.jsx("div", {
                            className: `h-1 flex-1 rounded-full ${u === s ? "bg-white" : u < s ? "bg-white/70" : "bg-white/30"}`
                        }, u))
                    }), r.jsx("div", {
                        className: "absolute top-10 left-0 right-0 p-4 z-10",
                        children: r.jsx("h3", {
                            className: "text-white text-lg font-bold",
                            children: t.title
                        })
                    }), r.jsx("div", {
                        className: "flex-1 flex items-center justify-center p-4",
                        children: t.mediaUrl ? r.jsx("img", {
                            src: t.mediaUrl,
                            alt: t.title,
                            className: "max-w-full max-h-full object-contain"
                        }) : r.jsx("div", {
                            className: "text-center px-6",
                            children: r.jsx("p", {
                                className: "text-white text-base leading-relaxed whitespace-pre-wrap",
                                children: t.content
                            })
                        })
                    }), t.mediaUrl && t.content && r.jsx("div", {
                        className: "absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent",
                        children: r.jsx("p", {
                            className: "text-white text-sm leading-relaxed",
                            children: t.content
                        })
                    }), r.jsx("button", {
                        onClick: c,
                        className: "absolute left-0 top-0 bottom-0 w-1/3 cursor-pointer",
                        "aria-label": "Story prcdente",
                        disabled: s === 0,
                        "data-testid": "button-story-previous"
                    }), r.jsx("button", {
                        onClick: l,
                        className: "absolute right-0 top-0 bottom-0 w-2/3 cursor-pointer",
                        "aria-label": "Story suivante",
                        "data-testid": "button-story-next"
                    })]
                })
            })
        })]
    })
}
var oA = "AlertDialog"
  , [MU,pW] = sr(oA, [$P])
  , Ca = $P()
  , lA = e => {
    const {__scopeAlertDialog: t, ...n} = e
      , s = Ca(t);
    return r.jsx(Hv, {
        ...s,
        ...n,
        modal: !0
    })
}
;
lA.displayName = oA;
var OU = "AlertDialogTrigger"
  , LU = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Ca(n);
    return r.jsx(tE, {
        ...a,
        ...s,
        ref: t
    })
}
);
LU.displayName = OU;
var FU = "AlertDialogPortal"
  , cA = e => {
    const {__scopeAlertDialog: t, ...n} = e
      , s = Ca(t);
    return r.jsx(Kv, {
        ...s,
        ...n
    })
}
;
cA.displayName = FU;
var $U = "AlertDialogOverlay"
  , dA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Ca(n);
    return r.jsx(Hd, {
        ...a,
        ...s,
        ref: t
    })
}
);
dA.displayName = $U;
var al = "AlertDialogContent"
  , [zU,VU] = MU(al)
  , BU = B2("AlertDialogContent")
  , uA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, children: s, ...a} = e
      , i = Ca(n)
      , o = m.useRef(null)
      , l = at(t, o)
      , c = m.useRef(null);
    return r.jsx(Uz, {
        contentName: al,
        titleName: mA,
        docsSlug: "alert-dialog",
        children: r.jsx(zU, {
            scope: n,
            cancelRef: c,
            children: r.jsxs(Kd, {
                role: "alertdialog",
                ...i,
                ...a,
                ref: l,
                onOpenAutoFocus: ue(a.onOpenAutoFocus, d => {
                    var u;
                    d.preventDefault(),
                    (u = c.current) == null || u.focus({
                        preventScroll: !0
                    })
                }
                ),
                onPointerDownOutside: d => d.preventDefault(),
                onInteractOutside: d => d.preventDefault(),
                children: [r.jsx(BU, {
                    children: s
                }), r.jsx(qU, {
                    contentRef: o
                })]
            })
        })
    })
}
);
uA.displayName = al;
var mA = "AlertDialogTitle"
  , fA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Ca(n);
    return r.jsx(Qd, {
        ...a,
        ...s,
        ref: t
    })
}
);
fA.displayName = mA;
var hA = "AlertDialogDescription"
  , pA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Ca(n);
    return r.jsx(Gd, {
        ...a,
        ...s,
        ref: t
    })
}
);
pA.displayName = hA;
var UU = "AlertDialogAction"
  , xA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , a = Ca(n);
    return r.jsx(Qf, {
        ...a,
        ...s,
        ref: t
    })
}
);
xA.displayName = UU;
var gA = "AlertDialogCancel"
  , vA = m.forwardRef( (e, t) => {
    const {__scopeAlertDialog: n, ...s} = e
      , {cancelRef: a} = VU(gA, n)
      , i = Ca(n)
      , o = at(t, a);
    return r.jsx(Qf, {
        ...i,
        ...s,
        ref: o
    })
}
);
vA.displayName = gA;
var qU = ({contentRef: e}) => {
    const t = `\`${al}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${al}\` by passing a \`${hA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${al}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;
    return m.useEffect( () => {
        var s;
        document.getElementById((s = e.current) == null ? void 0 : s.getAttribute("aria-describedby")) || console.warn(t)
    }
    , [t, e]),
    null
}
  , WU = lA
  , HU = cA
  , yA = dA
  , jA = uA
  , wA = xA
  , NA = vA
  , bA = fA
  , SA = pA;
const to = WU
  , KU = HU
  , CA = m.forwardRef( ({className: e, ...t}, n) => r.jsx(yA, {
    className: pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", e),
    ...t,
    ref: n
}));
CA.displayName = yA.displayName;
const oi = m.forwardRef( ({className: e, ...t}, n) => r.jsxs(KU, {
    children: [r.jsx(CA, {}), r.jsx(jA, {
        ref: n,
        className: pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", e),
        ...t
    })]
}));
oi.displayName = jA.displayName;
const li = ({className: e, ...t}) => r.jsx("div", {
    className: pe("flex flex-col space-y-2 text-center sm:text-left", e),
    ...t
});
li.displayName = "AlertDialogHeader";
const ci = ({className: e, ...t}) => r.jsx("div", {
    className: pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", e),
    ...t
});
ci.displayName = "AlertDialogFooter";
const di = m.forwardRef( ({className: e, ...t}, n) => r.jsx(bA, {
    ref: n,
    className: pe("text-lg font-semibold", e),
    ...t
}));
di.displayName = bA.displayName;
const ui = m.forwardRef( ({className: e, ...t}, n) => r.jsx(SA, {
    ref: n,
    className: pe("text-sm text-muted-foreground", e),
    ...t
}));
ui.displayName = SA.displayName;
const mi = m.forwardRef( ({className: e, ...t}, n) => r.jsx(wA, {
    ref: n,
    className: pe(Cv(), e),
    ...t
}));
mi.displayName = wA.displayName;
const Ol = m.forwardRef( ({className: e, ...t}, n) => r.jsx(NA, {
    ref: n,
    className: pe(Cv({
        variant: "outline"
    }), "mt-2 sm:mt-0", e),
    ...t
}));
Ol.displayName = NA.displayName;
const QU = ["Meubles", "lectromnager", "Marchandises", "Dmnagement", "Matriaux de construction", "Colis", "Vhicule", "Autre"]
  , GU = fe.object({
    fromCity: fe.string().min(2, "Ville de dpart requise"),
    toCity: fe.string().min(2, "Ville d'arrive requise"),
    description: fe.string().min(10, "Description minimale: 10 caractres"),
    goodsType: fe.string().min(1, "Type de marchandise requis"),
    dateTime: fe.string().optional(),
    dateFlexible: fe.boolean().default(!1),
    invoiceRequired: fe.boolean().default(!1),
    budget: fe.string().optional()
})
  , XU = fe.object({
    description: fe.string().min(10, "Description minimale: 10 caractres"),
    type: fe.string().min(1, "Type de problme requis")
});
function YU({request: e, onAcceptOffer: t, onDeclineOffer: n, onChat: s, onDelete: a, onViewTransporter: i, onUpdateStatus: o, onReport: l, users: c, cities: d, citiesLoading: u, currentUserId: f}) {
    var V, oe, he, ce, xt, gt, Nt, ot;
    const [h,x] = m.useState(!1)
      , [j,v] = m.useState(!1)
      , [w,y] = m.useState(!1)
      , [p,g] = m.useState(!1)
      , [b,k] = m.useState(0)
      , S = e.status === "accepted"
      , {toast: C} = Ht()
      , {data: T=[]} = Oe({
        queryKey: ["/api/offers", e.id],
        queryFn: async () => (await fetch(`/api/offers?requestId=${e.id}`)).json()
    })
      , D = T.map(z => {
        var ze;
        const W = z.transporter || c.find(Ze => Ze.id === z.transporterId);
        return {
            ...z,
            transporterName: (W == null ? void 0 : W.name) || "Transporteur",
            rating: parseFloat((W == null ? void 0 : W.rating) || "0"),
            totalTrips: (W == null ? void 0 : W.totalTrips) || 0,
            truckPhoto: ((ze = W == null ? void 0 : W.truckPhotos) == null ? void 0 : ze[0]) || z.truckPhoto
        }
    }
    )
      , L = e.createdAt ? typeof e.createdAt == "string" ? new Date(e.createdAt) : e.createdAt : null
      , G = z => {
        if (!z)
            return "";
        const W = typeof z == "string" ? new Date(z) : z
          , ze = W.getFullYear()
          , Ze = String(W.getMonth() + 1).padStart(2, "0")
          , Je = String(W.getDate()).padStart(2, "0")
          , Ve = String(W.getHours()).padStart(2, "0")
          , Ft = String(W.getMinutes()).padStart(2, "0");
        return `${ze}-${Ze}-${Je}T${Ve}:${Ft}`
    }
      , M = ts({
        resolver: ns(GU),
        defaultValues: {
            fromCity: e.fromCity || "",
            toCity: e.toCity || "",
            description: e.description || "",
            goodsType: e.goodsType || "",
            dateTime: G(e.dateTime),
            dateFlexible: e.dateFlexible || !1,
            invoiceRequired: e.invoiceRequired || !1,
            budget: e.budget || ""
        }
    });
    m.useEffect( () => {
        w && M.reset({
            fromCity: e.fromCity || "",
            toCity: e.toCity || "",
            description: e.description || "",
            goodsType: e.goodsType || "",
            dateTime: G(e.dateTime),
            dateFlexible: e.dateFlexible || !1,
            invoiceRequired: e.invoiceRequired || !1,
            budget: e.budget || ""
        })
    }
    , [w, e, M]);
    const H = Fe({
        mutationFn: async z => await Ae("PATCH", `/api/requests/${e.id}`, z),
        onSuccess: () => {
            C({
                title: "Commande modifie",
                description: "Vos modifications ont t enregistres avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            y(!1)
        }
        ,
        onError: () => {
            C({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la modification de la commande"
            })
        }
    })
      , U = z => {
        const W = {
            fromCity: z.fromCity,
            toCity: z.toCity,
            description: z.description,
            goodsType: z.goodsType,
            dateFlexible: z.dateFlexible,
            invoiceRequired: z.invoiceRequired
        };
        z.dateTime && (W.dateTime = new Date(z.dateTime).toISOString()),
        z.budget && (W.budget = z.budget),
        H.mutate(W)
    }
      , {data: re=[], isLoading: ae} = Oe({
        queryKey: ["/api/recommendations", e.id],
        queryFn: async () => (await fetch(`/api/recommendations/${e.id}`)).json(),
        enabled: p
    });
    m.useEffect( () => {
        p && k(0)
    }
    , [p]);
    const X = Fe({
        mutationFn: async z => await Ae("POST", "/api/client-transporter-contacts", {
            requestId: e.id,
            clientId: f,
            transporterId: z
        }),
        onSuccess: () => {
            C({
                title: "Contact enregistr",
                description: "Vous pouvez maintenant contacter ce transporteur"
            })
        }
    })
      , I = () => {
        const z = "+212664373534"
          , W = encodeURIComponent(`Bonjour, j'ai besoin d'aide pour ma commande ${e.referenceId} (${e.fromCity}  ${e.toCity}). Pouvez-vous m'assister ?`)
          , ze = `https://wa.me/${z.replace(/\+/g, "")}?text=${W}`;
        window.open(ze, "_blank")
    }
    ;
    return r.jsxs(r.Fragment, {
        children: [r.jsx(J, {
            className: "overflow-hidden hover-elevate bg-[#0f324f]/30 border-[#1d3c57]",
            children: r.jsxs(te, {
                className: "p-4 space-y-3",
                children: [r.jsxs("div", {
                    className: "flex items-start justify-between gap-2",
                    children: [r.jsx("h3", {
                        className: "text-lg font-semibold",
                        "data-testid": `text-reference-${e.id}`,
                        children: e.referenceId
                    }), r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [!S && r.jsx(E, {
                            variant: "ghost",
                            size: "icon",
                            onClick: () => y(!0),
                            "data-testid": `button-edit-${e.id}`,
                            className: "h-8 w-8 text-[#1abc9c] hover:text-[#1abc9c] hover:bg-[#1abc9c]/10",
                            children: r.jsx(od, {
                                className: "h-4 w-4"
                            })
                        }), r.jsx(E, {
                            variant: "ghost",
                            size: "icon",
                            onClick: () => x(!0),
                            "data-testid": `button-delete-${e.id}`,
                            className: "h-8 w-8 text-[#e74c3c] hover:text-[#e74c3c] hover:bg-[#e74c3c]/10",
                            children: r.jsx(Qr, {
                                className: "h-4 w-4"
                            })
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center justify-between flex-wrap gap-2",
                    children: [r.jsx("div", {
                        className: "flex items-center gap-2 text-sm",
                        children: r.jsxs("span", {
                            className: "font-medium",
                            children: [e.fromCity, "  ", e.toCity]
                        })
                    }), S && r.jsx(de, {
                        variant: "default",
                        className: "bg-green-600",
                        children: "Accepte"
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center gap-4 text-xs text-muted-foreground",
                    children: [e.viewCount !== void 0 && r.jsxs("span", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(vs, {
                            className: "w-3 h-3"
                        }), e.viewCount, " vue", e.viewCount > 1 ? "s" : ""]
                    }), L && r.jsxs("span", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(Or, {
                            className: "w-3 h-3"
                        }), "Cre le ", Dt(L, "d MMM yyyy", {
                            locale: Xt
                        })]
                    })]
                }), e.description && r.jsxs("div", {
                    className: "text-sm",
                    children: [r.jsx("p", {
                        className: "text-muted-foreground text-xs mb-1",
                        children: "Description :"
                    }), r.jsx("p", {
                        className: "line-clamp-2",
                        children: e.description
                    })]
                }), !S && r.jsxs(E, {
                    variant: "secondary",
                    className: "w-full gap-2 bg-[#1d3c57] hover:bg-[#1d3c57]/80",
                    onClick: () => v(!0),
                    "data-testid": `button-view-offers-${e.id}`,
                    children: [r.jsx(Ln, {
                        className: "w-4 h-4"
                    }), "Offres reues (", D.length, ")"]
                }), !S && r.jsxs("div", {
                    className: "flex flex-wrap gap-2.5",
                    children: [r.jsxs(E, {
                        onClick: () => g(!0),
                        "data-testid": `button-camiomatch-${e.id}`,
                        className: "flex-1 min-w-[135px] gap-2 rounded-xl font-semibold text-white bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] border-0 shadow-md hover:shadow-lg hover:shadow-[#17cfcf]/30 transition-shadow duration-300 hover-elevate",
                        children: [r.jsx(Jh, {
                            className: "w-5 h-5"
                        }), "CamioMatch"]
                    }), r.jsxs(E, {
                        onClick: I,
                        "data-testid": `button-coordinator-${e.id}`,
                        className: "flex-1 min-w-[135px] gap-2 rounded-xl font-semibold text-white bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] border-0 shadow-md hover:shadow-lg hover:shadow-[#17cfcf]/25 transition-shadow duration-300 hover-elevate",
                        children: [r.jsx(an, {
                            className: "w-5 h-5"
                        }), "Coordinateur"]
                    })]
                }), S && r.jsxs("div", {
                    className: "flex flex-col sm:flex-row gap-2 pt-2",
                    children: [r.jsxs(E, {
                        variant: "secondary",
                        size: "sm",
                        onClick: () => i(e.id),
                        "data-testid": `button-view-transporter-${e.id}`,
                        className: "gap-2 flex-1",
                        children: [r.jsx(Lc, {
                            className: "h-4 w-4"
                        }), "Infos transporteur"]
                    }), r.jsxs(E, {
                        variant: "default",
                        size: "sm",
                        onClick: () => {
                            const z = D.find(W => W.id === e.acceptedOfferId);
                            z && s(z.transporterId, z.transporterName, e.id)
                        }
                        ,
                        "data-testid": `button-chat-active-${e.id}`,
                        className: "gap-2 flex-1 bg-[#00cc88] hover:bg-[#00cc88]/90 border-[#00cc88]",
                        style: {
                            textShadow: "0 1px 1px rgba(0,0,0,0.2)"
                        },
                        children: [r.jsx(Ln, {
                            className: "h-4 w-4"
                        }), r.jsx("span", {
                            className: "hidden sm:inline",
                            children: "Message"
                        })]
                    }), r.jsxs(MP, {
                        children: [r.jsx(OP, {
                            asChild: !0,
                            children: r.jsxs(E, {
                                variant: "secondary",
                                size: "sm",
                                "data-testid": `button-update-status-${e.id}`,
                                className: "gap-2 flex-1",
                                children: [r.jsx(Ax, {
                                    className: "h-4 w-4"
                                }), "Statut"]
                            })
                        }), r.jsxs(Vv, {
                            align: "end",
                            children: [r.jsxs(md, {
                                onClick: () => o(e.id, "completed"),
                                "data-testid": `button-complete-${e.id}`,
                                className: "gap-2",
                                children: [r.jsx(mn, {
                                    className: "h-4 w-4"
                                }), "Termine"]
                            }), r.jsxs(md, {
                                onClick: () => o(e.id, "republish"),
                                "data-testid": `button-republish-${e.id}`,
                                className: "gap-2",
                                children: [r.jsx(Ax, {
                                    className: "h-4 w-4"
                                }), "Republier"]
                            })]
                        })]
                    }), r.jsxs(E, {
                        variant: "destructive",
                        size: "sm",
                        onClick: () => l(e.id),
                        "data-testid": `button-report-active-${e.id}`,
                        className: "gap-2",
                        children: [r.jsx(ai, {
                            className: "h-4 w-4"
                        }), r.jsx("span", {
                            className: "hidden sm:inline",
                            children: "Signaler"
                        })]
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: j,
            onOpenChange: v,
            children: r.jsxs(dt, {
                className: "max-w-4xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsxs(ht, {
                        children: ["Offres reues - ", e.referenceId]
                    }), r.jsxs(_t, {
                        children: [e.fromCity, "  ", e.toCity]
                    })]
                }), r.jsx("div", {
                    className: "space-y-4 mt-4",
                    children: D.length > 0 ? r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2",
                        children: D.map(z => r.jsx(pU, {
                            offer: z,
                            onAccept: W => {
                                t(W),
                                v(!1)
                            }
                            ,
                            onDecline: W => {
                                n(W)
                            }
                            ,
                            onChat: () => {
                                s(z.transporterId, z.transporterName, e.id),
                                v(!1)
                            }
                        }, z.id))
                    }) : r.jsx("p", {
                        className: "text-sm text-muted-foreground text-center py-8",
                        children: "Aucune offre pour le moment"
                    })
                })]
            })
        }), r.jsx(mt, {
            open: p,
            onOpenChange: g,
            children: r.jsxs(dt, {
                className: "max-w-2xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx("div", {
                        className: "text-center mb-2",
                        children: r.jsxs("p", {
                            className: "text-sm text-[#17cfcf] font-medium animate-pulse flex items-center justify-center gap-2",
                            children: [r.jsx(At, {
                                className: "w-4 h-4"
                            }), "Trouvons le bon camion pour vous..."]
                        })
                    }), r.jsxs(ht, {
                        className: "text-2xl font-bold text-center flex items-center justify-center gap-2",
                        children: [r.jsx(Jh, {
                            className: "w-6 h-6 text-[#17cfcf]"
                        }), "CamioMatch"]
                    }), r.jsx(_t, {
                        className: "text-center text-base",
                        children: "Voici les meilleurs matches pour votre trajet"
                    })]
                }), r.jsx("div", {
                    className: "py-6",
                    children: ae ? r.jsxs("div", {
                        className: "flex flex-col items-center justify-center py-12 space-y-6",
                        children: [r.jsxs("div", {
                            className: "relative w-48 h-24",
                            children: [r.jsx("div", {
                                className: "absolute bottom-8 left-0 w-full h-1 bg-gray-300 rounded-full overflow-hidden",
                                children: r.jsx("div", {
                                    className: "h-full bg-gradient-to-r from-[#17cfcf] to-[#13b3b3] rounded-full animate-pulse"
                                })
                            }), r.jsx("div", {
                                className: "absolute bottom-0 left-0 w-16 h-16 animate-[drive_2s_ease-in-out_infinite]",
                                children: r.jsx(At, {
                                    className: "w-full h-full text-[#17cfcf]"
                                })
                            })]
                        }), r.jsx("p", {
                            className: "text-lg font-medium text-[#17cfcf] animate-pulse",
                            children: "Recherche des meilleurs transporteurs..."
                        })]
                    }) : re.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(At, {
                            className: "w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50"
                        }), r.jsx("p", {
                            className: "text-lg font-medium text-muted-foreground",
                            children: "Aucun match disponible pour le moment"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground mt-2",
                            children: "Essayez de republier votre demande ou contactez le coordinateur"
                        })]
                    }) : r.jsxs("div", {
                        className: "space-y-4",
                        children: [r.jsxs("div", {
                            className: "relative transition-all duration-300",
                            children: [r.jsx(J, {
                                className: "overflow-hidden border-2 border-[#17cfcf]/40 shadow-2xl bg-gradient-to-br from-card via-card to-[#17cfcf]/10 backdrop-blur-sm",
                                children: r.jsxs(te, {
                                    className: "p-4 space-y-3",
                                    children: [r.jsx("div", {
                                        className: "w-full h-40 bg-gradient-to-br from-[#0a2540] via-[#1d3c57] to-[#17cfcf]/20 rounded-xl overflow-hidden flex items-center justify-center relative shadow-inner",
                                        children: (V = re[b]) != null && V.truckPhoto ? r.jsx("img", {
                                            src: re[b].truckPhoto,
                                            alt: "Camion du transporteur",
                                            className: "w-full h-full object-cover transition-transform duration-300 hover:scale-105"
                                        }) : r.jsx(At, {
                                            className: "w-24 h-24 text-[#17cfcf] opacity-40"
                                        })
                                    }), r.jsxs("div", {
                                        className: "space-y-3",
                                        children: [r.jsxs("div", {
                                            className: "flex items-center justify-between",
                                            children: [r.jsx("h3", {
                                                className: "text-xl font-bold",
                                                children: ((oe = re[b]) == null ? void 0 : oe.name) || `Transporteur ${(ce = (he = re[b]) == null ? void 0 : he.id) == null ? void 0 : ce.substring(0, 8)}`
                                            }), ((xt = re[b]) == null ? void 0 : xt.priority) && r.jsxs(de, {
                                                className: "bg-[#17cfcf] text-white font-semibold flex items-center gap-1",
                                                children: [re[b].priority === "empty_return" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(WL, {
                                                        className: "w-3 h-3"
                                                    }), "Retour  vide"]
                                                }), re[b].priority === "active" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(Jh, {
                                                        className: "w-3 h-3"
                                                    }), "Actif rcemment"]
                                                }), re[b].priority === "rating" && r.jsxs(r.Fragment, {
                                                    children: [r.jsx(Xs, {
                                                        className: "w-3 h-3 fill-white"
                                                    }), "Bien not"]
                                                })]
                                            })]
                                        }), r.jsx("div", {
                                            className: "flex items-center gap-4 text-sm",
                                            children: r.jsxs("span", {
                                                className: "flex items-center gap-1",
                                                children: [r.jsx("span", {
                                                    className: "text-muted-foreground",
                                                    children: "Ville:"
                                                }), r.jsx("span", {
                                                    className: "font-medium",
                                                    children: ((gt = re[b]) == null ? void 0 : gt.city) || "N/A"
                                                })]
                                            })
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsx("div", {
                                                className: "flex items-center gap-1",
                                                children: [...Array(5)].map( (z, W) => {
                                                    var ze;
                                                    return r.jsx(Xs, {
                                                        className: `w-5 h-5 ${W < Math.round(((ze = re[b]) == null ? void 0 : ze.rating) || 0) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"}`
                                                    }, W)
                                                }
                                                )
                                            }), r.jsxs("span", {
                                                className: "text-sm font-medium",
                                                children: [(((Nt = re[b]) == null ? void 0 : Nt.rating) || 0).toFixed(1), " / 5.0"]
                                            }), r.jsxs("span", {
                                                className: "text-sm text-muted-foreground",
                                                children: ["(", ((ot = re[b]) == null ? void 0 : ot.totalTrips) || 0, " trajets)"]
                                            })]
                                        })]
                                    })]
                                })
                            }), re.length > 1 && r.jsxs(r.Fragment, {
                                children: [r.jsx(E, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: () => k(z => z === 0 ? re.length - 1 : z - 1),
                                    className: "absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 h-14 w-14 rounded-full bg-background shadow-lg border-2 border-[#17cfcf] z-10",
                                    "data-testid": "button-previous-match",
                                    children: r.jsx(Rm, {
                                        className: "w-8 h-8 text-[#17cfcf]"
                                    })
                                }), r.jsx(E, {
                                    variant: "ghost",
                                    size: "icon",
                                    onClick: () => k(z => z === re.length - 1 ? 0 : z + 1),
                                    className: "absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 h-14 w-14 rounded-full bg-background shadow-lg border-2 border-[#17cfcf] z-10",
                                    "data-testid": "button-next-match",
                                    children: r.jsx(ad, {
                                        className: "w-8 h-8 text-[#17cfcf]"
                                    })
                                })]
                            })]
                        }), re.length > 1 && r.jsx("div", {
                            className: "flex items-center justify-center gap-2 mt-2",
                            children: re.map( (z, W) => r.jsx("div", {
                                className: `h-1.5 rounded-full transition-all duration-300 ${W === b ? "w-6 bg-[#17cfcf]" : "w-1.5 bg-gray-300"}`
                            }, W))
                        }), r.jsxs("div", {
                            className: "flex items-center justify-center gap-8 pt-2",
                            children: [r.jsx(E, {
                                variant: "outline",
                                size: "icon",
                                onClick: () => {
                                    b < re.length - 1 ? k(b + 1) : C({
                                        title: "Fin des matches",
                                        description: "Vous avez vu tous les transporteurs disponibles"
                                    })
                                }
                                ,
                                className: "rounded-full border-2 border-red-500/60 text-red-500 shadow-lg",
                                "data-testid": "button-skip-match",
                                children: r.jsx(Pi, {
                                    className: "w-8 h-8"
                                })
                            }), r.jsx(E, {
                                size: "icon",
                                onClick: () => {
                                    const z = re[b];
                                    X.mutate(z.id),
                                    s(z.id, z.name || "Transporteur", e.id),
                                    g(!1)
                                }
                                ,
                                className: "rounded-full bg-gradient-to-br from-[#17cfcf] to-[#13b3b3] text-white border-0 shadow-xl animate-pulse-glow",
                                "data-testid": "button-contact-match",
                                children: r.jsx(Ln, {
                                    className: "w-8 h-8"
                                })
                            })]
                        }), r.jsxs("p", {
                            className: "text-center text-[10px] text-muted-foreground/60 mt-1",
                            children: [b + 1, " / ", re.length]
                        })]
                    })
                })]
            })
        }), r.jsx(mt, {
            open: w,
            onOpenChange: y,
            children: r.jsxs(dt, {
                className: "max-w-2xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Modifier la commande"
                    }), r.jsx(_t, {
                        children: "Modifiez les informations de votre commande"
                    })]
                }), r.jsx(rs, {
                    ...M,
                    children: r.jsxs("form", {
                        onSubmit: M.handleSubmit(U),
                        className: "space-y-4 py-4",
                        children: [r.jsxs("div", {
                            className: "grid gap-4 md:grid-cols-2",
                            children: [r.jsx(Xe, {
                                control: M.control,
                                name: "fromCity",
                                render: ({field: z}) => r.jsxs(qe, {
                                    children: [r.jsx(Ue, {
                                        children: "Ville de dpart"
                                    }), r.jsxs(Vt, {
                                        onValueChange: z.onChange,
                                        value: z.value,
                                        children: [r.jsx(Ge, {
                                            children: r.jsx(Mt, {
                                                "data-testid": "edit-select-from-city",
                                                children: r.jsx(Bt, {
                                                    placeholder: "Slectionner"
                                                })
                                            })
                                        }), r.jsx(Ot, {
                                            children: u ? r.jsx("div", {
                                                className: "p-2 text-sm text-muted-foreground",
                                                children: "Chargement..."
                                            }) : d.map(W => r.jsx(Se, {
                                                value: W.name,
                                                children: W.name
                                            }, W.id))
                                        })]
                                    }), r.jsx(tt, {})]
                                })
                            }), r.jsx(Xe, {
                                control: M.control,
                                name: "toCity",
                                render: ({field: z}) => r.jsxs(qe, {
                                    children: [r.jsx(Ue, {
                                        children: "Ville d'arrive"
                                    }), r.jsxs(Vt, {
                                        onValueChange: z.onChange,
                                        value: z.value,
                                        children: [r.jsx(Ge, {
                                            children: r.jsx(Mt, {
                                                "data-testid": "edit-select-to-city",
                                                children: r.jsx(Bt, {
                                                    placeholder: "Slectionner"
                                                })
                                            })
                                        }), r.jsx(Ot, {
                                            children: u ? r.jsx("div", {
                                                className: "p-2 text-sm text-muted-foreground",
                                                children: "Chargement..."
                                            }) : d.map(W => r.jsx(Se, {
                                                value: W.name,
                                                children: W.name
                                            }, W.id))
                                        })]
                                    }), r.jsx(tt, {})]
                                })
                            })]
                        }), r.jsx(Xe, {
                            control: M.control,
                            name: "goodsType",
                            render: ({field: z}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Type de marchandise"
                                }), r.jsxs(Vt, {
                                    onValueChange: z.onChange,
                                    value: z.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "edit-select-goods-type",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionner"
                                            })
                                        })
                                    }), r.jsx(Ot, {
                                        children: QU.map(W => r.jsx(Se, {
                                            value: W,
                                            children: W
                                        }, W))
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: M.control,
                            name: "description",
                            render: ({field: z}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Description"
                                }), r.jsx(Ge, {
                                    children: r.jsx(Cs, {
                                        placeholder: "Dcrivez votre demande de transport...",
                                        className: "min-h-24",
                                        "data-testid": "edit-input-description",
                                        ...z
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: M.control,
                            name: "budget",
                            render: ({field: z}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Budget (optionnel)"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        placeholder: "ex: 500 MAD",
                                        "data-testid": "edit-input-budget",
                                        ...z
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: M.control,
                            name: "dateTime",
                            render: ({field: z}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Date et heure souhaites (optionnel)"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        type: "datetime-local",
                                        "data-testid": "edit-input-datetime",
                                        ...z
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs("div", {
                            className: "grid gap-4 sm:grid-cols-2",
                            children: [r.jsx(Xe, {
                                control: M.control,
                                name: "dateFlexible",
                                render: ({field: z}) => r.jsxs(qe, {
                                    className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Td, {
                                            checked: z.value,
                                            onCheckedChange: z.onChange,
                                            "data-testid": "edit-checkbox-date-flexible"
                                        })
                                    }), r.jsx("div", {
                                        className: "space-y-1 leading-none",
                                        children: r.jsx(Ue, {
                                            className: "cursor-pointer",
                                            children: "Date flexible"
                                        })
                                    })]
                                })
                            }), r.jsx(Xe, {
                                control: M.control,
                                name: "invoiceRequired",
                                render: ({field: z}) => r.jsxs(qe, {
                                    className: "flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Td, {
                                            checked: z.value,
                                            onCheckedChange: z.onChange,
                                            "data-testid": "edit-checkbox-invoice-required"
                                        })
                                    }), r.jsx("div", {
                                        className: "space-y-1 leading-none",
                                        children: r.jsx(Ue, {
                                            className: "cursor-pointer",
                                            children: "Besoin d'une facture TTC"
                                        })
                                    })]
                                })
                            })]
                        }), r.jsxs(mr, {
                            className: "gap-2",
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "secondary",
                                onClick: () => y(!1),
                                "data-testid": "button-cancel-edit",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: H.isPending,
                                "data-testid": "button-save-edit",
                                children: H.isPending ? "Enregistrement..." : "Enregistrer les changements"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(to, {
            open: h,
            onOpenChange: x,
            children: r.jsxs(oi, {
                children: [r.jsxs(li, {
                    children: [r.jsx(di, {
                        children: "Supprimer la commande"
                    }), r.jsx(ui, {
                        children: "tes-vous sr de vouloir supprimer cette commande ? Cette action supprimera galement toutes les offres et messages associs. Cette action est irrversible."
                    })]
                }), r.jsxs(ci, {
                    children: [r.jsx(Ol, {
                        "data-testid": "button-cancel-delete",
                        children: "Annuler"
                    }), r.jsx(mi, {
                        onClick: () => {
                            a(e.id),
                            x(!1)
                        }
                        ,
                        "data-testid": "button-confirm-delete",
                        className: "bg-destructive text-destructive-foreground hover:bg-destructive/90",
                        children: "Supprimer"
                    })]
                })]
            })
        })]
    })
}
function kA() {
    rr();
    const [e,t] = m.useState(!1)
      , [n,s] = m.useState(!1)
      , [a,i] = m.useState(null)
      , [o,l] = m.useState("")
      , [c,d] = m.useState(!1)
      , [u,f] = m.useState(null)
      , [h,x] = m.useState(!1)
      , [j,v] = m.useState(null)
      , [w,y] = m.useState(!1)
      , [p,g] = m.useState(0)
      , [b,k] = m.useState(0)
      , [S,C] = m.useState("")
      , [T,D] = m.useState(!1)
      , [L,G] = m.useState("")
      , [M,H] = m.useState("")
      , [U,re] = m.useState(!1)
      , [ae,X] = m.useState("")
      , [I,V] = m.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    m.useEffect( () => {
        const B = async () => {
            try {
                const Ke = await fetch(`/api/auth/me/${I.id}`);
                if (Ke.ok) {
                    const {user: Yt} = await Ke.json();
                    localStorage.setItem("camionback_user", JSON.stringify(Yt)),
                    V(Yt)
                } else
                    Ke.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (Ke) {
                console.error("Failed to refresh user data:", Ke)
            }
        }
        ;
        I.id && B()
    }
    , [I.id]);
    const oe = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: he=[], isLoading: ce} = Oe({
        queryKey: ["/api/requests", I.id],
        queryFn: async () => (await fetch(`/api/requests?clientId=${I.id}`)).json()
    })
      , {data: xt=[]} = Oe({
        queryKey: ["/api/users"],
        queryFn: async () => (await fetch("/api/users")).json()
    })
      , {data: gt=[], isLoading: Nt} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , ot = Fe({
        mutationFn: async B => (await fetch(`/api/offers/${B}/accept`, {
            method: "POST"
        })).json(),
        onSuccess: B => {
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            f({
                transporterPhone: B.transporterPhone,
                transporterName: B.transporterName,
                commission: B.commission,
                total: B.total
            }),
            d(!0)
        }
    })
      , z = Fe({
        mutationFn: async B => {
            const Ke = await fetch(`/api/offers/${B}/decline`, {
                method: "POST"
            });
            if (!Ke.ok)
                throw new Error("Failed to decline offer");
            return Ke.json()
        }
        ,
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            bt({
                title: "Offre dcline",
                description: "L'offre a t dcline et le transporteur a t notifi."
            })
        }
        ,
        onError: () => {
            bt({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de dcliner l'offre"
            })
        }
    })
      , W = Fe({
        mutationFn: async B => {
            const Ke = await fetch(`/api/requests/${B}`, {
                method: "DELETE"
            });
            if (!Ke.ok)
                throw new Error("Failed to delete request");
            return Ke.json()
        }
        ,
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/notifications"]
            })
        }
    })
      , ze = Fe({
        mutationFn: async B => {
            const Ke = await fetch(`/api/requests/${B}/accepted-transporter`);
            if (!Ke.ok)
                throw new Error("Failed to fetch transporter info");
            return Ke.json()
        }
        ,
        onSuccess: B => {
            v(B),
            x(!0)
        }
    })
      , Ze = Fe({
        mutationFn: async ({requestId: B, action: Ke}) => {
            const Yt = Ke === "completed" ? `/api/requests/${B}/complete` : `/api/requests/${B}/republish`
              , cn = await fetch(Yt, {
                method: "POST"
            });
            if (!cn.ok)
                throw new Error(`Failed to ${Ke} request`);
            return cn.json()
        }
        ,
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
    })
      , Je = B => {
        ot.mutate(B)
    }
      , Ve = B => {
        z.mutate(B)
    }
      , Ft = B => {
        W.mutate(B)
    }
      , F = B => {
        ze.mutate(B)
    }
      , nt = (B, Ke) => {
        Ke === "completed" ? (C(B),
        g(0),
        k(0),
        y(!0)) : Ze.mutate({
            requestId: B,
            action: Ke
        })
    }
      , et = Fe({
        mutationFn: async ({requestId: B, rating: Ke}) => {
            const Yt = await fetch(`/api/requests/${B}/complete`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    rating: Ke
                })
            });
            if (!Yt.ok)
                throw new Error("Failed to complete request with rating");
            return Yt.json()
        }
        ,
        onSuccess: () => {
            bt({
                title: "Commande termine",
                description: "Merci pour votre valuation ! La commande est maintenant termine."
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            y(!1)
        }
        ,
        onError: () => {
            bt({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de terminer la commande"
            })
        }
    })
      , {toast: bt} = Ht()
      , hn = Fe({
        mutationFn: async ({requestId: B, receipt: Ke}) => await Ae("POST", `/api/requests/${B}/mark-as-paid`, {
            clientId: I.id,
            paymentReceipt: Ke
        }),
        onSuccess: (B, Ke) => {
            bt({
                title: "Succs",
                description: "Merci ! Veuillez maintenant valuer le transporteur"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            D(!1),
            H(""),
            C(Ke.requestId),
            g(0),
            k(0),
            y(!0),
            G("")
        }
        ,
        onError: () => {
            bt({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la confirmation du paiement"
            })
        }
    })
      , jn = ts({
        resolver: ns(XU),
        defaultValues: {
            description: "",
            type: ""
        }
    })
      , He = Fe({
        mutationFn: async B => {
            const Ke = he.find(cn => cn.id === B.requestId);
            let Yt = "";
            if (Ke != null && Ke.acceptedOfferId)
                try {
                    const wn = (await (await fetch(`/api/offers?requestId=${B.requestId}`)).json()).find(Tr => Tr.id === Ke.acceptedOfferId);
                    Yt = (wn == null ? void 0 : wn.transporterId) || ""
                } catch (cn) {
                    console.error("Error fetching offers:", cn)
                }
            return await Ae("POST", "/api/reports", {
                requestId: B.requestId,
                reporterId: I.id,
                reporterType: "client",
                reportedUserId: Yt,
                reason: B.type,
                details: B.description
            })
        }
        ,
        onSuccess: () => {
            bt({
                title: "Signalement envoy",
                description: "Votre signalement a t envoy  l'quipe support"
            }),
            re(!1),
            jn.reset()
        }
        ,
        onError: () => {
            bt({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du signalement"
            })
        }
    })
      , In = () => {
        p > 0 && S && et.mutate({
            requestId: S,
            rating: p
        })
    }
      , _ = B => {
        X(B),
        jn.reset(),
        re(!0)
    }
      , $ = B => {
        ae && He.mutate({
            requestId: ae,
            description: B.description,
            type: B.type
        })
    }
      , q = B => {
        G(B),
        H(""),
        D(!0)
    }
      , xe = async B => {
        var gr;
        const Ke = (gr = B.target.files) == null ? void 0 : gr[0];
        if (!Ke)
            return;
        if (!Ke.type.startsWith("image/")) {
            bt({
                variant: "destructive",
                title: "Format non accept",
                description: "Veuillez tlverser une image"
            }),
            B.target.value = "";
            return
        }
        const Yt = 10 * 1024 * 1024;
        if (Ke.size > Yt) {
            bt({
                variant: "destructive",
                title: "Fichier trop volumineux",
                description: "La taille maximale autorise est de 10 Mo"
            }),
            B.target.value = "";
            return
        }
        const cn = new FileReader;
        cn.onloadend = () => {
            H(cn.result),
            bt({
                title: "Reu tlvers",
                description: "Le reu de paiement a t charg avec succs"
            })
        }
        ,
        cn.onerror = wn => {
            console.error("FileReader error:", wn),
            bt({
                variant: "destructive",
                title: "Erreur de lecture",
                description: "Impossible de lire le fichier. Veuillez ressayer avec une autre image."
            }),
            B.target.value = ""
        }
        ,
        cn.readAsDataURL(Ke)
    }
      , me = () => {
        if (!M) {
            bt({
                variant: "destructive",
                title: "Erreur",
                description: "Veuillez tlverser le reu de paiement"
            });
            return
        }
        hn.mutate({
            requestId: L,
            receipt: M
        })
    }
      , ee = (B, Ke, Yt) => {
        i({
            id: B,
            name: Ke || "Transporteur",
            role: "transporter"
        }),
        l(Yt),
        s(!0)
    }
    ;
    if (ce)
        return r.jsx("div", {
            className: "min-h-screen flex items-center justify-center",
            children: r.jsx(gn, {
                message: "Chargement de votre tableau de bord...",
                size: "lg"
            })
        });
    const je = he.filter(B => (B.status === "open" || B.status === "accepted") && B.paymentStatus !== "paid")
      , $e = he.filter(B => B.status === "completed" || B.paymentStatus === "paid")
      , Rt = he.filter(B => B.paymentStatus === "awaiting_payment");
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: I,
            onNewRequest: () => t(!0),
            onLogout: oe
        }), r.jsx(iA, {
            userRole: "client"
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Mes demandes"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Grez vos demandes de transport"
                })]
            }), e ? r.jsx(hU, {
                onSuccess: () => {
                    t(!1),
                    le.invalidateQueries({
                        queryKey: ["/api/requests"]
                    })
                }
            }) : r.jsxs(Xl, {
                defaultValue: "active",
                className: "w-full",
                children: [r.jsxs(vi, {
                    className: "grid w-full max-w-3xl grid-cols-3",
                    children: [r.jsxs(Pt, {
                        value: "active",
                        "data-testid": "tab-active",
                        children: [r.jsx(zt, {
                            className: "mr-2 h-4 w-4"
                        }), "Actives"]
                    }), r.jsxs(Pt, {
                        value: "to-pay",
                        "data-testid": "tab-to-pay",
                        children: [r.jsx(pa, {
                            className: "mr-2 h-4 w-4"
                        }), " payer (", Rt.length, ")"]
                    }), r.jsx(Pt, {
                        value: "completed",
                        "data-testid": "tab-completed",
                        children: "Termines"
                    })]
                }), r.jsx(Et, {
                    value: "active",
                    className: "mt-6 space-y-6",
                    children: je.length > 0 ? je.map(B => r.jsx(YU, {
                        request: B,
                        users: xt,
                        cities: gt,
                        citiesLoading: Nt,
                        currentUserId: I.id,
                        onAcceptOffer: Je,
                        onDeclineOffer: Ve,
                        onChat: ee,
                        onDelete: Ft,
                        onViewTransporter: F,
                        onUpdateStatus: nt,
                        onReport: _
                    }, B.id)) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(zt, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Vous n'avez pas encore de demandes"
                        }), r.jsx(E, {
                            onClick: () => t(!0),
                            className: "mt-4",
                            children: "Crer une demande"
                        })]
                    })
                }), r.jsx(Et, {
                    value: "to-pay",
                    className: "mt-6",
                    children: Rt.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(pa, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune commande  payer"
                        })]
                    }) : r.jsx("div", {
                        className: "space-y-4",
                        children: Rt.map(B => (B.acceptedOfferId && xt.find(Ke => Ke.role === "transporter"),
                        r.jsxs("div", {
                            className: "p-4 rounded-lg border space-y-4",
                            children: [r.jsx("div", {
                                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",
                                children: r.jsxs("div", {
                                    className: "flex-1",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1 flex-wrap",
                                        children: [r.jsx("p", {
                                            className: "font-semibold text-lg",
                                            children: B.referenceId
                                        }), r.jsx(de, {
                                            variant: "default",
                                            className: "bg-blue-600",
                                            children: " facturer"
                                        })]
                                    }), r.jsxs("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: [B.fromCity, "  ", B.toCity]
                                    })]
                                })
                            }), r.jsxs("div", {
                                className: "grid grid-cols-2 gap-4 text-sm",
                                children: [r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Type de marchandise"
                                    }), r.jsx("p", {
                                        className: "font-medium",
                                        children: B.goodsType
                                    })]
                                }), B.estimatedWeight && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Poids estim"
                                    }), r.jsx("p", {
                                        className: "font-medium",
                                        children: B.estimatedWeight
                                    })]
                                })]
                            }), B.description && r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Description"
                                }), r.jsx("p", {
                                    className: "text-sm",
                                    children: B.description
                                })]
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2 pt-2 border-t",
                                children: [B.acceptedOfferId && r.jsxs(E, {
                                    variant: "secondary",
                                    size: "sm",
                                    onClick: () => F(B.id),
                                    "data-testid": `button-view-transporter-payment-${B.id}`,
                                    className: "gap-2",
                                    children: [r.jsx(Lc, {
                                        className: "h-4 w-4"
                                    }), r.jsx("span", {
                                        className: "hidden sm:inline",
                                        children: "Infos transporteur"
                                    }), r.jsx("span", {
                                        className: "sm:hidden",
                                        children: "Infos"
                                    })]
                                }), r.jsxs(E, {
                                    variant: "default",
                                    size: "sm",
                                    onClick: () => q(B.id),
                                    className: "gap-2",
                                    "data-testid": `button-mark-paid-${B.id}`,
                                    children: [r.jsx(mn, {
                                        className: "h-4 w-4"
                                    }), "Marquer comme pay"]
                                })]
                            })]
                        }, B.id)))
                    })
                }), r.jsx(Et, {
                    value: "completed",
                    className: "mt-6",
                    children: $e.length === 0 ? r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(zt, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune demande termine"
                        })]
                    }) : r.jsx("div", {
                        className: "space-y-4",
                        children: $e.map(B => r.jsx("div", {
                            className: "p-4 rounded-lg border space-y-3",
                            children: r.jsxs("div", {
                                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",
                                children: [r.jsxs("div", {
                                    className: "flex-1",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1 flex-wrap",
                                        children: [r.jsx("p", {
                                            className: "font-semibold",
                                            children: B.referenceId
                                        }), r.jsx(de, {
                                            variant: "default",
                                            className: "bg-gray-600",
                                            children: "Termine"
                                        })]
                                    }), r.jsxs("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: [B.fromCity, "  ", B.toCity]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [B.acceptedOfferId && r.jsxs(r.Fragment, {
                                        children: [r.jsxs(E, {
                                            variant: "secondary",
                                            size: "sm",
                                            onClick: () => F(B.id),
                                            "data-testid": `button-view-transporter-completed-${B.id}`,
                                            className: "gap-2",
                                            children: [r.jsx(Lc, {
                                                className: "h-4 w-4"
                                            }), r.jsx("span", {
                                                className: "hidden sm:inline",
                                                children: "Infos transporteur"
                                            }), r.jsx("span", {
                                                className: "sm:hidden",
                                                children: "Infos"
                                            })]
                                        }), r.jsxs(E, {
                                            variant: "secondary",
                                            size: "sm",
                                            onClick: () => nt(B.id, "republish"),
                                            "data-testid": `button-republish-completed-${B.id}`,
                                            className: "gap-2",
                                            children: [r.jsx(Ax, {
                                                className: "h-4 w-4"
                                            }), "Republier"]
                                        })]
                                    }), r.jsxs(E, {
                                        variant: "destructive",
                                        size: "sm",
                                        onClick: () => _(B.id),
                                        "data-testid": `button-report-completed-${B.id}`,
                                        className: "gap-2",
                                        children: [r.jsx(ai, {
                                            className: "h-4 w-4"
                                        }), r.jsx("span", {
                                            className: "hidden sm:inline",
                                            children: "Signaler"
                                        })]
                                    }), r.jsx(E, {
                                        variant: "ghost",
                                        size: "icon",
                                        onClick: () => Ft(B.id),
                                        "data-testid": `button-delete-completed-${B.id}`,
                                        className: "text-destructive hover:text-destructive",
                                        children: r.jsx(Qr, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })]
                            })
                        }, B.id))
                    })
                })]
            })]
        }), a && r.jsx(ah, {
            open: n,
            onClose: () => s(!1),
            otherUser: a,
            currentUserId: I.id,
            currentUserRole: "client",
            requestId: o
        }), r.jsx(to, {
            open: c,
            onOpenChange: d,
            children: r.jsxs(oi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(li, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-green-600 flex items-center justify-center",
                            children: r.jsx(mn, {
                                className: "w-6 h-6 text-white"
                            })
                        }), r.jsx(di, {
                            className: "text-xl",
                            children: "Offre accepte !"
                        })]
                    }), r.jsxs(ui, {
                        className: "space-y-4 text-base",
                        children: [r.jsxs("p", {
                            className: "text-foreground",
                            children: ["Le transporteur ", r.jsx("span", {
                                className: "font-semibold",
                                children: u == null ? void 0 : u.transporterName
                            }), " a t inform que vous avez choisi son offre."]
                        }), r.jsxs("div", {
                            className: "bg-primary/10 border border-primary/20 rounded-lg p-4",
                            children: [r.jsx("p", {
                                className: "font-medium text-foreground mb-2",
                                children: "Vous pouvez maintenant le contacter :"
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2 text-lg font-semibold text-primary",
                                children: [r.jsx(an, {
                                    className: "w-5 h-5"
                                }), r.jsx("a", {
                                    href: `tel:${u == null ? void 0 : u.transporterPhone}`,
                                    className: "hover:underline",
                                    children: u == null ? void 0 : u.transporterPhone
                                })]
                            })]
                        }), (u == null ? void 0 : u.total) && r.jsx("div", {
                            className: "text-sm border-t pt-3",
                            children: r.jsxs("p", {
                                className: "font-semibold text-foreground",
                                children: ["Total  payer : ", u.total.toFixed(2), " MAD"]
                            })
                        })]
                    })]
                }), r.jsx(ci, {
                    children: r.jsx(mi, {
                        className: "w-full",
                        "data-testid": "button-close-contact-dialog",
                        children: "J'ai compris"
                    })
                })]
            })
        }), r.jsx(to, {
            open: h,
            onOpenChange: x,
            children: r.jsxs(oi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(li, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-primary flex items-center justify-center",
                            children: r.jsx(Lc, {
                                className: "w-6 h-6 text-primary-foreground"
                            })
                        }), r.jsx(di, {
                            className: "text-xl",
                            children: "Informations du transporteur"
                        })]
                    }), r.jsxs(ui, {
                        className: "space-y-4 text-base",
                        children: [r.jsxs("div", {
                            className: "space-y-3",
                            children: [r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Nom"
                                }), r.jsx("p", {
                                    className: "font-semibold text-foreground",
                                    children: (j == null ? void 0 : j.transporterName) || "Non disponible"
                                })]
                            }), (j == null ? void 0 : j.transporterCity) && r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Ville"
                                }), r.jsx("p", {
                                    className: "font-semibold text-foreground",
                                    children: j.transporterCity
                                })]
                            }), r.jsxs("div", {
                                children: [r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Tlphone"
                                }), r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx(an, {
                                        className: "w-4 h-4 text-primary"
                                    }), r.jsx("a", {
                                        href: `tel:${j == null ? void 0 : j.transporterPhone}`,
                                        className: "font-semibold text-primary hover:underline",
                                        "data-testid": "link-transporter-phone",
                                        children: j == null ? void 0 : j.transporterPhone
                                    })]
                                })]
                            })]
                        }), (j == null ? void 0 : j.totalAmount) && r.jsx("div", {
                            className: "border-t pt-3",
                            children: r.jsxs("div", {
                                className: "flex justify-between",
                                children: [r.jsx("span", {
                                    className: "font-semibold text-foreground",
                                    children: "Montant"
                                }), r.jsxs("span", {
                                    className: "font-bold text-primary text-xl",
                                    children: [j.totalAmount.toFixed(2), " MAD"]
                                })]
                            })
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground italic",
                            children: "Vous pouvez contacter directement le transporteur pour finaliser les dtails du transport."
                        })]
                    })]
                }), r.jsx(ci, {
                    children: r.jsx(mi, {
                        className: "w-full",
                        "data-testid": "button-close-transporter-info",
                        children: "Fermer"
                    })
                })]
            })
        }), r.jsx(to, {
            open: w,
            onOpenChange: y,
            children: r.jsxs(oi, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(li, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 mb-2",
                        children: [r.jsx("div", {
                            className: "w-12 h-12 rounded-full bg-yellow-500 flex items-center justify-center",
                            children: r.jsx(Xs, {
                                className: "w-6 h-6 text-white fill-white"
                            })
                        }), r.jsx(di, {
                            className: "text-xl",
                            children: "valuer le transporteur"
                        })]
                    }), r.jsxs(ui, {
                        className: "space-y-6 text-base",
                        children: [r.jsx("p", {
                            className: "text-foreground text-center",
                            children: "Merci d'valuer le transporteur pour cette commande."
                        }), r.jsx("div", {
                            className: "flex justify-center items-center gap-2",
                            children: [1, 2, 3, 4, 5].map(B => r.jsx("button", {
                                type: "button",
                                onClick: () => g(B),
                                onMouseEnter: () => k(B),
                                onMouseLeave: () => k(0),
                                className: "p-1 hover-elevate active-elevate-2",
                                "data-testid": `button-star-${B}`,
                                children: r.jsx(Xs, {
                                    className: `w-10 h-10 ${B <= (b || p) ? "fill-yellow-400 text-yellow-400" : "text-gray-300"} transition-colors`
                                })
                            }, B))
                        }), p > 0 && r.jsxs("p", {
                            className: "text-center text-sm text-muted-foreground",
                            children: ["Note slectionne : ", p, " ", p === 1 ? "toile" : "toiles"]
                        })]
                    })]
                }), r.jsxs(ci, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(Ol, {
                        onClick: () => y(!1),
                        "data-testid": "button-cancel-rating",
                        children: "Annuler"
                    }), r.jsx(mi, {
                        onClick: In,
                        disabled: p === 0 || et.isPending,
                        className: "bg-yellow-500 hover:bg-yellow-600 text-white",
                        "data-testid": "button-submit-rating",
                        children: et.isPending ? "Enregistrement..." : "Valider la note"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: T,
            onOpenChange: D,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Confirmer le paiement"
                    }), r.jsxs(_t, {
                        className: "space-y-4 pt-4",
                        children: [r.jsxs("div", {
                            className: "p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800 space-y-3",
                            children: [r.jsx("p", {
                                className: "text-sm font-medium text-blue-900 dark:text-blue-100",
                                children: "Merci d'effectuer le virement sur le compte suivant :"
                            }), r.jsxs("div", {
                                className: "space-y-1",
                                children: [r.jsxs("p", {
                                    className: "text-sm text-blue-800 dark:text-blue-200",
                                    children: [r.jsx("span", {
                                        className: "font-semibold",
                                        children: "RIB :"
                                    }), " 011815000005210001099713"]
                                }), r.jsxs("p", {
                                    className: "text-sm text-blue-800 dark:text-blue-200",
                                    children: [r.jsx("span", {
                                        className: "font-semibold",
                                        children: " l'ordre de :"
                                    }), " CamionBack"]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(Zt, {
                                htmlFor: "receipt-upload",
                                className: "text-sm font-medium",
                                children: ["Reu de paiement ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "Veuillez tlverser votre reu de paiement (formats accepts : JPEG, PNG, WebP - max. 5 Mo)."
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [r.jsxs(E, {
                                    type: "button",
                                    variant: "outline",
                                    onClick: () => {
                                        var B;
                                        return (B = document.getElementById("receipt-upload")) == null ? void 0 : B.click()
                                    }
                                    ,
                                    className: "w-full gap-2",
                                    "data-testid": "button-upload-receipt",
                                    children: [r.jsx(Bd, {
                                        className: "w-4 h-4"
                                    }), M ? "Reu tlvers" : "Tlverser le reu"]
                                }), r.jsx("input", {
                                    id: "receipt-upload",
                                    type: "file",
                                    accept: "image/*",
                                    onChange: xe,
                                    className: "hidden",
                                    "data-testid": "input-receipt-upload"
                                })]
                            }), M && r.jsx("div", {
                                className: "mt-2",
                                children: r.jsx("img", {
                                    src: M,
                                    alt: "Reu de paiement",
                                    className: "w-full h-40 object-cover rounded-lg border"
                                })
                            })]
                        })]
                    })]
                }), r.jsxs(mr, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(E, {
                        type: "button",
                        variant: "outline",
                        onClick: () => D(!1),
                        "data-testid": "button-cancel-payment",
                        children: "Annuler"
                    }), r.jsx(E, {
                        type: "button",
                        onClick: me,
                        disabled: !M || hn.isPending,
                        "data-testid": "button-confirm-payment",
                        children: hn.isPending ? "Envoi en cours..." : "Confirmer le paiement"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: U,
            onOpenChange: re,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Signaler un problme"
                    }), r.jsx(_t, {
                        children: "Dcrivez le problme rencontr avec cette commande."
                    })]
                }), r.jsx(rs, {
                    ...jn,
                    children: r.jsxs("form", {
                        onSubmit: jn.handleSubmit($),
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: jn.control,
                            name: "type",
                            render: ({field: B}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Type de problme ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Vt, {
                                    onValueChange: B.onChange,
                                    value: B.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-report-type",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionnez un type"
                                            })
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "service",
                                            children: "Problme de service"
                                        }), r.jsx(Se, {
                                            value: "payment",
                                            children: "Problme de paiement"
                                        }), r.jsx(Se, {
                                            value: "communication",
                                            children: "Problme de communication"
                                        }), r.jsx(Se, {
                                            value: "quality",
                                            children: "Problme de qualit"
                                        }), r.jsx(Se, {
                                            value: "damage",
                                            children: "Marchandises endommages"
                                        }), r.jsx(Se, {
                                            value: "delay",
                                            children: "Retard de livraison"
                                        }), r.jsx(Se, {
                                            value: "other",
                                            children: "Autre"
                                        })]
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: jn.control,
                            name: "description",
                            render: ({field: B}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Description dtaille ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(Cs, {
                                        placeholder: "Dcrivez en dtail le problme rencontr...",
                                        className: "resize-none h-32",
                                        "data-testid": "textarea-report-description",
                                        ...B
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs(mr, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "outline",
                                onClick: () => re(!1),
                                "data-testid": "button-cancel-report",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: He.isPending,
                                "data-testid": "button-submit-report",
                                children: He.isPending ? "Envoi en cours..." : "Envoyer le signalement"
                            })]
                        })]
                    })
                })]
            })
        })]
    })
}
const ZU = Ul("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground", {
    variants: {
        variant: {
            default: "bg-background text-foreground",
            destructive: "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"
        }
    },
    defaultVariants: {
        variant: "default"
    }
})
  , af = m.forwardRef( ({className: e, variant: t, ...n}, s) => r.jsx("div", {
    ref: s,
    role: "alert",
    className: pe(ZU({
        variant: t
    }), e),
    ...n
}));
af.displayName = "Alert";
const JU = m.forwardRef( ({className: e, ...t}, n) => r.jsx("h5", {
    ref: n,
    className: pe("mb-1 font-medium leading-none tracking-tight", e),
    ...t
}));
JU.displayName = "AlertTitle";
const of = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    ref: n,
    className: pe("text-sm [&_p]:leading-relaxed", e),
    ...t
}));
of.displayName = "AlertDescription";
function uy({open: e, onClose: t, photos: n, referenceId: s}) {
    const [a,i] = m.useState(0)
      , [o,l] = m.useState(!1);
    if (!n || n.length === 0)
        return null;
    const c = () => {
        i(h => h === 0 ? n.length - 1 : h - 1)
    }
      , d = () => {
        i(h => h === n.length - 1 ? 0 : h + 1)
    }
      , u = () => {
        l(!0)
    }
      , f = () => {
        l(!1)
    }
    ;
    return r.jsxs(mt, {
        open: e,
        onOpenChange: t,
        children: [r.jsxs(dt, {
            className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] p-0 overflow-hidden",
            "data-testid": "dialog-photo-gallery",
            children: [r.jsx(ft, {
                className: "p-4 sm:p-6 pb-3 sm:pb-4",
                children: r.jsxs(ht, {
                    className: "text-base sm:text-lg",
                    children: ["Photos du chargement  Commande ", s]
                })
            }), r.jsxs("div", {
                className: "relative px-4 sm:px-6 pb-4 sm:pb-6",
                children: [r.jsxs("div", {
                    className: "relative aspect-video bg-muted rounded-lg overflow-hidden",
                    children: [r.jsx("img", {
                        src: n[a],
                        alt: `Photo ${a + 1}`,
                        className: "w-full h-full object-cover sm:object-contain cursor-pointer",
                        onClick: u,
                        "data-testid": `img-gallery-${a}`
                    }), n.length > 1 && r.jsxs(r.Fragment, {
                        children: [r.jsx(E, {
                            variant: "ghost",
                            size: "icon",
                            className: "absolute left-1 sm:left-2 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background h-8 w-8 sm:h-10 sm:w-10",
                            onClick: c,
                            "data-testid": "button-previous-photo",
                            children: r.jsx(Rm, {
                                className: "h-5 w-5 sm:h-6 sm:w-6"
                            })
                        }), r.jsx(E, {
                            variant: "ghost",
                            size: "icon",
                            className: "absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 bg-background/90 hover:bg-background h-8 w-8 sm:h-10 sm:w-10",
                            onClick: d,
                            "data-testid": "button-next-photo",
                            children: r.jsx(ad, {
                                className: "h-5 w-5 sm:h-6 sm:w-6"
                            })
                        }), r.jsxs("div", {
                            className: "absolute bottom-2 sm:bottom-4 left-1/2 -translate-x-1/2 bg-background/90 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",
                            children: [a + 1, " / ", n.length]
                        })]
                    })]
                }), r.jsx("div", {
                    className: "mt-3 sm:mt-4 flex gap-2 overflow-x-auto pb-2",
                    children: n.map( (h, x) => r.jsx("button", {
                        onClick: () => i(x),
                        className: `relative w-16 h-16 sm:w-20 sm:h-20 rounded-lg overflow-hidden flex-shrink-0 border-2 transition-colors ${x === a ? "border-primary" : "border-transparent"}`,
                        "data-testid": `button-thumbnail-${x}`,
                        children: r.jsx("img", {
                            src: h,
                            alt: `Miniature ${x + 1}`,
                            className: "w-full h-full object-cover"
                        })
                    }, x))
                })]
            })]
        }), o && r.jsxs("div", {
            className: "fixed inset-0 z-[100] bg-black/95 flex items-center justify-center",
            onClick: f,
            "data-testid": "fullscreen-overlay",
            children: [r.jsx(E, {
                variant: "ghost",
                size: "icon",
                className: "absolute top-4 right-4 text-white hover:bg-white/20 h-10 w-10",
                onClick: f,
                "data-testid": "button-close-fullscreen",
                children: r.jsx(Pi, {
                    className: "h-6 w-6"
                })
            }), n.length > 1 && r.jsxs(r.Fragment, {
                children: [r.jsx(E, {
                    variant: "ghost",
                    size: "icon",
                    className: "absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12",
                    onClick: h => {
                        h.stopPropagation(),
                        c()
                    }
                    ,
                    "data-testid": "button-fullscreen-previous",
                    children: r.jsx(Rm, {
                        className: "h-8 w-8"
                    })
                }), r.jsx(E, {
                    variant: "ghost",
                    size: "icon",
                    className: "absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 h-12 w-12",
                    onClick: h => {
                        h.stopPropagation(),
                        d()
                    }
                    ,
                    "data-testid": "button-fullscreen-next",
                    children: r.jsx(ad, {
                        className: "h-8 w-8"
                    })
                }), r.jsxs("div", {
                    className: "absolute bottom-8 left-1/2 -translate-x-1/2 bg-white/90 px-4 py-2 rounded-full text-sm font-medium",
                    children: [a + 1, " / ", n.length]
                })]
            }), r.jsx("img", {
                src: n[a],
                alt: `Photo ${a + 1} en plein cran`,
                className: "max-w-[95vw] max-h-[95vh] object-contain",
                onClick: h => h.stopPropagation(),
                "data-testid": "img-fullscreen"
            })]
        })]
    })
}
function e9({request: e, onMakeOffer: t, showOfferButton: n=!0, userStatus: s, offerCount: a, onDecline: i, onTrackView: o}) {
    const [l,c] = m.useState(!1)
      , [d,u] = m.useState(!1)
      , f = m.useRef(!1)
      , h = typeof e.dateTime == "string" ? new Date(e.dateTime) : e.dateTime
      , x = e.createdAt ? typeof e.createdAt == "string" ? new Date(e.createdAt) : e.createdAt : null
      , j = s === "validated"
      , v = () => {
        j ? t(e.id) : u(!0)
    }
      , w = () => {
        c(!0)
    }
    ;
    return m.useEffect( () => {
        o && !f.current && (f.current = !0,
        o())
    }
    , [e.id, o]),
    r.jsxs(r.Fragment, {
        children: [r.jsxs(J, {
            className: "overflow-hidden hover-elevate",
            children: [r.jsxs(te, {
                className: "p-4 space-y-3",
                children: [r.jsxs("div", {
                    className: "flex items-start justify-between gap-2",
                    children: [r.jsxs("div", {
                        children: [r.jsx(de, {
                            variant: "outline",
                            className: "mb-2",
                            "data-testid": `text-reference-${e.id}`,
                            children: e.referenceId
                        }), r.jsx("h3", {
                            className: "font-semibold text-lg mb-1",
                            children: e.goodsType
                        })]
                    }), e.status === "open" && r.jsx(de, {
                        variant: "default",
                        className: "bg-green-600",
                        children: "Disponible"
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center gap-2 text-sm",
                    children: [r.jsx(Rr, {
                        className: "w-4 h-4 text-primary flex-shrink-0"
                    }), r.jsx("span", {
                        className: "font-medium truncate",
                        children: e.fromCity
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: ""
                    }), r.jsx("span", {
                        className: "font-medium truncate",
                        children: e.toCity
                    })]
                }), r.jsx("p", {
                    className: "text-sm text-muted-foreground line-clamp-2",
                    children: e.description
                }), r.jsxs("div", {
                    className: "grid grid-cols-2 gap-3 text-sm",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(Or, {
                            className: "w-4 h-4 text-muted-foreground"
                        }), r.jsx("span", {
                            className: "truncate",
                            children: Dt(h, "d MMM yyyy", {
                                locale: Xt
                            })
                        })]
                    }), e.estimatedWeight && r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(zt, {
                            className: "w-4 h-4 text-muted-foreground"
                        }), r.jsx("span", {
                            className: "truncate",
                            children: e.estimatedWeight
                        })]
                    })]
                }), e.budget && r.jsxs("div", {
                    className: "flex items-center gap-2 text-primary font-semibold",
                    children: [r.jsx(si, {
                        className: "w-4 h-4"
                    }), r.jsxs("span", {
                        children: ["Budget: ", e.budget]
                    })]
                }), r.jsxs("div", {
                    className: "grid grid-cols-2 gap-2 text-xs text-muted-foreground",
                    children: [a !== void 0 && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(Ma, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: [a, " offre", a > 1 ? "s" : ""]
                        })]
                    }), e.viewCount !== void 0 && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(vs, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: [e.viewCount, " vue", e.viewCount > 1 ? "s" : ""]
                        })]
                    }), e.dateFlexible !== void 0 && e.dateFlexible !== null && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(Or, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Date flexible : ", e.dateFlexible ? "Oui" : "Non"]
                        })]
                    }), e.invoiceRequired !== void 0 && e.invoiceRequired !== null && r.jsxs("div", {
                        className: "flex items-center gap-1",
                        children: [r.jsx(Ma, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Facture TTC : ", e.invoiceRequired ? "Oui" : "Non"]
                        })]
                    }), x && r.jsxs("div", {
                        className: "flex items-center gap-1 col-span-2",
                        children: [r.jsx(Or, {
                            className: "w-3 h-3"
                        }), r.jsxs("span", {
                            children: ["Cre le ", Dt(x, "d MMM", {
                                locale: Xt
                            })]
                        })]
                    })]
                }), e.photos && e.photos.length > 0 && r.jsxs(E, {
                    variant: "outline",
                    size: "sm",
                    onClick: w,
                    className: "w-full gap-2",
                    "data-testid": `button-view-photos-${e.id}`,
                    children: [r.jsx(Im, {
                        className: "w-4 h-4"
                    }), "Voir les photos (", e.photos.length, ")"]
                }), d && !j && r.jsxs(af, {
                    variant: "destructive",
                    children: [r.jsx(Df, {
                        className: "h-4 w-4"
                    }), r.jsx(of, {
                        children: "Votre compte est en cours de validation par l'quipe CamionBack. Vous pourrez soumettre des offres ds que votre profil sera approuv."
                    })]
                })]
            }), n && e.status === "open" && r.jsxs(kv, {
                className: "p-4 pt-0 flex flex-row gap-2",
                children: [i && r.jsxs(E, {
                    onClick: () => i(e.id),
                    className: "flex-1 bg-red-600 hover:bg-red-700",
                    variant: "destructive",
                    "data-testid": `button-decline-${e.id}`,
                    children: [r.jsx(Pi, {
                        className: "w-4 h-4 mr-1"
                    }), "Dcliner"]
                }), r.jsx(E, {
                    onClick: v,
                    className: "flex-1",
                    variant: j ? "default" : "secondary",
                    "data-testid": `button-make-offer-${e.id}`,
                    children: "Faire une offre"
                })]
            })]
        }), r.jsx(uy, {
            open: l,
            onClose: () => c(!1),
            photos: e.photos || [],
            referenceId: e.referenceId
        })]
    })
}
var my = "Radio"
  , [t9,TA] = sr(my)
  , [n9,r9] = t9(my)
  , PA = m.forwardRef( (e, t) => {
    const {__scopeRadio: n, name: s, checked: a=!1, required: i, disabled: o, value: l="on", onCheck: c, form: d, ...u} = e
      , [f,h] = m.useState(null)
      , x = at(t, w => h(w))
      , j = m.useRef(!1)
      , v = f ? d || !!f.closest("form") : !0;
    return r.jsxs(n9, {
        scope: n,
        checked: a,
        disabled: o,
        children: [r.jsx(Le.button, {
            type: "button",
            role: "radio",
            "aria-checked": a,
            "data-state": AA(a),
            "data-disabled": o ? "" : void 0,
            disabled: o,
            value: l,
            ...u,
            ref: x,
            onClick: ue(e.onClick, w => {
                a || c == null || c(),
                v && (j.current = w.isPropagationStopped(),
                j.current || w.stopPropagation())
            }
            )
        }), v && r.jsx(s9, {
            control: f,
            bubbles: !j.current,
            name: s,
            value: l,
            checked: a,
            required: i,
            disabled: o,
            form: d,
            style: {
                transform: "translateX(-100%)"
            }
        })]
    })
}
);
PA.displayName = my;
var EA = "RadioIndicator"
  , _A = m.forwardRef( (e, t) => {
    const {__scopeRadio: n, forceMount: s, ...a} = e
      , i = r9(EA, n);
    return r.jsx(Qn, {
        present: s || i.checked,
        children: r.jsx(Le.span, {
            "data-state": AA(i.checked),
            "data-disabled": i.disabled ? "" : void 0,
            ...a,
            ref: t
        })
    })
}
);
_A.displayName = EA;
var s9 = e => {
    const {control: t, checked: n, bubbles: s=!0, ...a} = e
      , i = m.useRef(null)
      , o = ry(n)
      , l = gv(t);
    return m.useEffect( () => {
        const c = i.current
          , d = window.HTMLInputElement.prototype
          , f = Object.getOwnPropertyDescriptor(d, "checked").set;
        if (o !== n && f) {
            const h = new Event("click",{
                bubbles: s
            });
            f.call(c, n),
            c.dispatchEvent(h)
        }
    }
    , [o, n, s]),
    r.jsx("input", {
        type: "radio",
        "aria-hidden": !0,
        defaultChecked: n,
        ...a,
        tabIndex: -1,
        ref: i,
        style: {
            ...e.style,
            ...l,
            position: "absolute",
            pointerEvents: "none",
            opacity: 0,
            margin: 0
        }
    })
}
;
function AA(e) {
    return e ? "checked" : "unchecked"
}
var a9 = ["ArrowUp", "ArrowDown", "ArrowLeft", "ArrowRight"]
  , fy = "RadioGroup"
  , [i9,xW] = sr(fy, [Gl, TA])
  , RA = Gl()
  , IA = TA()
  , [o9,l9] = i9(fy)
  , DA = m.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, name: s, defaultValue: a, value: i, required: o=!1, disabled: l=!1, orientation: c, dir: d, loop: u=!0, onValueChange: f, ...h} = e
      , x = RA(n)
      , j = Ql(d)
      , [v,w] = Gs({
        prop: i,
        defaultProp: a,
        onChange: f
    });
    return r.jsx(o9, {
        scope: n,
        name: s,
        required: o,
        disabled: l,
        value: v,
        onValueChange: w,
        children: r.jsx(Tv, {
            asChild: !0,
            ...x,
            orientation: c,
            dir: j,
            loop: u,
            children: r.jsx(Le.div, {
                role: "radiogroup",
                "aria-required": o,
                "aria-orientation": c,
                "data-disabled": l ? "" : void 0,
                dir: j,
                ...h,
                ref: t
            })
        })
    })
}
);
DA.displayName = fy;
var MA = "RadioGroupItem"
  , OA = m.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, disabled: s, ...a} = e
      , i = l9(MA, n)
      , o = i.disabled || s
      , l = RA(n)
      , c = IA(n)
      , d = m.useRef(null)
      , u = at(t, d)
      , f = i.value === a.value
      , h = m.useRef(!1);
    return m.useEffect( () => {
        const x = v => {
            a9.includes(v.key) && (h.current = !0)
        }
          , j = () => h.current = !1;
        return document.addEventListener("keydown", x),
        document.addEventListener("keyup", j),
        () => {
            document.removeEventListener("keydown", x),
            document.removeEventListener("keyup", j)
        }
    }
    , []),
    r.jsx(Pv, {
        asChild: !0,
        ...l,
        focusable: !o,
        active: f,
        children: r.jsx(PA, {
            disabled: o,
            required: i.required,
            checked: f,
            ...c,
            ...a,
            name: i.name,
            ref: u,
            onCheck: () => i.onValueChange(a.value),
            onKeyDown: ue(x => {
                x.key === "Enter" && x.preventDefault()
            }
            ),
            onFocus: ue(a.onFocus, () => {
                var x;
                h.current && ((x = d.current) == null || x.click())
            }
            )
        })
    })
}
);
OA.displayName = MA;
var c9 = "RadioGroupIndicator"
  , LA = m.forwardRef( (e, t) => {
    const {__scopeRadioGroup: n, ...s} = e
      , a = IA(n);
    return r.jsx(_A, {
        ...a,
        ...s,
        ref: t
    })
}
);
LA.displayName = c9;
var FA = DA
  , $A = OA
  , d9 = LA;
const zA = m.forwardRef( ({className: e, ...t}, n) => r.jsx(FA, {
    className: pe("grid gap-2", e),
    ...t,
    ref: n
}));
zA.displayName = FA.displayName;
const eg = m.forwardRef( ({className: e, ...t}, n) => r.jsx($A, {
    ref: n,
    className: pe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50", e),
    ...t,
    children: r.jsx(d9, {
        className: "flex items-center justify-center",
        children: r.jsx(id, {
            className: "h-2.5 w-2.5 fill-current text-current"
        })
    })
}));
eg.displayName = $A.displayName;
const u9 = fe.object({
    amount: fe.string().min(1, "Montant requis").refine(e => !isNaN(Number(e)) && Number(e) > 0, {
        message: "Montant invalide"
    }),
    pickupDate: fe.string().min(1, "Date de prise en charge requise"),
    loadType: fe.enum(["return", "shared"], {
        required_error: "Type de chargement requis"
    })
});
function m9({open: e, onClose: t, requestId: n, onSuccess: s}) {
    const {toast: a} = Ht()
      , i = ts({
        resolver: ns(u9),
        defaultValues: {
            amount: "",
            pickupDate: "",
            loadType: void 0
        }
    })
      , o = async l => {
        try {
            const c = JSON.parse(localStorage.getItem("camionback_user") || "{}")
              , d = await fetch("/api/offers", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    requestId: n,
                    transporterId: c.id,
                    amount: l.amount,
                    pickupDate: l.pickupDate,
                    loadType: l.loadType
                })
            });
            if (!d.ok) {
                if (d.status === 409) {
                    const u = await d.json();
                    a({
                        variant: "destructive",
                        title: "Offre dj soumise",
                        description: u.error || "Vous avez dj soumis une offre pour cette demande"
                    }),
                    t();
                    return
                }
                throw new Error
            }
            a({
                title: "Offre envoye",
                description: "Votre offre a t envoye au client avec succs"
            }),
            i.reset(),
            t(),
            s == null || s()
        } catch {
            a({
                variant: "destructive",
                title: "Erreur",
                description: "chec d'envoi de l'offre"
            })
        }
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "sm:max-w-md",
            children: [r.jsx(ft, {
                children: r.jsx(ht, {
                    className: "text-xl",
                    children: "Faire une offre"
                })
            }), r.jsx(rs, {
                ...i,
                children: r.jsxs("form", {
                    onSubmit: i.handleSubmit(o),
                    className: "space-y-6",
                    children: [r.jsx(Xe, {
                        control: i.control,
                        name: "amount",
                        render: ({field: l}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Montant (MAD)"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    type: "number",
                                    placeholder: "500",
                                    "data-testid": "input-offer-amount",
                                    ...l
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: i.control,
                        name: "pickupDate",
                        render: ({field: l}) => r.jsxs(qe, {
                            children: [r.jsxs(Ue, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Or, {
                                    className: "w-4 h-4"
                                }), "Date de prise en charge"]
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    type: "date",
                                    "data-testid": "input-offer-pickup-date",
                                    ...l
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: i.control,
                        name: "loadType",
                        render: ({field: l}) => r.jsxs(qe, {
                            children: [r.jsxs(Ue, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(At, {
                                    className: "w-4 h-4"
                                }), "Type de chargement"]
                            }), r.jsx(Ge, {
                                children: r.jsxs(zA, {
                                    onValueChange: l.onChange,
                                    value: l.value,
                                    className: "flex flex-col space-y-2",
                                    "data-testid": "radio-group-load-type",
                                    children: [r.jsxs(qe, {
                                        className: "flex items-center space-x-3 space-y-0",
                                        children: [r.jsx(Ge, {
                                            children: r.jsx(eg, {
                                                value: "return",
                                                "data-testid": "radio-load-type-return"
                                            })
                                        }), r.jsx(Ue, {
                                            className: "font-normal cursor-pointer",
                                            children: "Retour (camion vide qui rentre)"
                                        })]
                                    }), r.jsxs(qe, {
                                        className: "flex items-center space-x-3 space-y-0",
                                        children: [r.jsx(Ge, {
                                            children: r.jsx(eg, {
                                                value: "shared",
                                                "data-testid": "radio-load-type-shared"
                                            })
                                        }), r.jsx(Ue, {
                                            className: "font-normal cursor-pointer",
                                            children: "Groupage / Partag"
                                        })]
                                    })]
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "flex gap-3",
                        children: [r.jsx(E, {
                            type: "button",
                            variant: "outline",
                            onClick: t,
                            className: "flex-1",
                            "data-testid": "button-cancel-offer",
                            children: "Annuler"
                        }), r.jsx(E, {
                            type: "submit",
                            className: "flex-1",
                            "data-testid": "button-submit-offer",
                            children: "Envoyer l'offre"
                        })]
                    })]
                })
            })]
        })
    })
}
function f9({requests: e, onDateSelect: t, selectedDate: n}) {
    const [s,a] = m.useState(new Date)
      , i = m.useMemo( () => {
        const p = new Set
          , g = new Date().getFullYear();
        return p.add(g),
        p.add(g - 1),
        p.add(g + 1),
        e.forEach(b => {
            b.pickupDate && p.add(mp(ia(b.pickupDate))),
            b.deliveryDate && p.add(mp(ia(b.deliveryDate)))
        }
        ),
        Array.from(p).sort( (b, k) => k - b)
    }
    , [e])
      , o = a6(s)
      , l = r6(s)
      , c = s6({
        start: o,
        end: l
    })
      , d = o.getDay()
      , u = d === 0 ? 6 : d - 1
      , f = m.useMemo( () => {
        const p = new Map;
        return e.forEach(g => {
            const b = g.pickupDate || g.deliveryDate;
            if (b) {
                const k = Dt(ia(b), "yyyy-MM-dd");
                p.has(k) || p.set(k, []),
                p.get(k).push(g)
            }
        }
        ),
        p
    }
    , [e])
      , h = m.useMemo( () => {
        const p = e.filter(k => {
            const S = k.pickupDate || k.deliveryDate;
            return S ? sV(ia(S), s) : !1
        }
        )
          , g = p.reduce( (k, S) => {
            var T;
            const C = (T = S.offers) == null ? void 0 : T.find(D => D.status === "accepted");
            return k + ((C == null ? void 0 : C.amount) || 0)
        }
        , 0)
          , b = p.filter(k => ia(k.pickupDate || k.deliveryDate) >= new Date).sort( (k, S) => {
            const C = ia(k.pickupDate || k.deliveryDate)
              , T = ia(S.pickupDate || S.deliveryDate);
            return C.getTime() - T.getTime()
        }
        )[0];
        return {
            count: p.length,
            totalAmount: g,
            nextDelivery: b ? ia(b.pickupDate || b.deliveryDate) : null
        }
    }
    , [e, s])
      , x = () => {
        a(new Date(s.getFullYear(),s.getMonth() - 1))
    }
      , j = () => {
        a(new Date(s.getFullYear(),s.getMonth() + 1))
    }
      , v = p => {
        a(jV(s, parseInt(p)))
    }
      , w = p => {
        n && sm(p, n) ? t(null) : t(p)
    }
      , y = p => {
        var T;
        const g = Dt(p, "yyyy-MM-dd")
          , b = f.has(g)
          , k = n && sm(p, n)
          , S = sm(p, new Date);
        (T = f.get(g)) != null && T.length;
        let C = "relative flex flex-col items-center justify-center h-12 rounded-md transition-all cursor-pointer ";
        return k ? C += "bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2 " : b ? C += "hover-elevate active-elevate-2 bg-card/50 " : C += "text-muted-foreground/60 hover:bg-muted/30 hover:text-muted-foreground ",
        S && !k && (C += "ring-1 ring-primary/30 "),
        C
    }
    ;
    return r.jsxs(J, {
        className: "w-full",
        children: [r.jsx(ye, {
            className: "pb-4",
            children: r.jsxs("div", {
                className: "flex items-center justify-between flex-wrap gap-4",
                children: [r.jsxs(we, {
                    className: "text-lg flex items-center gap-2",
                    children: [r.jsx(Or, {
                        className: "w-5 h-5"
                    }), "Mes commandes  traiter  ", Dt(s, "MMMM yyyy", {
                        locale: Xt
                    })]
                }), r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(E, {
                        variant: "outline",
                        size: "icon",
                        onClick: x,
                        "data-testid": "button-prev-month",
                        children: r.jsx(Rm, {
                            className: "w-4 h-4"
                        })
                    }), r.jsxs(Vt, {
                        value: mp(s).toString(),
                        onValueChange: v,
                        children: [r.jsx(Mt, {
                            className: "w-32",
                            "data-testid": "select-year",
                            children: r.jsx(Bt, {})
                        }), r.jsx(Ot, {
                            children: i.map(p => r.jsx(Se, {
                                value: p.toString(),
                                children: p
                            }, p))
                        })]
                    }), r.jsx(E, {
                        variant: "outline",
                        size: "icon",
                        onClick: j,
                        "data-testid": "button-next-month",
                        children: r.jsx(ad, {
                            className: "w-4 h-4"
                        })
                    })]
                })]
            })
        }), r.jsxs(te, {
            className: "space-y-4",
            children: [r.jsxs("div", {
                className: "space-y-2",
                children: [r.jsx("div", {
                    className: "grid grid-cols-7 gap-1 mb-2",
                    children: ["Lun", "Mar", "Mer", "Jeu", "Ven", "Sam", "Dim"].map(p => r.jsx("div", {
                        className: "text-center text-sm font-medium text-muted-foreground py-2",
                        children: p
                    }, p))
                }), r.jsxs("div", {
                    className: "grid grid-cols-7 gap-1",
                    children: [Array.from({
                        length: u
                    }).map( (p, g) => r.jsx("div", {
                        className: "h-12"
                    }, `padding-${g}`)), c.map(p => {
                        const g = Dt(p, "yyyy-MM-dd")
                          , k = (f.get(g) || []).length;
                        return r.jsxs("div", {
                            className: y(p),
                            onClick: () => w(p),
                            "data-testid": `calendar-day-${Dt(p, "yyyy-MM-dd")}`,
                            children: [r.jsx("span", {
                                className: "text-sm font-medium",
                                children: Dt(p, "d")
                            }), k > 0 && r.jsxs("div", {
                                className: "absolute bottom-1 left-1/2 -translate-x-1/2 flex items-center gap-0.5",
                                children: [r.jsx("div", {
                                    className: "w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"
                                }), k > 1 && r.jsx(At, {
                                    className: "w-3 h-3 text-green-600"
                                })]
                            })]
                        }, p.toISOString())
                    }
                    )]
                })]
            }), r.jsxs("div", {
                className: "pt-4 border-t space-y-2",
                children: [r.jsxs("div", {
                    className: "flex flex-wrap items-center gap-4 text-sm",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(At, {
                            className: "w-4 h-4 text-muted-foreground"
                        }), r.jsx("span", {
                            className: "font-medium",
                            children: h.count
                        }), r.jsxs("span", {
                            className: "text-muted-foreground",
                            children: [h.count === 0 || h.count === 1 ? "commande" : "commandes", " ce mois-ci"]
                        })]
                    }), h.totalAmount > 0 && r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx("span", {
                            className: "text-muted-foreground",
                            children: " Revenu estim :"
                        }), r.jsxs(de, {
                            variant: "secondary",
                            className: "font-semibold",
                            children: [h.totalAmount.toLocaleString(), " MAD"]
                        })]
                    })]
                }), h.nextDelivery && r.jsxs("div", {
                    className: "flex items-center gap-2 text-sm text-muted-foreground",
                    children: [r.jsx("span", {
                        children: " Prochaine livraison :"
                    }), r.jsx("span", {
                        className: "font-medium text-foreground",
                        children: Dt(h.nextDelivery, "d MMMM yyyy", {
                            locale: Xt
                        })
                    })]
                })]
            }), n && r.jsx("div", {
                className: "pt-4 border-t",
                children: r.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [r.jsxs("p", {
                        className: "text-sm font-medium",
                        children: ["Commandes du ", Dt(n, "d MMMM yyyy", {
                            locale: Xt
                        })]
                    }), r.jsx(E, {
                        variant: "ghost",
                        size: "sm",
                        onClick: () => t(null),
                        "data-testid": "button-clear-date-filter",
                        children: "Voir tout"
                    })]
                })
            })]
        })]
    })
}
const h9 = fe.object({
    description: fe.string().min(10, "Description minimale: 10 caractres"),
    type: fe.string().min(1, "Type de problme requis")
})
  , p9 = fe.object({
    amount: fe.coerce.number().min(1, "Le montant doit tre suprieur  0"),
    pickupDate: fe.string().min(1, "Date de prise en charge requise"),
    loadType: fe.enum(["return", "shared"], {
        required_error: "Type de chargement requis"
    })
})
  , x9 = fe.object({
    referenceName: fe.string().min(2, "Nom complet requis (min. 2 caractres)"),
    referencePhone: fe.string().regex(/^\+212[0-9]{9}$/, "Format: +212XXXXXXXXX"),
    referenceRelation: fe.enum(["Client", "Transporteur", "Autre"], {
        required_error: "Type de relation requis"
    })
});
function VA() {
    rr();
    const [e,t] = m.useState("Toutes les villes")
      , [n,s] = m.useState("")
      , [a,i] = m.useState(!1)
      , [o,l] = m.useState("")
      , [c,d] = m.useState(!1)
      , [u,f] = m.useState(null)
      , [h,x] = m.useState("")
      , [j,v] = m.useState(!1)
      , [w,y] = m.useState([])
      , [p,g] = m.useState("")
      , [b,k] = m.useState(!1)
      , [S,C] = m.useState(null)
      , [T,D] = m.useState(!1)
      , [L,G] = m.useState("")
      , [M,H] = m.useState("")
      , [U,re] = m.useState("")
      , [ae,X] = m.useState(!1)
      , [I,V] = m.useState("")
      , [oe,he] = m.useState(!1)
      , [ce,xt] = m.useState(null)
      , [gt,Nt] = m.useState(!1)
      , [ot,z] = m.useState(null)
      , [W,ze] = m.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    m.useEffect( () => {
        const O = async () => {
            try {
                const Re = await fetch(`/api/auth/me/${W.id}`);
                if (Re.ok) {
                    const {user: qt} = await Re.json();
                    localStorage.setItem("camionback_user", JSON.stringify(qt)),
                    ze(qt)
                } else
                    Re.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (Re) {
                console.error("Failed to refresh user data:", Re)
            }
        }
        ;
        W.id && O()
    }
    , [W.id]),
    m.useEffect( () => {
        ce && oe && wn.reset({
            amount: ce.amount.toString(),
            pickupDate: ce.pickupDate ? new Date(ce.pickupDate).toISOString().split("T")[0] : "",
            loadType: ce.loadType || "return"
        })
    }
    , [ce, oe]);
    const Ze = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , Je = () => {
        W.status === "validated" ? D(!0) : Nt(!0)
    }
      , {data: Ve=[], isLoading: Ft} = Oe({
        queryKey: ["/api/requests", W.id],
        queryFn: async () => (await fetch(`/api/requests?status=open&transporterId=${W.id}`)).json()
    })
      , {data: F=[], isLoading: nt} = Oe({
        queryKey: ["/api/offers", W.id],
        queryFn: async () => (await fetch(`/api/offers?transporterId=${W.id}`)).json(),
        refetchInterval: 5e3
    })
      , {data: et=[]} = Oe({
        queryKey: ["/api/requests/all"],
        queryFn: async () => (await fetch("/api/requests")).json()
    })
      , {data: bt=[]} = Oe({
        queryKey: ["/api/users"],
        queryFn: async () => (await fetch("/api/users")).json()
    })
      , {data: hn=[], isLoading: jn} = Oe({
        queryKey: ["/api/requests/accepted", W.id],
        queryFn: async () => (await fetch(`/api/requests?accepted=true&transporterId=${W.id}`)).json(),
        refetchInterval: 5e3
    })
      , He = m.useMemo( () => ot ? hn.filter(O => {
        const Re = O.pickupDate || O.deliveryDate;
        if (!Re)
            return !1;
        try {
            return sm(ia(Re), ot)
        } catch {
            return !1
        }
    }
    ) : hn, [hn, ot])
      , In = O => {
        l(O),
        i(!0)
    }
      , _ = (O, Re, qt) => {
        if (!qt) {
            console.error("Cannot open chat: requestId is missing");
            return
        }
        f({
            id: O,
            name: Re || "Client",
            role: "client"
        }),
        x(qt),
        d(!0)
    }
      , $ = (O, Re) => {
        y(O),
        g(Re),
        v(!0)
    }
      , q = O => {
        const Re = bt.find(qt => qt.id === O.clientId);
        C({
            ...O,
            clientId: Re == null ? void 0 : Re.clientId,
            clientPhone: Re == null ? void 0 : Re.phoneNumber,
            clientCity: Re == null ? void 0 : Re.city
        }),
        k(!0)
    }
      , {data: xe=[], isLoading: me} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , {data: ee, isLoading: je} = Oe({
        queryKey: [`/api/transporter-references/${W.id}`],
        enabled: W.role === "transporter" && !!W.id
    })
      , {toast: $e} = Ht()
      , Rt = Fe({
        mutationFn: async O => await Ae("POST", "/api/transporter-references", {
            transporterId: W.id,
            ...O
        }),
        onSuccess: () => {
            $e({
                title: "Succs",
                description: "Votre rfrence a t enregistre. Notre quipe vous contactera pour validation."
            }),
            le.invalidateQueries({
                queryKey: [`/api/transporter-references/${W.id}`]
            }),
            Tr.reset()
        }
        ,
        onError: O => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: O.message || "chec de l'enregistrement de la rfrence"
            })
        }
    })
      , B = Fe({
        mutationFn: async O => await Ae("POST", `/api/requests/${O}/mark-for-billing`, {
            transporterId: W.id
        }),
        onSuccess: () => {
            $e({
                title: "Succs",
                description: "La commande a t marque comme  facturer"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests/accepted"]
            })
        }
        ,
        onError: () => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la mise  jour"
            })
        }
    })
      , Ke = Fe({
        mutationFn: async O => await Ae("POST", `/api/requests/${O}/decline`, {
            transporterId: W.id
        }),
        onSuccess: () => {
            $e({
                title: "Commande masque",
                description: "Cette commande ne sera plus affiche"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'opration"
            })
        }
    })
      , Yt = Fe({
        mutationFn: async O => await Ae("POST", `/api/requests/${O}/track-view`, {})
    })
      , cn = Fe({
        mutationFn: async O => await Ae("POST", "/api/empty-returns", {
            transporterId: W.id,
            ...O
        }),
        onSuccess: () => {
            $e({
                title: "Succs",
                description: "Votre retour  vide a t annonc"
            }),
            D(!1),
            G(""),
            H(""),
            re("")
        }
        ,
        onError: () => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'annonce du retour"
            })
        }
    })
      , gr = ts({
        resolver: ns(h9),
        defaultValues: {
            description: "",
            type: ""
        }
    })
      , wn = ts({
        resolver: ns(p9),
        defaultValues: {
            amount: "",
            pickupDate: "",
            loadType: "return"
        }
    })
      , Tr = ts({
        resolver: ns(x9),
        defaultValues: {
            referenceName: "",
            referencePhone: "+212",
            referenceRelation: "Client"
        }
    })
      , Br = Fe({
        mutationFn: async O => await Ae("PATCH", `/api/offers/${O.offerId}`, {
            amount: O.amount,
            pickupDate: O.pickupDate,
            loadType: O.loadType
        }),
        onSuccess: () => {
            $e({
                title: "Offre modifie",
                description: "Votre offre a t mise  jour avec succs"
            }),
            he(!1),
            wn.reset(),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la modification de l'offre"
            })
        }
    })
      , bo = Fe({
        mutationFn: async O => {
            const Re = [...Ve, ...hn].find(Pr => Pr.id === O.requestId)
              , qt = (Re == null ? void 0 : Re.clientId) || "";
            return await Ae("POST", "/api/reports", {
                requestId: O.requestId,
                reporterId: W.id,
                reporterType: "transporter",
                reportedUserId: qt,
                reason: O.type,
                details: O.description
            })
        }
        ,
        onSuccess: () => {
            $e({
                title: "Signalement envoy",
                description: "Votre signalement a t envoy  l'quipe support"
            }),
            X(!1),
            gr.reset()
        }
        ,
        onError: () => {
            $e({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'envoi du signalement"
            })
        }
    })
      , Ai = O => {
        V(O),
        gr.reset(),
        X(!0)
    }
      , tu = O => {
        I && bo.mutate({
            requestId: I,
            description: O.description,
            type: O.type
        })
    }
      , na = O => {
        confirm("Voulez-vous vraiment masquer cette commande ? Elle ne sera plus visible dans votre liste.") && Ke.mutate(O)
    }
      , Ri = Ve.filter(O => {
        const Re = !O.declinedBy || !O.declinedBy.includes(W.id)
          , qt = e === "Toutes les villes" || O.fromCity === e || O.toCity === e
          , Pr = n === "" || O.description.toLowerCase().includes(n.toLowerCase()) || O.goodsType.toLowerCase().includes(n.toLowerCase());
        return Re && qt && Pr
    }
    ).sort( (O, Re) => new Date(Re.createdAt).getTime() - new Date(O.createdAt).getTime())
      , ih = F.reduce( (O, Re) => (O[Re.requestId] = (O[Re.requestId] || 0) + 1,
    O), {});
    return Ft || nt ? r.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: r.jsx(gn, {
            message: "Chargement de votre tableau de bord...",
            size: "lg"
        })
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: W,
            onAnnounceReturn: Je,
            onLogout: Ze
        }), r.jsx(iA, {
            userRole: "transporter"
        }), W.status === "pending" && !ee && !je && r.jsx(J, {
            className: "mx-4 mt-4 border-l-4 border-primary",
            children: r.jsxs(te, {
                className: "p-6",
                children: [r.jsxs("div", {
                    className: "flex items-start gap-3 mb-4",
                    children: [r.jsx(At, {
                        className: "w-6 h-6 text-primary flex-shrink-0 mt-1"
                    }), r.jsxs("div", {
                        children: [r.jsx("h3", {
                            className: "text-xl font-semibold text-foreground",
                            children: " Pour activer votre compte CamionBack, ajoutez un rfrent professionnel"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground mt-2",
                            children: "Afin d'assurer la qualit du rseau, chaque transporteur doit fournir une personne de confiance (client, partenaire ou autre transporteur) que notre quipe contactera pour confirmer son srieux."
                        })]
                    })]
                }), r.jsx(rs, {
                    ...Tr,
                    children: r.jsxs("form", {
                        onSubmit: Tr.handleSubmit(O => Rt.mutate(O)),
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: Tr.control,
                            name: "referenceName",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Nom complet du rfrent ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        placeholder: "Ex: Ahmed Benjelloun",
                                        "data-testid": "input-reference-name",
                                        ...O
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: Tr.control,
                            name: "referencePhone",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Numro de tlphone du rfrent ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        placeholder: "+212612345678",
                                        "data-testid": "input-reference-phone",
                                        ...O
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: Tr.control,
                            name: "referenceRelation",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Relation professionnelle ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Vt, {
                                    onValueChange: O.onChange,
                                    value: O.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-reference-relation",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionnez la relation"
                                            })
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "Client",
                                            children: "Client"
                                        }), r.jsx(Se, {
                                            value: "Transporteur",
                                            children: "Transporteur"
                                        }), r.jsx(Se, {
                                            value: "Autre",
                                            children: "Autre"
                                        })]
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(E, {
                            type: "submit",
                            disabled: Rt.isPending,
                            className: "w-full sm:w-auto",
                            "data-testid": "button-submit-reference",
                            children: Rt.isPending ? "Soumission..." : "Soumettre ma rfrence"
                        })]
                    })
                })]
            })
        }), W.status === "pending" && ee && ee.status === "pending" && r.jsx("div", {
            className: "bg-blue-50 dark:bg-blue-950/30 border-l-4 border-blue-500 p-4 mx-4 mt-4",
            children: r.jsxs("div", {
                className: "flex items-start gap-3",
                children: [r.jsx(Ex, {
                    className: "w-5 h-5 text-blue-600 dark:text-blue-500 mt-0.5 flex-shrink-0"
                }), r.jsxs("div", {
                    children: [r.jsx("h3", {
                        className: "font-semibold text-blue-900 dark:text-blue-100",
                        children: " Votre rfrence a t enregistre"
                    }), r.jsx("p", {
                        className: "text-sm text-blue-800 dark:text-blue-200 mt-1",
                        children: "Notre quipe vous informera une fois votre profil valid. Merci de votre patience !"
                    })]
                })]
            })
        }), W.status === "pending" && ee && ee.status === "rejected" && r.jsx("div", {
            className: "bg-red-50 dark:bg-red-950/30 border-l-4 border-red-500 p-4 mx-4 mt-4",
            children: r.jsxs("div", {
                className: "flex items-start gap-3",
                children: [r.jsx(ai, {
                    className: "w-5 h-5 text-red-600 dark:text-red-500 mt-0.5 flex-shrink-0"
                }), r.jsxs("div", {
                    children: [r.jsx("h3", {
                        className: "font-semibold text-red-900 dark:text-red-100",
                        children: " Votre rfrence n'a pas t valide"
                    }), r.jsx("p", {
                        className: "text-sm text-red-800 dark:text-red-200 mt-1",
                        children: ee.rejectionReason || "Merci d'en fournir une autre personne  contacter."
                    })]
                })]
            })
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Tableau de bord"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Trouvez des demandes de transport"
                })]
            }), r.jsxs(Xl, {
                defaultValue: "available",
                className: "w-full",
                children: [r.jsxs(vi, {
                    className: "grid w-full max-w-3xl grid-cols-3",
                    children: [r.jsxs(Pt, {
                        value: "available",
                        "data-testid": "tab-available",
                        children: [r.jsx(jr, {
                            className: "mr-2 h-4 w-4"
                        }), "Disponibles (", r.jsx("span", {
                            className: "text-[#00ff99]",
                            children: Ri.length
                        }), ")"]
                    }), r.jsxs(Pt, {
                        value: "my-offers",
                        "data-testid": "tab-my-offers",
                        children: [r.jsx(zt, {
                            className: "mr-2 h-4 w-4"
                        }), "Mes offres"]
                    }), r.jsxs(Pt, {
                        value: "to-process",
                        "data-testid": "tab-to-process",
                        children: [r.jsx(mn, {
                            className: "mr-2 h-4 w-4"
                        }), " traiter (", hn.length, ")"]
                    })]
                }), r.jsxs(Et, {
                    value: "available",
                    className: "mt-6 space-y-6",
                    children: [r.jsxs("div", {
                        className: "flex flex-col sm:flex-row gap-4",
                        children: [r.jsxs("div", {
                            className: "relative flex-1",
                            children: [r.jsx(jr, {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                            }), r.jsx(_e, {
                                placeholder: "Rechercher par description...",
                                value: n,
                                onChange: O => s(O.target.value),
                                className: "pl-10",
                                "data-testid": "input-search-requests"
                            })]
                        }), r.jsxs(Vt, {
                            value: e,
                            onValueChange: t,
                            children: [r.jsxs(Mt, {
                                className: "w-full sm:w-48",
                                "data-testid": "select-city-filter",
                                children: [r.jsx(_x, {
                                    className: "mr-2 h-4 w-4"
                                }), r.jsx(Bt, {})]
                            }), r.jsxs(Ot, {
                                children: [r.jsx(Se, {
                                    value: "Toutes les villes",
                                    children: "Toutes les villes"
                                }), me ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : xe.map(O => r.jsx(Se, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))]
                            })]
                        })]
                    }), Ri.length > 0 ? r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: Ri.map(O => r.jsx(e9, {
                            request: O,
                            onMakeOffer: In,
                            userStatus: W.status,
                            offerCount: ih[O.id] || 0,
                            onDecline: na,
                            onTrackView: () => Yt.mutate(O.id)
                        }, O.id))
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(jr, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune demande trouve"
                        })]
                    })]
                }), r.jsx(Et, {
                    value: "my-offers",
                    className: "mt-6 space-y-6",
                    children: F.length > 0 ? r.jsx("div", {
                        className: "space-y-4",
                        children: F.map(O => {
                            const Re = et.find(ka => ka.id === O.requestId)
                              , qt = bt.find(ka => ka.id === (Re == null ? void 0 : Re.clientId))
                              , Pr = O.status === "accepted";
                            return r.jsx(J, {
                                className: "hover-elevate",
                                children: r.jsxs(te, {
                                    className: "p-6 space-y-4",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center justify-between",
                                        children: [r.jsxs("div", {
                                            className: "flex items-center gap-3",
                                            children: [r.jsxs(de, {
                                                variant: O.status === "pending" ? "outline" : O.status === "accepted" ? "default" : "secondary",
                                                className: Pr ? "bg-green-600" : "",
                                                children: [Pr && r.jsx(mn, {
                                                    className: "w-3 h-3 mr-1"
                                                }), O.status === "pending" ? "En attente" : O.status === "accepted" ? "Accepte" : "Refuse"]
                                            }), r.jsxs("span", {
                                                className: "text-sm text-muted-foreground",
                                                children: ["Rfrence: ", r.jsx("span", {
                                                    className: "font-semibold text-foreground",
                                                    children: Re == null ? void 0 : Re.referenceId
                                                })]
                                            })]
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsxs("span", {
                                                className: "text-xl font-bold text-primary",
                                                children: [O.amount, " MAD"]
                                            }), O.status === "pending" && r.jsx(E, {
                                                size: "icon",
                                                variant: "ghost",
                                                onClick: () => {
                                                    xt(O),
                                                    he(!0)
                                                }
                                                ,
                                                "data-testid": `button-edit-offer-${O.id}`,
                                                children: r.jsx(od, {
                                                    className: "w-4 h-4"
                                                })
                                            })]
                                        })]
                                    }), Re && r.jsxs(r.Fragment, {
                                        children: [r.jsxs("div", {
                                            className: "flex items-center gap-2 text-sm text-muted-foreground",
                                            children: [r.jsx(Rr, {
                                                className: "w-4 h-4"
                                            }), r.jsxs("span", {
                                                children: [Re.fromCity, "  ", Re.toCity]
                                            })]
                                        }), Re.photos && Re.photos.length > 0 && r.jsxs(E, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => $(Re.photos, Re.referenceId),
                                            className: "gap-2",
                                            "data-testid": `button-view-offer-photos-${O.id}`,
                                            children: [r.jsx(Im, {
                                                className: "w-4 h-4"
                                            }), "Voir les photos (", Re.photos.length, ")"]
                                        })]
                                    }), Pr && qt && r.jsxs("div", {
                                        className: "bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-900 rounded-lg p-4 space-y-3",
                                        children: [r.jsxs("p", {
                                            className: "text-sm font-medium text-green-900 dark:text-green-100 flex items-center gap-2",
                                            children: [r.jsx(mn, {
                                                className: "w-4 h-4"
                                            }), "Votre offre a t accepte !"]
                                        }), r.jsxs("div", {
                                            className: "space-y-2",
                                            children: [r.jsx("p", {
                                                className: "text-sm text-green-800 dark:text-green-200",
                                                children: "Vous pouvez maintenant contacter le client :"
                                            }), r.jsxs("div", {
                                                className: "flex items-center gap-2",
                                                children: [r.jsx(an, {
                                                    className: "w-4 h-4 text-green-700 dark:text-green-300"
                                                }), r.jsx("a", {
                                                    href: `tel:${qt.phoneNumber}`,
                                                    className: "text-lg font-semibold text-green-700 dark:text-green-300 hover:underline",
                                                    "data-testid": `link-client-phone-${O.id}`,
                                                    children: qt.phoneNumber
                                                })]
                                            }), r.jsxs("p", {
                                                className: "text-xs text-green-700 dark:text-green-400",
                                                children: ["Client ", qt.clientId || "Non dfini"]
                                            }), Re && r.jsxs(E, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => _(qt.id, qt.clientId || "Client", Re.id),
                                                className: "gap-2 mt-2 w-full",
                                                "data-testid": `button-chat-${O.id}`,
                                                children: [r.jsx(Ln, {
                                                    className: "w-4 h-4"
                                                }), "Envoyer un message"]
                                            })]
                                        })]
                                    }), O.message && r.jsx("p", {
                                        className: "text-sm text-muted-foreground border-l-2 border-primary pl-3",
                                        children: O.message
                                    })]
                                })
                            }, O.id)
                        }
                        )
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(zt, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Vous n'avez pas encore fait d'offres"
                        })]
                    })
                }), r.jsxs(Et, {
                    value: "to-process",
                    className: "mt-6 space-y-6",
                    children: [hn.length > 0 && r.jsx(f9, {
                        requests: hn,
                        selectedDate: ot,
                        onDateSelect: z
                    }), ot && He.length === 0 && hn.length > 0 && r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-8 text-center",
                            children: [r.jsx(Or, {
                                className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                            }), r.jsxs("p", {
                                className: "text-muted-foreground",
                                children: ["Aucune commande prvue pour le ", Dt(ot, "d MMMM yyyy", {
                                    locale: Xt
                                })]
                            }), r.jsx(E, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => z(null),
                                className: "mt-4",
                                "data-testid": "button-clear-date-filter-empty",
                                children: "Voir toutes les commandes"
                            })]
                        })
                    }), He.length > 0 ? r.jsx("div", {
                        className: "space-y-4",
                        children: He.map(O => {
                            const Re = bt.find(Pr => Pr.id === O.clientId)
                              , qt = O.paymentStatus === "awaiting_payment";
                            return r.jsx(J, {
                                className: "hover-elevate",
                                children: r.jsxs(te, {
                                    className: "p-6 space-y-4",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center justify-between flex-wrap gap-3",
                                        children: [r.jsxs("div", {
                                            children: [r.jsxs("div", {
                                                className: "flex items-center gap-2 mb-1",
                                                children: [r.jsx("h3", {
                                                    className: "text-lg font-semibold",
                                                    children: O.referenceId
                                                }), qt && r.jsx(de, {
                                                    variant: "default",
                                                    className: "bg-orange-600",
                                                    children: "En attente de paiement client"
                                                })]
                                            }), r.jsxs("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: [O.fromCity, "  ", O.toCity]
                                            })]
                                        }), r.jsxs("div", {
                                            className: "flex items-center gap-2 flex-wrap",
                                            children: [r.jsxs(E, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => q(O),
                                                className: "gap-2",
                                                "data-testid": `button-view-client-${O.id}`,
                                                children: [r.jsx(an, {
                                                    className: "h-4 w-4"
                                                }), "Voir les dtails"]
                                            }), !qt && O.status !== "completed" && O.paymentStatus !== "paid" && r.jsxs(E, {
                                                variant: "default",
                                                size: "sm",
                                                onClick: () => B.mutate(O.id),
                                                disabled: B.isPending,
                                                className: "gap-2",
                                                "data-testid": `button-mark-billing-${O.id}`,
                                                children: [r.jsx(mn, {
                                                    className: "h-4 w-4"
                                                }), "Marquer comme  facturer"]
                                            }), r.jsxs(E, {
                                                variant: "destructive",
                                                size: "sm",
                                                onClick: () => Ai(O.id),
                                                "data-testid": `button-report-${O.id}`,
                                                className: "gap-2",
                                                children: [r.jsx(ai, {
                                                    className: "h-4 w-4"
                                                }), r.jsx("span", {
                                                    className: "hidden sm:inline",
                                                    children: "Signaler"
                                                })]
                                            })]
                                        })]
                                    }), r.jsxs("div", {
                                        className: "space-y-2",
                                        children: [r.jsxs("div", {
                                            className: "grid grid-cols-2 gap-4 text-sm",
                                            children: [r.jsxs("div", {
                                                children: [r.jsx("p", {
                                                    className: "text-muted-foreground",
                                                    children: "Type de marchandise"
                                                }), r.jsx("p", {
                                                    className: "font-medium",
                                                    children: O.goodsType
                                                })]
                                            }), O.estimatedWeight && r.jsxs("div", {
                                                children: [r.jsx("p", {
                                                    className: "text-muted-foreground",
                                                    children: "Poids estim"
                                                }), r.jsx("p", {
                                                    className: "font-medium",
                                                    children: O.estimatedWeight
                                                })]
                                            })]
                                        }), O.pickupDate && r.jsxs("div", {
                                            className: "bg-primary/5 border border-primary/20 rounded-md p-3 mt-3",
                                            children: [r.jsxs("p", {
                                                className: "text-sm text-muted-foreground flex items-center gap-2",
                                                children: [r.jsx(Or, {
                                                    className: "w-4 h-4"
                                                }), "Date de la mission"]
                                            }), r.jsx("p", {
                                                className: "text-base font-semibold text-primary mt-1",
                                                children: Dt(new Date(O.pickupDate), "EEEE d MMMM yyyy", {
                                                    locale: Xt
                                                })
                                            })]
                                        }), O.description && r.jsxs("div", {
                                            children: [r.jsx("p", {
                                                className: "text-sm text-muted-foreground",
                                                children: "Description"
                                            }), r.jsx("p", {
                                                className: "text-sm",
                                                children: O.description
                                            })]
                                        }), O.photos && O.photos.length > 0 && r.jsxs(E, {
                                            variant: "outline",
                                            size: "sm",
                                            onClick: () => $(O.photos, O.referenceId),
                                            className: "gap-2",
                                            "data-testid": `button-view-request-photos-${O.id}`,
                                            children: [r.jsx(Im, {
                                                className: "w-4 h-4"
                                            }), "Voir les photos (", O.photos.length, ")"]
                                        })]
                                    }), Re && r.jsxs(E, {
                                        variant: "outline",
                                        size: "sm",
                                        onClick: () => _(Re.id, Re.clientId || "Client", O.id),
                                        className: "gap-2 w-full sm:w-auto bg-[#00cc88] hover:bg-[#00cc88]/90 text-white border-[#00cc88]",
                                        "data-testid": `button-chat-request-${O.id}`,
                                        style: {
                                            textShadow: "0 1px 1px rgba(0,0,0,0.2)"
                                        },
                                        children: [r.jsx(Ln, {
                                            className: "w-4 w-4"
                                        }), "Envoyer un message au client"]
                                    })]
                                })
                            }, O.id)
                        }
                        )
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(mn, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucune commande  traiter"
                        })]
                    })]
                })]
            })]
        }), r.jsx(m9, {
            open: a,
            onClose: () => i(!1),
            requestId: o,
            onSuccess: () => {
                le.invalidateQueries({
                    queryKey: ["/api/offers"]
                })
            }
        }), u && r.jsx(ah, {
            open: c,
            onClose: () => d(!1),
            otherUser: u,
            currentUserId: W.id,
            currentUserRole: "transporter",
            requestId: h
        }), r.jsx(uy, {
            open: j,
            onClose: () => v(!1),
            photos: w,
            referenceId: p
        }), r.jsx(mt, {
            open: b,
            onOpenChange: k,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsx(ft, {
                    children: r.jsx(ht, {
                        className: "text-xl",
                        children: "Dtails du client"
                    })
                }), S && r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Commande"
                        }), r.jsx("p", {
                            className: "font-semibold text-lg",
                            children: S.referenceId
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Identifiant"
                        }), r.jsxs("p", {
                            className: "font-medium",
                            children: ["Client ", S.clientId || "Non dfini"]
                        })]
                    }), S.clientCity && r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Ville"
                        }), r.jsx("p", {
                            className: "font-medium",
                            children: S.clientCity
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Tlphone"
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(an, {
                                className: "w-4 h-4 text-primary"
                            }), r.jsx("a", {
                                href: `tel:${S.clientPhone}`,
                                className: "font-semibold text-primary hover:underline text-lg",
                                "data-testid": "link-client-phone-details",
                                children: S.clientPhone
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground mb-2",
                            children: "Trajet"
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Rr, {
                                className: "w-4 h-4 text-muted-foreground"
                            }), r.jsxs("p", {
                                className: "font-medium",
                                children: [S.fromCity, "  ", S.toCity]
                            })]
                        })]
                    }), r.jsx(E, {
                        onClick: () => k(!1),
                        className: "w-full",
                        "data-testid": "button-close-client-details",
                        children: "Fermer"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: T,
            onOpenChange: D,
            children: r.jsxs(dt, {
                className: "sm:max-w-md",
                children: [r.jsx(ft, {
                    children: r.jsx(ht, {
                        children: "Annoncer un retour  vide"
                    })
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Ville de dpart"
                        }), r.jsxs(Vt, {
                            value: L,
                            onValueChange: G,
                            children: [r.jsx(Mt, {
                                "data-testid": "select-return-from-city",
                                children: r.jsx(Bt, {
                                    placeholder: "Slectionner la ville de dpart"
                                })
                            }), r.jsx(Ot, {
                                children: me ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : xe.map(O => r.jsx(Se, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Ville d'arrive"
                        }), r.jsxs(Vt, {
                            value: M,
                            onValueChange: H,
                            children: [r.jsx(Mt, {
                                "data-testid": "select-return-to-city",
                                children: r.jsx(Bt, {
                                    placeholder: "Slectionner la ville d'arrive"
                                })
                            }), r.jsx(Ot, {
                                children: me ? r.jsx("div", {
                                    className: "p-2 text-sm text-muted-foreground",
                                    children: "Chargement..."
                                }) : xe.map(O => r.jsx(Se, {
                                    value: O.name,
                                    children: O.name
                                }, O.id))
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Date de retour"
                        }), r.jsxs("div", {
                            className: "relative",
                            children: [r.jsx(Or, {
                                className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                            }), r.jsx(_e, {
                                type: "date",
                                value: U,
                                onChange: O => re(O.target.value),
                                className: "pl-10",
                                "data-testid": "input-return-date"
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "flex gap-3 pt-4",
                        children: [r.jsx(E, {
                            variant: "outline",
                            onClick: () => D(!1),
                            className: "flex-1",
                            "data-testid": "button-cancel-return",
                            children: "Annuler"
                        }), r.jsx(E, {
                            onClick: () => {
                                if (!L || !M || !U) {
                                    $e({
                                        variant: "destructive",
                                        title: "Erreur",
                                        description: "Veuillez remplir tous les champs"
                                    });
                                    return
                                }
                                cn.mutate({
                                    fromCity: L,
                                    toCity: M,
                                    returnDate: U
                                })
                            }
                            ,
                            disabled: cn.isPending,
                            className: "flex-1 bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                            "data-testid": "button-submit-return",
                            children: cn.isPending ? "En cours..." : "Annoncer"
                        })]
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: oe,
            onOpenChange: O => {
                he(O),
                O || (wn.reset(),
                xt(null))
            }
            ,
            children: r.jsxs(dt, {
                className: "max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Modifier votre offre"
                    }), r.jsx(_t, {
                        children: "Modifiez le montant, la date ou le type de chargement de votre offre"
                    })]
                }), r.jsx(rs, {
                    ...wn,
                    children: r.jsxs("form", {
                        onSubmit: wn.handleSubmit(O => {
                            if (!ce)
                                return;
                            const Re = typeof O.amount == "number" ? O.amount : Number(O.amount);
                            Br.mutate({
                                offerId: ce.id,
                                amount: Re,
                                pickupDate: O.pickupDate,
                                loadType: O.loadType
                            })
                        }
                        ),
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: wn.control,
                            name: "amount",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Montant (MAD) ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        type: "number",
                                        placeholder: "Ex: 5000",
                                        "data-testid": "input-edit-amount",
                                        ...O
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: wn.control,
                            name: "pickupDate",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Date de prise en charge ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        type: "date",
                                        "data-testid": "input-edit-pickup-date",
                                        ...O
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: wn.control,
                            name: "loadType",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Type de chargement ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Vt, {
                                    onValueChange: O.onChange,
                                    value: O.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-edit-load-type",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionnez le type"
                                            })
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "return",
                                            children: "Retour (camion vide)"
                                        }), r.jsx(Se, {
                                            value: "shared",
                                            children: "Groupage / Partag"
                                        })]
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs(mr, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "outline",
                                onClick: () => {
                                    he(!1),
                                    wn.reset(),
                                    xt(null)
                                }
                                ,
                                "data-testid": "button-cancel-edit-offer",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: Br.isPending,
                                "data-testid": "button-submit-edit-offer",
                                children: Br.isPending ? "Modification..." : "Modifier l'offre"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(mt, {
            open: ae,
            onOpenChange: X,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Signaler un problme"
                    }), r.jsx(_t, {
                        children: "Dcrivez le problme rencontr avec ce client."
                    })]
                }), r.jsx(rs, {
                    ...gr,
                    children: r.jsxs("form", {
                        onSubmit: gr.handleSubmit(tu),
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: gr.control,
                            name: "type",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Type de problme ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsxs(Vt, {
                                    onValueChange: O.onChange,
                                    value: O.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-report-type",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionnez un type"
                                            })
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "no-show",
                                            children: "Client absent"
                                        }), r.jsx(Se, {
                                            value: "payment",
                                            children: "Problme de paiement"
                                        }), r.jsx(Se, {
                                            value: "communication",
                                            children: "Problme de communication"
                                        }), r.jsx(Se, {
                                            value: "incorrect-info",
                                            children: "Informations incorrectes"
                                        }), r.jsx(Se, {
                                            value: "damaged-goods",
                                            children: "Marchandises non conformes"
                                        }), r.jsx(Se, {
                                            value: "other",
                                            children: "Autre"
                                        })]
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: gr.control,
                            name: "description",
                            render: ({field: O}) => r.jsxs(qe, {
                                children: [r.jsxs(Ue, {
                                    children: ["Description dtaille ", r.jsx("span", {
                                        className: "text-destructive",
                                        children: "*"
                                    })]
                                }), r.jsx(Ge, {
                                    children: r.jsx(Cs, {
                                        placeholder: "Dcrivez en dtail le problme rencontr...",
                                        className: "resize-none h-32",
                                        "data-testid": "textarea-report-description",
                                        ...O
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs(mr, {
                            className: "gap-2 sm:gap-0",
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "outline",
                                onClick: () => X(!1),
                                "data-testid": "button-cancel-report",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: bo.isPending,
                                "data-testid": "button-submit-report",
                                children: bo.isPending ? "Envoi en cours..." : "Envoyer le signalement"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(mt, {
            open: gt,
            onOpenChange: Nt,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-md",
                children: [r.jsx(ft, {
                    children: r.jsxs(ht, {
                        className: "flex items-center gap-2 text-xl",
                        children: [r.jsx(ai, {
                            className: "h-5 w-5 text-amber-600"
                        }), "Compte non valid"]
                    })
                }), r.jsxs("div", {
                    className: "py-4 space-y-4",
                    children: [r.jsx("p", {
                        className: "text-muted-foreground leading-relaxed",
                        children: "Votre compte CamionBack n'est pas encore valid par notre quipe."
                    }), r.jsx("p", {
                        className: "text-muted-foreground leading-relaxed",
                        children: "Vous pourrez annoncer vos retours et bnficier de toutes les fonctionnalits ds que votre compte sera activ."
                    }), r.jsxs("p", {
                        className: "text-muted-foreground leading-relaxed flex items-center gap-2",
                        children: [r.jsx(At, {
                            className: "h-4 w-4 text-[#00d4b2]"
                        }), "Merci pour votre patience."]
                    })]
                }), r.jsx(mr, {
                    children: r.jsx(E, {
                        onClick: () => Nt(!1),
                        className: "w-full",
                        "data-testid": "button-close-not-validated",
                        children: "Fermer"
                    })
                })]
            })
        })]
    })
}
const Vn = m.forwardRef( ({className: e, ...t}, n) => r.jsx("div", {
    className: "relative w-full overflow-auto",
    children: r.jsx("table", {
        ref: n,
        className: pe("w-full caption-bottom text-sm", e),
        ...t
    })
}));
Vn.displayName = "Table";
const Bn = m.forwardRef( ({className: e, ...t}, n) => r.jsx("thead", {
    ref: n,
    className: pe("[&_tr]:border-b", e),
    ...t
}));
Bn.displayName = "TableHeader";
const Un = m.forwardRef( ({className: e, ...t}, n) => r.jsx("tbody", {
    ref: n,
    className: pe("[&_tr:last-child]:border-0", e),
    ...t
}));
Un.displayName = "TableBody";
const g9 = m.forwardRef( ({className: e, ...t}, n) => r.jsx("tfoot", {
    ref: n,
    className: pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0", e),
    ...t
}));
g9.displayName = "TableFooter";
const kt = m.forwardRef( ({className: e, ...t}, n) => r.jsx("tr", {
    ref: n,
    className: pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted", e),
    ...t
}));
kt.displayName = "TableRow";
const K = m.forwardRef( ({className: e, ...t}, n) => r.jsx("th", {
    ref: n,
    className: pe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0", e),
    ...t
}));
K.displayName = "TableHead";
const Q = m.forwardRef( ({className: e, ...t}, n) => r.jsx("td", {
    ref: n,
    className: pe("p-4 align-middle [&:has([role=checkbox])]:pr-0", e),
    ...t
}));
Q.displayName = "TableCell";
const v9 = m.forwardRef( ({className: e, ...t}, n) => r.jsx("caption", {
    ref: n,
    className: pe("mt-4 text-sm text-muted-foreground", e),
    ...t
}));
v9.displayName = "TableCaption";
function $u({title: e, value: t, icon: n, trend: s, trendUp: a}) {
    return r.jsx(J, {
        className: "hover-elevate",
        children: r.jsx(te, {
            className: "p-6",
            children: r.jsxs("div", {
                className: "flex items-center justify-between",
                children: [r.jsxs("div", {
                    className: "flex-1",
                    children: [r.jsx("p", {
                        className: "text-sm text-muted-foreground mb-1",
                        children: e
                    }), r.jsx("p", {
                        className: "text-3xl font-bold",
                        "data-testid": `kpi-${e.toLowerCase().replace(/\s+/g, "-")}`,
                        children: t
                    }), s && r.jsx("p", {
                        className: `text-sm mt-2 ${a ? "text-green-500" : "text-red-500"}`,
                        children: s
                    })]
                }), r.jsx("div", {
                    className: "w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center",
                    children: r.jsx(n, {
                        className: "w-6 h-6 text-primary"
                    })
                })]
            })
        })
    })
}
const y9 = fe.object({
    phoneNumber: fe.string().min(9, "Numro de tlphone requis (9 chiffres)"),
    name: fe.string().min(2, "Nom requis"),
    city: fe.string().min(1, "Ville requise"),
    pin: fe.string().regex(/^\d{6}$/, "Le code PIN doit contenir exactement 6 chiffres"),
    truckPhoto: fe.instanceof(File, {
        message: "Photo du camion requise"
    })
});
function j9({open: e, onClose: t, onSuccess: n}) {
    const {toast: s} = Ht()
      , {data: a=[], isLoading: i} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , o = ts({
        resolver: ns(y9),
        defaultValues: {
            phoneNumber: "",
            name: "",
            city: "",
            pin: ""
        }
    })
      , l = d => {
        var f;
        const u = (f = d.target.files) == null ? void 0 : f[0];
        u && o.setValue("truckPhoto", u)
    }
      , c = async d => {
        try {
            const u = `+212${d.phoneNumber.replace(/\s/g, "")}`
              , f = await fetch("/api/auth/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: u,
                    pin: d.pin
                })
            });
            if (!f.ok) {
                const p = await f.json();
                throw new Error(p.error || "Erreur lors de l'inscription")
            }
            const {user: h} = await f.json();
            if (!(await fetch("/api/auth/select-role", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    userId: h.id,
                    role: "transporter"
                })
            })).ok)
                throw new Error("Erreur lors de la slection du rle");
            const j = new FormData;
            j.append("userId", h.id),
            j.append("name", d.name),
            j.append("city", d.city),
            j.append("truckPhoto", d.truckPhoto);
            const v = await fetch("/api/auth/complete-profile", {
                method: "POST",
                body: j
            });
            if (!v.ok)
                throw new Error("Erreur lors de la compltion du profil");
            const {user: w} = await v.json();
            if (!(await fetch(`/api/admin/validate-driver/${w.id}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    approved: !0
                })
            })).ok)
                throw new Error("Erreur lors de la validation");
            s({
                title: "Transporteur ajout",
                description: `${d.name} a t ajout et valid avec succs`
            }),
            o.reset(),
            t(),
            n == null || n()
        } catch (u) {
            s({
                variant: "destructive",
                title: "Erreur",
                description: u.message || "chec de l'ajout du transporteur"
            })
        }
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "sm:max-w-md max-h-[90vh] overflow-y-auto",
            children: [r.jsx(ft, {
                children: r.jsx(ht, {
                    className: "text-xl",
                    children: "Ajouter un transporteur"
                })
            }), r.jsx(rs, {
                ...o,
                children: r.jsxs("form", {
                    onSubmit: o.handleSubmit(c),
                    className: "space-y-4",
                    children: [r.jsx(Xe, {
                        control: o.control,
                        name: "name",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Nom complet"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    placeholder: "Ahmed El Mansouri",
                                    "data-testid": "input-transporter-name",
                                    ...d
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "phoneNumber",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Numro de tlphone"
                            }), r.jsxs("div", {
                                className: "relative",
                                children: [r.jsx("span", {
                                    className: "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",
                                    children: "+212"
                                }), r.jsx(_e, {
                                    type: "tel",
                                    placeholder: "6 12 34 56 78",
                                    className: "pl-16",
                                    "data-testid": "input-transporter-phone",
                                    ...d
                                })]
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "city",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Ville de rsidence"
                            }), r.jsxs(Vt, {
                                onValueChange: d.onChange,
                                defaultValue: d.value,
                                children: [r.jsx(Ge, {
                                    children: r.jsx(Mt, {
                                        "data-testid": "select-transporter-city",
                                        children: r.jsx(Bt, {
                                            placeholder: "Slectionnez une ville"
                                        })
                                    })
                                }), r.jsx(Ot, {
                                    children: i ? r.jsx("div", {
                                        className: "p-2 text-sm text-muted-foreground",
                                        children: "Chargement..."
                                    }) : a.map(u => r.jsx(Se, {
                                        value: u.name,
                                        children: u.name
                                    }, u.id))
                                })]
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "pin",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Code PIN (6 chiffres)"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    type: "password",
                                    placeholder: "",
                                    maxLength: 6,
                                    "data-testid": "input-transporter-pin",
                                    ...d
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "truckPhoto",
                        render: ({field: {value: d, onChange: u, ...f}}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Photo du camion"
                            }), r.jsx(Ge, {
                                children: r.jsxs("div", {
                                    className: "border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",
                                    children: [r.jsx("input", {
                                        type: "file",
                                        accept: "image/*",
                                        onChange: h => {
                                            var j;
                                            l(h);
                                            const x = (j = h.target.files) == null ? void 0 : j[0];
                                            x && u(x)
                                        }
                                        ,
                                        className: "hidden",
                                        id: "truck-photo-upload",
                                        "data-testid": "input-truck-photo",
                                        ...f
                                    }), r.jsxs("label", {
                                        htmlFor: "truck-photo-upload",
                                        className: "cursor-pointer",
                                        children: [r.jsx(Bd, {
                                            className: "mx-auto h-10 w-10 text-muted-foreground mb-2"
                                        }), r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: (d == null ? void 0 : d.name) || "Cliquez pour ajouter une photo"
                                        })]
                                    })]
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "flex gap-3 pt-2",
                        children: [r.jsx(E, {
                            type: "button",
                            variant: "outline",
                            onClick: t,
                            className: "flex-1",
                            "data-testid": "button-cancel-transporter",
                            children: "Annuler"
                        }), r.jsx(E, {
                            type: "submit",
                            className: "flex-1",
                            "data-testid": "button-submit-transporter",
                            children: "Ajouter"
                        })]
                    })]
                })
            })]
        })
    })
}
const w9 = fe.object({
    phoneNumber: fe.string().min(9, "Numro de tlphone requis (9 chiffres)"),
    name: fe.string().min(2, "Nom requis"),
    city: fe.string().min(1, "Ville requise"),
    pin: fe.string().regex(/^\d{6}$/, "Le code PIN doit contenir exactement 6 chiffres"),
    photo: fe.instanceof(File).optional()
});
function N9({open: e, onClose: t, onSuccess: n}) {
    const {toast: s} = Ht()
      , {data: a=[], isLoading: i} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , o = ts({
        resolver: ns(w9),
        defaultValues: {
            phoneNumber: "",
            name: "",
            city: "",
            pin: ""
        }
    })
      , l = d => {
        var f;
        const u = (f = d.target.files) == null ? void 0 : f[0];
        u && o.setValue("photo", u)
    }
      , c = async d => {
        try {
            const u = `+212${d.phoneNumber.replace(/\s/g, "")}`
              , f = await fetch("/api/auth/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    phoneNumber: u,
                    pin: d.pin
                })
            });
            if (!f.ok) {
                const w = await f.json();
                throw new Error(w.error || "Erreur lors de l'inscription")
            }
            const {user: h} = await f.json();
            if (!(await fetch("/api/auth/select-role", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    userId: h.id,
                    role: "client"
                })
            })).ok)
                throw new Error("Erreur lors de la slection du rle");
            const j = new FormData;
            if (j.append("userId", h.id),
            j.append("name", d.name),
            j.append("city", d.city),
            d.photo && j.append("photo", d.photo),
            !(await fetch("/api/auth/complete-profile", {
                method: "POST",
                body: j
            })).ok)
                throw new Error("Erreur lors de la compltion du profil");
            s({
                title: "Client ajout",
                description: `${d.name} a t ajout avec succs`
            }),
            o.reset(),
            t(),
            n == null || n()
        } catch (u) {
            s({
                variant: "destructive",
                title: "Erreur",
                description: u.message || "chec de l'ajout du client"
            })
        }
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "sm:max-w-md max-h-[90vh] overflow-y-auto",
            children: [r.jsx(ft, {
                children: r.jsx(ht, {
                    className: "text-xl",
                    children: "Ajouter un client"
                })
            }), r.jsx(rs, {
                ...o,
                children: r.jsxs("form", {
                    onSubmit: o.handleSubmit(c),
                    className: "space-y-4",
                    children: [r.jsx(Xe, {
                        control: o.control,
                        name: "name",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Nom complet"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    placeholder: "Mohamed Alami",
                                    "data-testid": "input-client-name",
                                    ...d
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "phoneNumber",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Numro de tlphone"
                            }), r.jsxs("div", {
                                className: "relative",
                                children: [r.jsx("span", {
                                    className: "absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",
                                    children: "+212"
                                }), r.jsx(_e, {
                                    type: "tel",
                                    placeholder: "6 12 34 56 78",
                                    className: "pl-16",
                                    "data-testid": "input-client-phone",
                                    ...d
                                })]
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "city",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Ville de rsidence"
                            }), r.jsxs(Vt, {
                                onValueChange: d.onChange,
                                defaultValue: d.value,
                                children: [r.jsx(Ge, {
                                    children: r.jsx(Mt, {
                                        "data-testid": "select-client-city",
                                        children: r.jsx(Bt, {
                                            placeholder: "Slectionnez une ville"
                                        })
                                    })
                                }), r.jsx(Ot, {
                                    children: i ? r.jsx("div", {
                                        className: "p-2 text-sm text-muted-foreground",
                                        children: "Chargement..."
                                    }) : a.map(u => r.jsx(Se, {
                                        value: u.name,
                                        children: u.name
                                    }, u.id))
                                })]
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "pin",
                        render: ({field: d}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Code PIN (6 chiffres)"
                            }), r.jsx(Ge, {
                                children: r.jsx(_e, {
                                    type: "password",
                                    placeholder: "",
                                    maxLength: 6,
                                    "data-testid": "input-client-pin",
                                    ...d
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsx(Xe, {
                        control: o.control,
                        name: "photo",
                        render: ({field: {value: d, onChange: u, ...f}}) => r.jsxs(qe, {
                            children: [r.jsx(Ue, {
                                children: "Photo (optionnel)"
                            }), r.jsx(Ge, {
                                children: r.jsxs("div", {
                                    className: "border-2 border-dashed rounded-lg p-6 text-center hover-elevate cursor-pointer",
                                    children: [r.jsx("input", {
                                        type: "file",
                                        accept: "image/*",
                                        onChange: h => {
                                            var j;
                                            l(h);
                                            const x = (j = h.target.files) == null ? void 0 : j[0];
                                            x && u(x)
                                        }
                                        ,
                                        className: "hidden",
                                        id: "client-photo-upload",
                                        "data-testid": "input-client-photo",
                                        ...f
                                    }), r.jsxs("label", {
                                        htmlFor: "client-photo-upload",
                                        className: "cursor-pointer",
                                        children: [r.jsx(Bd, {
                                            className: "mx-auto h-10 w-10 text-muted-foreground mb-2"
                                        }), r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: (d == null ? void 0 : d.name) || "Cliquez pour ajouter une photo (optionnel)"
                                        })]
                                    })]
                                })
                            }), r.jsx(tt, {})]
                        })
                    }), r.jsxs("div", {
                        className: "flex gap-3 pt-2",
                        children: [r.jsx(E, {
                            type: "button",
                            variant: "outline",
                            onClick: t,
                            className: "flex-1",
                            "data-testid": "button-cancel-client",
                            children: "Annuler"
                        }), r.jsx(E, {
                            type: "submit",
                            className: "flex-1",
                            "data-testid": "button-submit-client",
                            children: "Ajouter"
                        })]
                    })]
                })
            })]
        })
    })
}
function b9({open: e, onOpenChange: t, transporterId: n, transporterName: s}) {
    const {toast: a} = Ht()
      , [i,o] = m.useState("")
      , [l,c] = m.useState("")
      , d = localStorage.getItem("camionback_user")
      , u = d ? JSON.parse(d) : null
      , {data: f, isLoading: h} = Oe({
        queryKey: ["/api/admin/users", n, "rib"],
        queryFn: async () => {
            if (!n || !(u != null && u.id))
                return null;
            const v = await fetch(`/api/admin/users/${n}/rib?adminId=${u.id}`);
            if (!v.ok)
                throw new Error("chec de rcupration du RIB");
            return v.json()
        }
        ,
        enabled: e && !!n && !!(u != null && u.id)
    });
    m.useEffect( () => {
        f && (o(f.ribName || ""),
        c(f.ribNumber || ""))
    }
    , [f]);
    const x = Fe({
        mutationFn: async v => {
            if (!(u != null && u.id))
                throw new Error("Admin non trouv");
            return await Ae("PATCH", `/api/admin/users/${n}/rib`, {
                ...v,
                adminId: u.id
            })
        }
        ,
        onSuccess: () => {
            a({
                title: "Succs",
                description: " Le RIB a t enregistr avec succs."
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/users", n, "rib"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            t(!1)
        }
        ,
        onError: v => {
            a({
                variant: "destructive",
                title: "Erreur",
                description: v.message || " Le RIB doit contenir exactement 24 chiffres."
            })
        }
    })
      , j = v => {
        if (v.preventDefault(),
        l && !/^\d{24}$/.test(l)) {
            a({
                variant: "destructive",
                title: "Erreur de validation",
                description: " Le RIB doit contenir exactement 24 chiffres."
            });
            return
        }
        x.mutate({
            ribName: i,
            ribNumber: l
        })
    }
    ;
    return r.jsx(mt, {
        open: e,
        onOpenChange: t,
        children: r.jsxs(dt, {
            className: "max-w-[90vw] sm:max-w-md",
            children: [r.jsxs(ft, {
                children: [r.jsxs(ht, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(pa, {
                        className: "h-5 w-5 text-primary"
                    }), "RIB du transporteur"]
                }), r.jsx(_t, {
                    children: s
                })]
            }), h ? r.jsx("div", {
                className: "text-center py-8 text-muted-foreground",
                children: "Chargement..."
            }) : r.jsxs("form", {
                onSubmit: j,
                className: "space-y-4",
                children: [r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs(Zt, {
                        htmlFor: "admin-rib-name",
                        children: ["Nom (personnel ou socit) ", r.jsx("span", {
                            className: "text-destructive",
                            children: "*"
                        })]
                    }), r.jsx(_e, {
                        id: "admin-rib-name",
                        type: "text",
                        value: i,
                        onChange: v => o(v.target.value),
                        placeholder: "Ex: Mohammed Alami ou Socit Transport ABC",
                        required: !0,
                        "data-testid": "input-admin-rib-name"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs(Zt, {
                        htmlFor: "admin-rib-number",
                        children: ["Numro RIB ", r.jsx("span", {
                            className: "text-destructive",
                            children: "*"
                        })]
                    }), r.jsx(_e, {
                        id: "admin-rib-number",
                        type: "text",
                        value: l,
                        onChange: v => {
                            const w = v.target.value.replace(/\D/g, "");
                            c(w)
                        }
                        ,
                        placeholder: "24 chiffres exactement",
                        maxLength: 24,
                        required: !0,
                        "data-testid": "input-admin-rib-number",
                        className: "font-mono"
                    }), r.jsxs("p", {
                        className: "text-xs text-muted-foreground",
                        children: [l.length, "/24 chiffres"]
                    })]
                }), r.jsxs(mr, {
                    className: "gap-2 sm:gap-0",
                    children: [r.jsx(E, {
                        type: "button",
                        variant: "outline",
                        onClick: () => t(!1),
                        "data-testid": "button-cancel-admin-rib",
                        children: "Annuler"
                    }), r.jsxs(E, {
                        type: "submit",
                        disabled: x.isPending || !i || !l,
                        "data-testid": "button-save-admin-rib",
                        className: "gap-2",
                        children: [r.jsx(jk, {
                            className: "h-4 w-4"
                        }), x.isPending ? "Enregistrement..." : "Enregistrer"]
                    })]
                })]
            })]
        })
    })
}
function S9() {
    const {toast: e} = Ht()
      , [t,n] = m.useState("")
      , [s,a] = m.useState("transporters")
      , [i,o] = m.useState(null)
      , [l,c] = m.useState("")
      , [d,u] = m.useState("")
      , f = localStorage.getItem("camionback_user")
      , h = f ? JSON.parse(f) : null
      , {data: x=[], isLoading: j} = Oe({
        queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`],
        enabled: !!(h != null && h.id)
    })
      , v = Fe({
        mutationFn: async () => (await Ae("POST", "/api/admin/sms/notify-transporters", {
            adminId: h == null ? void 0 : h.id
        })).json(),
        onSuccess: T => {
            e({
                title: "SMS envoys avec succs",
                description: `${T.sent} SMS envoys  ${T.total} transporteurs valids`
            }),
            le.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            n("")
        }
        ,
        onError: T => {
            e({
                title: "Erreur d'envoi",
                description: T.message || "Impossible d'envoyer les SMS",
                variant: "destructive"
            })
        }
    })
      , w = Fe({
        mutationFn: async () => (await Ae("POST", "/api/admin/sms/send", {
            adminId: h == null ? void 0 : h.id,
            targetAudience: s,
            message: t
        })).json(),
        onSuccess: T => {
            e({
                title: "SMS envoys avec succs",
                description: `${T.sent} SMS envoys  ${T.total} destinataires`
            }),
            le.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            n("")
        }
        ,
        onError: T => {
            e({
                title: "Erreur d'envoi",
                description: T.message || "Impossible d'envoyer les SMS",
                variant: "destructive"
            })
        }
    })
      , y = Fe({
        mutationFn: async () => (await Ae("POST", "/api/admin/sms/send-single", {
            adminId: h == null ? void 0 : h.id,
            phoneNumber: l.startsWith("+") ? l : `+212${l}`,
            message: d
        })).json(),
        onSuccess: () => {
            e({
                title: " SMS envoy avec succs via CamionBack",
                description: `Le message a t envoy au numro ${l}`
            }),
            le.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            }),
            c(""),
            u("")
        }
        ,
        onError: T => {
            e({
                title: "Erreur d'envoi",
                description: T.message || "Impossible d'envoyer le SMS",
                variant: "destructive"
            })
        }
    })
      , p = Fe({
        mutationFn: async T => (await Ae("DELETE", `/api/admin/sms/history/${T}?adminId=${h == null ? void 0 : h.id}`)).json(),
        onSuccess: () => {
            e({
                title: "Supprim",
                description: "L'entre a t supprime de l'historique"
            }),
            le.invalidateQueries({
                queryKey: [`/api/admin/sms/history?adminId=${h == null ? void 0 : h.id}`]
            })
        }
        ,
        onError: () => {
            e({
                title: "Erreur",
                description: "Impossible de supprimer l'entre",
                variant: "destructive"
            })
        }
    })
      , g = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        v.mutate()
    }
      , b = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        if (!t.trim()) {
            e({
                title: "Message requis",
                description: "Veuillez saisir un message  envoyer",
                variant: "destructive"
            });
            return
        }
        if (t.length > 160) {
            e({
                title: "Message trop long",
                description: "Le message ne peut pas dpasser 160 caractres",
                variant: "destructive"
            });
            return
        }
        w.mutate()
    }
      , k = () => {
        if (!(h != null && h.id)) {
            e({
                title: "Erreur",
                description: "Session expire, veuillez vous reconnecter",
                variant: "destructive"
            });
            return
        }
        if (!l.trim()) {
            e({
                title: "Numro requis",
                description: "Veuillez saisir un numro de tlphone",
                variant: "destructive"
            });
            return
        }
        if (!d.trim()) {
            e({
                title: "Message requis",
                description: "Veuillez saisir un message  envoyer",
                variant: "destructive"
            });
            return
        }
        if (d.length > 160) {
            e({
                title: "Message trop long",
                description: "Le message ne peut pas dpasser 160 caractres",
                variant: "destructive"
            });
            return
        }
        y.mutate()
    }
      , S = T => {
        switch (T) {
        case "transporters":
            return "Transporteurs";
        case "clients":
            return "Clients";
        case "both":
            return "Clients et Transporteurs";
        default:
            return T
        }
    }
      , C = T => T === "sent" ? r.jsx("span", {
        className: "text-xs px-2 py-1 bg-green-100 text-green-800 rounded",
        children: "Envoy"
    }) : r.jsx("span", {
        className: "text-xs px-2 py-1 bg-red-100 text-red-800 rounded",
        children: "chec"
    });
    return r.jsxs("div", {
        className: "container mx-auto p-4 space-y-6",
        children: [r.jsxs("div", {
            className: "flex items-center gap-2 mb-6",
            children: [r.jsx(FL, {
                className: "h-6 w-6 text-primary"
            }), r.jsx("h1", {
                className: "text-2xl font-bold",
                children: "Communications & SMS"
            })]
        }), r.jsxs(J, {
            children: [r.jsxs(ye, {
                children: [r.jsxs(we, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(Bi, {
                        className: "h-5 w-5"
                    }), "Envoi rapide aux transporteurs"]
                }), r.jsx(Mn, {
                    children: "Notifier tous les transporteurs valids des nouvelles offres disponibles"
                })]
            }), r.jsx(te, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "p-4 bg-muted rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground mb-2",
                            children: "Message qui sera envoy :"
                        }), r.jsx("p", {
                            className: "text-sm italic",
                            children: '" De nouvelles offres de transport sont disponibles sur CamionBack ! Connectez-vous ds maintenant pour proposer vos tarifs."'
                        })]
                    }), r.jsxs(E, {
                        onClick: g,
                        disabled: v.isPending,
                        className: "w-full",
                        "data-testid": "button-notify-transporters",
                        children: [r.jsx(fs, {
                            className: "h-4 w-4 mr-2"
                        }), v.isPending ? "Envoi en cours..." : "Notifier les transporteurs valids"]
                    })]
                })
            })]
        }), r.jsxs(J, {
            children: [r.jsxs(ye, {
                children: [r.jsxs(we, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(Bi, {
                        className: "h-5 w-5"
                    }), "Envoi libre de SMS personnaliss"]
                }), r.jsx(Mn, {
                    children: "Rdigez et envoyez un message personnalis  votre audience cible"
                })]
            }), r.jsx(te, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("label", {
                            className: "text-sm font-medium mb-2 block",
                            children: "Public cibl"
                        }), r.jsxs(Vt, {
                            value: s,
                            onValueChange: a,
                            children: [r.jsx(Mt, {
                                "data-testid": "select-target-audience",
                                children: r.jsx(Bt, {
                                    placeholder: "Slectionner le public"
                                })
                            }), r.jsxs(Ot, {
                                children: [r.jsx(Se, {
                                    value: "transporters",
                                    children: "Tous les transporteurs"
                                }), r.jsx(Se, {
                                    value: "clients",
                                    children: "Tous les clients"
                                }), r.jsx(Se, {
                                    value: "both",
                                    children: "Les deux (transporteurs + clients)"
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsxs("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [r.jsx("label", {
                                className: "text-sm font-medium",
                                children: "Message SMS"
                            }), r.jsxs("span", {
                                className: `text-xs ${t.length > 160 ? "text-red-500" : "text-muted-foreground"}`,
                                children: [t.length, "/160"]
                            })]
                        }), r.jsx(Cs, {
                            placeholder: "Rdigez votre message ici (max 160 caractres)...",
                            value: t,
                            onChange: T => n(T.target.value),
                            rows: 4,
                            maxLength: 160,
                            "data-testid": "textarea-custom-message"
                        })]
                    }), r.jsxs(E, {
                        onClick: b,
                        disabled: w.isPending || !t.trim() || t.length > 160,
                        className: "w-full bg-green-600 hover:bg-green-700",
                        "data-testid": "button-send-custom-sms",
                        children: [r.jsx(Bi, {
                            className: "h-4 w-4 mr-2"
                        }), w.isPending ? "Envoi en cours..." : "Envoyer le SMS"]
                    })]
                })
            })]
        }), r.jsxs(J, {
            children: [r.jsxs(ye, {
                children: [r.jsxs(we, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(an, {
                        className: "h-5 w-5"
                    }), "Envoi SMS  un numro spcifique"]
                }), r.jsx(Mn, {
                    children: "Envoyez un SMS personnalis  un seul numro de tlphone"
                })]
            }), r.jsx(te, {
                children: r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx(Zt, {
                            htmlFor: "single-phone",
                            children: "Numro de tlphone"
                        }), r.jsxs("div", {
                            className: "flex gap-2 mt-2",
                            children: [r.jsx("div", {
                                className: "flex items-center bg-muted px-3 rounded-md border",
                                children: r.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: "+212"
                                })
                            }), r.jsx(_e, {
                                id: "single-phone",
                                placeholder: "6XXXXXXXX",
                                value: l,
                                onChange: T => c(T.target.value.replace(/[^0-9]/g, "")),
                                maxLength: 9,
                                className: "flex-1",
                                "data-testid": "input-single-phone"
                            })]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground mt-1",
                            children: "Format: 9 chiffres (ex: 664373534)"
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsxs("div", {
                            className: "flex justify-between items-center mb-2",
                            children: [r.jsx(Zt, {
                                htmlFor: "single-message",
                                children: "Message SMS"
                            }), r.jsxs("span", {
                                className: `text-xs ${d.length > 160 ? "text-red-500" : "text-muted-foreground"}`,
                                children: [d.length, "/160"]
                            })]
                        }), r.jsx(Cs, {
                            id: "single-message",
                            placeholder: "Votre message personnalis ici...",
                            value: d,
                            onChange: T => u(T.target.value),
                            rows: 4,
                            maxLength: 160,
                            "data-testid": "textarea-single-message"
                        })]
                    }), r.jsxs(E, {
                        onClick: k,
                        disabled: y.isPending || !l.trim() || !d.trim() || d.length > 160,
                        className: "w-full",
                        "data-testid": "button-send-single-sms",
                        children: [r.jsx(Bi, {
                            className: "h-4 w-4 mr-2"
                        }), y.isPending ? "Envoi en cours..." : "Envoyer le SMS"]
                    })]
                })
            })]
        }), r.jsxs(J, {
            children: [r.jsxs(ye, {
                children: [r.jsxs(we, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(ML, {
                        className: "h-5 w-5"
                    }), "Historique d'envois"]
                }), r.jsx(Mn, {
                    children: "Consultez l'historique de tous les SMS envoys depuis la plateforme"
                })]
            }), r.jsx(te, {
                children: j ? r.jsx("p", {
                    className: "text-center text-muted-foreground py-8",
                    children: "Chargement de l'historique..."
                }) : x.length === 0 ? r.jsx("p", {
                    className: "text-center text-muted-foreground py-8",
                    children: "Aucun SMS envoy pour le moment"
                }) : r.jsx("div", {
                    className: "space-y-3",
                    children: x.map(T => r.jsxs("div", {
                        className: "flex items-center justify-between p-4 border rounded-lg hover-elevate",
                        "data-testid": `history-record-${T.id}`,
                        children: [r.jsxs("div", {
                            className: "flex-1 space-y-1",
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-3",
                                children: [r.jsx("span", {
                                    className: "text-sm font-medium",
                                    children: Dt(new Date(T.createdAt), "dd/MM/yyyy  HH:mm", {
                                        locale: Xt
                                    })
                                }), C(T.status), r.jsx("span", {
                                    className: "text-xs text-muted-foreground",
                                    children: S(T.targetAudience)
                                }), r.jsxs("span", {
                                    className: "text-xs text-muted-foreground",
                                    children: [T.recipientCount, " destinataires"]
                                })]
                            }), r.jsx("p", {
                                className: "text-sm text-muted-foreground truncate",
                                children: T.message
                            })]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(E, {
                                variant: "ghost",
                                size: "icon",
                                onClick: () => o(T),
                                "data-testid": `button-view-${T.id}`,
                                children: r.jsx(vs, {
                                    className: "h-4 w-4"
                                })
                            }), r.jsx(E, {
                                variant: "ghost",
                                size: "icon",
                                onClick: () => p.mutate(T.id),
                                disabled: p.isPending,
                                "data-testid": `button-delete-${T.id}`,
                                children: r.jsx(Qr, {
                                    className: "h-4 w-4 text-red-500"
                                })
                            })]
                        })]
                    }, T.id))
                })
            })]
        }), r.jsx(mt, {
            open: !!i,
            onOpenChange: () => o(null),
            children: r.jsxs(dt, {
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Dtails du SMS"
                    }), r.jsx(_t, {
                        children: "Informations compltes sur cet envoi"
                    })]
                }), i && r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Date et heure"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: Dt(new Date(i.createdAt), "dd/MM/yyyy  HH:mm:ss", {
                                locale: Xt
                            })
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Cible"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: S(i.targetAudience)
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Destinataires"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: i.recipientCount
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Statut"
                        }), r.jsx("div", {
                            className: "mt-1",
                            children: C(i.status)
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Message"
                        }), r.jsx("p", {
                            className: "text-sm mt-1 p-3 bg-muted rounded",
                            children: i.message
                        })]
                    }), i.adminName && r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium text-muted-foreground",
                            children: "Envoy par"
                        }), r.jsx("p", {
                            className: "text-sm",
                            children: i.adminName
                        })]
                    })]
                })]
            })
        })]
    })
}
const Z = Symbol.for("drizzle:entityKind");
function Wn(e, t) {
    if (!e || typeof e != "object")
        return !1;
    if (e instanceof t)
        return !0;
    if (!Object.prototype.hasOwnProperty.call(t, Z))
        throw new Error(`Class "${t.name ?? "<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);
    let n = Object.getPrototypeOf(e).constructor;
    if (n)
        for (; n; ) {
            if (Z in n && n[Z] === t[Z])
                return !0;
            n = Object.getPrototypeOf(n)
        }
    return !1
}
var gN;
gN = Z;
class Ll {
    constructor(t, n) {
        R(this, "name");
        R(this, "keyAsName");
        R(this, "primary");
        R(this, "notNull");
        R(this, "default");
        R(this, "defaultFn");
        R(this, "onUpdateFn");
        R(this, "hasDefault");
        R(this, "isUnique");
        R(this, "uniqueName");
        R(this, "uniqueType");
        R(this, "dataType");
        R(this, "columnType");
        R(this, "enumValues");
        R(this, "generated");
        R(this, "generatedIdentity");
        R(this, "config");
        this.table = t,
        this.config = n,
        this.name = n.name,
        this.keyAsName = n.keyAsName,
        this.notNull = n.notNull,
        this.default = n.default,
        this.defaultFn = n.defaultFn,
        this.onUpdateFn = n.onUpdateFn,
        this.hasDefault = n.hasDefault,
        this.primary = n.primaryKey,
        this.isUnique = n.isUnique,
        this.uniqueName = n.uniqueName,
        this.uniqueType = n.uniqueType,
        this.dataType = n.dataType,
        this.columnType = n.columnType,
        this.generated = n.generated,
        this.generatedIdentity = n.generatedIdentity
    }
    mapFromDriverValue(t) {
        return t
    }
    mapToDriverValue(t) {
        return t
    }
    shouldDisableInsert() {
        return this.config.generated !== void 0 && this.config.generated.type !== "byDefault"
    }
}
R(Ll, gN, "Column");
var vN;
vN = Z;
class BA {
    constructor(t, n, s) {
        R(this, "config");
        R(this, "$default", this.$defaultFn);
        R(this, "$onUpdate", this.$onUpdateFn);
        this.config = {
            name: t,
            keyAsName: t === "",
            notNull: !1,
            default: void 0,
            hasDefault: !1,
            primaryKey: !1,
            isUnique: !1,
            uniqueName: void 0,
            uniqueType: void 0,
            dataType: n,
            columnType: s,
            generated: void 0
        }
    }
    $type() {
        return this
    }
    notNull() {
        return this.config.notNull = !0,
        this
    }
    default(t) {
        return this.config.default = t,
        this.config.hasDefault = !0,
        this
    }
    $defaultFn(t) {
        return this.config.defaultFn = t,
        this.config.hasDefault = !0,
        this
    }
    $onUpdateFn(t) {
        return this.config.onUpdateFn = t,
        this.config.hasDefault = !0,
        this
    }
    primaryKey() {
        return this.config.primaryKey = !0,
        this.config.notNull = !0,
        this
    }
    setName(t) {
        this.config.name === "" && (this.config.name = t)
    }
}
R(BA, vN, "ColumnBuilder");
const il = Symbol.for("drizzle:Name");
var yN;
yN = Z;
class UA {
    constructor(t, n) {
        R(this, "reference");
        R(this, "_onUpdate", "no action");
        R(this, "_onDelete", "no action");
        this.reference = () => {
            const {name: s, columns: a, foreignColumns: i} = t();
            return {
                name: s,
                columns: a,
                foreignTable: i[0].table,
                foreignColumns: i
            }
        }
        ,
        n && (this._onUpdate = n.onUpdate,
        this._onDelete = n.onDelete)
    }
    onUpdate(t) {
        return this._onUpdate = t === void 0 ? "no action" : t,
        this
    }
    onDelete(t) {
        return this._onDelete = t === void 0 ? "no action" : t,
        this
    }
    build(t) {
        return new qA(t,this)
    }
}
R(UA, yN, "PgForeignKeyBuilder");
var jN;
jN = Z;
class qA {
    constructor(t, n) {
        R(this, "reference");
        R(this, "onUpdate");
        R(this, "onDelete");
        this.table = t,
        this.reference = n.reference,
        this.onUpdate = n._onUpdate,
        this.onDelete = n._onDelete
    }
    getName() {
        const {name: t, columns: n, foreignColumns: s} = this.reference()
          , a = n.map(l => l.name)
          , i = s.map(l => l.name)
          , o = [this.table[il], ...a, s[0].table[il], ...i];
        return t ?? `${o.join("_")}_fk`
    }
}
R(qA, jN, "PgForeignKey");
function C9(e, ...t) {
    return e(...t)
}
function k9(e, t) {
    return `${e[il]}_${t.join("_")}_unique`
}
function Jw(e, t, n) {
    for (let s = t; s < e.length; s++) {
        const a = e[s];
        if (a === "\\") {
            s++;
            continue
        }
        if (a === '"')
            return [e.slice(t, s).replace(/\\/g, ""), s + 1];
        if (!n && (a === "," || a === "}"))
            return [e.slice(t, s).replace(/\\/g, ""), s]
    }
    return [e.slice(t).replace(/\\/g, ""), e.length]
}
function WA(e, t=0) {
    const n = [];
    let s = t
      , a = !1;
    for (; s < e.length; ) {
        const i = e[s];
        if (i === ",") {
            (a || s === t) && n.push(""),
            a = !0,
            s++;
            continue
        }
        if (a = !1,
        i === "\\") {
            s += 2;
            continue
        }
        if (i === '"') {
            const [c,d] = Jw(e, s + 1, !0);
            n.push(c),
            s = d;
            continue
        }
        if (i === "}")
            return [n, s + 1];
        if (i === "{") {
            const [c,d] = WA(e, s + 1);
            n.push(c),
            s = d;
            continue
        }
        const [o,l] = Jw(e, s, !1);
        n.push(o),
        s = l
    }
    return [n, s]
}
function T9(e) {
    const [t] = WA(e, 1);
    return t
}
function HA(e) {
    return `{${e.map(t => Array.isArray(t) ? HA(t) : typeof t == "string" ? `"${t.replace(/\\/g, "\\\\").replace(/"/g, '\\"')}"` : `${t}`).join(",")}}`
}
var wN, NN;
class Ct extends (NN = BA,
wN = Z,
NN) {
    constructor() {
        super(...arguments);
        R(this, "foreignKeyConfigs", [])
    }
    array(n) {
        return new QA(this.config.name,this,n)
    }
    references(n, s={}) {
        return this.foreignKeyConfigs.push({
            ref: n,
            actions: s
        }),
        this
    }
    unique(n, s) {
        return this.config.isUnique = !0,
        this.config.uniqueName = n,
        this.config.uniqueType = s == null ? void 0 : s.nulls,
        this
    }
    generatedAlwaysAs(n) {
        return this.config.generated = {
            as: n,
            type: "always",
            mode: "stored"
        },
        this
    }
    buildForeignKeys(n, s) {
        return this.foreignKeyConfigs.map( ({ref: a, actions: i}) => C9( (o, l) => {
            const c = new UA( () => {
                const d = o();
                return {
                    columns: [n],
                    foreignColumns: [d]
                }
            }
            );
            return l.onUpdate && c.onUpdate(l.onUpdate),
            l.onDelete && c.onDelete(l.onDelete),
            c.build(s)
        }
        , a, i))
    }
    buildExtraConfigColumn(n) {
        return new KA(n,this.config)
    }
}
R(Ct, wN, "PgColumnBuilder");
var bN, SN;
class it extends (SN = Ll,
bN = Z,
SN) {
    constructor(t, n) {
        n.uniqueName || (n.uniqueName = k9(t, [n.name])),
        super(t, n),
        this.table = t
    }
}
R(it, bN, "PgColumn");
var CN, kN;
class KA extends (kN = it,
CN = Z,
kN) {
    constructor() {
        super(...arguments);
        R(this, "indexConfig", {
            order: this.config.order ?? "asc",
            nulls: this.config.nulls ?? "last",
            opClass: this.config.opClass
        });
        R(this, "defaultConfig", {
            order: "asc",
            nulls: "last",
            opClass: void 0
        })
    }
    getSQLType() {
        return this.getSQLType()
    }
    asc() {
        return this.indexConfig.order = "asc",
        this
    }
    desc() {
        return this.indexConfig.order = "desc",
        this
    }
    nullsFirst() {
        return this.indexConfig.nulls = "first",
        this
    }
    nullsLast() {
        return this.indexConfig.nulls = "last",
        this
    }
    op(n) {
        return this.indexConfig.opClass = n,
        this
    }
}
R(KA, CN, "ExtraConfigColumn");
var TN, PN;
class QA extends (PN = Ct,
TN = Z,
PN) {
    constructor(t, n, s) {
        super(t, "array", "PgArray"),
        this.config.baseBuilder = n,
        this.config.size = s
    }
    build(t) {
        const n = this.config.baseBuilder.build(t);
        return new tg(t,this.config,n)
    }
}
R(QA, TN, "PgArrayBuilder");
var EN, _N;
const mf = class mf extends (_N = it,
EN = Z,
_N) {
    constructor(n, s, a, i) {
        super(n, s);
        R(this, "size");
        this.baseColumn = a,
        this.range = i,
        this.size = s.size
    }
    getSQLType() {
        return `${this.baseColumn.getSQLType()}[${typeof this.size == "number" ? this.size : ""}]`
    }
    mapFromDriverValue(n) {
        return typeof n == "string" && (n = T9(n)),
        n.map(s => this.baseColumn.mapFromDriverValue(s))
    }
    mapToDriverValue(n, s=!1) {
        const a = n.map(i => i === null ? null : Wn(this.baseColumn, mf) ? this.baseColumn.mapToDriverValue(i, !0) : this.baseColumn.mapToDriverValue(i));
        return s ? a : HA(a)
    }
}
;
R(mf, EN, "PgArray");
let tg = mf;
const eN = Symbol.for("drizzle:isPgEnum");
function P9(e) {
    return !!e && typeof e == "function" && eN in e && e[eN] === !0
}
var AN;
AN = Z;
class hy {
    constructor(t, n, s, a=!1) {
        this._ = {
            brand: "Subquery",
            sql: t,
            selectedFields: n,
            alias: s,
            isWith: a
        }
    }
}
R(hy, AN, "Subquery");
const E9 = {
    startActiveSpan(e, t) {
        return t()
    }
}
  , ol = Symbol.for("drizzle:ViewBaseConfig")
  , xp = Symbol.for("drizzle:Schema")
  , tN = Symbol.for("drizzle:Columns")
  , nN = Symbol.for("drizzle:ExtraConfigColumns")
  , gp = Symbol.for("drizzle:OriginalName")
  , vp = Symbol.for("drizzle:BaseName")
  , lf = Symbol.for("drizzle:IsAlias")
  , rN = Symbol.for("drizzle:ExtraConfigBuilder")
  , GA = Symbol.for("drizzle:IsDrizzleTable");
var RN, IN, DN, MN, ON, LN, FN, $N, zN, VN;
VN = Z,
zN = il,
$N = gp,
FN = xp,
LN = tN,
ON = nN,
MN = vp,
DN = lf,
IN = GA,
RN = rN;
class dr {
    constructor(t, n, s) {
        R(this, zN);
        R(this, $N);
        R(this, FN);
        R(this, LN);
        R(this, ON);
        R(this, MN);
        R(this, DN, !1);
        R(this, IN, !0);
        R(this, RN);
        this[il] = this[gp] = t,
        this[xp] = n,
        this[vp] = s
    }
}
R(dr, VN, "Table"),
R(dr, "Symbol", {
    Name: il,
    Schema: xp,
    OriginalName: gp,
    Columns: tN,
    ExtraConfigColumns: nN,
    BaseName: vp,
    IsAlias: lf,
    ExtraConfigBuilder: rN
});
function XA(e) {
    return typeof e == "object" && e !== null && GA in e
}
function _9(e) {
    return e != null && typeof e.getSQL == "function"
}
function A9(e) {
    var n;
    const t = {
        sql: "",
        params: []
    };
    for (const s of e)
        t.sql += s.sql,
        t.params.push(...s.params),
        (n = s.typings) != null && n.length && (t.typings || (t.typings = []),
        t.typings.push(...s.typings));
    return t
}
var BN;
BN = Z;
class Gr {
    constructor(t) {
        R(this, "value");
        this.value = Array.isArray(t) ? t : [t]
    }
    getSQL() {
        return new An([this])
    }
}
R(Gr, BN, "StringChunk");
var UN;
UN = Z;
const Li = class Li {
    constructor(t) {
        R(this, "decoder", YA);
        R(this, "shouldInlineParams", !1);
        this.queryChunks = t
    }
    append(t) {
        return this.queryChunks.push(...t.queryChunks),
        this
    }
    toQuery(t) {
        return E9.startActiveSpan("drizzle.buildSQL", n => {
            const s = this.buildQueryFromSourceParams(this.queryChunks, t);
            return n == null || n.setAttributes({
                "drizzle.query.text": s.sql,
                "drizzle.query.params": JSON.stringify(s.params)
            }),
            s
        }
        )
    }
    buildQueryFromSourceParams(t, n) {
        const s = Object.assign({}, n, {
            inlineParams: n.inlineParams || this.shouldInlineParams,
            paramStartIndex: n.paramStartIndex || {
                value: 0
            }
        })
          , {casing: a, escapeName: i, escapeParam: o, prepareTyping: l, inlineParams: c, paramStartIndex: d} = s;
        return A9(t.map(u => {
            var f;
            if (Wn(u, Gr))
                return {
                    sql: u.value.join(""),
                    params: []
                };
            if (Wn(u, cf))
                return {
                    sql: i(u.value),
                    params: []
                };
            if (u === void 0)
                return {
                    sql: "",
                    params: []
                };
            if (Array.isArray(u)) {
                const h = [new Gr("(")];
                for (const [x,j] of u.entries())
                    h.push(j),
                    x < u.length - 1 && h.push(new Gr(", "));
                return h.push(new Gr(")")),
                this.buildQueryFromSourceParams(h, s)
            }
            if (Wn(u, Li))
                return this.buildQueryFromSourceParams(u.queryChunks, {
                    ...s,
                    inlineParams: c || u.shouldInlineParams
                });
            if (Wn(u, dr)) {
                const h = u[dr.Symbol.Schema]
                  , x = u[dr.Symbol.Name];
                return {
                    sql: h === void 0 || u[lf] ? i(x) : i(h) + "." + i(x),
                    params: []
                }
            }
            if (Wn(u, Ll)) {
                const h = a.getColumnCasing(u);
                if (n.invokeSource === "indexes")
                    return {
                        sql: i(h),
                        params: []
                    };
                const x = u.table[dr.Symbol.Schema];
                return {
                    sql: u.table[lf] || x === void 0 ? i(u.table[dr.Symbol.Name]) + "." + i(h) : i(x) + "." + i(u.table[dr.Symbol.Name]) + "." + i(h),
                    params: []
                }
            }
            if (Wn(u, eR)) {
                const h = u[ol].schema
                  , x = u[ol].name;
                return {
                    sql: h === void 0 || u[ol].isAlias ? i(x) : i(h) + "." + i(x),
                    params: []
                }
            }
            if (Wn(u, py)) {
                if (Wn(u.value, df))
                    return {
                        sql: o(d.value++, u),
                        params: [u],
                        typings: ["none"]
                    };
                const h = u.value === null ? null : u.encoder.mapToDriverValue(u.value);
                if (Wn(h, Li))
                    return this.buildQueryFromSourceParams([h], s);
                if (c)
                    return {
                        sql: this.mapInlineParam(h, s),
                        params: []
                    };
                let x = ["none"];
                return l && (x = [l(u.encoder)]),
                {
                    sql: o(d.value++, h),
                    params: [h],
                    typings: x
                }
            }
            return Wn(u, df) ? {
                sql: o(d.value++, u),
                params: [u],
                typings: ["none"]
            } : Wn(u, Li.Aliased) && u.fieldAlias !== void 0 ? {
                sql: i(u.fieldAlias),
                params: []
            } : Wn(u, hy) ? u._.isWith ? {
                sql: i(u._.alias),
                params: []
            } : this.buildQueryFromSourceParams([new Gr("("), u._.sql, new Gr(") "), new cf(u._.alias)], s) : P9(u) ? u.schema ? {
                sql: i(u.schema) + "." + i(u.enumName),
                params: []
            } : {
                sql: i(u.enumName),
                params: []
            } : _9(u) ? (f = u.shouldOmitSQLParens) != null && f.call(u) ? this.buildQueryFromSourceParams([u.getSQL()], s) : this.buildQueryFromSourceParams([new Gr("("), u.getSQL(), new Gr(")")], s) : c ? {
                sql: this.mapInlineParam(u, s),
                params: []
            } : {
                sql: o(d.value++, u),
                params: [u],
                typings: ["none"]
            }
        }
        ))
    }
    mapInlineParam(t, {escapeString: n}) {
        if (t === null)
            return "null";
        if (typeof t == "number" || typeof t == "boolean")
            return t.toString();
        if (typeof t == "string")
            return n(t);
        if (typeof t == "object") {
            const s = t.toString();
            return n(s === "[object Object]" ? JSON.stringify(t) : s)
        }
        throw new Error("Unexpected param value: " + t)
    }
    getSQL() {
        return this
    }
    as(t) {
        return t === void 0 ? this : new Li.Aliased(this,t)
    }
    mapWith(t) {
        return this.decoder = typeof t == "function" ? {
            mapFromDriverValue: t
        } : t,
        this
    }
    inlineParams() {
        return this.shouldInlineParams = !0,
        this
    }
    if(t) {
        return t ? this : void 0
    }
}
;
R(Li, UN, "SQL");
let An = Li;
var qN;
qN = Z;
class cf {
    constructor(t) {
        R(this, "brand");
        this.value = t
    }
    getSQL() {
        return new An([this])
    }
}
R(cf, qN, "Name");
const YA = {
    mapFromDriverValue: e => e
}
  , ZA = {
    mapToDriverValue: e => e
};
({
    ...YA,
    ...ZA
});
var WN;
WN = Z;
class py {
    constructor(t, n=ZA) {
        R(this, "brand");
        this.value = t,
        this.encoder = n
    }
    getSQL() {
        return new An([this])
    }
}
R(py, WN, "Param");
function fn(e, ...t) {
    const n = [];
    (t.length > 0 || e.length > 0 && e[0] !== "") && n.push(new Gr(e[0]));
    for (const [s,a] of t.entries())
        n.push(a, new Gr(e[s + 1]));
    return new An(n)
}
(e => {
    function t() {
        return new An([])
    }
    e.empty = t;
    function n(c) {
        return new An(c)
    }
    e.fromList = n;
    function s(c) {
        return new An([new Gr(c)])
    }
    e.raw = s;
    function a(c, d) {
        const u = [];
        for (const [f,h] of c.entries())
            f > 0 && d !== void 0 && u.push(d),
            u.push(h);
        return new An(u)
    }
    e.join = a;
    function i(c) {
        return new cf(c)
    }
    e.identifier = i;
    function o(c) {
        return new df(c)
    }
    e.placeholder = o;
    function l(c, d) {
        return new py(c,d)
    }
    e.param = l
}
)(fn || (fn = {}));
(e => {
    var n;
    n = Z;
    const s = class s {
        constructor(i, o) {
            R(this, "isSelectionField", !1);
            this.sql = i,
            this.fieldAlias = o
        }
        getSQL() {
            return this.sql
        }
        clone() {
            return new s(this.sql,this.fieldAlias)
        }
    }
    ;
    R(s, n, "SQL.Aliased");
    let t = s;
    e.Aliased = t
}
)(An || (An = {}));
var HN;
HN = Z;
class df {
    constructor(t) {
        this.name = t
    }
    getSQL() {
        return new An([this])
    }
}
R(df, HN, "Placeholder");
const JA = Symbol.for("drizzle:IsDrizzleView");
var KN, QN, GN;
GN = Z,
QN = ol,
KN = JA;
class eR {
    constructor({name: t, schema: n, selectedFields: s, query: a}) {
        R(this, QN);
        R(this, KN, !0);
        this[ol] = {
            name: t,
            originalName: t,
            schema: n,
            selectedFields: s,
            query: a,
            isExisting: !a,
            isAlias: !1
        }
    }
    getSQL() {
        return new An([this])
    }
}
R(eR, GN, "View");
function R9(e) {
    return typeof e == "object" && e !== null && JA in e
}
Ll.prototype.getSQL = function() {
    return new An([this])
}
;
dr.prototype.getSQL = function() {
    return new An([this])
}
;
hy.prototype.getSQL = function() {
    return new An([this])
}
;
function I9(e) {
    return e[dr.Symbol.Columns]
}
function D9(e) {
    return e[ol].selectedFields
}
function Fn(e, t) {
    return {
        name: typeof e == "string" && e.length > 0 ? e : "",
        config: typeof e == "object" ? e : t
    }
}
var XN, YN;
class Jd extends (YN = Ct,
XN = Z,
YN) {
    generatedAlwaysAsIdentity(t) {
        if (t) {
            const {name: n, ...s} = t;
            this.config.generatedIdentity = {
                type: "always",
                sequenceName: n,
                sequenceOptions: s
            }
        } else
            this.config.generatedIdentity = {
                type: "always"
            };
        return this.config.hasDefault = !0,
        this.config.notNull = !0,
        this
    }
    generatedByDefaultAsIdentity(t) {
        if (t) {
            const {name: n, ...s} = t;
            this.config.generatedIdentity = {
                type: "byDefault",
                sequenceName: n,
                sequenceOptions: s
            }
        } else
            this.config.generatedIdentity = {
                type: "byDefault"
            };
        return this.config.hasDefault = !0,
        this.config.notNull = !0,
        this
    }
}
R(Jd, XN, "PgIntColumnBaseBuilder");
var ZN, JN;
class tR extends (JN = Jd,
ZN = Z,
JN) {
    constructor(t) {
        super(t, "number", "PgBigInt53")
    }
    build(t) {
        return new nR(t,this.config)
    }
}
R(tR, ZN, "PgBigInt53Builder");
var eb, tb;
class nR extends (tb = it,
eb = Z,
tb) {
    getSQLType() {
        return "bigint"
    }
    mapFromDriverValue(t) {
        return typeof t == "number" ? t : Number(t)
    }
}
R(nR, eb, "PgBigInt53");
var nb, rb;
class rR extends (rb = Jd,
nb = Z,
rb) {
    constructor(t) {
        super(t, "bigint", "PgBigInt64")
    }
    build(t) {
        return new sR(t,this.config)
    }
}
R(rR, nb, "PgBigInt64Builder");
var sb, ab;
class sR extends (ab = it,
sb = Z,
ab) {
    getSQLType() {
        return "bigint"
    }
    mapFromDriverValue(t) {
        return BigInt(t)
    }
}
R(sR, sb, "PgBigInt64");
function M9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return s.mode === "number" ? new tR(n) : new rR(n)
}
var ib, ob;
class aR extends (ob = Ct,
ib = Z,
ob) {
    constructor(t) {
        super(t, "number", "PgBigSerial53"),
        this.config.hasDefault = !0,
        this.config.notNull = !0
    }
    build(t) {
        return new iR(t,this.config)
    }
}
R(aR, ib, "PgBigSerial53Builder");
var lb, cb;
class iR extends (cb = it,
lb = Z,
cb) {
    getSQLType() {
        return "bigserial"
    }
    mapFromDriverValue(t) {
        return typeof t == "number" ? t : Number(t)
    }
}
R(iR, lb, "PgBigSerial53");
var db, ub;
class oR extends (ub = Ct,
db = Z,
ub) {
    constructor(t) {
        super(t, "bigint", "PgBigSerial64"),
        this.config.hasDefault = !0
    }
    build(t) {
        return new lR(t,this.config)
    }
}
R(oR, db, "PgBigSerial64Builder");
var mb, fb;
class lR extends (fb = it,
mb = Z,
fb) {
    getSQLType() {
        return "bigserial"
    }
    mapFromDriverValue(t) {
        return BigInt(t)
    }
}
R(lR, mb, "PgBigSerial64");
function O9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return s.mode === "number" ? new aR(n) : new oR(n)
}
var hb, pb;
class cR extends (pb = Ct,
hb = Z,
pb) {
    constructor(t) {
        super(t, "boolean", "PgBoolean")
    }
    build(t) {
        return new dR(t,this.config)
    }
}
R(cR, hb, "PgBooleanBuilder");
var xb, gb;
class dR extends (gb = it,
xb = Z,
gb) {
    getSQLType() {
        return "boolean"
    }
}
R(dR, xb, "PgBoolean");
function br(e) {
    return new cR(e ?? "")
}
var vb, yb;
class uR extends (yb = Ct,
vb = Z,
yb) {
    constructor(t, n) {
        super(t, "string", "PgChar"),
        this.config.length = n.length,
        this.config.enumValues = n.enum
    }
    build(t) {
        return new mR(t,this.config)
    }
}
R(uR, vb, "PgCharBuilder");
var jb, wb;
class mR extends (wb = it,
jb = Z,
wb) {
    constructor() {
        super(...arguments);
        R(this, "length", this.config.length);
        R(this, "enumValues", this.config.enumValues)
    }
    getSQLType() {
        return this.length === void 0 ? "char" : `char(${this.length})`
    }
}
R(mR, jb, "PgChar");
function L9(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return new uR(n,s)
}
var Nb, bb;
class fR extends (bb = Ct,
Nb = Z,
bb) {
    constructor(t) {
        super(t, "string", "PgCidr")
    }
    build(t) {
        return new hR(t,this.config)
    }
}
R(fR, Nb, "PgCidrBuilder");
var Sb, Cb;
class hR extends (Cb = it,
Sb = Z,
Cb) {
    getSQLType() {
        return "cidr"
    }
}
R(hR, Sb, "PgCidr");
function F9(e) {
    return new fR(e ?? "")
}
var kb, Tb;
class pR extends (Tb = Ct,
kb = Z,
Tb) {
    constructor(t, n, s) {
        super(t, "custom", "PgCustomColumn"),
        this.config.fieldConfig = n,
        this.config.customTypeParams = s
    }
    build(t) {
        return new xR(t,this.config)
    }
}
R(pR, kb, "PgCustomColumnBuilder");
var Pb, Eb;
class xR extends (Eb = it,
Pb = Z,
Eb) {
    constructor(n, s) {
        super(n, s);
        R(this, "sqlName");
        R(this, "mapTo");
        R(this, "mapFrom");
        this.sqlName = s.customTypeParams.dataType(s.fieldConfig),
        this.mapTo = s.customTypeParams.toDriver,
        this.mapFrom = s.customTypeParams.fromDriver
    }
    getSQLType() {
        return this.sqlName
    }
    mapFromDriverValue(n) {
        return typeof this.mapFrom == "function" ? this.mapFrom(n) : n
    }
    mapToDriverValue(n) {
        return typeof this.mapTo == "function" ? this.mapTo(n) : n
    }
}
R(xR, Pb, "PgCustomColumn");
function $9(e) {
    return (t, n) => {
        const {name: s, config: a} = Fn(t, n);
        return new pR(s,a,e)
    }
}
var _b, Ab;
class Zl extends (Ab = Ct,
_b = Z,
Ab) {
    defaultNow() {
        return this.default(fn`now()`)
    }
}
R(Zl, _b, "PgDateColumnBaseBuilder");
var Rb, Ib;
class gR extends (Ib = Zl,
Rb = Z,
Ib) {
    constructor(t) {
        super(t, "date", "PgDate")
    }
    build(t) {
        return new vR(t,this.config)
    }
}
R(gR, Rb, "PgDateBuilder");
var Db, Mb;
class vR extends (Mb = it,
Db = Z,
Mb) {
    getSQLType() {
        return "date"
    }
    mapFromDriverValue(t) {
        return new Date(t)
    }
    mapToDriverValue(t) {
        return t.toISOString()
    }
}
R(vR, Db, "PgDate");
var Ob, Lb;
class yR extends (Lb = Zl,
Ob = Z,
Lb) {
    constructor(t) {
        super(t, "string", "PgDateString")
    }
    build(t) {
        return new jR(t,this.config)
    }
}
R(yR, Ob, "PgDateStringBuilder");
var Fb, $b;
class jR extends ($b = it,
Fb = Z,
$b) {
    getSQLType() {
        return "date"
    }
}
R(jR, Fb, "PgDateString");
function z9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return (s == null ? void 0 : s.mode) === "date" ? new gR(n) : new yR(n)
}
var zb, Vb;
class wR extends (Vb = Ct,
zb = Z,
Vb) {
    constructor(t) {
        super(t, "number", "PgDoublePrecision")
    }
    build(t) {
        return new NR(t,this.config)
    }
}
R(wR, zb, "PgDoublePrecisionBuilder");
var Bb, Ub;
class NR extends (Ub = it,
Bb = Z,
Ub) {
    getSQLType() {
        return "double precision"
    }
    mapFromDriverValue(t) {
        return typeof t == "string" ? Number.parseFloat(t) : t
    }
}
R(NR, Bb, "PgDoublePrecision");
function V9(e) {
    return new wR(e ?? "")
}
var qb, Wb;
class bR extends (Wb = Ct,
qb = Z,
Wb) {
    constructor(t) {
        super(t, "string", "PgInet")
    }
    build(t) {
        return new SR(t,this.config)
    }
}
R(bR, qb, "PgInetBuilder");
var Hb, Kb;
class SR extends (Kb = it,
Hb = Z,
Kb) {
    getSQLType() {
        return "inet"
    }
}
R(SR, Hb, "PgInet");
function B9(e) {
    return new bR(e ?? "")
}
var Qb, Gb;
class CR extends (Gb = Jd,
Qb = Z,
Gb) {
    constructor(t) {
        super(t, "number", "PgInteger")
    }
    build(t) {
        return new kR(t,this.config)
    }
}
R(CR, Qb, "PgIntegerBuilder");
var Xb, Yb;
class kR extends (Yb = it,
Xb = Z,
Yb) {
    getSQLType() {
        return "integer"
    }
    mapFromDriverValue(t) {
        return typeof t == "string" ? Number.parseInt(t) : t
    }
}
R(kR, Xb, "PgInteger");
function Si(e) {
    return new CR(e ?? "")
}
var Zb, Jb;
class TR extends (Jb = Ct,
Zb = Z,
Jb) {
    constructor(t, n) {
        super(t, "string", "PgInterval"),
        this.config.intervalConfig = n
    }
    build(t) {
        return new PR(t,this.config)
    }
}
R(TR, Zb, "PgIntervalBuilder");
var e0, t0;
class PR extends (t0 = it,
e0 = Z,
t0) {
    constructor() {
        super(...arguments);
        R(this, "fields", this.config.intervalConfig.fields);
        R(this, "precision", this.config.intervalConfig.precision)
    }
    getSQLType() {
        const n = this.fields ? ` ${this.fields}` : ""
          , s = this.precision ? `(${this.precision})` : "";
        return `interval${n}${s}`
    }
}
R(PR, e0, "PgInterval");
function U9(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return new TR(n,s)
}
var n0, r0;
class ER extends (r0 = Ct,
n0 = Z,
r0) {
    constructor(t) {
        super(t, "json", "PgJson")
    }
    build(t) {
        return new _R(t,this.config)
    }
}
R(ER, n0, "PgJsonBuilder");
var s0, a0;
class _R extends (a0 = it,
s0 = Z,
a0) {
    constructor(t, n) {
        super(t, n)
    }
    getSQLType() {
        return "json"
    }
    mapToDriverValue(t) {
        return JSON.stringify(t)
    }
    mapFromDriverValue(t) {
        if (typeof t == "string")
            try {
                return JSON.parse(t)
            } catch {
                return t
            }
        return t
    }
}
R(_R, s0, "PgJson");
function q9(e) {
    return new ER(e ?? "")
}
var i0, o0;
class AR extends (o0 = Ct,
i0 = Z,
o0) {
    constructor(t) {
        super(t, "json", "PgJsonb")
    }
    build(t) {
        return new RR(t,this.config)
    }
}
R(AR, i0, "PgJsonbBuilder");
var l0, c0;
class RR extends (c0 = it,
l0 = Z,
c0) {
    constructor(t, n) {
        super(t, n)
    }
    getSQLType() {
        return "jsonb"
    }
    mapToDriverValue(t) {
        return JSON.stringify(t)
    }
    mapFromDriverValue(t) {
        if (typeof t == "string")
            try {
                return JSON.parse(t)
            } catch {
                return t
            }
        return t
    }
}
R(RR, l0, "PgJsonb");
function W9(e) {
    return new AR(e ?? "")
}
var d0, u0;
class IR extends (u0 = Ct,
d0 = Z,
u0) {
    constructor(t) {
        super(t, "array", "PgLine")
    }
    build(t) {
        return new DR(t,this.config)
    }
}
R(IR, d0, "PgLineBuilder");
var m0, f0;
class DR extends (f0 = it,
m0 = Z,
f0) {
    getSQLType() {
        return "line"
    }
    mapFromDriverValue(t) {
        const [n,s,a] = t.slice(1, -1).split(",");
        return [Number.parseFloat(n), Number.parseFloat(s), Number.parseFloat(a)]
    }
    mapToDriverValue(t) {
        return `{${t[0]},${t[1]},${t[2]}}`
    }
}
R(DR, m0, "PgLine");
var h0, p0;
class MR extends (p0 = Ct,
h0 = Z,
p0) {
    constructor(t) {
        super(t, "json", "PgLineABC")
    }
    build(t) {
        return new OR(t,this.config)
    }
}
R(MR, h0, "PgLineABCBuilder");
var x0, g0;
class OR extends (g0 = it,
x0 = Z,
g0) {
    getSQLType() {
        return "line"
    }
    mapFromDriverValue(t) {
        const [n,s,a] = t.slice(1, -1).split(",");
        return {
            a: Number.parseFloat(n),
            b: Number.parseFloat(s),
            c: Number.parseFloat(a)
        }
    }
    mapToDriverValue(t) {
        return `{${t.a},${t.b},${t.c}}`
    }
}
R(OR, x0, "PgLineABC");
function H9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return !(s != null && s.mode) || s.mode === "tuple" ? new IR(n) : new MR(n)
}
var v0, y0;
class LR extends (y0 = Ct,
v0 = Z,
y0) {
    constructor(t) {
        super(t, "string", "PgMacaddr")
    }
    build(t) {
        return new FR(t,this.config)
    }
}
R(LR, v0, "PgMacaddrBuilder");
var j0, w0;
class FR extends (w0 = it,
j0 = Z,
w0) {
    getSQLType() {
        return "macaddr"
    }
}
R(FR, j0, "PgMacaddr");
function K9(e) {
    return new LR(e ?? "")
}
var N0, b0;
class $R extends (b0 = Ct,
N0 = Z,
b0) {
    constructor(t) {
        super(t, "string", "PgMacaddr8")
    }
    build(t) {
        return new zR(t,this.config)
    }
}
R($R, N0, "PgMacaddr8Builder");
var S0, C0;
class zR extends (C0 = it,
S0 = Z,
C0) {
    getSQLType() {
        return "macaddr8"
    }
}
R(zR, S0, "PgMacaddr8");
function Q9(e) {
    return new $R(e ?? "")
}
var k0, T0;
class VR extends (T0 = Ct,
k0 = Z,
T0) {
    constructor(t, n, s) {
        super(t, "string", "PgNumeric"),
        this.config.precision = n,
        this.config.scale = s
    }
    build(t) {
        return new BR(t,this.config)
    }
}
R(VR, k0, "PgNumericBuilder");
var P0, E0;
class BR extends (E0 = it,
P0 = Z,
E0) {
    constructor(n, s) {
        super(n, s);
        R(this, "precision");
        R(this, "scale");
        this.precision = s.precision,
        this.scale = s.scale
    }
    getSQLType() {
        return this.precision !== void 0 && this.scale !== void 0 ? `numeric(${this.precision}, ${this.scale})` : this.precision === void 0 ? "numeric" : `numeric(${this.precision})`
    }
}
R(BR, P0, "PgNumeric");
function UR(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return new VR(n,s == null ? void 0 : s.precision,s == null ? void 0 : s.scale)
}
const eu = UR;
var _0, A0;
class qR extends (A0 = Ct,
_0 = Z,
A0) {
    constructor(t) {
        super(t, "array", "PgPointTuple")
    }
    build(t) {
        return new WR(t,this.config)
    }
}
R(qR, _0, "PgPointTupleBuilder");
var R0, I0;
class WR extends (I0 = it,
R0 = Z,
I0) {
    getSQLType() {
        return "point"
    }
    mapFromDriverValue(t) {
        if (typeof t == "string") {
            const [n,s] = t.slice(1, -1).split(",");
            return [Number.parseFloat(n), Number.parseFloat(s)]
        }
        return [t.x, t.y]
    }
    mapToDriverValue(t) {
        return `(${t[0]},${t[1]})`
    }
}
R(WR, R0, "PgPointTuple");
var D0, M0;
class HR extends (M0 = Ct,
D0 = Z,
M0) {
    constructor(t) {
        super(t, "json", "PgPointObject")
    }
    build(t) {
        return new KR(t,this.config)
    }
}
R(HR, D0, "PgPointObjectBuilder");
var O0, L0;
class KR extends (L0 = it,
O0 = Z,
L0) {
    getSQLType() {
        return "point"
    }
    mapFromDriverValue(t) {
        if (typeof t == "string") {
            const [n,s] = t.slice(1, -1).split(",");
            return {
                x: Number.parseFloat(n),
                y: Number.parseFloat(s)
            }
        }
        return t
    }
    mapToDriverValue(t) {
        return `(${t.x},${t.y})`
    }
}
R(KR, O0, "PgPointObject");
function G9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return !(s != null && s.mode) || s.mode === "tuple" ? new qR(n) : new HR(n)
}
function X9(e) {
    const t = [];
    for (let n = 0; n < e.length; n += 2)
        t.push(Number.parseInt(e.slice(n, n + 2), 16));
    return new Uint8Array(t)
}
function sN(e, t) {
    const n = new ArrayBuffer(8)
      , s = new DataView(n);
    for (let a = 0; a < 8; a++)
        s.setUint8(a, e[t + a]);
    return s.getFloat64(0, !0)
}
function QR(e) {
    const t = X9(e);
    let n = 0;
    const s = t[n];
    n += 1;
    const a = new DataView(t.buffer)
      , i = a.getUint32(n, s === 1);
    if (n += 4,
    i & 536870912 && (a.getUint32(n, s === 1),
    n += 4),
    (i & 65535) === 1) {
        const o = sN(t, n);
        n += 8;
        const l = sN(t, n);
        return n += 8,
        [o, l]
    }
    throw new Error("Unsupported geometry type")
}
var F0, $0;
class GR extends ($0 = Ct,
F0 = Z,
$0) {
    constructor(t) {
        super(t, "array", "PgGeometry")
    }
    build(t) {
        return new XR(t,this.config)
    }
}
R(GR, F0, "PgGeometryBuilder");
var z0, V0;
class XR extends (V0 = it,
z0 = Z,
V0) {
    getSQLType() {
        return "geometry(point)"
    }
    mapFromDriverValue(t) {
        return QR(t)
    }
    mapToDriverValue(t) {
        return `point(${t[0]} ${t[1]})`
    }
}
R(XR, z0, "PgGeometry");
var B0, U0;
class YR extends (U0 = Ct,
B0 = Z,
U0) {
    constructor(t) {
        super(t, "json", "PgGeometryObject")
    }
    build(t) {
        return new ZR(t,this.config)
    }
}
R(YR, B0, "PgGeometryObjectBuilder");
var q0, W0;
class ZR extends (W0 = it,
q0 = Z,
W0) {
    getSQLType() {
        return "geometry(point)"
    }
    mapFromDriverValue(t) {
        const n = QR(t);
        return {
            x: n[0],
            y: n[1]
        }
    }
    mapToDriverValue(t) {
        return `point(${t.x} ${t.y})`
    }
}
R(ZR, q0, "PgGeometryObject");
function Y9(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return !(s != null && s.mode) || s.mode === "tuple" ? new GR(n) : new YR(n)
}
var H0, K0;
class JR extends (K0 = Ct,
H0 = Z,
K0) {
    constructor(t, n) {
        super(t, "number", "PgReal"),
        this.config.length = n
    }
    build(t) {
        return new eI(t,this.config)
    }
}
R(JR, H0, "PgRealBuilder");
var Q0, G0;
class eI extends (G0 = it,
Q0 = Z,
G0) {
    constructor(n, s) {
        super(n, s);
        R(this, "mapFromDriverValue", n => typeof n == "string" ? Number.parseFloat(n) : n)
    }
    getSQLType() {
        return "real"
    }
}
R(eI, Q0, "PgReal");
function Z9(e) {
    return new JR(e ?? "")
}
var X0, Y0;
class tI extends (Y0 = Ct,
X0 = Z,
Y0) {
    constructor(t) {
        super(t, "number", "PgSerial"),
        this.config.hasDefault = !0,
        this.config.notNull = !0
    }
    build(t) {
        return new nI(t,this.config)
    }
}
R(tI, X0, "PgSerialBuilder");
var Z0, J0;
class nI extends (J0 = it,
Z0 = Z,
J0) {
    getSQLType() {
        return "serial"
    }
}
R(nI, Z0, "PgSerial");
function J9(e) {
    return new tI(e ?? "")
}
var e1, t1;
class rI extends (t1 = Jd,
e1 = Z,
t1) {
    constructor(t) {
        super(t, "number", "PgSmallInt")
    }
    build(t) {
        return new sI(t,this.config)
    }
}
R(rI, e1, "PgSmallIntBuilder");
var n1, r1;
class sI extends (r1 = it,
n1 = Z,
r1) {
    constructor() {
        super(...arguments);
        R(this, "mapFromDriverValue", n => typeof n == "string" ? Number(n) : n)
    }
    getSQLType() {
        return "smallint"
    }
}
R(sI, n1, "PgSmallInt");
function eq(e) {
    return new rI(e ?? "")
}
var s1, a1;
class aI extends (a1 = Ct,
s1 = Z,
a1) {
    constructor(t) {
        super(t, "number", "PgSmallSerial"),
        this.config.hasDefault = !0,
        this.config.notNull = !0
    }
    build(t) {
        return new iI(t,this.config)
    }
}
R(aI, s1, "PgSmallSerialBuilder");
var i1, o1;
class iI extends (o1 = it,
i1 = Z,
o1) {
    getSQLType() {
        return "smallserial"
    }
}
R(iI, i1, "PgSmallSerial");
function tq(e) {
    return new aI(e ?? "")
}
var l1, c1;
class oI extends (c1 = Ct,
l1 = Z,
c1) {
    constructor(t, n) {
        super(t, "string", "PgText"),
        this.config.enumValues = n.enum
    }
    build(t) {
        return new lI(t,this.config)
    }
}
R(oI, l1, "PgTextBuilder");
var d1, u1;
class lI extends (u1 = it,
d1 = Z,
u1) {
    constructor() {
        super(...arguments);
        R(this, "enumValues", this.config.enumValues)
    }
    getSQLType() {
        return "text"
    }
}
R(lI, d1, "PgText");
function Ee(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return new oI(n,s)
}
var m1, f1;
class cI extends (f1 = Zl,
m1 = Z,
f1) {
    constructor(t, n, s) {
        super(t, "string", "PgTime"),
        this.withTimezone = n,
        this.precision = s,
        this.config.withTimezone = n,
        this.config.precision = s
    }
    build(t) {
        return new dI(t,this.config)
    }
}
R(cI, m1, "PgTimeBuilder");
var h1, p1;
class dI extends (p1 = it,
h1 = Z,
p1) {
    constructor(n, s) {
        super(n, s);
        R(this, "withTimezone");
        R(this, "precision");
        this.withTimezone = s.withTimezone,
        this.precision = s.precision
    }
    getSQLType() {
        return `time${this.precision === void 0 ? "" : `(${this.precision})`}${this.withTimezone ? " with time zone" : ""}`
    }
}
R(dI, h1, "PgTime");
function nq(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return new cI(n,s.withTimezone ?? !1,s.precision)
}
var x1, g1;
class uI extends (g1 = Zl,
x1 = Z,
g1) {
    constructor(t, n, s) {
        super(t, "date", "PgTimestamp"),
        this.config.withTimezone = n,
        this.config.precision = s
    }
    build(t) {
        return new mI(t,this.config)
    }
}
R(uI, x1, "PgTimestampBuilder");
var v1, y1;
class mI extends (y1 = it,
v1 = Z,
y1) {
    constructor(n, s) {
        super(n, s);
        R(this, "withTimezone");
        R(this, "precision");
        R(this, "mapFromDriverValue", n => new Date(this.withTimezone ? n : n + "+0000"));
        R(this, "mapToDriverValue", n => n.toISOString());
        this.withTimezone = s.withTimezone,
        this.precision = s.precision
    }
    getSQLType() {
        return `timestamp${this.precision === void 0 ? "" : ` (${this.precision})`}${this.withTimezone ? " with time zone" : ""}`
    }
}
R(mI, v1, "PgTimestamp");
var j1, w1;
class fI extends (w1 = Zl,
j1 = Z,
w1) {
    constructor(t, n, s) {
        super(t, "string", "PgTimestampString"),
        this.config.withTimezone = n,
        this.config.precision = s
    }
    build(t) {
        return new hI(t,this.config)
    }
}
R(fI, j1, "PgTimestampStringBuilder");
var N1, b1;
class hI extends (b1 = it,
N1 = Z,
b1) {
    constructor(n, s) {
        super(n, s);
        R(this, "withTimezone");
        R(this, "precision");
        this.withTimezone = s.withTimezone,
        this.precision = s.precision
    }
    getSQLType() {
        return `timestamp${this.precision === void 0 ? "" : `(${this.precision})`}${this.withTimezone ? " with time zone" : ""}`
    }
}
R(hI, N1, "PgTimestampString");
function tn(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return (s == null ? void 0 : s.mode) === "string" ? new fI(n,s.withTimezone ?? !1,s.precision) : new uI(n,(s == null ? void 0 : s.withTimezone) ?? !1,s == null ? void 0 : s.precision)
}
var S1, C1;
class pI extends (C1 = Ct,
S1 = Z,
C1) {
    constructor(t) {
        super(t, "string", "PgUUID")
    }
    defaultRandom() {
        return this.default(fn`gen_random_uuid()`)
    }
    build(t) {
        return new xI(t,this.config)
    }
}
R(pI, S1, "PgUUIDBuilder");
var k1, T1;
class xI extends (T1 = it,
k1 = Z,
T1) {
    getSQLType() {
        return "uuid"
    }
}
R(xI, k1, "PgUUID");
function rq(e) {
    return new pI(e ?? "")
}
var P1, E1;
class gI extends (E1 = Ct,
P1 = Z,
E1) {
    constructor(t, n) {
        super(t, "string", "PgVarchar"),
        this.config.length = n.length,
        this.config.enumValues = n.enum
    }
    build(t) {
        return new vI(t,this.config)
    }
}
R(gI, P1, "PgVarcharBuilder");
var _1, A1;
class vI extends (A1 = it,
_1 = Z,
A1) {
    constructor() {
        super(...arguments);
        R(this, "length", this.config.length);
        R(this, "enumValues", this.config.enumValues)
    }
    getSQLType() {
        return this.length === void 0 ? "varchar" : `varchar(${this.length})`
    }
}
R(vI, _1, "PgVarchar");
function Ye(e, t={}) {
    const {name: n, config: s} = Fn(e, t);
    return new gI(n,s)
}
var R1, I1;
class yI extends (I1 = Ct,
R1 = Z,
I1) {
    constructor(t, n) {
        super(t, "string", "PgBinaryVector"),
        this.config.dimensions = n.dimensions
    }
    build(t) {
        return new jI(t,this.config)
    }
}
R(yI, R1, "PgBinaryVectorBuilder");
var D1, M1;
class jI extends (M1 = it,
D1 = Z,
M1) {
    constructor() {
        super(...arguments);
        R(this, "dimensions", this.config.dimensions)
    }
    getSQLType() {
        return `bit(${this.dimensions})`
    }
}
R(jI, D1, "PgBinaryVector");
function sq(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return new yI(n,s)
}
var O1, L1;
class wI extends (L1 = Ct,
O1 = Z,
L1) {
    constructor(t, n) {
        super(t, "array", "PgHalfVector"),
        this.config.dimensions = n.dimensions
    }
    build(t) {
        return new NI(t,this.config)
    }
}
R(wI, O1, "PgHalfVectorBuilder");
var F1, $1;
class NI extends ($1 = it,
F1 = Z,
$1) {
    constructor() {
        super(...arguments);
        R(this, "dimensions", this.config.dimensions)
    }
    getSQLType() {
        return `halfvec(${this.dimensions})`
    }
    mapToDriverValue(n) {
        return JSON.stringify(n)
    }
    mapFromDriverValue(n) {
        return n.slice(1, -1).split(",").map(s => Number.parseFloat(s))
    }
}
R(NI, F1, "PgHalfVector");
function aq(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return new wI(n,s)
}
var z1, V1;
class bI extends (V1 = Ct,
z1 = Z,
V1) {
    constructor(t, n) {
        super(t, "string", "PgSparseVector"),
        this.config.dimensions = n.dimensions
    }
    build(t) {
        return new SI(t,this.config)
    }
}
R(bI, z1, "PgSparseVectorBuilder");
var B1, U1;
class SI extends (U1 = it,
B1 = Z,
U1) {
    constructor() {
        super(...arguments);
        R(this, "dimensions", this.config.dimensions)
    }
    getSQLType() {
        return `sparsevec(${this.dimensions})`
    }
}
R(SI, B1, "PgSparseVector");
function iq(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return new bI(n,s)
}
var q1, W1;
class CI extends (W1 = Ct,
q1 = Z,
W1) {
    constructor(t, n) {
        super(t, "array", "PgVector"),
        this.config.dimensions = n.dimensions
    }
    build(t) {
        return new kI(t,this.config)
    }
}
R(CI, q1, "PgVectorBuilder");
var H1, K1;
class kI extends (K1 = it,
H1 = Z,
K1) {
    constructor() {
        super(...arguments);
        R(this, "dimensions", this.config.dimensions)
    }
    getSQLType() {
        return `vector(${this.dimensions})`
    }
    mapToDriverValue(n) {
        return JSON.stringify(n)
    }
    mapFromDriverValue(n) {
        return n.slice(1, -1).split(",").map(s => Number.parseFloat(s))
    }
}
R(kI, H1, "PgVector");
function oq(e, t) {
    const {name: n, config: s} = Fn(e, t);
    return new CI(n,s)
}
function lq() {
    return {
        bigint: M9,
        bigserial: O9,
        boolean: br,
        char: L9,
        cidr: F9,
        customType: $9,
        date: z9,
        doublePrecision: V9,
        inet: B9,
        integer: Si,
        interval: U9,
        json: q9,
        jsonb: W9,
        line: H9,
        macaddr: K9,
        macaddr8: Q9,
        numeric: UR,
        point: G9,
        geometry: Y9,
        real: Z9,
        serial: J9,
        smallint: eq,
        smallserial: tq,
        text: Ee,
        time: nq,
        timestamp: tn,
        uuid: rq,
        varchar: Ye,
        bit: sq,
        halfvec: aq,
        sparsevec: iq,
        vector: oq
    }
}
const ng = Symbol.for("drizzle:PgInlineForeignKeys")
  , aN = Symbol.for("drizzle:EnableRLS");
var Q1, G1, X1, Y1, Z1;
class uf extends (Z1 = dr,
Y1 = Z,
X1 = ng,
G1 = aN,
Q1 = dr.Symbol.ExtraConfigBuilder,
Z1) {
    constructor() {
        super(...arguments);
        R(this, X1, []);
        R(this, G1, !1);
        R(this, Q1)
    }
}
R(uf, Y1, "PgTable"),
R(uf, "Symbol", Object.assign({}, dr.Symbol, {
    InlineForeignKeys: ng,
    EnableRLS: aN
}));
function cq(e, t, n, s, a=e) {
    const i = new uf(e,s,a)
      , o = typeof t == "function" ? t(lq()) : t
      , l = Object.fromEntries(Object.entries(o).map( ([u,f]) => {
        const h = f;
        h.setName(u);
        const x = h.build(i);
        return i[ng].push(...h.buildForeignKeys(x, i)),
        [u, x]
    }
    ))
      , c = Object.fromEntries(Object.entries(o).map( ([u,f]) => {
        const h = f;
        h.setName(u);
        const x = h.buildExtraConfigColumn(i);
        return [u, x]
    }
    ))
      , d = Object.assign(i, l);
    return d[dr.Symbol.Columns] = l,
    d[dr.Symbol.ExtraConfigColumns] = c,
    Object.assign(d, {
        enableRLS: () => (d[uf.Symbol.EnableRLS] = !0,
        d)
    })
}
const Gn = (e, t, n) => cq(e, t, n, void 0)
  , nn = {
    INT8_MIN: -128,
    INT8_MAX: 127,
    INT8_UNSIGNED_MAX: 255,
    INT16_MIN: -32768,
    INT16_MAX: 32767,
    INT16_UNSIGNED_MAX: 65535,
    INT24_MIN: -8388608,
    INT24_MAX: 8388607,
    INT24_UNSIGNED_MAX: 16777215,
    INT32_MIN: -2147483648,
    INT32_MAX: 2147483647,
    INT32_UNSIGNED_MAX: 4294967295,
    INT48_MIN: -0x800000000000,
    INT48_MAX: 0x7fffffffffff,
    INT48_UNSIGNED_MAX: 0xffffffffffff,
    INT64_MIN: -9223372036854775808n,
    INT64_MAX: 9223372036854775807n,
    INT64_UNSIGNED_MAX: 18446744073709551615n
};
function pn(e, t) {
    return t.includes(e.columnType)
}
function dq(e) {
    return "enumValues"in e && Array.isArray(e.enumValues) && e.enumValues.length > 0
}
const uq = fe.union([fe.string(), fe.number(), fe.boolean(), fe.null()])
  , mq = fe.union([uq, fe.record(fe.any()), fe.array(fe.any())])
  , fq = fe.custom(e => e instanceof Buffer);
function TI(e, t) {
    const n = (t == null ? void 0 : t.zodInstance) ?? fe
      , s = (t == null ? void 0 : t.coerce) ?? {};
    let a;
    return dq(e) && (a = e.enumValues.length ? n.enum(e.enumValues) : n.string()),
    a || (pn(e, ["PgGeometry", "PgPointTuple"]) ? a = n.tuple([n.number(), n.number()]) : pn(e, ["PgGeometryObject", "PgPointObject"]) ? a = n.object({
        x: n.number(),
        y: n.number()
    }) : pn(e, ["PgHalfVector", "PgVector"]) ? (a = n.array(n.number()),
    a = e.dimensions ? a.length(e.dimensions) : a) : pn(e, ["PgLine"]) ? a = n.tuple([n.number(), n.number(), n.number()]) : pn(e, ["PgLineABC"]) ? a = n.object({
        a: n.number(),
        b: n.number(),
        c: n.number()
    }) : pn(e, ["PgArray"]) ? (a = n.array(TI(e.baseColumn, n)),
    a = e.size ? a.length(e.size) : a) : e.dataType === "array" ? a = n.array(n.any()) : e.dataType === "number" ? a = hq(e, n, s) : e.dataType === "bigint" ? a = pq(e, n, s) : e.dataType === "boolean" ? a = s === !0 || s.boolean ? n.coerce.boolean() : n.boolean() : e.dataType === "date" ? a = s === !0 || s.date ? n.coerce.date() : n.date() : e.dataType === "string" ? a = xq(e, n, s) : e.dataType === "json" ? a = mq : e.dataType === "custom" ? a = n.any() : e.dataType === "buffer" && (a = fq)),
    a || (a = n.any()),
    a
}
function hq(e, t, n) {
    let s = e.getSQLType().includes("unsigned"), a, i, o = !1;
    pn(e, ["MySqlTinyInt", "SingleStoreTinyInt"]) ? (a = s ? 0 : nn.INT8_MIN,
    i = s ? nn.INT8_UNSIGNED_MAX : nn.INT8_MAX,
    o = !0) : pn(e, ["PgSmallInt", "PgSmallSerial", "MySqlSmallInt", "SingleStoreSmallInt"]) ? (a = s ? 0 : nn.INT16_MIN,
    i = s ? nn.INT16_UNSIGNED_MAX : nn.INT16_MAX,
    o = !0) : pn(e, ["PgReal", "MySqlFloat", "MySqlMediumInt", "SingleStoreMediumInt", "SingleStoreFloat"]) ? (a = s ? 0 : nn.INT24_MIN,
    i = s ? nn.INT24_UNSIGNED_MAX : nn.INT24_MAX,
    o = pn(e, ["MySqlMediumInt", "SingleStoreMediumInt"])) : pn(e, ["PgInteger", "PgSerial", "MySqlInt", "SingleStoreInt"]) ? (a = s ? 0 : nn.INT32_MIN,
    i = s ? nn.INT32_UNSIGNED_MAX : nn.INT32_MAX,
    o = !0) : pn(e, ["PgDoublePrecision", "MySqlReal", "MySqlDouble", "SingleStoreReal", "SingleStoreDouble", "SQLiteReal"]) ? (a = s ? 0 : nn.INT48_MIN,
    i = s ? nn.INT48_UNSIGNED_MAX : nn.INT48_MAX) : pn(e, ["PgBigInt53", "PgBigSerial53", "MySqlBigInt53", "MySqlSerial", "SingleStoreBigInt53", "SingleStoreSerial", "SQLiteInteger"]) ? (s = s || pn(e, ["MySqlSerial", "SingleStoreSerial"]),
    a = s ? 0 : Number.MIN_SAFE_INTEGER,
    i = Number.MAX_SAFE_INTEGER,
    o = !0) : pn(e, ["MySqlYear", "SingleStoreYear"]) ? (a = 1901,
    i = 2155,
    o = !0) : (a = Number.MIN_SAFE_INTEGER,
    i = Number.MAX_SAFE_INTEGER);
    let l = n === !0 || n != null && n.number ? t.coerce.number() : t.number();
    return l = l.min(a).max(i),
    o ? l.int() : l
}
function pq(e, t, n) {
    const s = e.getSQLType().includes("unsigned")
      , a = s ? 0n : nn.INT64_MIN
      , i = s ? nn.INT64_UNSIGNED_MAX : nn.INT64_MAX;
    return (n === !0 || n != null && n.bigint ? t.coerce.bigint() : t.bigint()).min(a).max(i)
}
function xq(e, t, n) {
    if (pn(e, ["PgUUID"]))
        return t.string().uuid();
    let s, a, i = !1;
    pn(e, ["PgVarchar", "SQLiteText"]) ? s = e.length : pn(e, ["MySqlVarChar", "SingleStoreVarChar"]) ? s = e.length ?? nn.INT16_UNSIGNED_MAX : pn(e, ["MySqlText", "SingleStoreText"]) && (e.textType === "longtext" ? s = nn.INT32_UNSIGNED_MAX : e.textType === "mediumtext" ? s = nn.INT24_UNSIGNED_MAX : e.textType === "text" ? s = nn.INT16_UNSIGNED_MAX : s = nn.INT8_UNSIGNED_MAX),
    pn(e, ["PgChar", "MySqlChar", "SingleStoreChar"]) && (s = e.length,
    i = !0),
    pn(e, ["PgBinaryVector"]) && (a = /^[01]+$/,
    s = e.dimensions);
    let o = n === !0 || n != null && n.string ? t.coerce.string() : t.string();
    return o = a ? o.regex(a) : o,
    s && i ? o.length(s) : s ? o.max(s) : o
}
function PI(e) {
    return XA(e) ? I9(e) : D9(e)
}
function EI(e, t, n, s) {
    const a = {};
    for (const [i,o] of Object.entries(e)) {
        if (!Wn(o, Ll) && !Wn(o, An) && !Wn(o, An.Aliased) && typeof o == "object") {
            const f = XA(o) || R9(o) ? PI(o) : o;
            a[i] = EI(f, t[i] ?? {}, n, s);
            continue
        }
        const l = t[i];
        if (l !== void 0 && typeof l != "function") {
            a[i] = l;
            continue
        }
        const c = Wn(o, Ll) ? o : void 0
          , d = c ? TI(c, s) : fe.any()
          , u = typeof l == "function" ? l(d) : d;
        n.never(c) || (a[i] = u,
        c && (n.nullable(c) && (a[i] = a[i].nullable()),
        n.optional(c) && (a[i] = a[i].optional())))
    }
    return fe.object(a)
}
const gq = {
    never: e => {
        var t, n;
        return ((t = e == null ? void 0 : e.generated) == null ? void 0 : t.type) === "always" || ((n = e == null ? void 0 : e.generatedIdentity) == null ? void 0 : n.type) === "always"
    }
    ,
    optional: e => !e.notNull || e.notNull && e.hasDefault,
    nullable: e => !e.notNull
}
  , Xn = (e, t) => {
    const n = PI(e);
    return EI(n, {}, gq)
}
  , Rn = Gn("users", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    phoneNumber: Ee("phone_number").notNull().unique(),
    passwordHash: Ee("password_hash").notNull(),
    role: Ee("role"),
    clientId: Ee("client_id").unique(),
    name: Ee("name"),
    city: Ee("city"),
    truckPhotos: Ee("truck_photos").array(),
    rating: eu("rating", {
        precision: 3,
        scale: 2
    }).default("0"),
    totalRatings: Si("total_ratings").default(0),
    totalTrips: Si("total_trips").default(0),
    status: Ee("status"),
    accountStatus: Ee("account_status").default("active"),
    ribName: Ee("rib_name"),
    ribNumber: Ee("rib_number"),
    deviceToken: Ee("device_token"),
    isActive: br("is_active").default(!0),
    isVerified: br("is_verified").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , vq = Gn("otp_codes", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    phoneNumber: Ee("phone_number").notNull(),
    code: Ee("code").notNull(),
    expiresAt: tn("expires_at").notNull(),
    verified: br("verified").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , No = Gn("transport_requests", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    referenceId: Ee("reference_id").notNull().unique(),
    clientId: Ye("client_id").notNull().references( () => Rn.id),
    fromCity: Ee("from_city").notNull(),
    toCity: Ee("to_city").notNull(),
    description: Ee("description").notNull(),
    goodsType: Ee("goods_type").notNull(),
    dateTime: tn("date_time").notNull(),
    dateFlexible: br("date_flexible").default(!1),
    invoiceRequired: br("invoice_required").default(!1),
    budget: eu("budget", {
        precision: 10,
        scale: 2
    }),
    photos: Ee("photos").array(),
    status: Ee("status").default("open"),
    acceptedOfferId: Ye("accepted_offer_id"),
    paymentStatus: Ee("payment_status").default("pending"),
    paymentReceipt: Ee("payment_receipt"),
    paymentDate: tn("payment_date"),
    viewCount: Si("view_count").default(0),
    declinedBy: Ee("declined_by").array().default(fn`ARRAY[]::text[]`),
    smsSent: br("sms_sent").default(!1),
    isHidden: br("is_hidden").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , _I = Gn("offers", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().references( () => No.id),
    transporterId: Ye("transporter_id").notNull().references( () => Rn.id),
    amount: eu("amount", {
        precision: 10,
        scale: 2
    }).notNull(),
    pickupDate: tn("pickup_date").notNull(),
    loadType: Ee("load_type").notNull(),
    status: Ee("status").default("pending"),
    paymentProofUrl: Ee("payment_proof_url"),
    paymentValidated: br("payment_validated").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , yq = Gn("chat_messages", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().references( () => No.id),
    senderId: Ye("sender_id").notNull().references( () => Rn.id),
    receiverId: Ye("receiver_id").notNull().references( () => Rn.id),
    message: Ee("message"),
    messageType: Ee("message_type").default("text"),
    fileUrl: Ee("file_url"),
    fileName: Ee("file_name"),
    fileSize: Si("file_size"),
    filteredMessage: Ee("filtered_message"),
    isRead: br("is_read").default(!1),
    senderType: Ee("sender_type"),
    createdAt: tn("created_at").defaultNow()
})
  , jq = Gn("admin_settings", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    commissionPercentage: eu("commission_percentage", {
        precision: 5,
        scale: 2
    }).default("10"),
    updatedAt: tn("updated_at").defaultNow()
})
  , wq = Gn("notifications", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    userId: Ye("user_id").notNull().references( () => Rn.id),
    type: Ee("type").notNull(),
    title: Ee("title").notNull(),
    message: Ee("message").notNull(),
    relatedId: Ye("related_id"),
    read: br("read").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , Nq = Gn("ratings", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().unique().references( () => No.id),
    transporterId: Ye("transporter_id").notNull().references( () => Rn.id),
    clientId: Ye("client_id").notNull().references( () => Rn.id),
    score: Si("score").notNull(),
    comment: Ee("comment"),
    createdAt: tn("created_at").defaultNow()
})
  , bq = Gn("empty_returns", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    transporterId: Ye("transporter_id").notNull().references( () => Rn.id),
    fromCity: Ee("from_city").notNull(),
    toCity: Ee("to_city").notNull(),
    returnDate: tn("return_date").notNull(),
    status: Ee("status").default("active"),
    createdAt: tn("created_at").defaultNow()
})
  , Sq = Gn("contracts", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().references( () => No.id),
    offerId: Ye("offer_id").notNull().references( () => _I.id),
    clientId: Ye("client_id").notNull().references( () => Rn.id),
    transporterId: Ye("transporter_id").notNull().references( () => Rn.id),
    referenceId: Ee("reference_id").notNull(),
    amount: eu("amount", {
        precision: 10,
        scale: 2
    }).notNull(),
    status: Ee("status").default("in_progress"),
    createdAt: tn("created_at").defaultNow()
})
  , Cq = Gn("reports", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().references( () => No.id),
    reporterId: Ye("reporter_id").notNull().references( () => Rn.id),
    reporterType: Ee("reporter_type").notNull(),
    reportedUserId: Ye("reported_user_id").notNull().references( () => Rn.id),
    reason: Ee("reason").notNull(),
    details: Ee("details"),
    status: Ee("status").default("pending"),
    adminNotes: Ee("admin_notes"),
    createdAt: tn("created_at").defaultNow()
})
  , kq = Gn("cities", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    name: Ee("name").notNull().unique(),
    isActive: br("is_active").default(!0),
    createdAt: tn("created_at").defaultNow()
})
  , Tq = Gn("sms_history", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    adminId: Ye("admin_id").notNull().references( () => Rn.id),
    targetAudience: Ee("target_audience").notNull(),
    message: Ee("message").notNull(),
    recipientCount: Si("recipient_count").notNull(),
    status: Ee("status").default("sent"),
    createdAt: tn("created_at").defaultNow()
})
  , Pq = Gn("client_transporter_contacts", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    requestId: Ye("request_id").notNull().references( () => No.id, {
        onDelete: "cascade"
    }),
    clientId: Ye("client_id").notNull().references( () => Rn.id, {
        onDelete: "cascade"
    }),
    transporterId: Ye("transporter_id").notNull().references( () => Rn.id, {
        onDelete: "cascade"
    }),
    contactType: Ee("contact_type").default("recommendation"),
    isRead: br("is_read").default(!1),
    createdAt: tn("created_at").defaultNow()
})
  , Eq = Gn("stories", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    role: Ee("role").notNull(),
    title: Ee("title").notNull(),
    content: Ee("content").notNull(),
    mediaUrl: Ee("media_url"),
    order: Si("order").default(0),
    isActive: br("is_active").default(!0),
    createdAt: tn("created_at").defaultNow()
})
  , _q = Gn("transporter_references", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    transporterId: Ye("transporter_id").notNull().unique().references( () => Rn.id, {
        onDelete: "cascade"
    }),
    referenceName: Ee("reference_name").notNull(),
    referencePhone: Ee("reference_phone").notNull(),
    referenceRelation: Ee("reference_relation").notNull(),
    status: Ee("status").default("pending"),
    validatedBy: Ye("validated_by").references( () => Rn.id),
    validatedAt: tn("validated_at"),
    rejectionReason: Ee("rejection_reason"),
    createdAt: tn("created_at").defaultNow()
});
Xn(Rn).omit({
    id: !0,
    createdAt: !0
});
Xn(vq).omit({
    id: !0,
    createdAt: !0,
    verified: !0
});
Xn(No).omit({
    id: !0,
    createdAt: !0,
    referenceId: !0,
    status: !0,
    acceptedOfferId: !0,
    paymentStatus: !0,
    paymentReceipt: !0,
    paymentDate: !0,
    viewCount: !0,
    declinedBy: !0
}).extend({
    dateTime: fe.coerce.date()
});
Xn(_I).omit({
    id: !0,
    createdAt: !0,
    status: !0,
    paymentProofUrl: !0,
    paymentValidated: !0
}).extend({
    pickupDate: fe.coerce.date(),
    loadType: fe.enum(["return", "shared"])
});
Xn(yq).omit({
    id: !0,
    createdAt: !0,
    filteredMessage: !0,
    isRead: !0
}).extend({
    messageType: fe.enum(["text", "voice", "photo", "video"]).default("text"),
    message: fe.string().optional(),
    fileUrl: fe.string().optional(),
    fileName: fe.string().optional(),
    fileSize: fe.number().optional()
}).refine(e => e.messageType === "text" ? !!e.message && e.message.trim().length > 0 : e.messageType === "voice" || e.messageType === "photo" || e.messageType === "video" ? !!e.fileUrl && e.fileUrl.trim().length > 0 : !1, {
    message: "Text messages require a message field, media messages require a fileUrl field"
});
Xn(jq).omit({
    id: !0,
    updatedAt: !0
});
Xn(wq).omit({
    id: !0,
    createdAt: !0,
    read: !0
});
Xn(Nq).omit({
    id: !0,
    createdAt: !0
});
Xn(bq).omit({
    id: !0,
    createdAt: !0,
    status: !0
}).extend({
    returnDate: fe.coerce.date()
});
Xn(Sq).omit({
    id: !0,
    createdAt: !0,
    status: !0
});
Xn(Cq).omit({
    id: !0,
    createdAt: !0,
    status: !0,
    adminNotes: !0
});
Xn(kq).omit({
    id: !0,
    createdAt: !0
});
Xn(Tq).omit({
    id: !0,
    createdAt: !0,
    status: !0
});
Xn(Pq).omit({
    id: !0,
    createdAt: !0,
    isRead: !0
});
Xn(Eq).omit({
    id: !0,
    createdAt: !0
}).extend({
    role: fe.enum(["client", "transporter", "all"])
});
Xn(_q).omit({
    id: !0,
    createdAt: !0,
    status: !0,
    validatedBy: !0,
    validatedAt: !0,
    rejectionReason: !0
}).extend({
    referenceRelation: fe.enum(["Client", "Transporteur", "Autre"])
});
const Aq = Gn("coordinator_logs", {
    id: Ye("id").primaryKey().default(fn`gen_random_uuid()`),
    coordinatorId: Ye("coordinator_id").notNull().references( () => Rn.id),
    action: Ee("action").notNull(),
    targetType: Ee("target_type"),
    targetId: Ye("target_id"),
    details: Ee("details"),
    createdAt: tn("created_at").defaultNow()
});
Xn(Aq).omit({
    id: !0,
    createdAt: !0
});
const Rq = fe.object({
    phoneNumber: fe.string().min(10, "Le numro de tlphone doit contenir au moins 10 caractres"),
    name: fe.string().min(2, "Le nom doit contenir au moins 2 caractres"),
    pin: fe.string().length(6, "Le PIN doit contenir exactement 6 chiffres").regex(/^\d{6}$/, "Le PIN doit contenir uniquement des chiffres")
})
  , Iq = fe.object({
    newPin: fe.string().length(6, "Le PIN doit contenir exactement 6 chiffres").regex(/^\d{6}$/, "Le PIN doit contenir uniquement des chiffres")
});
function Dq() {
    const [e,t] = m.useState(!1)
      , [n,s] = m.useState(null)
      , [a,i] = m.useState(null)
      , {toast: o} = Ht()
      , l = ts({
        resolver: ns(Rq),
        defaultValues: {
            phoneNumber: "",
            name: "",
            pin: ""
        }
    })
      , c = ts({
        resolver: ns(Iq),
        defaultValues: {
            newPin: ""
        }
    })
      , {data: d=[], isLoading: u} = Oe({
        queryKey: ["/api/admin/coordinators"]
    })
      , {data: f=[], isLoading: h} = Oe({
        queryKey: ["/api/admin/coordinator-activity"]
    })
      , x = Fe({
        mutationFn: async S => await Ae("/api/admin/coordinators", "POST", S),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/admin/coordinators"]
            }),
            o({
                title: "Coordinateur cr",
                description: "Le nouveau coordinateur a t cr avec succs."
            }),
            t(!1),
            l.reset()
        }
        ,
        onError: S => {
            o({
                variant: "destructive",
                title: "Erreur",
                description: S.message || "Impossible de crer le coordinateur"
            })
        }
    })
      , j = Fe({
        mutationFn: async S => await Ae(`/api/admin/coordinators/${S}/toggle-status`, "PATCH", {}),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/admin/coordinators"]
            }),
            o({
                title: "Statut modifi",
                description: "Le statut du coordinateur a t mis  jour."
            })
        }
    })
      , v = Fe({
        mutationFn: async S => await Ae(`/api/admin/coordinators/${S}`, "DELETE"),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/admin/coordinators"]
            }),
            o({
                title: "Coordinateur supprim",
                description: "Le coordinateur a t supprim avec succs."
            }),
            s(null)
        }
    })
      , w = Fe({
        mutationFn: async ({id: S, newPin: C}) => await Ae(`/api/admin/coordinators/${S}/reset-pin`, "PATCH", {
            newPin: C
        }),
        onSuccess: () => {
            o({
                title: "PIN rinitialis",
                description: "Le PIN du coordinateur a t rinitialis avec succs."
            }),
            i(null),
            c.reset()
        }
        ,
        onError: S => {
            o({
                variant: "destructive",
                title: "Erreur",
                description: S.message || "Impossible de rinitialiser le PIN"
            })
        }
    })
      , y = l.handleSubmit(S => {
        x.mutate(S)
    }
    )
      , p = c.handleSubmit(S => {
        a && w.mutate({
            id: a,
            newPin: S.newPin
        })
    }
    )
      , g = S => ({
        update_visibility: "Visibilit modifie",
        update_payment_status: "Paiement modifi",
        view_request: "Demande consulte",
        send_message: "Message envoy",
        view_chat: "Chat consult"
    })[S] || S
      , b = d.filter(S => S.accountStatus === "active").length
      , k = d.filter(S => S.accountStatus === "blocked").length;
    return u ? r.jsx("div", {
        className: "flex items-center justify-center h-64",
        "data-testid": "loading-coordinators",
        children: r.jsx(gn, {})
    }) : r.jsxs("div", {
        className: "space-y-6",
        "data-testid": "coordinator-management",
        children: [r.jsxs("div", {
            className: "grid gap-4 md:grid-cols-3",
            children: [r.jsxs(J, {
                "data-testid": "card-total-coordinators",
                children: [r.jsxs(ye, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [r.jsx(we, {
                        className: "text-sm font-medium",
                        children: "Total Coordinateurs"
                    }), r.jsx(qo, {
                        className: "h-4 w-4 text-[#5BC0EB]"
                    })]
                }), r.jsxs(te, {
                    children: [r.jsx("div", {
                        className: "text-2xl font-bold",
                        "data-testid": "text-total-count",
                        children: d.length
                    }), r.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: "Comptes coordinateurs crs"
                    })]
                })]
            }), r.jsxs(J, {
                "data-testid": "card-active-coordinators",
                children: [r.jsxs(ye, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [r.jsx(we, {
                        className: "text-sm font-medium",
                        children: "Actifs"
                    }), r.jsx(Dm, {
                        className: "h-4 w-4 text-green-600"
                    })]
                }), r.jsxs(te, {
                    children: [r.jsx("div", {
                        className: "text-2xl font-bold text-green-600",
                        "data-testid": "text-active-count",
                        children: b
                    }), r.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: "Coordinateurs oprationnels"
                    })]
                })]
            }), r.jsxs(J, {
                "data-testid": "card-blocked-coordinators",
                children: [r.jsxs(ye, {
                    className: "flex flex-row items-center justify-between space-y-0 pb-2",
                    children: [r.jsx(we, {
                        className: "text-sm font-medium",
                        children: "Bloqus"
                    }), r.jsx(lw, {
                        className: "h-4 w-4 text-red-600"
                    })]
                }), r.jsxs(te, {
                    children: [r.jsx("div", {
                        className: "text-2xl font-bold text-red-600",
                        "data-testid": "text-blocked-count",
                        children: k
                    }), r.jsx("p", {
                        className: "text-xs text-muted-foreground",
                        children: "Comptes dsactivs"
                    })]
                })]
            })]
        }), r.jsxs(Xl, {
            defaultValue: "list",
            className: "w-full",
            children: [r.jsxs(vi, {
                "data-testid": "tabs-coordinator",
                children: [r.jsxs(Pt, {
                    value: "list",
                    "data-testid": "tab-coordinator-list",
                    children: [r.jsx(wk, {
                        className: "mr-2 h-4 w-4"
                    }), "Liste des Coordinateurs"]
                }), r.jsxs(Pt, {
                    value: "activity",
                    "data-testid": "tab-coordinator-activity",
                    children: [r.jsx(Yh, {
                        className: "mr-2 h-4 w-4"
                    }), "Activit Rcente"]
                })]
            }), r.jsx(Et, {
                value: "list",
                "data-testid": "content-coordinator-list",
                children: r.jsxs(J, {
                    children: [r.jsx(ye, {
                        children: r.jsxs("div", {
                            className: "flex flex-col md:flex-row items-start md:items-center justify-between gap-4",
                            children: [r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(qo, {
                                    className: "h-5 w-5 text-[#5BC0EB]"
                                }), "Gestion des Coordinateurs"]
                            }), r.jsxs(E, {
                                onClick: () => t(!0),
                                className: "bg-[#5BC0EB] hover:bg-[#4AA8D8] text-white",
                                "data-testid": "button-create-coordinator",
                                children: [r.jsx(Wo, {
                                    className: "mr-2 h-4 w-4"
                                }), "Nouveau Coordinateur"]
                            })]
                        })
                    }), r.jsx(te, {
                        children: d.length === 0 ? r.jsxs("div", {
                            className: "text-center py-12 text-muted-foreground",
                            "data-testid": "text-no-coordinators",
                            children: [r.jsx(qo, {
                                className: "mx-auto h-12 w-12 mb-4 text-[#5BC0EB] opacity-50"
                            }), r.jsx("p", {
                                children: "Aucun coordinateur enregistr"
                            }), r.jsx("p", {
                                className: "text-sm",
                                children: "Crez votre premier coordinateur pour commencer"
                            })]
                        }) : r.jsxs(Vn, {
                            "data-testid": "table-coordinators",
                            children: [r.jsx(Bn, {
                                children: r.jsxs(kt, {
                                    children: [r.jsx(K, {
                                        children: "Nom"
                                    }), r.jsx(K, {
                                        children: "Tlphone"
                                    }), r.jsx(K, {
                                        children: "Statut"
                                    }), r.jsx(K, {
                                        children: "Date de cration"
                                    }), r.jsx(K, {
                                        className: "text-right",
                                        children: "Actions"
                                    })]
                                })
                            }), r.jsx(Un, {
                                children: d.map(S => r.jsxs(kt, {
                                    "data-testid": `row-coordinator-${S.id}`,
                                    children: [r.jsx(Q, {
                                        className: "font-medium",
                                        "data-testid": `text-name-${S.id}`,
                                        children: r.jsxs("div", {
                                            className: "flex items-center gap-2",
                                            children: [r.jsx(qo, {
                                                className: "h-4 w-4 text-[#5BC0EB]"
                                            }), S.name || "Sans nom"]
                                        })
                                    }), r.jsx(Q, {
                                        "data-testid": `text-phone-${S.id}`,
                                        children: S.phoneNumber
                                    }), r.jsx(Q, {
                                        "data-testid": `badge-status-${S.id}`,
                                        children: S.accountStatus === "active" ? r.jsx(de, {
                                            className: "bg-green-600",
                                            children: "Actif"
                                        }) : r.jsx(de, {
                                            variant: "destructive",
                                            children: "Bloqu"
                                        })
                                    }), r.jsx(Q, {
                                        "data-testid": `text-created-${S.id}`,
                                        children: Dt(new Date(S.createdAt), "dd MMM yyyy", {
                                            locale: Xt
                                        })
                                    }), r.jsx(Q, {
                                        className: "text-right",
                                        children: r.jsxs("div", {
                                            className: "flex items-center justify-end gap-2",
                                            children: [r.jsx(E, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => j.mutate(S.id),
                                                disabled: j.isPending,
                                                "data-testid": `button-toggle-status-${S.id}`,
                                                children: S.accountStatus === "active" ? r.jsxs(r.Fragment, {
                                                    children: [r.jsx(lw, {
                                                        className: "mr-1 h-3 w-3"
                                                    }), "Bloquer"]
                                                }) : r.jsxs(r.Fragment, {
                                                    children: [r.jsx(Dm, {
                                                        className: "mr-1 h-3 w-3"
                                                    }), "Activer"]
                                                })
                                            }), r.jsxs(E, {
                                                variant: "outline",
                                                size: "sm",
                                                onClick: () => {
                                                    i(S.id),
                                                    c.reset()
                                                }
                                                ,
                                                "data-testid": `button-reset-pin-${S.id}`,
                                                children: [r.jsx(Fc, {
                                                    className: "mr-1 h-3 w-3"
                                                }), "PIN"]
                                            }), r.jsx(E, {
                                                variant: "destructive",
                                                size: "sm",
                                                onClick: () => s(S.id),
                                                "data-testid": `button-delete-${S.id}`,
                                                children: r.jsx(Qr, {
                                                    className: "h-3 w-3"
                                                })
                                            })]
                                        })
                                    })]
                                }, S.id))
                            })]
                        })
                    })]
                })
            }), r.jsx(Et, {
                value: "activity",
                "data-testid": "content-coordinator-activity",
                children: r.jsxs(J, {
                    children: [r.jsx(ye, {
                        children: r.jsxs(we, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Yh, {
                                className: "h-5 w-5 text-[#5BC0EB]"
                            }), "Activit des Coordinateurs"]
                        })
                    }), r.jsx(te, {
                        children: h ? r.jsx("div", {
                            className: "flex items-center justify-center py-12",
                            "data-testid": "loading-activity",
                            children: r.jsx(gn, {})
                        }) : f.length === 0 ? r.jsxs("div", {
                            className: "text-center py-12 text-muted-foreground",
                            "data-testid": "text-no-activity",
                            children: [r.jsx(Yh, {
                                className: "mx-auto h-12 w-12 mb-4 text-[#5BC0EB] opacity-50"
                            }), r.jsx("p", {
                                children: "Aucune activit enregistre"
                            })]
                        }) : r.jsx("div", {
                            className: "space-y-4",
                            "data-testid": "list-activity-logs",
                            children: f.map(S => {
                                var C;
                                return r.jsxs("div", {
                                    className: "border-l-4 border-[#5BC0EB] pl-4 py-2",
                                    "data-testid": `log-${S.id}`,
                                    children: [r.jsxs("div", {
                                        className: "flex items-center justify-between mb-1",
                                        children: [r.jsx("span", {
                                            className: "font-medium text-sm",
                                            "data-testid": `text-log-coordinator-${S.id}`,
                                            children: S.coordinatorName || S.coordinatorPhone
                                        }), r.jsx("span", {
                                            className: "text-xs text-muted-foreground",
                                            "data-testid": `text-log-time-${S.id}`,
                                            children: Dt(new Date(S.createdAt), "dd MMM yyyy HH:mm", {
                                                locale: Xt
                                            })
                                        })]
                                    }), r.jsxs("div", {
                                        className: "flex items-center gap-2",
                                        children: [r.jsx(de, {
                                            variant: "outline",
                                            className: "text-[#5BC0EB] border-[#5BC0EB]",
                                            "data-testid": `badge-log-action-${S.id}`,
                                            children: g(S.action)
                                        }), S.targetType && r.jsxs("span", {
                                            className: "text-xs text-muted-foreground",
                                            "data-testid": `text-log-target-${S.id}`,
                                            children: [S.targetType, ": ", (C = S.targetId) == null ? void 0 : C.substring(0, 8), "..."]
                                        })]
                                    })]
                                }, S.id)
                            }
                            )
                        })
                    })]
                })
            })]
        }), r.jsx(mt, {
            open: e,
            onOpenChange: t,
            children: r.jsxs(dt, {
                "data-testid": "dialog-create-coordinator",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Nouveau Coordinateur"
                    }), r.jsx(_t, {
                        children: "Crez un nouveau compte coordinateur pour la gestion oprationnelle de la plateforme."
                    })]
                }), r.jsx(rs, {
                    ...l,
                    children: r.jsxs("form", {
                        onSubmit: y,
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: l.control,
                            name: "name",
                            render: ({field: S}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Nom complet"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        ...S,
                                        placeholder: "Ex: Ahmed Bennani",
                                        "data-testid": "input-coordinator-name"
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: l.control,
                            name: "phoneNumber",
                            render: ({field: S}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Numro de tlphone"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        ...S,
                                        placeholder: "+212XXXXXXXXX",
                                        "data-testid": "input-coordinator-phone"
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: l.control,
                            name: "pin",
                            render: ({field: S}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Code PIN (6 chiffres)"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        ...S,
                                        type: "password",
                                        placeholder: "******",
                                        maxLength: 6,
                                        "data-testid": "input-coordinator-pin"
                                    })
                                }), r.jsx(UE, {
                                    children: "Le coordinateur utilisera ce PIN pour se connecter"
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs(mr, {
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "outline",
                                onClick: () => t(!1),
                                "data-testid": "button-cancel-create",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: x.isPending,
                                className: "bg-[#5BC0EB] hover:bg-[#4AA8D8]",
                                "data-testid": "button-confirm-create",
                                children: x.isPending ? "Cration..." : "Crer"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(mt, {
            open: !!a,
            onOpenChange: S => !S && i(null),
            children: r.jsxs(dt, {
                "data-testid": "dialog-reset-pin",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Rinitialiser le PIN"
                    }), r.jsx(_t, {
                        children: "Entrez un nouveau code PIN  6 chiffres pour ce coordinateur."
                    })]
                }), r.jsx(rs, {
                    ...c,
                    children: r.jsxs("form", {
                        onSubmit: p,
                        className: "space-y-4",
                        children: [r.jsx(Xe, {
                            control: c.control,
                            name: "newPin",
                            render: ({field: S}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Nouveau PIN (6 chiffres)"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        ...S,
                                        type: "password",
                                        placeholder: "******",
                                        maxLength: 6,
                                        "data-testid": "input-reset-pin"
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs(mr, {
                            children: [r.jsx(E, {
                                type: "button",
                                variant: "outline",
                                onClick: () => i(null),
                                "data-testid": "button-cancel-reset",
                                children: "Annuler"
                            }), r.jsx(E, {
                                type: "submit",
                                disabled: w.isPending,
                                "data-testid": "button-confirm-reset-pin",
                                children: w.isPending ? "Rinitialisation..." : "Rinitialiser"
                            })]
                        })]
                    })
                })]
            })
        }), r.jsx(to, {
            open: !!n,
            onOpenChange: S => !S && s(null),
            children: r.jsxs(oi, {
                "data-testid": "dialog-delete-coordinator",
                children: [r.jsxs(li, {
                    children: [r.jsx(di, {
                        children: "Supprimer ce coordinateur ?"
                    }), r.jsx(ui, {
                        children: "Cette action est irrversible. Le compte coordinateur sera dfinitivement supprim."
                    })]
                }), r.jsxs(ci, {
                    children: [r.jsx(Ol, {
                        "data-testid": "button-cancel-delete",
                        children: "Annuler"
                    }), r.jsx(mi, {
                        onClick: () => n && v.mutate(n),
                        className: "bg-destructive hover:bg-destructive/90",
                        "data-testid": "button-confirm-delete",
                        children: "Supprimer"
                    })]
                })]
            })
        })]
    })
}
function AI() {
    var ky, Ty, Py;
    rr();
    const [e,t] = m.useState(!1)
      , [n,s] = m.useState(!1);
    m.useState("");
    const [a,i] = m.useState("10")
      , [o,l] = m.useState("")
      , [c,d] = m.useState(!1)
      , [u,f] = m.useState(!1)
      , [h,x] = m.useState(null)
      , [j,v] = m.useState(null)
      , [w,y] = m.useState(!1)
      , [p,g] = m.useState(null)
      , [b,k] = m.useState(!1)
      , [S,C] = m.useState(null)
      , [T,D] = m.useState("")
      , [L,G] = m.useState("")
      , [M,H] = m.useState("all")
      , [U,re] = m.useState("")
      , [ae,X] = m.useState("")
      , [I,V] = m.useState(null)
      , [oe,he] = m.useState(!1)
      , [ce,xt] = m.useState(null)
      , [gt,Nt] = m.useState(!1)
      , [ot,z] = m.useState("")
      , [W,ze] = m.useState(null)
      , [Ze,Je] = m.useState("")
      , [Ve,Ft] = m.useState("")
      , [F,nt] = m.useState("")
      , [et,bt] = m.useState("all")
      , [hn,jn] = m.useState(0)
      , [He,In] = m.useState(null)
      , [_,$] = m.useState(null)
      , [q,xe] = m.useState(null)
      , [me,ee] = m.useState(null)
      , [je,$e] = m.useState("")
      , [Rt,B] = m.useState("")
      , [Ke,Yt] = m.useState("")
      , [cn,gr] = m.useState("")
      , [wn,Tr] = m.useState(!1)
      , [Br,bo] = m.useState("")
      , [Ai,tu] = m.useState("all")
      , [na,Ri] = m.useState(null)
      , [ih,O] = m.useState(!1)
      , [Re,qt] = m.useState("")
      , [Pr,ka] = m.useState("")
      , [oh,nu] = m.useState("")
      , [lh,ru] = m.useState("")
      , [Jl,su] = m.useState(null)
      , [au,xy] = m.useState(null)
      , [gy,ch] = m.useState(!1)
      , [RI,iu] = m.useState(!1)
      , [vy,dh] = m.useState("")
      , [yy,II] = m.useState(null)
      , {toast: Me} = Ht()
      , [jt,DI] = m.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"))
      , {data: jy=[]} = Oe({
        queryKey: ["/api/chat/messages", p == null ? void 0 : p.requestId],
        queryFn: async () => p != null && p.requestId ? (await fetch(`/api/chat/messages?requestId=${p.requestId}`)).json() : [],
        enabled: b && !!(p != null && p.requestId)
    });
    m.useEffect( () => {
        const N = async () => {
            try {
                const P = await fetch(`/api/auth/me/${jt.id}`);
                if (P.ok) {
                    const {user: ne} = await P.json();
                    localStorage.setItem("camionback_user", JSON.stringify(ne)),
                    DI(ne)
                } else
                    P.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (P) {
                console.error("Failed to refresh user data:", P)
            }
        }
        ;
        jt.id && N()
    }
    , [jt.id]);
    const MI = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: ou=[], isLoading: OI} = Oe({
        queryKey: ["/api/admin/pending-drivers"],
        queryFn: async () => (await fetch("/api/admin/pending-drivers")).json(),
        refetchOnMount: "always",
        staleTime: 0
    })
      , {data: lu=[], isLoading: LI} = Oe({
        queryKey: ["/api/admin/transporter-references", jt == null ? void 0 : jt.id],
        queryFn: async () => {
            if (!(jt != null && jt.id))
                return [];
            const N = await fetch(`/api/admin/transporter-references?adminId=${jt.id}`);
            return N.ok ? N.json() : (console.error("Failed to fetch references:", await N.text()),
            [])
        }
        ,
        enabled: !!(jt != null && jt.id),
        refetchOnMount: "always",
        staleTime: 0
    })
      , {data: os=[]} = Oe({
        queryKey: ["/api/requests"],
        queryFn: async () => (await fetch("/api/requests")).json()
    })
      , {data: wy=[], isLoading: Ur} = Oe({
        queryKey: ["/api/users"],
        queryFn: async () => {
            const N = await fetch("/api/users");
            if (!N.ok)
                throw new Error(`HTTP error! status: ${N.status}`);
            return N.json()
        }
    })
      , {data: qr} = Oe({
        queryKey: ["/api/admin/settings"],
        queryFn: async () => (await fetch("/api/admin/settings")).json()
    })
      , {data: Is=[]} = Oe({
        queryKey: ["/api/offers/all"],
        queryFn: async () => (await fetch("/api/offers")).json()
    })
      , {data: cu=[], isLoading: FI} = Oe({
        queryKey: ["/api/empty-returns"],
        queryFn: async () => (await fetch("/api/empty-returns")).json()
    })
      , {data: Ii=[]} = Oe({
        queryKey: ["/api/contracts"],
        queryFn: async () => (await fetch("/api/contracts")).json()
    })
      , {data: ec=[]} = Oe({
        queryKey: ["/api/admin/conversations"],
        queryFn: async () => (await fetch("/api/admin/conversations")).json()
    })
      , {data: Ie} = Oe({
        queryKey: ["/api/admin/stats"],
        queryFn: async () => (await fetch("/api/admin/stats")).json()
    })
      , {data: Wr=[], isLoading: uh, error: So} = Oe({
        queryKey: ["/api/admin/transporters"],
        queryFn: async () => {
            console.log(" [ADMIN] Fetching transporters from /api/admin/transporters");
            const N = await fetch("/api/admin/transporters");
            if (console.log(" [ADMIN] Response status:", N.status, N.statusText),
            !N.ok) {
                const ne = await N.text();
                throw console.error(" [ADMIN] API Error:", ne),
                new Error(`Failed to fetch transporters: ${N.status} - ${ne}`)
            }
            const P = await N.json();
            return console.log(" [ADMIN] Transporters data received:", {
                count: P.length,
                firstItem: P[0],
                allItems: P
            }),
            P
        }
    });
    m.useEffect( () => {
        console.log(" [ADMIN] Transporters state update:", {
            loading: uh,
            error: So == null ? void 0 : So.message,
            count: Wr == null ? void 0 : Wr.length,
            hasData: Array.isArray(Wr),
            data: Wr
        })
    }
    , [Wr, uh, So]);
    const {data: ls, isLoading: $I} = Oe({
        queryKey: ["/api/admin/transporters", au, "photo"],
        queryFn: async () => {
            if (!au)
                return null;
            const N = await fetch(`/api/admin/transporters/${au}/photo`);
            return N.ok ? N.json() : null
        }
        ,
        enabled: gy && !!au
    })
      , {data: tc=[]} = Oe({
        queryKey: ["/api/admin/clients"],
        queryFn: async () => (await fetch("/api/admin/clients")).json()
    })
      , Nn = m.useMemo( () => [...tc, ...Wr, ...wy], [tc, Wr, wy])
      , {data: nc=[], isLoading: zI} = Oe({
        queryKey: ["/api/reports"],
        queryFn: async () => (await fetch("/api/reports")).json()
    })
      , {data: mh=[], isLoading: VI} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , {data: fh=[], isLoading: BI} = Oe({
        queryKey: ["/api/stories"],
        queryFn: async () => (await fetch(`/api/stories?adminId=${jt.id}`)).json()
    });
    Ii.filter(N => N.status === "in_progress" || N.status === "marked_paid_transporter" || N.status === "marked_paid_client").length,
    Ii.filter(N => N.status === "completed").length;
    const du = os.filter(N => N.paymentStatus === "pending_admin_validation")
      , rc = [...os].filter(N => {
        var P, ne, Ne, Y;
        if (Ai !== "all" && Ai !== N.status)
            return !1;
        if (Br.trim() !== "") {
            const Te = Br.toLowerCase().trim()
              , yt = Nn.find(lt => lt.id === N.clientId);
            return !!((P = N.referenceId) != null && P.toString().toLowerCase().includes(Te) || (ne = yt == null ? void 0 : yt.phoneNumber) != null && ne.toString().toLowerCase().includes(Te) || (Ne = N.fromCity) != null && Ne.toString().toLowerCase().includes(Te) || (Y = N.toCity) != null && Y.toString().toLowerCase().includes(Te))
        }
        return !0
    }
    ).sort( (N, P) => {
        const ne = N.createdAt ? new Date(N.createdAt).getTime() : 0;
        return (P.createdAt ? new Date(P.createdAt).getTime() : 0) - ne
    }
    )
      , Ny = async (N, P) => {
        try {
            if (!(await fetch(`/api/admin/validate-driver/${N}`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    validated: P
                })
            })).ok)
                throw new Error;
            Me({
                title: P ? "Transporteur valid" : "Transporteur refus",
                description: P ? "Le transporteur a t valid avec succs" : "Le transporteur a t refus"
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            })
        } catch {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la validation"
            })
        }
    }
      , UI = async N => {
        try {
            if (!(await fetch(`/api/requests/${N}/admin-validate-payment`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                }
            })).ok)
                throw new Error;
            Me({
                title: "Paiement valid",
                description: "Le paiement a t valid avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la validation du paiement"
            })
        }
    }
      , qI = async N => {
        try {
            if (!(await fetch(`/api/requests/${N}/admin-reject-receipt`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                }
            })).ok)
                throw new Error;
            Me({
                title: "Reu refus",
                description: "Le reu a t refus. Le client pourra tlverser un nouveau reu."
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec du refus du reu"
            })
        }
    }
      , by = async (N, P) => {
        try {
            await Ae("POST", `/api/offers/${N}/accept`, {
                adminAccept: !0
            }),
            Me({
                title: "Offre accepte",
                description: "L'offre a t accepte avec succs. Le transporteur et le client ont t notifis."
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers/all"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        } catch {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'acceptation de l'offre"
            })
        }
    }
      , hh = async (N, P) => {
        if (confirm(`Voulez-vous bloquer ce ${P === "client" ? "client" : "transporteur"} ? Il ne pourra plus se connecter ni utiliser la plateforme.`))
            try {
                await Ae("POST", `/api/admin/block-user/${N}`, {}),
                Me({
                    title: "Utilisateur bloqu",
                    description: "L'utilisateur a t bloqu avec succs et a reu une notification."
                }),
                le.invalidateQueries({
                    queryKey: ["/api/admin/transporters"]
                }),
                le.invalidateQueries({
                    queryKey: ["/api/admin/clients"]
                })
            } catch {
                Me({
                    variant: "destructive",
                    title: "Erreur",
                    description: "chec du blocage de l'utilisateur"
                })
            }
    }
      , Sy = async (N, P) => {
        try {
            await Ae("POST", `/api/admin/unblock-user/${N}`, {}),
            Me({
                title: "Utilisateur dbloqu",
                description: "L'utilisateur a t dbloqu avec succs et peut  nouveau utiliser la plateforme."
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/clients"]
            })
        } catch {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec du dblocage de l'utilisateur"
            })
        }
    }
      , ph = Fe({
        mutationFn: async ({emptyReturnId: N, requestId: P}) => await Ae("POST", `/api/empty-returns/${N}/assign`, {
            requestId: P
        }),
        onSuccess: () => {
            Me({
                title: "Commande affecte",
                description: "La commande a t affecte au transporteur avec succs"
            }),
            f(!1),
            x(null),
            le.invalidateQueries({
                queryKey: ["/api/empty-returns"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'affectation de la commande"
            })
        }
    })
      , uu = Fe({
        mutationFn: async ({reportId: N, status: P, resolution: ne}) => await Ae("PATCH", `/api/reports/${N}`, {
            status: P,
            resolution: ne
        }),
        onSuccess: () => {
            Me({
                title: "Signalement mis  jour",
                description: "Le statut du signalement a t modifi avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/reports"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la mise  jour du signalement"
            })
        }
    })
      , WI = Fe({
        mutationFn: async ({requestId: N, isHidden: P}) => await Ae("PATCH", `/api/requests/${N}/toggle-hide`, {
            isHidden: P
        }),
        onSuccess: (N, P) => {
            Me({
                title: P.isHidden ? "Demande masque" : "Demande raffiche",
                description: P.isHidden ? "La demande a t masque aux transporteurs" : "La demande est  nouveau visible pour les transporteurs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier la visibilit de la demande"
            })
        }
    })
      , HI = Fe({
        mutationFn: async N => await Ae("DELETE", `/api/requests/${N}`),
        onSuccess: () => {
            Me({
                title: "Demande supprime",
                description: "La demande a t supprime dfinitivement"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer la demande"
            })
        }
    })
      , KI = Fe({
        mutationFn: async ({requestId: N, updates: P}) => await Ae("PATCH", `/api/requests/${N}`, P),
        onSuccess: () => {
            Me({
                title: "Statut modifi",
                description: "Le statut de la demande a t mis  jour"
            }),
            le.invalidateQueries({
                queryKey: ["/api/requests"]
            }),
            Nt(!1)
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier le statut"
            })
        }
    })
      , QI = Fe({
        mutationFn: async N => await Ae("DELETE", `/api/admin/offers/${N}`),
        onSuccess: () => {
            Me({
                title: "Offre supprime",
                description: "L'offre a t supprime avec succs"
            }),
            xe(null),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer l'offre"
            })
        }
    })
      , GI = Fe({
        mutationFn: async ({offerId: N, updates: P}) => await Ae("PATCH", `/api/admin/offers/${N}`, P),
        onSuccess: () => {
            Me({
                title: "Offre modifie",
                description: "L'offre a t modifie avec succs"
            }),
            ee(null),
            $e(""),
            B(""),
            Yt(""),
            le.invalidateQueries({
                queryKey: ["/api/offers"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de modifier l'offre"
            })
        }
    })
      , Cy = Fe({
        mutationFn: async N => {
            if (!(jt != null && jt.id))
                throw new Error("Non authentifi");
            return await Ae("PATCH", `/api/admin/transporter-references/${N}`, {
                status: "validated",
                adminId: jt.id
            })
        }
        ,
        onSuccess: () => {
            Me({
                title: "Rfrence valide",
                description: "La rfrence a t valide avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporter-references", jt == null ? void 0 : jt.id]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de valider la rfrence"
            })
        }
    })
      , xh = Fe({
        mutationFn: async ({referenceId: N, reason: P}) => {
            if (!(jt != null && jt.id))
                throw new Error("Non authentifi");
            return await Ae("PATCH", `/api/admin/transporter-references/${N}`, {
                status: "rejected",
                rejectionReason: P,
                adminId: jt.id
            })
        }
        ,
        onSuccess: () => {
            Me({
                title: "Rfrence rejete",
                description: "La rfrence a t rejete"
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporter-references", jt == null ? void 0 : jt.id]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            iu(!1),
            dh("")
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de rejeter la rfrence"
            })
        }
    })
      , gh = Fe({
        mutationFn: async N => await Ae("DELETE", `/api/admin/users/${N}`),
        onSuccess: () => {
            Me({
                title: "Compte supprim",
                description: " Compte supprim avec succs. L'utilisateur peut dsormais se rinscrire librement."
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/pending-drivers"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/users"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/client-statistics"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de supprimer le compte"
            })
        }
    })
      , XI = Fe({
        mutationFn: async ({transporterId: N, formData: P}) => {
            const ne = await fetch(`/api/admin/transporters/${N}`, {
                method: "PATCH",
                body: P
            });
            if (!ne.ok)
                throw new Error("chec de la mise  jour");
            return ne.json()
        }
        ,
        onSuccess: () => {
            Me({
                title: "Succs",
                description: " Les informations du transporteur ont t mises  jour avec succs."
            }),
            O(!1),
            Ri(null),
            qt(""),
            ka(""),
            nu(""),
            ru(""),
            su(null),
            le.invalidateQueries({
                queryKey: ["/api/users"]
            })
        }
        ,
        onError: () => {
            Me({
                variant: "destructive",
                title: "Erreur",
                description: "Impossible de mettre  jour le transporteur"
            })
        }
    })
      , YI = () => {
        if (!na)
            return;
        const N = new FormData;
        Re.trim() && N.append("name", Re.trim()),
        Pr.trim() && N.append("city", Pr.trim()),
        oh.trim() && N.append("phoneNumber", oh.trim()),
        lh.trim() && N.append("newPassword", lh.trim()),
        Jl && N.append("truckPhoto", Jl),
        XI.mutate({
            transporterId: na.id,
            formData: N
        })
    }
      , vh = N => N === 0 ? "Aucun changement" : `${N > 0 ? "+" : ""}${N}% ce mois`;
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: jt,
            onLogout: MI
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                className: "flex items-center justify-between",
                children: [r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-3xl font-bold",
                        children: "Administration"
                    }), r.jsx("p", {
                        className: "text-muted-foreground mt-1",
                        children: "Grez la plateforme CamionBack"
                    })]
                }), r.jsxs("div", {
                    className: "flex gap-2",
                    children: [r.jsxs(E, {
                        variant: "outline",
                        onClick: () => {
                            le.invalidateQueries(),
                            Me({
                                title: " Donnes actualises",
                                description: "Toutes les donnes ont t rafrachies avec succs"
                            })
                        }
                        ,
                        "data-testid": "button-refresh-dashboard",
                        className: "hover:text-[#17cfcf] hover:border-[#17cfcf]",
                        children: [r.jsx(Fc, {
                            className: "mr-2 h-4 w-4"
                        }), "Actualiser"]
                    }), r.jsxs(E, {
                        onClick: () => s(!0),
                        variant: "secondary",
                        "data-testid": "button-add-client",
                        children: [r.jsx(Wo, {
                            className: "mr-2 h-5 w-5"
                        }), "Ajouter client"]
                    }), r.jsxs(E, {
                        onClick: () => t(!0),
                        "data-testid": "button-add-transporter",
                        children: [r.jsx(Wo, {
                            className: "mr-2 h-5 w-5"
                        }), "Ajouter transporteur"]
                    })]
                })]
            }), r.jsxs("div", {
                className: "grid gap-4 md:grid-cols-2 lg:grid-cols-4",
                children: [r.jsx($u, {
                    title: "Clients actifs",
                    value: (Ie == null ? void 0 : Ie.activeClients) || 0,
                    icon: fs,
                    trend: (Ie == null ? void 0 : Ie.activeClientsTrend) !== void 0 ? vh(Ie.activeClientsTrend) : "...",
                    trendUp: Ie != null && Ie.activeClientsTrend ? Ie.activeClientsTrend > 0 : void 0
                }), r.jsx($u, {
                    title: "Transporteurs actifs",
                    value: (Ie == null ? void 0 : Ie.activeDrivers) || 0,
                    icon: fs,
                    trend: (Ie == null ? void 0 : Ie.activeDriversTrend) !== void 0 ? vh(Ie.activeDriversTrend) : "...",
                    trendUp: Ie != null && Ie.activeDriversTrend ? Ie.activeDriversTrend > 0 : void 0
                }), r.jsx($u, {
                    title: "Demandes totales",
                    value: (Ie == null ? void 0 : Ie.totalRequests) || 0,
                    icon: zt,
                    trend: "",
                    trendUp: void 0
                }), r.jsx($u, {
                    title: "Commissions totales",
                    value: `${((ky = Ie == null ? void 0 : Ie.totalCommissions) == null ? void 0 : ky.toLocaleString("fr-MA")) || 0} MAD`,
                    icon: si,
                    trend: (Ie == null ? void 0 : Ie.commissionsTrend) !== void 0 ? vh(Ie.commissionsTrend) : "...",
                    trendUp: Ie != null && Ie.commissionsTrend ? Ie.commissionsTrend > 0 : void 0
                })]
            }), r.jsxs(Xl, {
                defaultValue: "requests",
                className: "w-full",
                children: [r.jsxs("div", {
                    className: "space-y-2",
                    children: [r.jsxs("div", {
                        className: "bg-muted/30 p-2 rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-xs text-muted-foreground mb-2 px-2 font-medium",
                            children: "Oprations"
                        }), r.jsxs(vi, {
                            className: "flex lg:grid w-full lg:grid-cols-7 overflow-x-auto text-xs sm:text-sm",
                            children: [r.jsx(Pt, {
                                value: "requests",
                                "data-testid": "tab-requests",
                                className: "flex-shrink-0",
                                children: "Demandes"
                            }), r.jsxs(Pt, {
                                value: "offers",
                                "data-testid": "tab-offers",
                                className: "flex-shrink-0",
                                children: ["Offres", Is.length > 0 && r.jsx(de, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: Is.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "contracts",
                                "data-testid": "tab-contracts",
                                className: "flex-shrink-0",
                                children: ["Contrats", Ii.length > 0 && r.jsx(de, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: Ii.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "messages",
                                "data-testid": "tab-messages",
                                className: "flex-shrink-0",
                                children: [r.jsx(Ln, {
                                    className: "w-4 h-4 mr-1"
                                }), "Messages", ec.length > 0 && r.jsx(de, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    "data-testid": "badge-messages-count",
                                    children: ec.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "to-pay",
                                "data-testid": "tab-to-pay",
                                className: "flex-shrink-0",
                                children: [" payer", du.length > 0 && r.jsx(de, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: du.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "validation",
                                "data-testid": "tab-validation",
                                className: "flex-shrink-0",
                                children: ["Validation", ou.length > 0 && r.jsx(de, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: ou.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "references",
                                "data-testid": "tab-references",
                                className: "flex-shrink-0",
                                children: ["Rfrences", lu.length > 0 && r.jsx(de, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: lu.length
                                })]
                            }), r.jsxs(Pt, {
                                value: "empty-returns",
                                "data-testid": "tab-empty-returns",
                                className: "flex-shrink-0",
                                children: [r.jsx(At, {
                                    className: "w-4 h-4 mr-1"
                                }), "Retours", cu.length > 0 && r.jsx(de, {
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs bg-[#00d4b2]",
                                    children: cu.length
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "bg-muted/30 p-2 rounded-lg",
                        children: [r.jsx("p", {
                            className: "text-xs text-muted-foreground mb-2 px-2 font-medium",
                            children: "Gestion & Configuration"
                        }), r.jsxs(vi, {
                            className: "flex lg:grid w-full lg:grid-cols-10 overflow-x-auto text-xs sm:text-sm",
                            children: [r.jsx(Pt, {
                                value: "drivers",
                                "data-testid": "tab-drivers",
                                className: "flex-shrink-0",
                                children: "Transporteurs"
                            }), r.jsx(Pt, {
                                value: "clients",
                                "data-testid": "tab-clients",
                                className: "flex-shrink-0",
                                children: "Clients"
                            }), r.jsxs(Pt, {
                                value: "coordinators",
                                "data-testid": "tab-coordinators",
                                className: "flex-shrink-0",
                                children: [r.jsx(qo, {
                                    className: "w-4 h-4 mr-1"
                                }), "Coordinateurs"]
                            }), r.jsxs(Pt, {
                                value: "reports",
                                "data-testid": "tab-reports",
                                className: "flex-shrink-0",
                                children: [r.jsx(ai, {
                                    className: "w-4 h-4 mr-1"
                                }), "Signalements", nc.filter(N => N.status === "pending").length > 0 && r.jsx(de, {
                                    variant: "destructive",
                                    className: "ml-2 px-1.5 py-0 h-5 min-w-5 text-xs",
                                    children: nc.filter(N => N.status === "pending").length
                                })]
                            }), r.jsxs(Pt, {
                                value: "communications",
                                "data-testid": "tab-communications",
                                className: "flex-shrink-0",
                                children: [r.jsx(Bi, {
                                    className: "w-4 h-4 mr-1"
                                }), "Communications"]
                            }), r.jsx(Pt, {
                                value: "facturation",
                                "data-testid": "tab-facturation",
                                className: "flex-shrink-0",
                                children: "Facturation"
                            }), r.jsx(Pt, {
                                value: "cities",
                                "data-testid": "tab-cities",
                                className: "flex-shrink-0",
                                children: "Villes"
                            }), r.jsx(Pt, {
                                value: "stories",
                                "data-testid": "tab-stories",
                                className: "flex-shrink-0",
                                children: "Stories"
                            }), r.jsx(Pt, {
                                value: "stats",
                                "data-testid": "tab-stats",
                                className: "flex-shrink-0",
                                children: "Statistiques"
                            }), r.jsx(Pt, {
                                value: "settings",
                                "data-testid": "tab-settings",
                                className: "flex-shrink-0",
                                children: "Paramtres"
                            })]
                        })]
                    })]
                }), r.jsx(Et, {
                    value: "requests",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ma, {
                                    className: "w-5 h-5"
                                }), "Toutes les demandes", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-requests",
                                    children: ["Total: ", os.length]
                                })]
                            })
                        }), r.jsxs(te, {
                            children: [r.jsxs("div", {
                                className: "mb-6 space-y-4",
                                children: [r.jsxs("div", {
                                    className: "flex flex-col sm:flex-row gap-4",
                                    children: [r.jsx("div", {
                                        className: "flex-1",
                                        children: r.jsxs("div", {
                                            className: "relative",
                                            children: [r.jsx(jr, {
                                                className: "absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"
                                            }), r.jsx(_e, {
                                                type: "text",
                                                placeholder: "Rechercher par n commande, tlphone, ville dpart ou arrive...",
                                                value: Br,
                                                onChange: N => bo(N.target.value),
                                                className: "pl-10",
                                                "data-testid": "input-search-requests"
                                            })]
                                        })
                                    }), r.jsx("div", {
                                        className: "w-full sm:w-64",
                                        children: r.jsxs(Vt, {
                                            value: Ai,
                                            onValueChange: tu,
                                            children: [r.jsx(Mt, {
                                                "data-testid": "select-filter-status",
                                                children: r.jsx(Bt, {
                                                    placeholder: "Filtrer par statut"
                                                })
                                            }), r.jsxs(Ot, {
                                                children: [r.jsx(Se, {
                                                    value: "all",
                                                    children: "Tous les statuts"
                                                }), r.jsx(Se, {
                                                    value: "open",
                                                    children: " En attente d'offre"
                                                }), r.jsx(Se, {
                                                    value: "accepted",
                                                    children: " Accepte"
                                                }), r.jsx(Se, {
                                                    value: "completed",
                                                    children: " Termine"
                                                }), r.jsx(Se, {
                                                    value: "cancelled",
                                                    children: " Annule"
                                                })]
                                            })]
                                        })
                                    })]
                                }), (Br || Ai !== "all") && r.jsxs("div", {
                                    className: "flex items-center gap-2 text-sm text-muted-foreground",
                                    children: [r.jsxs("span", {
                                        children: [rc.length, " rsultat", rc.length > 1 ? "s" : "", " trouv", rc.length > 1 ? "s" : ""]
                                    }), (Br || Ai !== "all") && r.jsx(E, {
                                        variant: "ghost",
                                        size: "sm",
                                        onClick: () => {
                                            bo(""),
                                            tu("all")
                                        }
                                        ,
                                        className: "h-6 px-2",
                                        "data-testid": "button-clear-filters",
                                        children: "Rinitialiser les filtres"
                                    })]
                                })]
                            }), os.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ma, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune demande pour le moment"
                                })]
                            }) : rc.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(jr, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune demande ne correspond  vos critres de recherche"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs(Vn, {
                                    children: [r.jsx(Bn, {
                                        children: r.jsxs(kt, {
                                            children: [r.jsx(K, {
                                                children: "Rfrence"
                                            }), r.jsx(K, {
                                                children: "Date de publication"
                                            }), r.jsx(K, {
                                                children: "Tlphone Client"
                                            }), r.jsx(K, {
                                                children: "De  Vers"
                                            }), r.jsx(K, {
                                                children: "Date souhaite"
                                            }), r.jsx(K, {
                                                children: "Prix estim"
                                            }), r.jsx(K, {
                                                children: "Offres"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Un, {
                                        children: rc.map(N => {
                                            var Te;
                                            const P = Nn.find(yt => yt.id === N.clientId)
                                              , ne = yt => {
                                                if (!yt)
                                                    return "N/A";
                                                try {
                                                    const lt = new Date(yt)
                                                      , $n = String(lt.getDate()).padStart(2, "0")
                                                      , cs = String(lt.getMonth() + 1).padStart(2, "0")
                                                      , ZI = lt.getFullYear()
                                                      , JI = String(lt.getHours()).padStart(2, "0")
                                                      , eD = String(lt.getMinutes()).padStart(2, "0");
                                                    return `${$n}/${cs}/${ZI} - ${JI}:${eD}`
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , Ne = yt => {
                                                if (!yt)
                                                    return "N/A";
                                                try {
                                                    return new Date(yt).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , Y = yt => yt === "open" ? r.jsx(de, {
                                                variant: "default",
                                                children: "Ouverte"
                                            }) : yt === "accepted" ? r.jsx(de, {
                                                className: "bg-blue-600",
                                                children: "Accepte"
                                            }) : yt === "completed" ? r.jsx(de, {
                                                className: "bg-green-600",
                                                children: "Complte"
                                            }) : r.jsx(de, {
                                                variant: "secondary",
                                                children: yt
                                            });
                                            return r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: N.referenceId
                                                }), r.jsx(Q, {
                                                    className: "text-sm",
                                                    children: ne(N.createdAt)
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [r.jsx("span", {
                                                            className: "font-medium",
                                                            children: Ur ? "Chargement..." : (P == null ? void 0 : P.phoneNumber) || "Non dfini"
                                                        }), r.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: Ur ? "..." : (P == null ? void 0 : P.clientId) || "N/A"
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "text-sm",
                                                        children: [N.fromCity, "  ", N.toCity]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: Ne(N.dateTime)
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold text-primary",
                                                    children: [(Te = N.estimatedPrice) == null ? void 0 : Te.toLocaleString("fr-MA"), " MAD"]
                                                }), r.jsx(Q, {
                                                    children: r.jsxs(de, {
                                                        variant: "secondary",
                                                        "data-testid": `badge-offers-count-${N.id}`,
                                                        children: [N.offersCount || 0, " ", N.offersCount === 1 ? "offre" : "offres"]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: Y(N.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex justify-end gap-2",
                                                        children: [r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                xt(N),
                                                                Nt(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-request-${N.id}`,
                                                            children: r.jsx(vs, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                WI.mutate({
                                                                    requestId: N.id,
                                                                    isHidden: !N.isHidden
                                                                })
                                                            }
                                                            ,
                                                            "data-testid": `button-toggle-hide-${N.id}`,
                                                            className: N.isHidden ? "text-yellow-600 hover:text-yellow-700" : "",
                                                            children: N.isHidden ? r.jsx(vs, {
                                                                className: "h-4 w-4"
                                                            }) : r.jsx(lv, {
                                                                className: "h-4 w-4"
                                                            })
                                                        }), r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(`Voulez-vous vraiment supprimer dfinitivement la demande ${N.referenceId} ?`) && HI.mutate(N.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-request-${N.id}`,
                                                            children: r.jsx(Qr, {
                                                                className: "h-4 w-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, N.id)
                                        }
                                        )
                                    })]
                                })
                            })]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "offers",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(zt, {
                                    className: "w-5 h-5"
                                }), "Offres transporteurs", r.jsxs(de, {
                                    className: "ml-2",
                                    children: ["Total: ", Is.length]
                                })]
                            })
                        }), r.jsx(te, {
                            children: Is.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(zt, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune offre pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs(Vn, {
                                    children: [r.jsx(Bn, {
                                        children: r.jsxs(kt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Date client"
                                            }), r.jsx(K, {
                                                children: "Date transporteur"
                                            }), r.jsx(K, {
                                                children: "Prix initial"
                                            }), r.jsx(K, {
                                                children: "Prix propos"
                                            }), r.jsx(K, {
                                                children: "Type chargement"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Action"
                                            })]
                                        })
                                    }), r.jsx(Un, {
                                        children: Is.map(N => {
                                            const P = os.find(lt => lt.id === N.requestId)
                                              , ne = Nn.find(lt => lt.id === (P == null ? void 0 : P.clientId))
                                              , Ne = Nn.find(lt => lt.id === N.transporterId)
                                              , Y = lt => {
                                                if (!lt)
                                                    return "N/A";
                                                try {
                                                    return new Date(lt).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , Te = lt => lt === "return" ? "Retour" : lt === "shared" ? "Groupage" : "N/A"
                                              , yt = lt => lt === "accepted" ? r.jsx(de, {
                                                className: "bg-green-600",
                                                children: "Accepte"
                                            }) : lt === "rejected" ? r.jsx(de, {
                                                variant: "destructive",
                                                children: "Refuse"
                                            }) : lt === "completed" ? r.jsx(de, {
                                                className: "bg-blue-600",
                                                children: "Complte"
                                            }) : r.jsx(de, {
                                                variant: "secondary",
                                                children: "En attente"
                                            });
                                            return r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-ref-${N.id}`,
                                                    children: (P == null ? void 0 : P.referenceId) || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-${N.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [r.jsx("span", {
                                                            className: "font-medium",
                                                            children: Ur ? "Chargement..." : (ne == null ? void 0 : ne.clientId) || "Non dfini"
                                                        }), r.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: Ur ? "..." : (ne == null ? void 0 : ne.phoneNumber) || ""
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-transporter-${N.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [r.jsx("span", {
                                                            className: "font-medium",
                                                            children: Ur ? "Chargement..." : (Ne == null ? void 0 : Ne.name) || "N/A"
                                                        }), r.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: Ur ? "..." : (Ne == null ? void 0 : Ne.phoneNumber) || ""
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-date-${N.id}`,
                                                    children: Y(P == null ? void 0 : P.dateTime)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-transporter-date-${N.id}`,
                                                    children: Y(N.pickupDate)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-budget-${N.id}`,
                                                    children: P != null && P.budget ? `${P.budget} MAD` : "N/A"
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold",
                                                    "data-testid": `text-amount-${N.id}`,
                                                    children: [N.amount, " MAD"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-load-type-${N.id}`,
                                                    children: Te(N.loadType)
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-status-${N.id}`,
                                                    children: yt(N.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex items-center justify-end gap-2",
                                                        children: [N.status === "pending" && r.jsxs(r.Fragment, {
                                                            children: [r.jsx(E, {
                                                                size: "sm",
                                                                variant: "ghost",
                                                                onClick: () => {
                                                                    ee(N),
                                                                    $e(N.amount),
                                                                    B(N.pickupDate ? new Date(N.pickupDate).toISOString().split("T")[0] : ""),
                                                                    Yt(N.loadType || "")
                                                                }
                                                                ,
                                                                "data-testid": `button-edit-offer-${N.id}`,
                                                                title: "Modifier l'offre",
                                                                children: r.jsx(Zh, {
                                                                    className: "h-4 w-4"
                                                                })
                                                            }), r.jsx(E, {
                                                                size: "sm",
                                                                className: "bg-[#00cc88] hover:bg-[#00b377]",
                                                                onClick: () => by(N.id, P == null ? void 0 : P.id),
                                                                "data-testid": `button-accept-offer-${N.id}`,
                                                                children: "Accepter"
                                                            })]
                                                        }), r.jsx(E, {
                                                            size: "sm",
                                                            variant: "ghost",
                                                            onClick: () => xe(N.id),
                                                            "data-testid": `button-delete-offer-${N.id}`,
                                                            title: "Supprimer l'offre",
                                                            children: r.jsx(Qr, {
                                                                className: "h-4 w-4 text-destructive"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, N.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "contracts",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(zt, {
                                    className: "w-5 h-5"
                                }), "Contrats", r.jsxs(de, {
                                    className: "ml-2",
                                    children: ["Total: ", Ii.length]
                                })]
                            })
                        }), r.jsx(te, {
                            children: Ii.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(zt, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun contrat pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs(Vn, {
                                    children: [r.jsx(Bn, {
                                        children: r.jsxs(kt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Montant"
                                            }), r.jsx(K, {
                                                children: "Date cration"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Action"
                                            })]
                                        })
                                    }), r.jsx(Un, {
                                        children: Ii.map(N => {
                                            const P = Nn.find(Te => Te.id === N.clientId)
                                              , ne = Nn.find(Te => Te.id === N.transporterId)
                                              , Ne = Te => {
                                                if (!Te)
                                                    return "N/A";
                                                try {
                                                    return new Date(Te).toLocaleDateString("fr-FR")
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , Y = Te => Te === "in_progress" ? r.jsx(de, {
                                                className: "bg-blue-600",
                                                children: "En cours d'excution"
                                            }) : Te === "marked_paid_transporter" ? r.jsx(de, {
                                                className: "bg-yellow-600",
                                                children: "Pay ct transporteur"
                                            }) : Te === "marked_paid_client" ? r.jsx(de, {
                                                className: "bg-orange-600",
                                                children: "Pay ct client"
                                            }) : Te === "completed" ? r.jsx(de, {
                                                className: "bg-green-600",
                                                children: "Termin"
                                            }) : r.jsx(de, {
                                                variant: "secondary",
                                                children: "Inconnu"
                                            });
                                            return r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-contract-ref-${N.id}`,
                                                    children: N.referenceId || "N/A"
                                                }), r.jsxs(Q, {
                                                    "data-testid": `text-contract-client-${N.id}`,
                                                    children: ["Client ", Ur ? "Chargement..." : (P == null ? void 0 : P.clientId) || "Non dfini"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-contract-transporter-${N.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "flex flex-col",
                                                        children: [r.jsx("span", {
                                                            children: Ur ? "Chargement..." : (ne == null ? void 0 : ne.name) || "N/A"
                                                        }), r.jsx("span", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: Ur ? "..." : (ne == null ? void 0 : ne.phoneNumber) || ""
                                                        })]
                                                    })
                                                }), r.jsxs(Q, {
                                                    className: "font-semibold",
                                                    "data-testid": `text-contract-amount-${N.id}`,
                                                    children: [N.amount, " MAD"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-contract-date-${N.id}`,
                                                    children: Ne(N.createdAt)
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-contract-status-${N.id}`,
                                                    children: Y(N.status)
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsx(E, {
                                                        size: "icon",
                                                        variant: "ghost",
                                                        className: "hover:bg-[#3498db]/10",
                                                        onClick: () => {
                                                            v(N),
                                                            y(!0)
                                                        }
                                                        ,
                                                        "data-testid": `button-view-contract-${N.id}`,
                                                        children: r.jsx(vs, {
                                                            className: "w-5 h-5 text-[#3498db]"
                                                        })
                                                    })
                                                })]
                                            }, N.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "messages",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ln, {
                                    className: "w-5 h-5"
                                }), "Messages", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-conversations",
                                    children: ["Total: ", ec.length]
                                })]
                            })
                        }), r.jsx(te, {
                            children: ec.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Ln, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune conversation pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs(Vn, {
                                    children: [r.jsx(Bn, {
                                        children: r.jsxs(kt, {
                                            children: [r.jsx(K, {
                                                children: "N Commande"
                                            }), r.jsx(K, {
                                                children: "Client"
                                            }), r.jsx(K, {
                                                children: "Transporteur"
                                            }), r.jsx(K, {
                                                children: "Dernier message"
                                            }), r.jsx(K, {
                                                children: "Nb messages"
                                            }), r.jsx(K, {
                                                children: "Aperu"
                                            }), r.jsx(K, {
                                                className: "text-right",
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Un, {
                                        children: ec.map(N => {
                                            const P = Ne => {
                                                if (!Ne)
                                                    return "N/A";
                                                try {
                                                    return new Date(Ne).toLocaleString("fr-FR", {
                                                        day: "2-digit",
                                                        month: "2-digit",
                                                        year: "numeric",
                                                        hour: "2-digit",
                                                        minute: "2-digit"
                                                    })
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                              , ne = (Ne, Y=50) => Ne ? Ne.length > Y ? Ne.substring(0, Y) + "..." : Ne : "";
                                            return r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-conv-ref-${N.requestId}`,
                                                    children: N.referenceId || "N/A"
                                                }), r.jsxs(Q, {
                                                    "data-testid": `text-conv-client-${N.requestId}`,
                                                    children: ["Client ", N.clientId || "Non dfini"]
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-transporter-${N.requestId}`,
                                                    children: N.transporterName || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-date-${N.requestId}`,
                                                    children: P(N.lastMessage.createdAt)
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-conv-count-${N.requestId}`,
                                                    children: r.jsx(de, {
                                                        variant: "secondary",
                                                        children: N.messageCount
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "max-w-xs",
                                                    "data-testid": `text-conv-preview-${N.requestId}`,
                                                    children: r.jsxs("span", {
                                                        className: "text-sm text-muted-foreground italic",
                                                        children: ['"', ne(N.lastMessage.text), '"']
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex justify-end gap-2",
                                                        children: [r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "hover:bg-[#3498db]/10",
                                                            onClick: () => {
                                                                g(N),
                                                                k(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-conversation-${N.requestId}`,
                                                            children: r.jsx(vs, {
                                                                className: "w-5 h-5 text-[#3498db]"
                                                            })
                                                        }), r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            className: "hover:bg-destructive/10",
                                                            onClick: () => {
                                                                C(N.requestId)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-conversation-${N.requestId}`,
                                                            children: r.jsx(Qr, {
                                                                className: "w-5 h-5 text-destructive"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, N.requestId)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "validation",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Dm, {
                                    className: "w-5 h-5"
                                }), "Validation des transporteurs"]
                            })
                        }), r.jsx(te, {
                            children: OI ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(gn, {
                                    message: "Chargement des transporteurs...",
                                    size: "md"
                                })
                            }) : ou.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(Dm, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun transporteur en attente de validation"
                                })]
                            }) : r.jsxs(Vn, {
                                children: [r.jsx(Bn, {
                                    children: r.jsxs(kt, {
                                        children: [r.jsx(K, {
                                            children: "Nom"
                                        }), r.jsx(K, {
                                            children: "Tlphone"
                                        }), r.jsx(K, {
                                            children: "Ville"
                                        }), r.jsx(K, {
                                            children: "Photo camion"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Un, {
                                    children: ou.map(N => r.jsxs(kt, {
                                        children: [r.jsx(Q, {
                                            className: "font-medium",
                                            children: N.name
                                        }), r.jsx(Q, {
                                            children: N.phoneNumber
                                        }), r.jsx(Q, {
                                            children: N.city
                                        }), r.jsx(Q, {
                                            children: N.truckPhotos && N.truckPhotos.length > 0 ? r.jsx("img", {
                                                src: N.truckPhotos[0],
                                                alt: "Camion",
                                                className: "w-16 h-16 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",
                                                onClick: () => {
                                                    gr(N.truckPhotos[0]),
                                                    Tr(!0)
                                                }
                                                ,
                                                "data-testid": `img-truck-${N.id}`
                                            }) : r.jsx("span", {
                                                className: "text-muted-foreground text-sm",
                                                children: "Aucune photo"
                                            })
                                        }), r.jsx(Q, {
                                            className: "text-right",
                                            children: r.jsxs("div", {
                                                className: "flex gap-2 justify-end",
                                                children: [r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "default",
                                                    onClick: () => Ny(N.id, !0),
                                                    "data-testid": `button-validate-${N.id}`,
                                                    children: [r.jsx(mn, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Valider"]
                                                }), r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "destructive",
                                                    onClick: () => Ny(N.id, !1),
                                                    "data-testid": `button-reject-${N.id}`,
                                                    children: [r.jsx(mc, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Refuser"]
                                                }), r.jsx(E, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    className: "text-destructive hover:text-destructive",
                                                    onClick: () => {
                                                        confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte transporteur ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (offres, messages, etc.).`) && gh.mutate(N.id)
                                                    }
                                                    ,
                                                    "data-testid": `button-delete-user-${N.id}`,
                                                    children: r.jsx(Qr, {
                                                        className: "w-4 h-4"
                                                    })
                                                })]
                                            })
                                        })]
                                    }, N.id))
                                })]
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "references",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(mn, {
                                    className: "w-5 h-5"
                                }), "Validation des rfrences professionnelles"]
                            })
                        }), r.jsx(te, {
                            children: LI ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(gn, {
                                    message: "Chargement des rfrences...",
                                    size: "md"
                                })
                            }) : lu.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(mn, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucune rfrence en attente de validation"
                                })]
                            }) : r.jsxs(Vn, {
                                children: [r.jsx(Bn, {
                                    children: r.jsxs(kt, {
                                        children: [r.jsx(K, {
                                            children: "Transporteur"
                                        }), r.jsx(K, {
                                            children: "Rfrent"
                                        }), r.jsx(K, {
                                            children: "Tlphone rfrent"
                                        }), r.jsx(K, {
                                            children: "Relation"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Un, {
                                    children: lu.map(N => r.jsxs(kt, {
                                        children: [r.jsx(Q, {
                                            className: "font-medium",
                                            children: N.transporterName || "N/A"
                                        }), r.jsx(Q, {
                                            children: N.referenceName
                                        }), r.jsx(Q, {
                                            children: r.jsx("a", {
                                                href: `tel:${N.referencePhone}`,
                                                className: "text-primary hover:underline",
                                                children: N.referencePhone
                                            })
                                        }), r.jsx(Q, {
                                            children: N.referenceRelation
                                        }), r.jsx(Q, {
                                            className: "text-right",
                                            children: r.jsxs("div", {
                                                className: "flex gap-2 justify-end",
                                                children: [r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    onClick: () => window.open(`tel:${N.referencePhone}`, "_self"),
                                                    "data-testid": `button-call-${N.id}`,
                                                    children: [r.jsx(an, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Appeler"]
                                                }), r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "default",
                                                    onClick: () => Cy.mutate(N.id),
                                                    disabled: Cy.isPending,
                                                    "data-testid": `button-validate-ref-${N.id}`,
                                                    children: [r.jsx(mn, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Valider"]
                                                }), r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "destructive",
                                                    onClick: () => {
                                                        II(N),
                                                        iu(!0)
                                                    }
                                                    ,
                                                    "data-testid": `button-reject-ref-${N.id}`,
                                                    children: [r.jsx(mc, {
                                                        className: "w-4 h-4 mr-1"
                                                    }), "Refuser"]
                                                })]
                                            })
                                        })]
                                    }, N.id))
                                })]
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "to-pay",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(pa, {
                                    className: "w-5 h-5"
                                }), "Paiements en attente de validation"]
                            })
                        }), r.jsx(te, {
                            children: du.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(pa, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun paiement en attente de validation"
                                })]
                            }) : r.jsxs(Vn, {
                                children: [r.jsx(Bn, {
                                    children: r.jsxs(kt, {
                                        children: [r.jsx(K, {
                                            children: "N Commande"
                                        }), r.jsx(K, {
                                            children: "Client"
                                        }), r.jsx(K, {
                                            children: "Transporteur"
                                        }), r.jsx(K, {
                                            children: "Montant net"
                                        }), r.jsx(K, {
                                            children: "Total client"
                                        }), r.jsx(K, {
                                            children: "Commission"
                                        }), r.jsx(K, {
                                            children: "Reu"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Un, {
                                    children: du.map(N => {
                                        const P = Nn.find($n => $n.id === N.clientId)
                                          , ne = N.acceptedOfferId ? Is.find($n => $n.id === N.acceptedOfferId) : null
                                          , Ne = ne ? Nn.find($n => $n.id === ne.transporterId) : null
                                          , Y = ne ? parseFloat(ne.amount) : 0
                                          , Te = (qr == null ? void 0 : qr.commissionPercentage) || 10
                                          , yt = Y * (Te / 100)
                                          , lt = Y + yt;
                                        return r.jsxs(kt, {
                                            children: [r.jsx(Q, {
                                                className: "font-medium",
                                                children: N.referenceId
                                            }), r.jsxs(Q, {
                                                children: ["Client ", Ur ? "Chargement..." : (P == null ? void 0 : P.clientId) || "Non dfini"]
                                            }), r.jsx(Q, {
                                                children: r.jsxs("div", {
                                                    children: [r.jsx("p", {
                                                        className: "font-medium",
                                                        children: Ur ? "Chargement..." : (Ne == null ? void 0 : Ne.name) || "Transporteur"
                                                    }), r.jsxs("div", {
                                                        className: "flex items-center gap-1 text-sm text-muted-foreground",
                                                        children: [r.jsx(an, {
                                                            className: "w-3 h-3"
                                                        }), r.jsx("a", {
                                                            href: `tel:${Ne == null ? void 0 : Ne.phoneNumber}`,
                                                            className: "hover:underline",
                                                            children: Ur ? "..." : (Ne == null ? void 0 : Ne.phoneNumber) || "N/A"
                                                        })]
                                                    })]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold",
                                                    children: [Y.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold text-primary",
                                                    children: [lt.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: r.jsxs("span", {
                                                    className: "font-semibold text-green-600",
                                                    children: [yt.toFixed(2), " MAD"]
                                                })
                                            }), r.jsx(Q, {
                                                children: N.paymentReceipt ? r.jsxs(E, {
                                                    size: "sm",
                                                    variant: "outline",
                                                    onClick: () => {
                                                        l(N.paymentReceipt),
                                                        d(!0)
                                                    }
                                                    ,
                                                    className: "gap-1",
                                                    "data-testid": `button-view-receipt-${N.id}`,
                                                    children: [r.jsx(vs, {
                                                        className: "w-4 h-4"
                                                    }), "Voir"]
                                                }) : r.jsx("span", {
                                                    className: "text-muted-foreground text-sm",
                                                    children: "Aucun reu"
                                                })
                                            }), r.jsx(Q, {
                                                className: "text-right",
                                                children: r.jsxs("div", {
                                                    className: "flex gap-2 justify-end flex-wrap",
                                                    children: [r.jsxs(E, {
                                                        size: "sm",
                                                        variant: "default",
                                                        onClick: () => UI(N.id),
                                                        "data-testid": `button-validate-payment-${N.id}`,
                                                        children: [r.jsx(mn, {
                                                            className: "w-4 h-4 mr-1"
                                                        }), "Marquer comme pay"]
                                                    }), r.jsxs(E, {
                                                        size: "sm",
                                                        variant: "destructive",
                                                        onClick: () => qI(N.id),
                                                        "data-testid": `button-reject-receipt-${N.id}`,
                                                        children: [r.jsx(mc, {
                                                            className: "w-4 h-4 mr-1"
                                                        }), "Refuser le reu"]
                                                    })]
                                                })
                                            })]
                                        }, N.id)
                                    }
                                    )
                                })]
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "drivers",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(fs, {
                                    className: "w-5 h-5"
                                }), "Tous les transporteurs", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-transporters",
                                    children: ["Total: ", Wr.filter(N => {
                                        const P = L.toLowerCase()
                                          , ne = !L || N.name.toLowerCase().includes(P) || N.phoneNumber.includes(L)
                                          , Ne = M === "all" || N.city === M;
                                        return ne && Ne
                                    }
                                    ).length]
                                })]
                            })
                        }), r.jsxs(te, {
                            className: "space-y-4",
                            children: [r.jsxs("div", {
                                className: "flex gap-4 flex-wrap",
                                children: [r.jsxs("div", {
                                    className: "relative flex-1 min-w-[200px]",
                                    children: [r.jsx(jr, {
                                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                                    }), r.jsx(_e, {
                                        placeholder: "Rechercher par nom ou tlphone...",
                                        value: L,
                                        onChange: N => G(N.target.value),
                                        className: "pl-10",
                                        "data-testid": "input-search-transporter"
                                    })]
                                }), r.jsxs(Vt, {
                                    value: M,
                                    onValueChange: H,
                                    children: [r.jsx(Mt, {
                                        className: "w-[200px]",
                                        "data-testid": "select-city-filter",
                                        children: r.jsx(Bt, {
                                            placeholder: "Filtrer par ville"
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "all",
                                            children: "Toutes les villes"
                                        }), Array.from(new Set(Wr.map(N => N.city))).map(N => r.jsx(Se, {
                                            value: N,
                                            children: N
                                        }, N))]
                                    })]
                                })]
                            }), uh ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(gn, {
                                    message: "Chargement des transporteurs...",
                                    size: "md"
                                })
                            }) : So ? r.jsxs("div", {
                                className: "text-center py-8 text-destructive",
                                children: [r.jsx(mc, {
                                    className: "w-12 h-12 mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "font-semibold",
                                    children: "Erreur lors du chargement"
                                }), r.jsx("p", {
                                    className: "text-sm mt-2",
                                    children: So.message
                                })]
                            }) : Wr.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(fs, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun transporteur valid"
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-2",
                                    children: "(Vrifiez la console pour plus de dtails)"
                                })]
                            }) : ( () => {
                                const N = Wr.filter(P => {
                                    const ne = L.toLowerCase()
                                      , Ne = !L || P.name.toLowerCase().includes(ne) || P.phoneNumber.includes(L)
                                      , Y = M === "all" || P.city === M;
                                    return Ne && Y
                                }
                                );
                                return N.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(jr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun transporteur trouv avec ces critres"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs(Vn, {
                                        children: [r.jsx(Bn, {
                                            children: r.jsxs(kt, {
                                                children: [r.jsx(K, {
                                                    className: "w-16",
                                                    children: "Photo"
                                                }), r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Ville"
                                                }), r.jsx(K, {
                                                    children: "Tlphone"
                                                }), r.jsx(K, {
                                                    children: "Note"
                                                }), r.jsx(K, {
                                                    children: "Trajets"
                                                }), r.jsx(K, {
                                                    children: "Commissions"
                                                }), r.jsx(K, {
                                                    children: "Dernire activit"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    children: "RIB"
                                                }), r.jsx(K, {
                                                    children: "Action"
                                                })]
                                            })
                                        }), r.jsx(Un, {
                                            children: N.map(P => r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    children: r.jsx(iT, {
                                                        children: r.jsxs(t$, {
                                                            children: [r.jsx(n$, {
                                                                asChild: !0,
                                                                children: r.jsx(E, {
                                                                    size: "icon",
                                                                    variant: "ghost",
                                                                    onClick: () => {
                                                                        xy(P.id),
                                                                        ch(!0)
                                                                    }
                                                                    ,
                                                                    disabled: !P.hasTruckPhoto,
                                                                    "data-testid": `button-view-photo-${P.id}`,
                                                                    className: "hover-elevate",
                                                                    children: r.jsx(pk, {
                                                                        className: `w-4 h-4 ${P.hasTruckPhoto ? "text-primary" : "text-muted-foreground"}`
                                                                    })
                                                                })
                                                            }), r.jsx(oT, {
                                                                children: r.jsx("p", {
                                                                    children: P.hasTruckPhoto ? "Voir la photo du camion" : "Aucune photo disponible"
                                                                })
                                                            })]
                                                        })
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: P.name
                                                }), r.jsx(Q, {
                                                    children: P.city
                                                }), r.jsx(Q, {
                                                    children: r.jsx("a", {
                                                        href: `tel:${P.phoneNumber}`,
                                                        className: "text-primary hover:underline",
                                                        children: P.phoneNumber
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [" ", P.rating.toFixed(1), r.jsxs("span", {
                                                            className: "text-xs text-muted-foreground ml-1",
                                                            children: ["(", P.totalRatings, ")"]
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: P.totalTrips
                                                }), r.jsxs(Q, {
                                                    className: "text-primary font-semibold",
                                                    children: [P.totalCommissions.toLocaleString("fr-MA"), " MAD"]
                                                }), r.jsx(Q, {
                                                    className: "text-sm text-muted-foreground",
                                                    children: P.lastActivity ? new Date(P.lastActivity).toLocaleDateString("fr-FR") : "Aucune"
                                                }), r.jsx(Q, {
                                                    children: r.jsx(de, {
                                                        variant: P.accountStatus === "active" ? "default" : "destructive",
                                                        "data-testid": `badge-status-${P.id}`,
                                                        children: P.accountStatus === "active" ? "Actif" : "Bloqu"
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs(E, {
                                                        size: "sm",
                                                        variant: "outline",
                                                        onClick: () => $(P),
                                                        "data-testid": `button-rib-${P.id}`,
                                                        className: "gap-2",
                                                        children: [r.jsx(pa, {
                                                            className: "w-4 h-4"
                                                        }), "RIB"]
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2 flex-wrap",
                                                        children: [r.jsxs(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => {
                                                                Ri(P),
                                                                qt(P.name || ""),
                                                                ka(P.city || ""),
                                                                nu(P.phoneNumber || ""),
                                                                ru(""),
                                                                su(null),
                                                                O(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-edit-${P.id}`,
                                                            className: "gap-1",
                                                            children: [r.jsx(Zh, {
                                                                className: "w-4 h-4"
                                                            }), "Modifier"]
                                                        }), P.accountStatus === "active" ? r.jsx(E, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => hh(P.id, "transporter"),
                                                            "data-testid": `button-block-${P.id}`,
                                                            children: " Bloquer"
                                                        }) : r.jsx(E, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => Sy(P.id),
                                                            "data-testid": `button-unblock-${P.id}`,
                                                            children: " Dbloquer"
                                                        }), r.jsx(E, {
                                                            size: "icon",
                                                            variant: "outline",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte transporteur ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (offres, messages, etc.).`) && gh.mutate(P.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-transporter-${P.id}`,
                                                            children: r.jsx(Qr, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, P.id))
                                        })]
                                    })
                                })
                            }
                            )()]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "clients",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(fs, {
                                    className: "w-5 h-5"
                                }), "Tous les clients", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-clients",
                                    children: ["Total: ", tc.filter(N => {
                                        const P = U.toLowerCase();
                                        return !U || N.name.toLowerCase().includes(P) || N.phoneNumber.includes(U) || N.clientId.toLowerCase().includes(P)
                                    }
                                    ).length]
                                })]
                            })
                        }), r.jsxs(te, {
                            className: "space-y-4",
                            children: [r.jsx("div", {
                                className: "flex gap-4 flex-wrap",
                                children: r.jsxs("div", {
                                    className: "relative flex-1 min-w-[200px]",
                                    children: [r.jsx(jr, {
                                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                                    }), r.jsx(_e, {
                                        placeholder: "Rechercher par ID, nom ou tlphone...",
                                        value: U,
                                        onChange: N => re(N.target.value),
                                        className: "pl-10",
                                        "data-testid": "input-search-client"
                                    })]
                                })
                            }), tc.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(fs, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun client enregistr"
                                })]
                            }) : ( () => {
                                const N = tc.filter(P => {
                                    const ne = U.toLowerCase();
                                    return !U || P.name.toLowerCase().includes(ne) || P.phoneNumber.includes(U) || P.clientId.toLowerCase().includes(ne)
                                }
                                );
                                return N.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(jr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun client trouv avec ces critres"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs(Vn, {
                                        children: [r.jsx(Bn, {
                                            children: r.jsxs(kt, {
                                                children: [r.jsx(K, {
                                                    children: "ID Client"
                                                }), r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Tlphone"
                                                }), r.jsx(K, {
                                                    children: "Commandes totales"
                                                }), r.jsx(K, {
                                                    children: "Commandes compltes"
                                                }), r.jsx(K, {
                                                    children: "Satisfaction"
                                                }), r.jsx(K, {
                                                    children: "Date d'inscription"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    children: "Action"
                                                })]
                                            })
                                        }), r.jsx(Un, {
                                            children: N.map(P => r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    "data-testid": `text-client-id-${P.id}`,
                                                    children: P.clientId
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-name-${P.id}`,
                                                    children: P.name
                                                }), r.jsx(Q, {
                                                    children: r.jsx("a", {
                                                        href: `tel:${P.phoneNumber}`,
                                                        className: "text-primary hover:underline",
                                                        "data-testid": `link-client-phone-${P.id}`,
                                                        children: P.phoneNumber
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-total-orders-${P.id}`,
                                                    children: P.totalOrders
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-completed-orders-${P.id}`,
                                                    children: P.completedOrders
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-client-rating-${P.id}`,
                                                    children: P.averageRating > 0 ? r.jsxs("div", {
                                                        className: "flex items-center gap-1",
                                                        children: [" ", P.averageRating.toFixed(1)]
                                                    }) : r.jsx("span", {
                                                        className: "text-muted-foreground",
                                                        children: "Aucune note"
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-sm text-muted-foreground",
                                                    "data-testid": `text-registration-date-${P.id}`,
                                                    children: P.registrationDate ? new Date(P.registrationDate).toLocaleDateString("fr-FR") : "N/A"
                                                }), r.jsx(Q, {
                                                    children: r.jsx(de, {
                                                        variant: P.accountStatus === "active" ? "default" : "destructive",
                                                        "data-testid": `badge-client-status-${P.id}`,
                                                        children: P.accountStatus === "active" ? "Actif" : "Bloqu"
                                                    })
                                                }), r.jsx(Q, {
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [P.accountStatus === "active" ? r.jsx(E, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => hh(P.id, "client"),
                                                            "data-testid": `button-block-client-${P.id}`,
                                                            children: " Bloquer"
                                                        }) : r.jsx(E, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => Sy(P.id),
                                                            "data-testid": `button-unblock-client-${P.id}`,
                                                            children: " Dbloquer"
                                                        }), r.jsx(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            className: "text-destructive hover:text-destructive",
                                                            onClick: () => {
                                                                confirm(` tes-vous sr de vouloir supprimer dfinitivement ce compte client ?

Cette action supprimera aussi son mot de passe et toutes ses donnes associes (demandes, messages, etc.).`) && gh.mutate(P.id)
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-user-${P.id}`,
                                                            children: r.jsx(Qr, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, P.id))
                                        })]
                                    })
                                })
                            }
                            )()]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "coordinators",
                    className: "mt-6",
                    children: r.jsx(Dq, {})
                }), r.jsx(Et, {
                    value: "reports",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(ai, {
                                    className: "w-5 h-5"
                                }), "Tous les signalements", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-reports",
                                    children: ["Total: ", nc.length]
                                })]
                            })
                        }), r.jsx(te, {
                            className: "space-y-4",
                            children: zI ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(gn, {
                                    message: "Chargement des signalements...",
                                    size: "md"
                                })
                            }) : nc.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(ai, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun signalement pour le moment"
                                })]
                            }) : r.jsx("div", {
                                className: "overflow-x-auto",
                                children: r.jsxs(Vn, {
                                    children: [r.jsx(Bn, {
                                        children: r.jsxs(kt, {
                                            children: [r.jsx(K, {
                                                children: "Date"
                                            }), r.jsx(K, {
                                                children: "Commande"
                                            }), r.jsx(K, {
                                                children: "Type"
                                            }), r.jsx(K, {
                                                children: "Signal par"
                                            }), r.jsx(K, {
                                                children: "Utilisateur signal"
                                            }), r.jsx(K, {
                                                children: "Description"
                                            }), r.jsx(K, {
                                                children: "Statut"
                                            }), r.jsx(K, {
                                                children: "Actions"
                                            })]
                                        })
                                    }), r.jsx(Un, {
                                        children: nc.map(N => {
                                            const P = Nn.find(Te => Te.id === N.reporterId)
                                              , ne = Nn.find(Te => Te.id === N.reportedUserId)
                                              , Ne = os.find(Te => Te.id === N.requestId)
                                              , Y = Te => ({
                                                "no-show": "Absence",
                                                payment: "Paiement",
                                                communication: "Communication",
                                                "incorrect-info": "Infos incorrectes",
                                                "damaged-goods": "Marchandises non conformes",
                                                other: "Autre"
                                            })[Te] || Te;
                                            return r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "text-sm",
                                                    "data-testid": `text-report-date-${N.id}`,
                                                    children: new Date(N.createdAt).toLocaleDateString("fr-FR")
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-report-request-${N.id}`,
                                                    children: (Ne == null ? void 0 : Ne.referenceId) || "N/A"
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-report-type-${N.id}`,
                                                    children: r.jsx(de, {
                                                        variant: "outline",
                                                        children: Y(N.type)
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-reporter-${N.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (P == null ? void 0 : P.name) || "Inconnu"
                                                        }), r.jsx(de, {
                                                            variant: N.reporterRole === "client" ? "default" : "secondary",
                                                            className: "text-xs",
                                                            children: N.reporterRole === "client" ? "Client" : "Transporteur"
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `text-reported-user-${N.id}`,
                                                    children: r.jsxs("div", {
                                                        className: "space-y-1",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (ne == null ? void 0 : ne.name) || "Inconnu"
                                                        }), r.jsx("p", {
                                                            className: "text-xs text-muted-foreground",
                                                            children: ne == null ? void 0 : ne.phoneNumber
                                                        })]
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "max-w-xs",
                                                    "data-testid": `text-report-description-${N.id}`,
                                                    children: r.jsx("p", {
                                                        className: "text-sm truncate",
                                                        title: N.description,
                                                        children: N.description
                                                    })
                                                }), r.jsx(Q, {
                                                    "data-testid": `badge-report-status-${N.id}`,
                                                    children: r.jsx(de, {
                                                        variant: N.status === "pending" ? "destructive" : N.status === "resolved" ? "default" : "secondary",
                                                        children: N.status === "pending" ? "En attente" : N.status === "resolved" ? "Rsolu" : "Rejet"
                                                    })
                                                }), r.jsxs(Q, {
                                                    children: [N.status === "pending" && r.jsxs("div", {
                                                        className: "flex gap-2",
                                                        children: [r.jsxs(E, {
                                                            size: "sm",
                                                            variant: "default",
                                                            onClick: () => {
                                                                uu.mutate({
                                                                    reportId: N.id,
                                                                    status: "resolved",
                                                                    resolution: "Signalement trait et rsolu par l'administrateur"
                                                                })
                                                            }
                                                            ,
                                                            disabled: uu.isPending,
                                                            "data-testid": `button-resolve-${N.id}`,
                                                            children: [r.jsx(mn, {
                                                                className: "h-4 w-4 mr-1"
                                                            }), "Rsoudre"]
                                                        }), r.jsxs(E, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: () => {
                                                                uu.mutate({
                                                                    reportId: N.id,
                                                                    status: "rejected",
                                                                    resolution: "Signalement rejet par l'administrateur"
                                                                })
                                                            }
                                                            ,
                                                            disabled: uu.isPending,
                                                            "data-testid": `button-reject-${N.id}`,
                                                            children: [r.jsx(mc, {
                                                                className: "h-4 w-4 mr-1"
                                                            }), "Rejeter"]
                                                        }), ne && r.jsx(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => hh(ne.id, N.reporterRole === "client" ? "transporter" : "client"),
                                                            "data-testid": `button-block-reported-${N.id}`,
                                                            children: " Bloquer"
                                                        })]
                                                    }), N.status !== "pending" && N.resolution && r.jsx("p", {
                                                        className: "text-xs text-muted-foreground",
                                                        children: N.resolution
                                                    })]
                                                })]
                                            }, N.id)
                                        }
                                        )
                                    })]
                                })
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "communications",
                    className: "mt-6",
                    children: r.jsx(S9, {})
                }), r.jsx(Et, {
                    value: "stats",
                    className: "mt-6",
                    children: r.jsxs("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: [r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Taux de conversion"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [(Ie == null ? void 0 : Ie.conversionRate) || 0, "%"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Offres acceptes / Total des offres"
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Demandes compltes"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsx("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: (Ie == null ? void 0 : Ie.completedRequests) || 0
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Sur ", (Ie == null ? void 0 : Ie.totalRequests) || 0, " demandes totales"]
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Satisfaction transporteurs"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [" ", (Ie == null ? void 0 : Ie.averageRating) || 0, " / 5"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Moyenne des notes clients"
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Dure moyenne"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [" ", (Ie == null ? void 0 : Ie.averageProcessingTime) || 0, " j"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Traitement des commandes"
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Montant moyen"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [((Ty = Ie == null ? void 0 : Ie.averageAmount) == null ? void 0 : Ty.toLocaleString("fr-MA")) || 0, " MAD"]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Par mission complte"
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Paiements en attente"
                                })
                            }), r.jsxs(te, {
                                children: [r.jsxs("div", {
                                    className: "text-4xl font-bold text-primary mb-2",
                                    children: [((Py = Ie == null ? void 0 : Ie.pendingPaymentsTotal) == null ? void 0 : Py.toLocaleString("fr-MA")) || 0, " MAD"]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [(Ie == null ? void 0 : Ie.pendingPaymentsCount) || 0, " commande(s)"]
                                })]
                            })]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "facturation",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Ma, {
                                    className: "w-5 h-5"
                                }), "Historique des paiements", r.jsxs(de, {
                                    className: "ml-2",
                                    "data-testid": "badge-total-invoices",
                                    children: ["Total: ", os.filter(N => N.paymentStatus === "paid").length]
                                })]
                            })
                        }), r.jsx(te, {
                            children: ( () => {
                                const N = os.filter(P => P.paymentStatus === "paid");
                                return N.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(Ma, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucun paiement valid pour le moment"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs(Vn, {
                                        children: [r.jsx(Bn, {
                                            children: r.jsxs(kt, {
                                                children: [r.jsx(K, {
                                                    children: "Rfrence"
                                                }), r.jsx(K, {
                                                    children: "Date validation"
                                                }), r.jsx(K, {
                                                    children: "Client"
                                                }), r.jsx(K, {
                                                    children: "Transporteur"
                                                }), r.jsx(K, {
                                                    children: "Total client"
                                                }), r.jsx(K, {
                                                    children: "Commission"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    className: "text-right",
                                                    children: "Actions"
                                                })]
                                            })
                                        }), r.jsx(Un, {
                                            children: N.map(P => {
                                                const ne = Nn.find(cs => cs.id === P.clientId)
                                                  , Ne = P.acceptedOfferId ? Is.find(cs => cs.id === P.acceptedOfferId) : null
                                                  , Y = Ne ? Nn.find(cs => cs.id === Ne.transporterId) : null
                                                  , Te = Ne ? parseFloat(Ne.amount) : 0
                                                  , yt = (qr == null ? void 0 : qr.commissionPercentage) || 10
                                                  , lt = Te * (yt / 100)
                                                  , $n = Te + lt;
                                                return r.jsxs(kt, {
                                                    children: [r.jsx(Q, {
                                                        className: "font-medium",
                                                        children: P.referenceId
                                                    }), r.jsx(Q, {
                                                        children: P.updatedAt ? new Date(P.updatedAt).toLocaleDateString("fr-FR") : "N/A"
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("div", {
                                                            className: "flex flex-col",
                                                            children: [r.jsx("span", {
                                                                className: "font-medium",
                                                                children: (ne == null ? void 0 : ne.clientId) || "Non dfini"
                                                            }), r.jsx("span", {
                                                                className: "text-xs text-muted-foreground",
                                                                children: (ne == null ? void 0 : ne.phoneNumber) || ""
                                                            })]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("div", {
                                                            children: [r.jsx("p", {
                                                                className: "font-medium",
                                                                children: (Y == null ? void 0 : Y.name) || "Inconnu"
                                                            }), r.jsx("a", {
                                                                href: `tel:${Y == null ? void 0 : Y.phoneNumber}`,
                                                                className: "text-xs text-primary hover:underline",
                                                                children: Y == null ? void 0 : Y.phoneNumber
                                                            })]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("span", {
                                                            className: "font-semibold text-primary",
                                                            children: [$n.toFixed(2), " MAD"]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsxs("span", {
                                                            className: "font-semibold text-green-600",
                                                            children: [lt.toFixed(2), " MAD"]
                                                        })
                                                    }), r.jsx(Q, {
                                                        children: r.jsx(de, {
                                                            className: "bg-green-600",
                                                            children: "Pay"
                                                        })
                                                    }), r.jsx(Q, {
                                                        className: "text-right",
                                                        children: r.jsx(E, {
                                                            size: "icon",
                                                            variant: "ghost",
                                                            onClick: () => {
                                                                V(P),
                                                                he(!0)
                                                            }
                                                            ,
                                                            "data-testid": `button-view-invoice-${P.id}`,
                                                            children: r.jsx(vs, {
                                                                className: "w-5 h-5 text-[#3498db]"
                                                            })
                                                        })
                                                    })]
                                                }, P.id)
                                            }
                                            )
                                        })]
                                    })
                                })
                            }
                            )()
                        })]
                    })
                }), r.jsx(Et, {
                    value: "cities",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Rr, {
                                    className: "w-5 h-5"
                                }), "Gestion des villes"]
                            })
                        }), r.jsxs(te, {
                            className: "space-y-6",
                            children: [r.jsxs("div", {
                                className: "bg-muted/50 p-4 rounded-lg space-y-4",
                                children: [r.jsx("h4", {
                                    className: "font-medium",
                                    children: "Ajouter une nouvelle ville"
                                }), r.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [r.jsx(_e, {
                                        placeholder: "Nom de la ville",
                                        value: W ? W.name : ot,
                                        onChange: N => W ? ze({
                                            ...W,
                                            name: N.target.value
                                        }) : z(N.target.value),
                                        "data-testid": "input-city-name"
                                    }), r.jsxs(E, {
                                        onClick: async () => {
                                            const N = W ? W.name : ot;
                                            if (!N.trim()) {
                                                Me({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: "Le nom de la ville est requis"
                                                });
                                                return
                                            }
                                            try {
                                                W ? (await Ae("PATCH", `/api/cities/${W.id}`, {
                                                    name: N.trim()
                                                }),
                                                Me({
                                                    title: "Ville modifie",
                                                    description: "La ville a t modifie avec succs"
                                                }),
                                                ze(null)) : (await Ae("POST", "/api/cities", {
                                                    name: N.trim(),
                                                    isActive: !0
                                                }),
                                                Me({
                                                    title: "Ville ajoute",
                                                    description: `${N} a t ajoute avec succs`
                                                }),
                                                z("")),
                                                le.invalidateQueries({
                                                    queryKey: ["/api/cities"]
                                                })
                                            } catch (P) {
                                                Me({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: P.message || "chec de l'opration"
                                                })
                                            }
                                        }
                                        ,
                                        "data-testid": W ? "button-update-city" : "button-add-city",
                                        children: [r.jsx(Wo, {
                                            className: "w-4 h-4 mr-2"
                                        }), W ? "Modifier" : "Ajouter"]
                                    }), W && r.jsx(E, {
                                        variant: "outline",
                                        onClick: () => {
                                            ze(null),
                                            z("")
                                        }
                                        ,
                                        "data-testid": "button-cancel-edit-city",
                                        children: "Annuler"
                                    })]
                                })]
                            }), r.jsxs("div", {
                                children: [r.jsxs("h4", {
                                    className: "font-medium mb-4",
                                    children: ["Liste des villes (", mh.length, ")"]
                                }), VI ? r.jsx("div", {
                                    className: "text-center py-8",
                                    children: r.jsx(gn, {
                                        message: "Chargement des villes...",
                                        size: "md"
                                    })
                                }) : mh.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(Rr, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucune ville enregistre"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs(Vn, {
                                        children: [r.jsx(Bn, {
                                            children: r.jsxs(kt, {
                                                children: [r.jsx(K, {
                                                    children: "Nom"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    className: "text-right",
                                                    children: "Actions"
                                                })]
                                            })
                                        }), r.jsx(Un, {
                                            children: mh.map(N => r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: N.name
                                                }), r.jsx(Q, {
                                                    children: r.jsx(de, {
                                                        variant: N.isActive ? "default" : "secondary",
                                                        children: N.isActive ? "Active" : "Inactive"
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2 justify-end",
                                                        children: [r.jsx(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => {
                                                                ze(N),
                                                                z(N.name)
                                                            }
                                                            ,
                                                            "data-testid": `button-edit-city-${N.id}`,
                                                            children: "Modifier"
                                                        }), r.jsx(E, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: async () => {
                                                                if (confirm(`tes-vous sr de vouloir supprimer ${N.name} ?`))
                                                                    try {
                                                                        await Ae("DELETE", `/api/cities/${N.id}`),
                                                                        Me({
                                                                            title: "Ville supprime",
                                                                            description: `${N.name} a t supprime avec succs`
                                                                        }),
                                                                        le.invalidateQueries({
                                                                            queryKey: ["/api/cities"]
                                                                        })
                                                                    } catch {
                                                                        Me({
                                                                            variant: "destructive",
                                                                            title: "Erreur",
                                                                            description: "chec de la suppression"
                                                                        })
                                                                    }
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-city-${N.id}`,
                                                            children: r.jsx(Qr, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, N.id))
                                        })]
                                    })
                                })]
                            })]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "stories",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(id, {
                                    className: "w-5 h-5"
                                }), "Gestion des Stories"]
                            })
                        }), r.jsxs(te, {
                            className: "space-y-6",
                            children: [r.jsxs("div", {
                                className: "bg-muted/50 p-4 rounded-lg space-y-4",
                                children: [r.jsx("h4", {
                                    className: "font-medium",
                                    children: He ? "Modifier une story" : "Crer une nouvelle story"
                                }), r.jsxs("div", {
                                    className: "space-y-3",
                                    children: [r.jsx(_e, {
                                        placeholder: "Titre de la story",
                                        value: He ? He.title : Ze,
                                        onChange: N => He ? In({
                                            ...He,
                                            title: N.target.value
                                        }) : Je(N.target.value),
                                        "data-testid": "input-story-title"
                                    }), r.jsx(Cs, {
                                        placeholder: "Contenu de la story",
                                        value: He ? He.content : Ve,
                                        onChange: N => He ? In({
                                            ...He,
                                            content: N.target.value
                                        }) : Ft(N.target.value),
                                        rows: 4,
                                        "data-testid": "input-story-content"
                                    }), r.jsx(_e, {
                                        placeholder: "URL de l'image/vido (optionnel)",
                                        value: He ? He.mediaUrl || "" : F,
                                        onChange: N => He ? In({
                                            ...He,
                                            mediaUrl: N.target.value
                                        }) : nt(N.target.value),
                                        "data-testid": "input-story-media-url"
                                    }), r.jsxs(Vt, {
                                        value: He ? He.role : et,
                                        onValueChange: N => He ? In({
                                            ...He,
                                            role: N
                                        }) : bt(N),
                                        children: [r.jsx(Mt, {
                                            "data-testid": "select-story-role",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionner le public"
                                            })
                                        }), r.jsxs(Ot, {
                                            children: [r.jsx(Se, {
                                                value: "all",
                                                children: "Tous les utilisateurs"
                                            }), r.jsx(Se, {
                                                value: "client",
                                                children: "Clients uniquement"
                                            }), r.jsx(Se, {
                                                value: "transporter",
                                                children: "Transporteurs uniquement"
                                            })]
                                        })]
                                    }), r.jsx(_e, {
                                        type: "number",
                                        placeholder: "Ordre d'affichage (0 = premier)",
                                        value: He ? He.order : hn,
                                        onChange: N => He ? In({
                                            ...He,
                                            order: parseInt(N.target.value)
                                        }) : jn(parseInt(N.target.value)),
                                        "data-testid": "input-story-order"
                                    }), r.jsxs("div", {
                                        className: "flex gap-2",
                                        children: [r.jsxs(E, {
                                            onClick: async () => {
                                                const N = He ? He.title : Ze
                                                  , P = He ? He.content : Ve
                                                  , ne = He ? He.mediaUrl : F
                                                  , Ne = He ? He.role : et
                                                  , Y = He ? He.order : hn;
                                                if (!N.trim() || !P.trim() || !Ne) {
                                                    Me({
                                                        variant: "destructive",
                                                        title: "Erreur",
                                                        description: "Titre, contenu et public requis"
                                                    });
                                                    return
                                                }
                                                try {
                                                    He ? (await Ae("PATCH", `/api/stories/${He.id}?adminId=${jt.id}`, {
                                                        title: N.trim(),
                                                        content: P.trim(),
                                                        mediaUrl: ne.trim() || null,
                                                        role: Ne,
                                                        order: Y || 0
                                                    }),
                                                    Me({
                                                        title: "Story modifie",
                                                        description: "La story a t modifie avec succs"
                                                    }),
                                                    In(null)) : (await Ae("POST", `/api/stories?adminId=${jt.id}`, {
                                                        title: N.trim(),
                                                        content: P.trim(),
                                                        mediaUrl: ne.trim() || null,
                                                        role: Ne,
                                                        order: Y || 0
                                                    }),
                                                    Me({
                                                        title: "Story cre",
                                                        description: `La story "${N}" a t cre avec succs`
                                                    }),
                                                    Je(""),
                                                    Ft(""),
                                                    nt(""),
                                                    bt("all"),
                                                    jn(0)),
                                                    le.invalidateQueries({
                                                        queryKey: ["/api/stories"]
                                                    })
                                                } catch (Te) {
                                                    Me({
                                                        variant: "destructive",
                                                        title: "Erreur",
                                                        description: Te.message || "chec de l'opration"
                                                    })
                                                }
                                            }
                                            ,
                                            "data-testid": He ? "button-update-story" : "button-create-story",
                                            children: [r.jsx(Wo, {
                                                className: "w-4 h-4 mr-2"
                                            }), He ? "Modifier" : "Crer"]
                                        }), He && r.jsx(E, {
                                            variant: "outline",
                                            onClick: () => {
                                                In(null),
                                                Je(""),
                                                Ft(""),
                                                nt(""),
                                                bt("all"),
                                                jn(0)
                                            }
                                            ,
                                            "data-testid": "button-cancel-edit-story",
                                            children: "Annuler"
                                        })]
                                    })]
                                })]
                            }), r.jsxs("div", {
                                children: [r.jsxs("h4", {
                                    className: "font-medium mb-4",
                                    children: ["Liste des stories (", fh.length, ")"]
                                }), BI ? r.jsx("div", {
                                    className: "text-center py-8",
                                    children: r.jsx(gn, {
                                        message: "Chargement des stories...",
                                        size: "md"
                                    })
                                }) : fh.length === 0 ? r.jsxs("div", {
                                    className: "text-center py-8",
                                    children: [r.jsx(id, {
                                        className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                    }), r.jsx("p", {
                                        className: "text-muted-foreground",
                                        children: "Aucune story enregistre"
                                    })]
                                }) : r.jsx("div", {
                                    className: "overflow-x-auto",
                                    children: r.jsxs(Vn, {
                                        children: [r.jsx(Bn, {
                                            children: r.jsxs(kt, {
                                                children: [r.jsx(K, {
                                                    children: "Titre"
                                                }), r.jsx(K, {
                                                    children: "Contenu"
                                                }), r.jsx(K, {
                                                    children: "Public"
                                                }), r.jsx(K, {
                                                    children: "Ordre"
                                                }), r.jsx(K, {
                                                    children: "Statut"
                                                }), r.jsx(K, {
                                                    className: "text-right",
                                                    children: "Actions"
                                                })]
                                            })
                                        }), r.jsx(Un, {
                                            children: fh.map(N => r.jsxs(kt, {
                                                children: [r.jsx(Q, {
                                                    className: "font-medium",
                                                    children: N.title
                                                }), r.jsx(Q, {
                                                    className: "max-w-xs truncate",
                                                    children: N.content
                                                }), r.jsx(Q, {
                                                    children: r.jsx(de, {
                                                        variant: N.role === "all" ? "default" : N.role === "client" ? "secondary" : "outline",
                                                        children: N.role === "all" ? "Tous" : N.role === "client" ? "Clients" : "Transporteurs"
                                                    })
                                                }), r.jsx(Q, {
                                                    children: N.order
                                                }), r.jsx(Q, {
                                                    children: r.jsx(de, {
                                                        variant: N.isActive ? "default" : "secondary",
                                                        children: N.isActive ? "Active" : "Inactive"
                                                    })
                                                }), r.jsx(Q, {
                                                    className: "text-right",
                                                    children: r.jsxs("div", {
                                                        className: "flex gap-2 justify-end",
                                                        children: [r.jsx(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: async () => {
                                                                try {
                                                                    await Ae("PATCH", `/api/stories/${N.id}?adminId=${jt.id}`, {
                                                                        isActive: !N.isActive
                                                                    }),
                                                                    Me({
                                                                        title: N.isActive ? "Story dsactive" : "Story active",
                                                                        description: `La story est maintenant ${N.isActive ? "inactive" : "active"}`
                                                                    }),
                                                                    le.invalidateQueries({
                                                                        queryKey: ["/api/stories"]
                                                                    })
                                                                } catch {
                                                                    Me({
                                                                        variant: "destructive",
                                                                        title: "Erreur",
                                                                        description: "chec du changement de statut"
                                                                    })
                                                                }
                                                            }
                                                            ,
                                                            "data-testid": `button-toggle-story-${N.id}`,
                                                            children: N.isActive ? "Dsactiver" : "Activer"
                                                        }), r.jsx(E, {
                                                            size: "sm",
                                                            variant: "outline",
                                                            onClick: () => {
                                                                In(N)
                                                            }
                                                            ,
                                                            "data-testid": `button-edit-story-${N.id}`,
                                                            children: r.jsx(od, {
                                                                className: "w-4 h-4"
                                                            })
                                                        }), r.jsx(E, {
                                                            size: "sm",
                                                            variant: "destructive",
                                                            onClick: async () => {
                                                                if (confirm(`tes-vous sr de vouloir supprimer "${N.title}" ?`))
                                                                    try {
                                                                        await Ae("DELETE", `/api/stories/${N.id}?adminId=${jt.id}`),
                                                                        Me({
                                                                            title: "Story supprime",
                                                                            description: `"${N.title}" a t supprime avec succs`
                                                                        }),
                                                                        le.invalidateQueries({
                                                                            queryKey: ["/api/stories"]
                                                                        })
                                                                    } catch {
                                                                        Me({
                                                                            variant: "destructive",
                                                                            title: "Erreur",
                                                                            description: "chec de la suppression"
                                                                        })
                                                                    }
                                                            }
                                                            ,
                                                            "data-testid": `button-delete-story-${N.id}`,
                                                            children: r.jsx(Qr, {
                                                                className: "w-4 h-4"
                                                            })
                                                        })]
                                                    })
                                                })]
                                            }, N.id))
                                        })]
                                    })
                                })]
                            })]
                        })]
                    })
                }), r.jsx(Et, {
                    value: "settings",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(si, {
                                    className: "w-5 h-5"
                                }), "Paramtres de commission"]
                            })
                        }), r.jsx(te, {
                            className: "space-y-6",
                            children: r.jsxs("div", {
                                className: "space-y-4",
                                children: [r.jsxs("div", {
                                    children: [r.jsx("label", {
                                        className: "text-sm font-medium block mb-2",
                                        children: "Pourcentage de commission CamionBack (%)"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground mb-4",
                                        children: "Ce pourcentage est automatiquement ajout au prix du transporteur pour calculer le montant total que le client doit payer."
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex gap-4 items-end",
                                    children: [r.jsxs("div", {
                                        className: "flex-1 max-w-xs space-y-2",
                                        children: [r.jsx(_e, {
                                            type: "number",
                                            min: "0",
                                            max: "100",
                                            step: "0.1",
                                            value: a,
                                            onChange: N => i(N.target.value),
                                            "data-testid": "input-commission-rate"
                                        }), r.jsxs("p", {
                                            className: "text-xs text-muted-foreground",
                                            children: ["Commission actuelle: ", (qr == null ? void 0 : qr.commissionPercentage) || a, "%"]
                                        })]
                                    }), r.jsxs(E, {
                                        onClick: async () => {
                                            try {
                                                await Ae("PATCH", "/api/admin/settings", {
                                                    commissionPercentage: parseFloat(a)
                                                }),
                                                Me({
                                                    title: "Commission mise  jour",
                                                    description: `Le taux de commission est maintenant de ${a}%`
                                                }),
                                                le.invalidateQueries({
                                                    queryKey: ["/api/admin/settings"]
                                                })
                                            } catch {
                                                Me({
                                                    variant: "destructive",
                                                    title: "Erreur",
                                                    description: "chec de la mise  jour de la commission"
                                                })
                                            }
                                        }
                                        ,
                                        "data-testid": "button-update-commission",
                                        children: [r.jsx(si, {
                                            className: "w-4 h-4 mr-2"
                                        }), "Mettre  jour"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "bg-muted/50 rounded-lg p-4 mt-6",
                                    children: [r.jsx("h4", {
                                        className: "font-medium mb-2",
                                        children: "Exemple de calcul"
                                    }), r.jsxs("div", {
                                        className: "text-sm space-y-1",
                                        children: [r.jsxs("p", {
                                            children: ["Prix transporteur: ", r.jsx("strong", {
                                                children: "1000 MAD"
                                            })]
                                        }), r.jsxs("p", {
                                            children: ["Commission (", a, "%): ", r.jsxs("strong", {
                                                children: [(1e3 * parseFloat(a || "0") / 100).toFixed(2), " MAD"]
                                            })]
                                        }), r.jsxs("p", {
                                            className: "pt-2 border-t border-border mt-2",
                                            children: ["Total client: ", r.jsxs("strong", {
                                                className: "text-primary",
                                                children: [(1e3 + 1e3 * parseFloat(a || "0") / 100).toFixed(2), " MAD"]
                                            })]
                                        })]
                                    })]
                                })]
                            })
                        })]
                    })
                }), r.jsx(Et, {
                    value: "empty-returns",
                    className: "mt-6",
                    children: r.jsxs(J, {
                        children: [r.jsx(ye, {
                            children: r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(At, {
                                    className: "w-5 h-5"
                                }), "Retours  vide annoncs"]
                            })
                        }), r.jsx(te, {
                            children: FI ? r.jsx("div", {
                                className: "text-center py-8",
                                children: r.jsx(gn, {
                                    message: "Chargement des retours  vide...",
                                    size: "md"
                                })
                            }) : cu.length === 0 ? r.jsxs("div", {
                                className: "text-center py-8",
                                children: [r.jsx(At, {
                                    className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                                }), r.jsx("p", {
                                    className: "text-muted-foreground",
                                    children: "Aucun retour  vide annonc"
                                })]
                            }) : r.jsxs(Vn, {
                                children: [r.jsx(Bn, {
                                    children: r.jsxs(kt, {
                                        children: [r.jsx(K, {
                                            children: "Transporteur"
                                        }), r.jsx(K, {
                                            children: "Tlphone"
                                        }), r.jsx(K, {
                                            children: "De"
                                        }), r.jsx(K, {
                                            children: "Vers"
                                        }), r.jsx(K, {
                                            children: "Date de retour"
                                        }), r.jsx(K, {
                                            className: "text-right",
                                            children: "Actions"
                                        })]
                                    })
                                }), r.jsx(Un, {
                                    children: cu.map(N => {
                                        const P = Nn.find(ne => ne.id === N.transporterId);
                                        return r.jsxs(kt, {
                                            children: [r.jsx(Q, {
                                                className: "font-medium",
                                                children: (P == null ? void 0 : P.name) || "Inconnu"
                                            }), r.jsx(Q, {
                                                children: r.jsx("a", {
                                                    href: `tel:${P == null ? void 0 : P.phoneNumber}`,
                                                    className: "text-primary hover:underline",
                                                    children: (P == null ? void 0 : P.phoneNumber) || "N/A"
                                                })
                                            }), r.jsx(Q, {
                                                children: N.fromCity
                                            }), r.jsx(Q, {
                                                children: N.toCity
                                            }), r.jsx(Q, {
                                                children: new Date(N.returnDate).toLocaleDateString("fr-FR")
                                            }), r.jsx(Q, {
                                                className: "text-right",
                                                children: r.jsx(E, {
                                                    size: "sm",
                                                    className: "bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                                                    onClick: () => {
                                                        x(N),
                                                        f(!0)
                                                    }
                                                    ,
                                                    "data-testid": `button-assign-order-${N.id}`,
                                                    children: "Affecter une commande"
                                                })
                                            })]
                                        }, N.id)
                                    }
                                    )
                                })]
                            })
                        })]
                    })
                })]
            })]
        }), r.jsx(j9, {
            open: e,
            onClose: () => t(!1),
            onSuccess: () => {}
        }), r.jsx(N9, {
            open: n,
            onClose: () => s(!1),
            onSuccess: () => {}
        }), r.jsx(mt, {
            open: c,
            onOpenChange: d,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-2xl",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Reu de paiement"
                    }), r.jsx(_t, {
                        children: "Vrifiez le reu de paiement du client avant validation"
                    })]
                }), r.jsx("div", {
                    className: "mt-4",
                    children: o && r.jsx("img", {
                        src: o,
                        alt: "Reu de paiement",
                        className: "w-full h-auto max-h-[70vh] object-contain rounded-lg border"
                    })
                })]
            })
        }), r.jsx(mt, {
            open: u,
            onOpenChange: f,
            children: r.jsxs(dt, {
                className: "max-w-[90vw] sm:max-w-3xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Affecter une commande"
                    }), r.jsxs(_t, {
                        children: ["Slectionnez une commande ouverte  affecter au transporteur", h && r.jsxs("span", {
                            className: "block mt-2 text-sm",
                            children: ["Retour: ", r.jsxs("strong", {
                                children: [h.fromCity, "  ", h.toCity]
                            }), " ", "le", " ", r.jsx("strong", {
                                children: new Date(h.returnDate).toLocaleDateString("fr-FR")
                            })]
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "mt-4 space-y-4",
                    children: [r.jsxs("div", {
                        className: "relative",
                        children: [r.jsx(jr, {
                            className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                        }), r.jsx(_e, {
                            placeholder: "Rechercher par rfrence (CMD-XXXX)...",
                            value: ae,
                            onChange: N => X(N.target.value),
                            className: "pl-10",
                            "data-testid": "input-search-assign-order"
                        })]
                    }), ( () => {
                        const N = os.filter(P => P.status === "open").filter(P => !ae || P.referenceId.toLowerCase().includes(ae.toLowerCase()));
                        return os.filter(P => P.status === "open").length === 0 ? r.jsxs("div", {
                            className: "text-center py-8",
                            children: [r.jsx(zt, {
                                className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                            }), r.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Aucune commande ouverte disponible"
                            })]
                        }) : N.length === 0 && ae ? r.jsxs("div", {
                            className: "text-center py-8",
                            children: [r.jsx(jr, {
                                className: "w-12 h-12 text-muted-foreground mx-auto mb-4"
                            }), r.jsx("p", {
                                className: "text-muted-foreground",
                                children: "Aucune commande trouve avec cette rfrence"
                            })]
                        }) : r.jsx("div", {
                            className: "space-y-3",
                            children: N.map(P => {
                                const ne = Nn.find(Ne => Ne.id === P.clientId);
                                return r.jsx(J, {
                                    className: "hover-elevate cursor-pointer",
                                    onClick: () => {
                                        h && ph.mutate({
                                            emptyReturnId: h.id,
                                            requestId: P.id
                                        })
                                    }
                                    ,
                                    "data-testid": `card-assign-request-${P.id}`,
                                    children: r.jsx(te, {
                                        className: "p-4",
                                        children: r.jsxs("div", {
                                            className: "flex justify-between items-start gap-4",
                                            children: [r.jsxs("div", {
                                                className: "flex-1 space-y-2",
                                                children: [r.jsxs("div", {
                                                    className: "flex items-center gap-2",
                                                    children: [r.jsxs(de, {
                                                        variant: "outline",
                                                        children: ["Rf: ", P.referenceId]
                                                    }), r.jsxs("span", {
                                                        className: "text-sm text-muted-foreground",
                                                        children: ["Client ", (ne == null ? void 0 : ne.clientId) || "Non dfini"]
                                                    })]
                                                }), r.jsxs("div", {
                                                    className: "flex items-center gap-2 text-sm",
                                                    children: [r.jsx("span", {
                                                        className: "font-medium",
                                                        children: P.fromCity
                                                    }), r.jsx("span", {
                                                        className: "text-muted-foreground",
                                                        children: ""
                                                    }), r.jsx("span", {
                                                        className: "font-medium",
                                                        children: P.toCity
                                                    })]
                                                }), r.jsx("p", {
                                                    className: "text-sm text-muted-foreground line-clamp-2",
                                                    children: P.description
                                                })]
                                            }), r.jsx(E, {
                                                size: "sm",
                                                className: "bg-[#00d4b2] hover:bg-[#00d4b2] border border-[#00d4b2]",
                                                disabled: ph.isPending,
                                                children: ph.isPending ? "Affectation..." : "Affecter"
                                            })]
                                        })
                                    })
                                }, P.id)
                            }
                            )
                        })
                    }
                    )()]
                })]
            })
        }), r.jsx(mt, {
            open: w,
            onOpenChange: y,
            children: r.jsxs(dt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Dtails du contrat"
                    }), r.jsx(_t, {
                        children: "Informations compltes sur le contrat et la commande associe"
                    })]
                }), j && ( () => {
                    const N = os.find(Y => Y.id === j.requestId)
                      , P = Is.find(Y => Y.id === j.offerId)
                      , ne = Nn.find(Y => Y.id === j.clientId)
                      , Ne = Nn.find(Y => Y.id === j.transporterId);
                    return r.jsxs("div", {
                        className: "mt-4 space-y-6",
                        children: [r.jsxs("div", {
                            className: "flex items-center justify-between pb-4 border-b",
                            children: [r.jsxs("div", {
                                children: [r.jsxs("h3", {
                                    className: "text-lg font-semibold",
                                    children: ["Contrat ", j.referenceId]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Cr le ", new Date(j.createdAt).toLocaleDateString("fr-FR")]
                                })]
                            }), r.jsxs("div", {
                                className: "flex flex-col gap-2",
                                children: [r.jsx("label", {
                                    className: "text-sm font-medium",
                                    children: "Changer le statut"
                                }), r.jsxs(Vt, {
                                    value: j.status,
                                    onValueChange: async Y => {
                                        try {
                                            await Ae("PATCH", `/api/contracts/${j.id}`, {
                                                status: Y
                                            }),
                                            Me({
                                                title: "Statut mis  jour",
                                                description: "Le statut du contrat a t modifi avec succs"
                                            }),
                                            le.invalidateQueries({
                                                queryKey: ["/api/contracts"]
                                            }),
                                            y(!1)
                                        } catch {
                                            Me({
                                                variant: "destructive",
                                                title: "Erreur",
                                                description: "chec de la mise  jour du statut"
                                            })
                                        }
                                    }
                                    ,
                                    children: [r.jsx(Mt, {
                                        className: "w-[250px]",
                                        children: r.jsx(Bt, {})
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "in_progress",
                                            children: "En cours d'excution"
                                        }), r.jsx(Se, {
                                            value: "marked_paid_transporter",
                                            children: "Pay ct transporteur"
                                        }), r.jsx(Se, {
                                            value: "marked_paid_client",
                                            children: "Pay ct client"
                                        }), r.jsx(Se, {
                                            value: "completed",
                                            children: "Termin"
                                        })]
                                    })]
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    className: "text-base",
                                    children: "Informations financires"
                                })
                            }), r.jsx(te, {
                                className: "space-y-2",
                                children: r.jsxs("div", {
                                    className: "flex justify-between",
                                    children: [r.jsx("span", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Montant convenu"
                                    }), r.jsxs("span", {
                                        className: "font-semibold",
                                        children: [j.amount, " MAD"]
                                    })]
                                })
                            })]
                        }), r.jsxs("div", {
                            className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                            children: [r.jsxs(J, {
                                children: [r.jsx(ye, {
                                    children: r.jsxs(we, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(fs, {
                                            className: "w-4 h-4"
                                        }), "Client"]
                                    })
                                }), r.jsxs(te, {
                                    className: "space-y-2",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Identifiant"
                                        }), r.jsxs("p", {
                                            className: "font-medium",
                                            children: ["Client ", (ne == null ? void 0 : ne.clientId) || "Non dfini"]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Rr, {
                                                className: "w-4 h-4"
                                            }), (ne == null ? void 0 : ne.city) || "N/A"]
                                        })]
                                    })]
                                })]
                            }), r.jsxs(J, {
                                children: [r.jsx(ye, {
                                    children: r.jsxs(we, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(At, {
                                            className: "w-4 h-4"
                                        }), "Transporteur"]
                                    })
                                }), r.jsxs(te, {
                                    className: "space-y-2",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Nom"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (Ne == null ? void 0 : Ne.name) || "N/A"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Tlphone"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(an, {
                                                className: "w-4 h-4"
                                            }), (Ne == null ? void 0 : Ne.phoneNumber) || "N/A"]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Rr, {
                                                className: "w-4 h-4"
                                            }), (Ne == null ? void 0 : Ne.city) || "N/A"]
                                        })]
                                    })]
                                })]
                            })]
                        }), N && r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(Ma, {
                                        className: "w-4 h-4"
                                    }), "Dtails de la commande"]
                                })
                            }), r.jsxs(te, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville de dpart"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: N.fromCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville d'arrive"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: N.toCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Or, {
                                                className: "w-4 h-4"
                                            }), new Date(N.dateTime).toLocaleDateString("fr-FR")]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de marchandise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: N.goodsType
                                        })]
                                    })]
                                }), r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "mt-1",
                                        children: N.description
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex gap-2",
                                    children: [N.dateFlexible && r.jsx(de, {
                                        variant: "outline",
                                        children: "Date flexible"
                                    }), N.invoiceRequired && r.jsx(de, {
                                        variant: "outline",
                                        children: "Facture TTC requise"
                                    })]
                                }), N.photos && N.photos.length > 0 && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground mb-2",
                                        children: "Photos"
                                    }), r.jsx("div", {
                                        className: "grid grid-cols-2 sm:grid-cols-3 gap-2",
                                        children: N.photos.map( (Y, Te) => r.jsx("img", {
                                            src: Y,
                                            alt: `Photo ${Te + 1}`,
                                            className: "w-full h-24 object-cover rounded-lg border"
                                        }, Te))
                                    })]
                                })]
                            })]
                        }), P && r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(zt, {
                                        className: "w-4 h-4"
                                    }), "Dtails de l'offre"]
                                })
                            }), r.jsx(te, {
                                className: "space-y-2",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de prise en charge"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-2",
                                            children: [r.jsx(Or, {
                                                className: "w-4 h-4"
                                            }), new Date(P.pickupDate).toLocaleDateString("fr-FR")]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de chargement"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: P.loadType === "return" ? "Retour (camion vide)" : "Groupage / Partag"
                                        })]
                                    })]
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(mt, {
            open: gt,
            onOpenChange: Nt,
            children: r.jsxs(dt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        className: "text-xl font-bold",
                        children: "Dtails de la commande"
                    }), r.jsx(_t, {
                        children: ce == null ? void 0 : ce.referenceId
                    })]
                }), ce && ( () => {
                    const N = Nn.find(Y => Y.id === ce.clientId)
                      , P = Y => {
                        if (!Y)
                            return "N/A";
                        try {
                            return new Date(Y).toLocaleDateString("fr-FR", {
                                day: "2-digit",
                                month: "2-digit",
                                year: "numeric",
                                hour: "2-digit",
                                minute: "2-digit"
                            })
                        } catch {
                            return "N/A"
                        }
                    }
                      , ne = Y => Y === "open" ? r.jsx(de, {
                        variant: "default",
                        children: "Ouverte"
                    }) : Y === "accepted" ? r.jsx(de, {
                        className: "bg-blue-600",
                        children: "Accepte"
                    }) : Y === "completed" ? r.jsx(de, {
                        className: "bg-green-600",
                        children: "Complte"
                    }) : Y === "cancelled" ? r.jsx(de, {
                        variant: "destructive",
                        children: "Annule"
                    }) : r.jsx(de, {
                        variant: "secondary",
                        children: Y
                    })
                      , Ne = Y => Y === "pending" ? r.jsx(de, {
                        variant: "secondary",
                        children: "En attente"
                    }) : Y === "awaiting_payment" ? r.jsx(de, {
                        className: "bg-yellow-600",
                        children: "Attente paiement"
                    }) : Y === "pending_admin_validation" ? r.jsx(de, {
                        className: "bg-orange-600",
                        children: "Validation admin"
                    }) : Y === "paid" ? r.jsx(de, {
                        className: "bg-green-600",
                        children: "Pay"
                    }) : r.jsx(de, {
                        variant: "secondary",
                        children: Y
                    });
                    return r.jsxs("div", {
                        className: "space-y-6 py-4",
                        children: [r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(fs, {
                                        className: "w-4 h-4"
                                    }), "Informations client"]
                                })
                            }), r.jsx(te, {
                                className: "space-y-3",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Numro de tlphone"
                                        }), r.jsxs("p", {
                                            className: "font-medium text-base flex items-center gap-2",
                                            children: [r.jsx(an, {
                                                className: "w-4 h-4 text-primary"
                                            }), (N == null ? void 0 : N.phoneNumber) || "Non dfini"]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "ID Client"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (N == null ? void 0 : N.clientId) || "N/A"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Ville"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: (N == null ? void 0 : N.city) || "N/A"
                                        })]
                                    })]
                                })
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(zt, {
                                        className: "w-4 h-4"
                                    }), "Dtails du transport"]
                                })
                            }), r.jsxs(te, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "De"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(Rr, {
                                                className: "w-3 h-3"
                                            }), ce.fromCity]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Vers"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(Rr, {
                                                className: "w-3 h-3"
                                            }), ce.toCity]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsxs("p", {
                                            className: "font-medium flex items-center gap-1",
                                            children: [r.jsx(Or, {
                                                className: "w-3 h-3"
                                            }), P(ce.dateTime)]
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date flexible"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: ce.dateFlexible ? "Oui" : "Non"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Type de marchandise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: ce.goodsType
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Budget estim"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: ce.budget ? `${parseFloat(ce.budget).toLocaleString("fr-MA")} MAD` : "Non spcifi"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Facture TTC requise"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: ce.invoiceRequired ? "Oui" : "Non"
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Nombre de vues"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: ce.viewCount || 0
                                        })]
                                    })]
                                }), r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "font-medium text-sm bg-muted p-3 rounded-md",
                                        children: ce.description
                                    })]
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base flex items-center gap-2",
                                    children: [r.jsx(Ma, {
                                        className: "w-4 h-4"
                                    }), "Statut et suivi"]
                                })
                            }), r.jsx(te, {
                                className: "space-y-3",
                                children: r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Statut de la demande"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: ne(ce.status)
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Statut du paiement"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: Ne(ce.paymentStatus)
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Visibilit"
                                        }), r.jsx("div", {
                                            className: "mt-1",
                                            children: ce.isHidden ? r.jsx(de, {
                                                variant: "secondary",
                                                children: "Masque"
                                            }) : r.jsx(de, {
                                                variant: "default",
                                                children: "Visible"
                                            })
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de cration"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: P(ce.createdAt)
                                        })]
                                    })]
                                })
                            })]
                        }), ce.photos && ce.photos.length > 0 && r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsxs(we, {
                                    className: "text-base",
                                    children: ["Photos du chargement (", ce.photos.length, ")"]
                                })
                            }), r.jsx(te, {
                                children: r.jsx("div", {
                                    className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",
                                    children: ce.photos.map( (Y, Te) => r.jsx("div", {
                                        className: "aspect-square rounded-lg overflow-hidden border hover:border-primary cursor-pointer transition-all",
                                        onClick: () => window.open(Y, "_blank"),
                                        children: r.jsx("img", {
                                            src: Y,
                                            alt: `Photo ${Te + 1}`,
                                            className: "w-full h-full object-cover hover:scale-110 transition-transform"
                                        })
                                    }, Te))
                                })
                            })]
                        }), ( () => {
                            const Y = Is.filter(Te => Te.requestId === ce.id);
                            return Y.length === 0 ? null : r.jsxs(J, {
                                children: [r.jsx(ye, {
                                    children: r.jsxs(we, {
                                        className: "text-base flex items-center gap-2",
                                        children: [r.jsx(zt, {
                                            className: "w-4 h-4"
                                        }), "Offres reues (", Y.length, ")"]
                                    })
                                }), r.jsx(te, {
                                    children: r.jsx("div", {
                                        className: "space-y-3",
                                        children: Y.map(Te => {
                                            const yt = Nn.find($n => $n.id === Te.transporterId)
                                              , lt = $n => {
                                                if (!$n)
                                                    return "N/A";
                                                try {
                                                    return new Date($n).toLocaleDateString("fr-FR", {
                                                        day: "2-digit",
                                                        month: "2-digit",
                                                        year: "numeric",
                                                        hour: "2-digit",
                                                        minute: "2-digit"
                                                    })
                                                } catch {
                                                    return "N/A"
                                                }
                                            }
                                            ;
                                            return r.jsxs("div", {
                                                className: "flex items-center justify-between p-4 border rounded-lg hover-elevate",
                                                children: [r.jsxs("div", {
                                                    className: "flex-1 space-y-1",
                                                    children: [r.jsxs("div", {
                                                        className: "flex items-center gap-2",
                                                        children: [r.jsx("p", {
                                                            className: "font-medium",
                                                            children: (yt == null ? void 0 : yt.name) || "Transporteur inconnu"
                                                        }), Te.status === "accepted" && r.jsx(de, {
                                                            className: "bg-green-600",
                                                            children: "Accepte"
                                                        })]
                                                    }), r.jsxs("p", {
                                                        className: "text-sm font-medium flex items-center gap-2",
                                                        children: [r.jsx(an, {
                                                            className: "w-3 h-3 text-primary"
                                                        }), (yt == null ? void 0 : yt.phoneNumber) || "N/A"]
                                                    }), r.jsxs("div", {
                                                        className: "flex items-center gap-4 text-sm",
                                                        children: [r.jsxs("span", {
                                                            className: "font-semibold text-primary",
                                                            children: [parseFloat(Te.amount).toLocaleString("fr-MA"), " MAD"]
                                                        }), r.jsx("span", {
                                                            className: "text-muted-foreground",
                                                            children: lt(Te.createdAt)
                                                        })]
                                                    })]
                                                }), Te.status !== "accepted" && ce.status === "open" && r.jsx(E, {
                                                    size: "sm",
                                                    onClick: () => {
                                                        confirm("Voulez-vous accepter cette offre ? Le transporteur et le client seront notifis.") && (by(Te.id, ce.id),
                                                        Nt(!1))
                                                    }
                                                    ,
                                                    "data-testid": `button-accept-offer-${Te.id}`,
                                                    children: " Accepter l'offre"
                                                })]
                                            }, Te.id)
                                        }
                                        )
                                    })
                                })]
                            })
                        }
                        )(), r.jsxs("div", {
                            className: "flex justify-end gap-3 pt-4 border-t",
                            children: [r.jsx(E, {
                                variant: "outline",
                                onClick: () => Nt(!1),
                                children: "Fermer"
                            }), r.jsxs(Vt, {
                                value: ce.status,
                                onValueChange: Y => {
                                    KI.mutate({
                                        requestId: ce.id,
                                        updates: {
                                            status: Y
                                        }
                                    })
                                }
                                ,
                                children: [r.jsx(Mt, {
                                    className: "w-[200px]",
                                    children: r.jsx(Bt, {
                                        placeholder: "Modifier le statut"
                                    })
                                }), r.jsxs(Ot, {
                                    children: [r.jsx(Se, {
                                        value: "open",
                                        children: "Ouverte"
                                    }), r.jsx(Se, {
                                        value: "accepted",
                                        children: "Accepte"
                                    }), r.jsx(Se, {
                                        value: "completed",
                                        children: "Complte"
                                    }), r.jsx(Se, {
                                        value: "cancelled",
                                        children: "Annule"
                                    })]
                                })]
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(mt, {
            open: b,
            onOpenChange: k,
            children: r.jsxs(dt, {
                className: "max-w-[95vw] sm:max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",
                children: [r.jsxs(ft, {
                    children: [r.jsxs(ht, {
                        children: ["Conversation - ", p == null ? void 0 : p.referenceId]
                    }), r.jsxs(_t, {
                        children: ["Client ", (p == null ? void 0 : p.clientId) || "Non dfini", "  ", p == null ? void 0 : p.transporterName]
                    })]
                }), p && ( () => {
                    const N = async () => {
                        if (T.trim())
                            try {
                                await Ae("POST", "/api/chat/messages", {
                                    requestId: p.requestId,
                                    senderId: jt.id,
                                    receiverId: p.clientId,
                                    message: T,
                                    messageType: "text",
                                    senderType: "admin"
                                }),
                                Me({
                                    title: "Message envoy",
                                    description: "Votre message a t envoy avec succs"
                                }),
                                D(""),
                                le.invalidateQueries({
                                    queryKey: ["/api/chat/messages", p.requestId]
                                })
                            } catch {
                                Me({
                                    variant: "destructive",
                                    title: "Erreur",
                                    description: "chec de l'envoi du message"
                                })
                            }
                    }
                      , P = async Y => {
                        try {
                            const Te = new FormData
                              , yt = `voice-${Date.now()}.webm`;
                            Te.append("audio", Y, yt);
                            const lt = await fetch("/api/messages/upload-voice", {
                                method: "POST",
                                body: Te
                            });
                            if (!lt.ok) {
                                const cs = await lt.json().catch( () => ({
                                    error: "Unknown error"
                                }));
                                throw console.error("Upload error:", cs),
                                new Error(cs.error || "Upload failed")
                            }
                            const {fileUrl: $n} = await lt.json();
                            await Ae("POST", "/api/chat/messages", {
                                requestId: p.requestId,
                                senderId: jt.id,
                                receiverId: p.clientId,
                                messageType: "voice",
                                fileUrl: $n,
                                senderType: "admin"
                            }),
                            Me({
                                title: "Message vocal envoy",
                                description: "Votre message vocal a t envoy avec succs"
                            }),
                            le.invalidateQueries({
                                queryKey: ["/api/chat/messages", p.requestId]
                            })
                        } catch (Te) {
                            console.error("Voice message error:", Te),
                            Me({
                                variant: "destructive",
                                title: "Erreur",
                                description: "chec de l'envoi du message vocal"
                            })
                        }
                    }
                      , ne = Y => Y.senderType === "admin" ? "bg-orange-500/20 border-orange-500/40 ml-4 mr-4" : Y.senderId === p.clientId ? "bg-blue-500/20 border-blue-500/40 ml-0 mr-auto" : "bg-green-500/20 border-green-500/40 ml-auto mr-0"
                      , Ne = Y => Y.senderType === "admin" ? "Admin CamionBack" : Y.senderId === p.clientId ? `Client ${p.clientId || "Non dfini"}` : p.transporterName;
                    return r.jsxs("div", {
                        className: "flex flex-col gap-4 flex-1",
                        children: [r.jsx("div", {
                            className: "flex-1 overflow-y-auto max-h-[50vh] space-y-3 p-4 border rounded-lg",
                            children: jy.length === 0 ? r.jsx("p", {
                                className: "text-center text-muted-foreground",
                                children: "Aucun message"
                            }) : jy.map(Y => {
                                const Te = Y.messageType === "voice";
                                return r.jsxs("div", {
                                    className: `p-3 rounded-lg border max-w-[80%] ${ne(Y)}`,
                                    "data-testid": `message-${Y.id}`,
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 mb-1",
                                        children: [r.jsx("span", {
                                            className: "text-xs font-semibold",
                                            "data-testid": `message-sender-${Y.id}`,
                                            children: Ne(Y)
                                        }), r.jsx("span", {
                                            className: "text-xs text-muted-foreground",
                                            "data-testid": `message-time-${Y.id}`,
                                            children: new Date(Y.createdAt).toLocaleString("fr-FR", {
                                                hour: "2-digit",
                                                minute: "2-digit"
                                            })
                                        })]
                                    }), Te && Y.fileUrl ? r.jsx(aA, {
                                        audioUrl: Y.fileUrl
                                    }) : r.jsx("p", {
                                        className: "text-sm",
                                        "data-testid": `message-text-${Y.id}`,
                                        children: Y.message
                                    })]
                                }, Y.id)
                            }
                            )
                        }), r.jsxs("div", {
                            className: "flex gap-2",
                            children: [r.jsx(Cs, {
                                placeholder: "Envoyer un message en tant qu'Admin CamionBack...",
                                value: T,
                                onChange: Y => D(Y.target.value),
                                onKeyDown: Y => {
                                    Y.key === "Enter" && !Y.shiftKey && (Y.preventDefault(),
                                    N())
                                }
                                ,
                                className: "flex-1",
                                "data-testid": "textarea-admin-message"
                            }), r.jsx(sA, {
                                onVoiceRecorded: P,
                                disabled: !1
                            }), r.jsx(E, {
                                onClick: N,
                                disabled: !T.trim(),
                                "data-testid": "button-send-admin-message",
                                children: r.jsx(Bi, {
                                    className: "w-4 h-4"
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), r.jsx(to, {
            open: !!S,
            onOpenChange: N => !N && C(null),
            children: r.jsxs(oi, {
                children: [r.jsxs(li, {
                    children: [r.jsx(di, {
                        children: "Supprimer la conversation ?"
                    }), r.jsx(ui, {
                        children: "Souhaitez-vous vraiment supprimer cette conversation ? Cette action est irrversible et supprimera tous les messages lis  cette commande."
                    })]
                }), r.jsxs(ci, {
                    children: [r.jsx(Ol, {
                        "data-testid": "button-cancel-delete",
                        children: "Annuler"
                    }), r.jsx(mi, {
                        onClick: async () => {
                            if (S)
                                try {
                                    await Ae("DELETE", `/api/chat/conversation/${S}`, {}),
                                    Me({
                                        title: "Conversation supprime",
                                        description: "La conversation a t supprime avec succs"
                                    }),
                                    C(null),
                                    le.invalidateQueries({
                                        queryKey: ["/api/admin/conversations"]
                                    })
                                } catch {
                                    Me({
                                        variant: "destructive",
                                        title: "Erreur",
                                        description: "chec de la suppression de la conversation"
                                    })
                                }
                        }
                        ,
                        className: "bg-destructive hover:bg-destructive/90",
                        "data-testid": "button-confirm-delete",
                        children: "Supprimer"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: oe,
            onOpenChange: he,
            children: r.jsxs(dt, {
                className: "max-w-[95vw] sm:max-w-4xl max-h-[90vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Dtails de la facture"
                    }), r.jsx(_t, {
                        children: "Informations compltes sur le paiement valid"
                    })]
                }), I && ( () => {
                    const N = Nn.find(lt => lt.id === I.clientId)
                      , P = I.acceptedOfferId ? Is.find(lt => lt.id === I.acceptedOfferId) : null
                      , ne = P ? Nn.find(lt => lt.id === P.transporterId) : null
                      , Ne = P ? parseFloat(P.amount) : 0
                      , Y = (qr == null ? void 0 : qr.commissionPercentage) || 10
                      , Te = Ne * (Y / 100)
                      , yt = Ne + Te;
                    return r.jsxs("div", {
                        className: "mt-4 space-y-6",
                        children: [r.jsxs("div", {
                            className: "flex items-center justify-between pb-4 border-b",
                            children: [r.jsxs("div", {
                                children: [r.jsxs("h3", {
                                    className: "text-lg font-semibold",
                                    children: ["Facture ", I.referenceId]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: ["Pay le ", I.updatedAt ? new Date(I.updatedAt).toLocaleDateString("fr-FR") : "N/A"]
                                })]
                            }), r.jsx(de, {
                                className: "bg-green-600",
                                children: "Pay"
                            })]
                        }), r.jsxs("div", {
                            className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                            children: [r.jsxs(J, {
                                children: [r.jsx(ye, {
                                    className: "pb-3",
                                    children: r.jsx(we, {
                                        className: "text-sm text-muted-foreground",
                                        children: "Client"
                                    })
                                }), r.jsx(te, {
                                    children: r.jsxs("p", {
                                        className: "font-medium",
                                        children: ["Client ", (N == null ? void 0 : N.clientId) || "Non dfini"]
                                    })
                                })]
                            }), r.jsxs(J, {
                                children: [r.jsx(ye, {
                                    className: "pb-3",
                                    children: r.jsx(we, {
                                        className: "text-sm text-muted-foreground",
                                        children: "Transporteur"
                                    })
                                }), r.jsxs(te, {
                                    children: [r.jsx("p", {
                                        className: "font-medium",
                                        children: (ne == null ? void 0 : ne.name) || "Inconnu"
                                    }), r.jsxs("div", {
                                        className: "flex items-center gap-1 text-sm text-muted-foreground mt-1",
                                        children: [r.jsx(an, {
                                            className: "w-3 h-3"
                                        }), r.jsx("a", {
                                            href: `tel:${ne == null ? void 0 : ne.phoneNumber}`,
                                            className: "hover:underline",
                                            children: ne == null ? void 0 : ne.phoneNumber
                                        })]
                                    })]
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Dtails financiers"
                                })
                            }), r.jsxs(te, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "flex justify-between items-center pb-2 border-b",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Montant transporteur"
                                    }), r.jsxs("span", {
                                        className: "font-semibold",
                                        children: [Ne.toFixed(2), " MAD"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex justify-between items-center pb-2 border-b",
                                    children: [r.jsxs("span", {
                                        className: "text-muted-foreground",
                                        children: ["Commission CamionBack (", Y, "%)"]
                                    }), r.jsxs("span", {
                                        className: "font-semibold text-green-600",
                                        children: [Te.toFixed(2), " MAD"]
                                    })]
                                }), r.jsxs("div", {
                                    className: "flex justify-between items-center pt-2",
                                    children: [r.jsx("span", {
                                        className: "font-semibold text-lg",
                                        children: "Total pay par le client"
                                    }), r.jsxs("span", {
                                        className: "font-bold text-xl text-primary",
                                        children: [yt.toFixed(2), " MAD"]
                                    })]
                                })]
                            })]
                        }), r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Dtails du transport"
                                })
                            }), r.jsxs(te, {
                                className: "space-y-3",
                                children: [r.jsxs("div", {
                                    className: "grid grid-cols-1 sm:grid-cols-2 gap-4",
                                    children: [r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "De"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: I.fromCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Vers"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: I.toCity
                                        })]
                                    }), r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date souhaite"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: new Date(I.desiredDate).toLocaleDateString("fr-FR")
                                        })]
                                    }), P && r.jsxs("div", {
                                        children: [r.jsx("p", {
                                            className: "text-sm text-muted-foreground",
                                            children: "Date de prise en charge"
                                        }), r.jsx("p", {
                                            className: "font-medium",
                                            children: new Date(P.pickupDate).toLocaleDateString("fr-FR")
                                        })]
                                    })]
                                }), I.description && r.jsxs("div", {
                                    children: [r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Description"
                                    }), r.jsx("p", {
                                        className: "text-sm mt-1",
                                        children: I.description
                                    })]
                                })]
                            })]
                        }), I.paymentReceipt && r.jsxs(J, {
                            children: [r.jsx(ye, {
                                children: r.jsx(we, {
                                    children: "Reu de paiement"
                                })
                            }), r.jsx(te, {
                                children: r.jsx("img", {
                                    src: I.paymentReceipt,
                                    alt: "Reu de paiement",
                                    className: "w-full h-auto max-h-[400px] object-contain rounded-lg border"
                                })
                            })]
                        })]
                    })
                }
                )()]
            })
        }), _ && r.jsx(b9, {
            open: !!_,
            onOpenChange: N => !N && $(null),
            transporterId: _.id,
            transporterName: _.name
        }), r.jsx(to, {
            open: !!q,
            onOpenChange: N => !N && xe(null),
            children: r.jsxs(oi, {
                "data-testid": "dialog-delete-offer",
                children: [r.jsxs(li, {
                    children: [r.jsx(di, {
                        children: "Supprimer cette offre ?"
                    }), r.jsx(ui, {
                        children: "Voulez-vous vraiment supprimer cette offre ? Cette action est irrversible."
                    })]
                }), r.jsxs(ci, {
                    children: [r.jsx(Ol, {
                        "data-testid": "button-cancel-delete-offer",
                        children: "Annuler"
                    }), r.jsx(mi, {
                        onClick: () => q && QI.mutate(q),
                        className: "bg-destructive hover:bg-destructive/90",
                        "data-testid": "button-confirm-delete-offer",
                        children: "Supprimer"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: !!me,
            onOpenChange: N => !N && ee(null),
            children: r.jsxs(dt, {
                "data-testid": "dialog-edit-offer",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Modifier l'offre"
                    }), r.jsx(_t, {
                        children: "Modifiez le prix, la date ou le type de chargement de l'offre."
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-amount",
                            className: "text-sm font-medium",
                            children: "Prix propos (MAD)"
                        }), r.jsx(_e, {
                            id: "edit-amount",
                            type: "number",
                            value: je,
                            onChange: N => $e(N.target.value),
                            placeholder: "Montant",
                            "data-testid": "input-edit-offer-amount"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-date",
                            className: "text-sm font-medium",
                            children: "Date de prise en charge"
                        }), r.jsx(_e, {
                            id: "edit-date",
                            type: "date",
                            value: Rt,
                            onChange: N => B(N.target.value),
                            "data-testid": "input-edit-offer-date"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-load-type",
                            className: "text-sm font-medium",
                            children: "Type de chargement"
                        }), r.jsxs(Vt, {
                            value: Ke,
                            onValueChange: Yt,
                            children: [r.jsx(Mt, {
                                "data-testid": "select-edit-offer-load-type",
                                children: r.jsx(Bt, {
                                    placeholder: "Slectionner le type"
                                })
                            }), r.jsxs(Ot, {
                                children: [r.jsx(Se, {
                                    value: "return",
                                    children: "Retour"
                                }), r.jsx(Se, {
                                    value: "shared",
                                    children: "Groupage / Partag"
                                })]
                            })]
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex justify-end gap-2",
                    children: [r.jsx(E, {
                        variant: "outline",
                        onClick: () => ee(null),
                        "data-testid": "button-cancel-edit-offer",
                        children: "Annuler"
                    }), r.jsx(E, {
                        onClick: () => {
                            me && GI.mutate({
                                offerId: me.id,
                                updates: {
                                    amount: parseFloat(je),
                                    pickupDate: Rt,
                                    loadType: Ke
                                }
                            })
                        }
                        ,
                        "data-testid": "button-confirm-edit-offer",
                        children: "Enregistrer"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: wn,
            onOpenChange: Tr,
            children: r.jsxs(dt, {
                className: "max-w-4xl",
                "data-testid": "dialog-enlarged-truck-photo",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Photo du camion"
                    }), r.jsx(_t, {
                        children: "Vrification visuelle de la photo du vhicule"
                    })]
                }), r.jsx("div", {
                    className: "flex items-center justify-center p-4",
                    children: r.jsx("img", {
                        src: cn,
                        alt: "Camion agrandi",
                        className: "max-w-full max-h-[600px] object-contain rounded-lg",
                        "data-testid": "img-enlarged-truck"
                    })
                })]
            })
        }), r.jsx(mt, {
            open: RI,
            onOpenChange: iu,
            children: r.jsxs(dt, {
                "data-testid": "dialog-reject-reference",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Refuser la rfrence"
                    }), r.jsx(_t, {
                        children: "Indiquez la raison du refus de cette rfrence professionnelle"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsx(Cs, {
                        placeholder: "Ex: Rfrence impossible  joindre, informations incorrectes...",
                        value: vy,
                        onChange: N => dh(N.target.value),
                        "data-testid": "textarea-rejection-reason"
                    }), r.jsxs("div", {
                        className: "flex gap-2 justify-end",
                        children: [r.jsx(E, {
                            variant: "outline",
                            onClick: () => {
                                iu(!1),
                                dh("")
                            }
                            ,
                            "data-testid": "button-cancel-reject",
                            children: "Annuler"
                        }), r.jsx(E, {
                            variant: "destructive",
                            onClick: () => {
                                yy && xh.mutate({
                                    referenceId: yy.id,
                                    reason: vy || "Raison non spcifie"
                                })
                            }
                            ,
                            disabled: xh.isPending,
                            "data-testid": "button-confirm-reject",
                            children: xh.isPending ? "Rejet..." : "Confirmer le refus"
                        })]
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: ih,
            onOpenChange: O,
            children: r.jsxs(dt, {
                className: "max-w-2xl max-h-[90vh] overflow-y-auto",
                "data-testid": "dialog-edit-transporter",
                children: [r.jsxs(ft, {
                    children: [r.jsxs(ht, {
                        className: "flex items-center gap-2",
                        children: [r.jsx(Zh, {
                            className: "w-5 h-5"
                        }), "Modifier le profil du transporteur"]
                    }), r.jsx(_t, {
                        children: "Modifiez les informations du transporteur. Tous les champs sont facultatifs."
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-name",
                            className: "text-sm font-medium",
                            children: "Nom complet"
                        }), r.jsx(_e, {
                            id: "edit-transporter-name",
                            value: Re,
                            onChange: N => qt(N.target.value),
                            placeholder: "Ex: Ahmed Benani",
                            "data-testid": "input-edit-transporter-name"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-city",
                            className: "text-sm font-medium",
                            children: "Ville"
                        }), r.jsx(_e, {
                            id: "edit-transporter-city",
                            value: Pr,
                            onChange: N => ka(N.target.value),
                            placeholder: "Ex: Casablanca",
                            "data-testid": "input-edit-transporter-city"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-phone",
                            className: "text-sm font-medium",
                            children: "Numro de tlphone"
                        }), r.jsx(_e, {
                            id: "edit-transporter-phone",
                            value: oh,
                            onChange: N => nu(N.target.value),
                            placeholder: "Ex: +212612345678",
                            "data-testid": "input-edit-transporter-phone"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-password",
                            className: "text-sm font-medium",
                            children: "Code d'accs (nouveau mot de passe)"
                        }), r.jsx(_e, {
                            id: "edit-transporter-password",
                            type: "text",
                            value: lh,
                            onChange: N => ru(N.target.value),
                            placeholder: "Ex: 040189 (laissez vide pour ne pas changer)",
                            "data-testid": "input-edit-transporter-password"
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Saisissez un nouveau code  6 chiffres pour remplacer le mot de passe actuel"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx("label", {
                            htmlFor: "edit-transporter-photo",
                            className: "text-sm font-medium",
                            children: " Photo du camion (modifier)"
                        }), (na == null ? void 0 : na.truckPhoto) && !Jl && r.jsxs("div", {
                            className: "mb-2",
                            children: [r.jsx("img", {
                                src: na.truckPhoto,
                                alt: "Photo actuelle",
                                className: "w-32 h-32 object-cover rounded border"
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: "Photo actuelle"
                            })]
                        }), r.jsx(_e, {
                            id: "edit-transporter-photo",
                            type: "file",
                            accept: "image/*",
                            onChange: N => {
                                var ne;
                                const P = (ne = N.target.files) == null ? void 0 : ne[0];
                                P && su(P)
                            }
                            ,
                            "data-testid": "input-edit-transporter-photo"
                        }), Jl && r.jsxs("p", {
                            className: "text-sm text-green-600",
                            children: [" Nouvelle photo slectionne: ", Jl.name]
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Formats accepts: JPG, PNG. Taille max: 5MB"
                        })]
                    })]
                }), r.jsxs("div", {
                    className: "flex justify-end gap-2 pt-4 border-t",
                    children: [r.jsx(E, {
                        variant: "outline",
                        onClick: () => {
                            O(!1),
                            Ri(null),
                            qt(""),
                            ka(""),
                            nu(""),
                            ru(""),
                            su(null)
                        }
                        ,
                        "data-testid": "button-cancel-edit-transporter",
                        children: "Annuler"
                    }), r.jsx(E, {
                        onClick: () => {
                            na && YI()
                        }
                        ,
                        "data-testid": "button-confirm-edit-transporter",
                        children: "Enregistrer les modifications"
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: gy,
            onOpenChange: ch,
            children: r.jsxs(dt, {
                className: "max-w-3xl",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Photo du camion"
                    }), r.jsx(_t, {
                        children: (ls == null ? void 0 : ls.name) || "Transporteur"
                    })]
                }), r.jsx("div", {
                    className: "space-y-4",
                    children: $I ? r.jsx("div", {
                        className: "flex flex-col items-center justify-center py-12",
                        children: r.jsx(gn, {
                            message: "Chargement de la photo...",
                            size: "sm"
                        })
                    }) : !(ls != null && ls.hasTruckPhoto) || !(ls != null && ls.truckPhoto) ? r.jsxs("div", {
                        className: "flex flex-col items-center justify-center py-12",
                        children: [r.jsx(At, {
                            className: "w-16 h-16 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground font-medium",
                            children: "Aucune photo disponible"
                        }), r.jsx("p", {
                            className: "text-sm text-muted-foreground mt-2",
                            children: "Ce transporteur n'a pas encore ajout de photo de camion"
                        })]
                    }) : r.jsx("div", {
                        className: "relative rounded-lg overflow-hidden bg-muted",
                        children: r.jsx("img", {
                            src: ls.truckPhoto,
                            alt: `Camion de ${ls.name}`,
                            className: "w-full h-auto max-h-[600px] object-contain",
                            "data-testid": "img-transporter-photo-full"
                        })
                    })
                }), r.jsx("div", {
                    className: "flex justify-end pt-4 border-t",
                    children: r.jsx(E, {
                        variant: "outline",
                        onClick: () => {
                            ch(!1),
                            xy(null)
                        }
                        ,
                        "data-testid": "button-close-photo-dialog",
                        children: "Fermer"
                    })
                })]
            })
        })]
    })
}
function iN() {
    const [e,t] = m.useState(null)
      , [,n] = rr();
    m.useEffect( () => {
        const a = localStorage.getItem("camionback_user");
        if (a) {
            const i = JSON.parse(a);
            t(i),
            i.role || n("/select-role")
        }
    }
    , [n]);
    const s = a => {
        localStorage.setItem("camionback_user", JSON.stringify(a)),
        t(a)
    }
    ;
    return e ? e.role === "admin" ? r.jsx(AI, {}) : e.role === "coordinateur" ? (n("/coordinator-dashboard"),
    null) : e.role === "transporter" ? r.jsx(VA, {}) : e.role === "client" ? r.jsx(kA, {}) : (n("/select-role"),
    null) : r.jsx(h$, {
        onAuthSuccess: s
    })
}
function Mq() {
    const [,e] = rr()
      , t = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , n = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: s, isLoading: a} = Oe({
        queryKey: [`/api/notifications?userId=${t.id}`],
        enabled: !!t.id
    })
      , i = Fe({
        mutationFn: async d => Ae("PATCH", `/api/notifications/${d}/read`),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/notifications?userId=${t.id}`]
            }),
            le.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${t.id}`]
            })
        }
    })
      , o = Fe({
        mutationFn: async () => Ae("POST", "/api/notifications/mark-all-read", {
            userId: t.id
        }),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/notifications?userId=${t.id}`]
            }),
            le.invalidateQueries({
                queryKey: [`/api/notifications/unread-count?userId=${t.id}`]
            })
        }
    })
      , l = d => {
        const u = {
            className: "h-6 w-6"
        };
        switch (d) {
        case "offer_received":
            return r.jsx(gk, {
                ...u
            });
        case "offer_accepted":
            return r.jsx(mn, {
                ...u
            });
        case "message_received":
            return r.jsx(Ln, {
                ...u
            });
        case "payment_validated":
            return r.jsx(HL, {
                ...u
            });
        default:
            return r.jsx(Ji, {
                ...u
            })
        }
    }
      , c = (s == null ? void 0 : s.filter(d => !d.read).length) || 0;
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: t,
            onLogout: n
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-4xl",
            children: [r.jsxs("div", {
                className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",
                children: [r.jsxs("div", {
                    className: "flex items-center gap-4",
                    children: [r.jsx(E, {
                        variant: "ghost",
                        size: "icon",
                        onClick: () => e("/"),
                        "data-testid": "button-back",
                        children: r.jsx(zd, {
                            className: "h-5 w-5"
                        })
                    }), r.jsxs("div", {
                        children: [r.jsx("h1", {
                            className: "text-2xl sm:text-3xl font-bold",
                            children: "Notifications"
                        }), c > 0 && r.jsxs("p", {
                            className: "text-sm text-muted-foreground mt-1",
                            children: [c, " notification", c > 1 ? "s" : "", " non lue", c > 1 ? "s" : ""]
                        })]
                    })]
                }), c > 0 && r.jsxs(E, {
                    variant: "outline",
                    size: "sm",
                    onClick: () => o.mutate(),
                    disabled: o.isPending,
                    "data-testid": "button-mark-all-read",
                    className: "gap-2 w-full sm:w-auto",
                    children: [r.jsx(ov, {
                        className: "h-4 w-4"
                    }), r.jsx("span", {
                        className: "hidden sm:inline",
                        children: "Tout marquer comme lu"
                    }), r.jsx("span", {
                        className: "sm:hidden",
                        children: "Marquer comme lu"
                    })]
                })]
            }), a ? r.jsx("div", {
                className: "space-y-3",
                children: [...Array(5)].map( (d, u) => r.jsx(J, {
                    className: "animate-pulse",
                    children: r.jsxs(te, {
                        className: "p-4",
                        children: [r.jsx("div", {
                            className: "h-4 bg-muted rounded w-3/4 mb-2"
                        }), r.jsx("div", {
                            className: "h-3 bg-muted rounded w-1/2"
                        })]
                    })
                }, u))
            }) : s && s.length > 0 ? r.jsx("div", {
                className: "space-y-3",
                children: s.map(d => r.jsx(J, {
                    className: `transition-all hover-elevate cursor-pointer ${d.read ? "" : "border-l-4 border-l-primary"}`,
                    onClick: () => {
                        d.read || i.mutate(d.id)
                    }
                    ,
                    "data-testid": `notification-${d.id}`,
                    children: r.jsx(te, {
                        className: "p-4",
                        children: r.jsxs("div", {
                            className: "flex items-start gap-4",
                            children: [r.jsx("div", {
                                className: "flex-shrink-0 text-primary",
                                children: l(d.type)
                            }), r.jsxs("div", {
                                className: "flex-1 min-w-0",
                                children: [r.jsxs("div", {
                                    className: "flex items-start justify-between gap-2 mb-1",
                                    children: [r.jsx("h3", {
                                        className: "font-semibold text-base",
                                        children: d.title
                                    }), !d.read && r.jsx(de, {
                                        variant: "default",
                                        className: "flex-shrink-0",
                                        children: "Nouveau"
                                    })]
                                }), r.jsx("p", {
                                    className: "text-sm text-muted-foreground mb-2",
                                    children: d.message
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground",
                                    children: d.createdAt && Dt(new Date(d.createdAt), "dd MMMM yyyy '' HH:mm", {
                                        locale: Xt
                                    })
                                })]
                            }), !d.read && r.jsx(E, {
                                variant: "ghost",
                                size: "icon",
                                onClick: u => {
                                    u.stopPropagation(),
                                    i.mutate(d.id)
                                }
                                ,
                                "data-testid": `button-mark-read-${d.id}`,
                                className: "flex-shrink-0",
                                children: r.jsx(Vd, {
                                    className: "h-4 w-4"
                                })
                            })]
                        })
                    })
                }, d.id))
            }) : r.jsx(J, {
                children: r.jsxs(te, {
                    className: "p-12 text-center",
                    children: [r.jsx(Ji, {
                        className: "h-16 w-16 mx-auto mb-4 text-muted-foreground"
                    }), r.jsx("h3", {
                        className: "text-xl font-semibold mb-2",
                        children: "Aucune notification"
                    }), r.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Vous n'avez pas encore de notifications. Elles apparatront ici lorsque vous recevrez des offres, messages ou mises  jour."
                    })]
                })
            })]
        })]
    })
}
function Oq() {
    const [,e] = rr()
      , [t,n] = m.useState(null)
      , [s,a] = m.useState(!1)
      , i = localStorage.getItem("camionback_user")
      , o = i ? JSON.parse(i) : null
      , l = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: c=[], isLoading: d} = Oe({
        queryKey: [`/api/chat/conversations?userId=${o == null ? void 0 : o.id}`],
        enabled: !!(o != null && o.id),
        refetchInterval: 5e3
    })
      , u = Fe({
        mutationFn: async ({userId: x, requestId: j}) => Ae("POST", "/api/chat/mark-read", {
            userId: x,
            requestId: j
        }),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: [`/api/chat/conversations?userId=${o == null ? void 0 : o.id}`]
            }),
            le.invalidateQueries({
                queryKey: [`/api/chat/unread-count?userId=${o == null ? void 0 : o.id}`]
            })
        }
    })
      , f = x => {
        n(x),
        a(!0),
        x.unreadCount > 0 && (o != null && o.id) && u.mutate({
            userId: o.id,
            requestId: x.requestId
        })
    }
      , h = () => {
        a(!1),
        n(null)
    }
    ;
    return o ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: o,
            onLogout: l
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-4xl space-y-6",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4",
                children: [r.jsx(E, {
                    variant: "ghost",
                    size: "icon",
                    onClick: () => e("/"),
                    "data-testid": "button-back",
                    children: r.jsx(zd, {
                        className: "h-5 w-5"
                    })
                }), r.jsxs("div", {
                    className: "flex items-center gap-3",
                    children: [r.jsx(Ln, {
                        className: "w-8 h-8 text-primary"
                    }), r.jsxs("div", {
                        children: [r.jsx("h1", {
                            className: "text-3xl font-bold",
                            children: "Messages"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Consultez vos conversations"
                        })]
                    })]
                })]
            }), d ? r.jsx(J, {
                children: r.jsx(te, {
                    className: "p-6",
                    children: r.jsx("p", {
                        className: "text-center text-muted-foreground",
                        children: "Chargement..."
                    })
                })
            }) : c.length === 0 ? r.jsx(J, {
                children: r.jsx(te, {
                    className: "p-6",
                    children: r.jsx("p", {
                        className: "text-center text-muted-foreground",
                        children: "Aucune conversation pour le moment."
                    })
                })
            }) : r.jsx("div", {
                className: "space-y-4",
                children: c.map(x => r.jsxs(J, {
                    className: "hover-elevate",
                    "data-testid": `conversation-${x.requestId}`,
                    children: [r.jsx(ye, {
                        className: "pb-3",
                        children: r.jsxs("div", {
                            className: "flex items-start justify-between gap-4",
                            children: [r.jsxs("div", {
                                className: "flex-1 min-w-0",
                                children: [r.jsxs("div", {
                                    className: "flex items-center gap-2 mb-2",
                                    children: [r.jsx(we, {
                                        className: "text-lg",
                                        children: x.referenceId
                                    }), x.unreadCount > 0 && r.jsx(de, {
                                        variant: "destructive",
                                        className: "rounded-full",
                                        "data-testid": `badge-unread-${x.requestId}`,
                                        children: x.unreadCount
                                    })]
                                }), r.jsxs("p", {
                                    className: "text-sm text-muted-foreground",
                                    children: [x.fromCity, "  ", x.toCity]
                                })]
                            }), r.jsxs(E, {
                                onClick: () => f(x),
                                size: "sm",
                                className: "gap-2 flex-shrink-0",
                                "data-testid": `button-view-conversation-${x.requestId}`,
                                children: ["Voir conversation", r.jsx(hk, {
                                    className: "w-4 h-4"
                                })]
                            })]
                        })
                    }), r.jsxs(te, {
                        className: "pt-0",
                        children: [r.jsxs("div", {
                            className: "flex items-center gap-2 text-sm",
                            children: [r.jsxs("span", {
                                className: "font-medium text-muted-foreground",
                                children: [x.otherUser.role === "client" ? "Client" : "Transporteur", " :"]
                            }), r.jsx("span", {
                                className: "text-foreground",
                                children: x.otherUser.name
                            })]
                        }), r.jsxs("div", {
                            className: "mt-2 p-3 bg-muted rounded-md",
                            children: [r.jsxs("p", {
                                className: "text-sm text-muted-foreground line-clamp-2",
                                children: ["Dernier message : ", x.lastMessage.filteredMessage || x.lastMessage.message]
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground mt-1",
                                children: new Date(x.lastMessage.createdAt).toLocaleDateString("fr-FR", {
                                    day: "numeric",
                                    month: "short",
                                    hour: "2-digit",
                                    minute: "2-digit"
                                })
                            })]
                        })]
                    })]
                }, x.requestId))
            }), t && r.jsx(ah, {
                open: s,
                onClose: h,
                otherUser: t.otherUser,
                currentUserId: o.id,
                currentUserRole: o.role,
                requestId: t.requestId
            })]
        })]
    }) : r.jsx("div", {
        className: "container mx-auto p-6",
        children: r.jsx(J, {
            children: r.jsx(te, {
                className: "p-6",
                children: r.jsx("p", {
                    className: "text-center text-muted-foreground",
                    children: "Vous devez tre connect pour consulter vos messages."
                })
            })
        })
    })
}
function Lq() {
    const [,e] = rr()
      , [t,n] = m.useState(!1)
      , [s,a] = m.useState(null)
      , {toast: i} = Ht()
      , o = JSON.parse(localStorage.getItem("camionback_user") || "{}");
    if (o.role)
        return e("/"),
        null;
    const l = async c => {
        a(c),
        n(!0);
        try {
            const d = await fetch("/api/auth/select-role", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    userId: o.id,
                    role: c
                })
            });
            if (!d.ok)
                throw new Error("Failed to select role");
            const u = await d.json();
            localStorage.setItem("camionback_user", JSON.stringify(u.user)),
            e(c === "client" ? "/client-dashboard" : "/complete-profile")
        } catch {
            i({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la slection du rle"
            }),
            a(null)
        } finally {
            n(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "relative flex items-center justify-center bg-gradient-to-b from-[#0A2540] to-[#163049] overflow-hidden",
        style: {
            minHeight: "100vh",
            height: "100vh"
        },
        children: r.jsxs("div", {
            className: "w-full max-w-5xl px-4 py-3 md:py-8 flex flex-col justify-center items-center h-full relative animate-in fade-in duration-700",
            children: [r.jsxs("div", {
                className: "text-center mb-3 md:mb-8",
                children: [r.jsx("h1", {
                    className: "text-xl md:text-4xl lg:text-5xl font-bold tracking-tight text-white mb-1 md:mb-3",
                    children: "Bienvenue sur CamionBack "
                }), r.jsx("p", {
                    className: "text-sm md:text-lg lg:text-xl text-white/80 max-w-2xl mx-auto",
                    children: "Choisissez comment vous souhaitez utiliser la plateforme :"
                })]
            }), r.jsxs("div", {
                className: "w-full grid md:grid-cols-2 gap-3 md:gap-6 lg:gap-8 flex-1 md:flex-none max-h-[70vh] md:max-h-none mb-12 md:mb-0",
                children: [r.jsxs(J, {
                    className: `
              relative overflow-hidden cursor-pointer transition-all duration-300 border-2
              hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98]
              ${s === "client" ? "ring-4 ring-[#1CA6A6] border-[#1CA6A6]" : "hover:border-[#1CA6A6]/50"}
              animate-in fade-in slide-in-from-bottom-6 duration-500
              py-2 md:py-4
            `,
                    onClick: () => !t && l("client"),
                    "data-testid": "card-role-client",
                    children: [r.jsx("div", {
                        className: "absolute inset-0 bg-gradient-to-br from-[#1CA6A6]/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"
                    }), r.jsxs(ye, {
                        className: "text-center space-y-2 md:space-y-6 relative p-3 md:p-6",
                        children: [r.jsx("div", {
                            className: "mx-auto w-12 h-12 md:w-28 md:h-28 rounded-xl md:rounded-2xl bg-gradient-to-br from-[#1CA6A6]/20 to-[#1CA6A6]/10 flex items-center justify-center transition-transform duration-300 hover:scale-110 hover:rotate-3",
                            children: r.jsx(zt, {
                                className: "w-6 h-6 md:w-14 md:h-14 text-[#1CA6A6] transition-transform duration-300 hover:scale-110"
                            })
                        }), r.jsxs("div", {
                            className: "space-y-1 md:space-y-2",
                            children: [r.jsx(we, {
                                className: "text-base md:text-2xl lg:text-3xl font-bold leading-tight",
                                children: "Je veux envoyer quelque chose"
                            }), r.jsx(Mn, {
                                className: "text-xs md:text-base lg:text-lg leading-tight md:leading-relaxed",
                                children: "Publiez une demande de transport pour vos meubles, colis ou marchandises."
                            })]
                        })]
                    }), r.jsx(te, {
                        className: "relative pb-3 md:pb-8 px-3 md:px-6",
                        children: r.jsx(E, {
                            className: "w-full h-9 md:h-12 text-xs md:text-base font-semibold bg-[#1CA6A6] hover:bg-[#1CA6A6]/90 text-white shadow-lg hover:shadow-xl transition-all duration-300",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-select-client",
                            children: t && s === "client" ? r.jsxs("span", {
                                className: "flex items-center gap-2",
                                children: [r.jsx("div", {
                                    className: "animate-spin rounded-full h-3 w-3 md:h-4 md:w-4 border-b-2 border-white"
                                }), r.jsx("span", {
                                    className: "text-xs md:text-base",
                                    children: "Slection en cours..."
                                })]
                            }) : "Continuer comme Client"
                        })
                    })]
                }), r.jsxs(J, {
                    className: `
              relative overflow-hidden cursor-pointer transition-all duration-300 border-2
              hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98]
              ${s === "transporter" ? "ring-4 ring-[#2BB673] border-[#2BB673]" : "hover:border-[#2BB673]/50"}
              animate-in fade-in slide-in-from-bottom-6 duration-500 delay-100
              py-2 md:py-4
            `,
                    onClick: () => !t && l("transporter"),
                    "data-testid": "card-role-transporter",
                    children: [r.jsx("div", {
                        className: "absolute inset-0 bg-gradient-to-br from-[#2BB673]/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"
                    }), r.jsxs(ye, {
                        className: "text-center space-y-2 md:space-y-6 relative p-3 md:p-6",
                        children: [r.jsx("div", {
                            className: "mx-auto w-12 h-12 md:w-28 md:h-28 rounded-xl md:rounded-2xl bg-gradient-to-br from-[#2BB673]/20 to-[#2BB673]/10 flex items-center justify-center transition-transform duration-300 hover:scale-110 hover:rotate-3",
                            children: r.jsx(At, {
                                className: "w-6 h-6 md:w-14 md:h-14 text-[#2BB673] transition-transform duration-300 hover:scale-110"
                            })
                        }), r.jsxs("div", {
                            className: "space-y-1 md:space-y-2",
                            children: [r.jsx(we, {
                                className: "text-base md:text-2xl lg:text-3xl font-bold leading-tight",
                                children: "Je suis un transporteur"
                            }), r.jsx(Mn, {
                                className: "text-xs md:text-base lg:text-lg leading-tight md:leading-relaxed",
                                children: "Recevez des demandes de livraison et proposez vos services."
                            })]
                        })]
                    }), r.jsx(te, {
                        className: "relative pb-3 md:pb-8 px-3 md:px-6",
                        children: r.jsx(E, {
                            className: "w-full h-9 md:h-12 text-xs md:text-base font-semibold bg-[#2BB673] hover:bg-[#2BB673]/90 text-white shadow-lg hover:shadow-xl transition-all duration-300",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-select-transporter",
                            children: t && s === "transporter" ? r.jsxs("span", {
                                className: "flex items-center gap-2",
                                children: [r.jsx("div", {
                                    className: "animate-spin rounded-full h-3 w-3 md:h-4 md:w-4 border-b-2 border-white"
                                }), r.jsx("span", {
                                    className: "text-xs md:text-base",
                                    children: "Slection en cours..."
                                })]
                            }) : "Continuer comme Transporteur"
                        })
                    })]
                })]
            }), r.jsx("div", {
                className: "absolute bottom-0 left-0 right-0 text-center pb-2 md:pb-4 animate-in fade-in duration-1000 delay-300",
                children: r.jsxs("div", {
                    className: "inline-flex items-center gap-1 md:gap-2 text-[11px] md:text-sm text-white/70 bg-white/10 px-2 md:px-4 py-1 md:py-2 rounded-full backdrop-blur-sm",
                    children: [r.jsx(Lc, {
                        className: "w-3 h-3 md:w-4 md:h-4 flex-shrink-0"
                    }), r.jsx("span", {
                        children: "Vous pourrez modifier votre rle plus tard depuis votre profil."
                    })]
                })
            })]
        })
    })
}
const Fq = ["Casablanca", "Rabat", "Fs", "Marrakech", "Tanger", "Agadir", "Mekns", "Oujda", "Kenitra", "Ttouan", "Safi", "El Jadida", "Nador", "Bni Mellal", "Khouribga"]
  , $q = fe.object({
    name: fe.string().min(3, "Le nom doit contenir au moins 3 caractres"),
    city: fe.string().min(1, "Veuillez slectionner une ville"),
    truckPhoto: fe.instanceof(File, {
        message: "La photo du camion est obligatoire"
    })
});
function zq() {
    const [,e] = rr()
      , [t,n] = m.useState(!1)
      , [s,a] = m.useState(null)
      , {toast: i} = Ht()
      , o = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , l = ts({
        resolver: ns($q),
        defaultValues: {
            name: "",
            city: ""
        }
    })
      , c = u => {
        var h;
        const f = (h = u.target.files) == null ? void 0 : h[0];
        if (f) {
            l.setValue("truckPhoto", f);
            const x = new FileReader;
            x.onloadend = () => {
                a(x.result)
            }
            ,
            x.readAsDataURL(f)
        }
    }
      , d = async u => {
        n(!0);
        try {
            const f = new FormData;
            f.append("userId", o.id),
            f.append("name", u.name),
            f.append("city", u.city),
            f.append("truckPhoto", u.truckPhoto);
            const h = await fetch("/api/auth/complete-profile", {
                method: "POST",
                body: f
            });
            if (!h.ok)
                throw new Error("Failed to complete profile");
            const x = await h.json();
            localStorage.setItem("camionback_user", JSON.stringify(x.user)),
            i({
                title: "Profil complt",
                description: "Votre profil est en cours de validation par notre quipe"
            }),
            e("/")
        } catch {
            i({
                variant: "destructive",
                title: "Erreur",
                description: "chec de la compltion du profil"
            })
        } finally {
            n(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen flex items-center justify-center p-4 bg-background",
        children: r.jsxs(J, {
            className: "w-full max-w-lg",
            children: [r.jsxs(ye, {
                className: "text-center space-y-2",
                children: [r.jsx("div", {
                    className: "mx-auto w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mb-2",
                    children: r.jsx(At, {
                        className: "w-8 h-8 text-primary"
                    })
                }), r.jsx(we, {
                    className: "text-2xl font-bold",
                    children: "Compltez votre profil"
                }), r.jsx(Mn, {
                    children: "Remplissez ces informations pour commencer  proposer vos services"
                })]
            }), r.jsx(te, {
                children: r.jsx(rs, {
                    ...l,
                    children: r.jsxs("form", {
                        onSubmit: l.handleSubmit(d),
                        className: "space-y-6",
                        children: [r.jsx(Xe, {
                            control: l.control,
                            name: "name",
                            render: ({field: u}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Nom complet"
                                }), r.jsx(Ge, {
                                    children: r.jsx(_e, {
                                        placeholder: "Ahmed El Mansouri",
                                        ...u,
                                        "data-testid": "input-name"
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(Xe, {
                            control: l.control,
                            name: "city",
                            render: ({field: u}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Ville de rsidence"
                                }), r.jsxs(Vt, {
                                    onValueChange: u.onChange,
                                    defaultValue: u.value,
                                    children: [r.jsx(Ge, {
                                        children: r.jsx(Mt, {
                                            "data-testid": "select-city",
                                            children: r.jsx(Bt, {
                                                placeholder: "Slectionnez une ville"
                                            })
                                        })
                                    }), r.jsx(Ot, {
                                        children: Fq.map(f => r.jsx(Se, {
                                            value: f,
                                            children: f
                                        }, f))
                                    })]
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsx(Ue, {
                                children: "Numro de tlphone"
                            }), r.jsx(_e, {
                                value: o.phoneNumber || "",
                                disabled: !0,
                                className: "bg-muted",
                                "data-testid": "input-phone-disabled"
                            }), r.jsx("p", {
                                className: "text-xs text-muted-foreground",
                                children: "Le numro de tlphone ne peut pas tre modifi"
                            })]
                        }), r.jsx(Xe, {
                            control: l.control,
                            name: "truckPhoto",
                            render: ({field: {value: u, onChange: f, ...h}}) => r.jsxs(qe, {
                                children: [r.jsx(Ue, {
                                    children: "Photo du camion *"
                                }), r.jsx(Ge, {
                                    children: r.jsx("div", {
                                        className: "space-y-4",
                                        children: s ? r.jsxs("div", {
                                            className: "border-2 border-dashed rounded-lg p-4",
                                            children: [r.jsx("img", {
                                                src: s,
                                                alt: "Aperu camion",
                                                className: "max-h-48 mx-auto rounded-lg mb-4"
                                            }), r.jsx(E, {
                                                type: "button",
                                                variant: "outline",
                                                size: "sm",
                                                className: "w-full",
                                                onClick: () => {
                                                    a(null);
                                                    const x = document.getElementById("truck-photo");
                                                    x && (x.value = ""),
                                                    l.resetField("truckPhoto")
                                                }
                                                ,
                                                "data-testid": "button-remove-photo",
                                                children: "Changer la photo"
                                            })]
                                        }) : r.jsxs("div", {
                                            className: "border-2 border-dashed rounded-lg p-6 text-center",
                                            children: [r.jsx(Bd, {
                                                className: "w-12 h-12 mx-auto text-muted-foreground mb-2"
                                            }), r.jsx("p", {
                                                className: "text-sm text-muted-foreground mb-4",
                                                children: "Cliquez pour tlcharger une photo de votre camion"
                                            }), r.jsx(_e, {
                                                type: "file",
                                                accept: "image/*",
                                                onChange: x => {
                                                    var v;
                                                    const j = (v = x.target.files) == null ? void 0 : v[0];
                                                    j && (c(x),
                                                    f(j))
                                                }
                                                ,
                                                id: "truck-photo",
                                                "data-testid": "input-truck-photo",
                                                className: "max-w-xs mx-auto"
                                            })]
                                        })
                                    })
                                }), r.jsx(tt, {})]
                            })
                        }), r.jsx(E, {
                            type: "submit",
                            className: "w-full",
                            size: "lg",
                            disabled: t,
                            "data-testid": "button-submit-profile",
                            children: t ? "Enregistrement..." : "Soumettre mon profil"
                        })]
                    })
                })
            })]
        })
    })
}
function Vq({requestId: e, onAcceptOffer: t, isPending: n}) {
    const {data: s=[], isLoading: a} = Oe({
        queryKey: ["/api/coordinator/requests", e, "offers"],
        enabled: !!e
    })
      , [i,o] = m.useState(null)
      , [l,c] = m.useState(!1);
    if (a)
        return r.jsx("div", {
            className: "flex justify-center py-8",
            "data-testid": "loading-offers",
            children: r.jsx(gn, {})
        });
    if (s.length === 0)
        return r.jsxs("div", {
            className: "text-center py-8 text-muted-foreground",
            "data-testid": "text-no-offers",
            children: [r.jsx(zt, {
                className: "h-12 w-12 mx-auto mb-3 opacity-50"
            }), r.jsx("p", {
                children: "Aucune offre reue pour cette commande"
            })]
        });
    const d = u => {
        const f = u && u.length > 0 ? u[0] : null;
        o(f),
        c(!0)
    }
    ;
    return r.jsxs(r.Fragment, {
        children: [r.jsx("div", {
            className: "grid gap-4 md:grid-cols-2 mt-4",
            "data-testid": "grid-offers",
            children: s.map(u => {
                var f, h, x, j, v, w;
                return r.jsx(J, {
                    className: "overflow-hidden",
                    "data-testid": `card-offer-${u.id}`,
                    children: r.jsxs(te, {
                        className: "p-4 space-y-3",
                        children: [((f = u.transporter) == null ? void 0 : f.truckPhotos) && u.transporter.truckPhotos.length > 0 && r.jsx("div", {
                            className: "mb-2",
                            children: r.jsxs(E, {
                                variant: "outline",
                                size: "sm",
                                className: "w-full gap-2",
                                onClick: () => d(u.transporter.truckPhotos),
                                "data-testid": `button-view-truck-photo-${u.id}`,
                                children: [r.jsx(At, {
                                    className: "h-4 w-4"
                                }), "Voir photo du camion"]
                            })
                        }), r.jsxs("div", {
                            className: "flex items-start justify-between",
                            children: [r.jsxs("div", {
                                className: "flex-1",
                                children: [r.jsxs("div", {
                                    className: "flex items-center gap-2 mb-1",
                                    children: [r.jsx(At, {
                                        className: "h-4 w-4 text-[#5BC0EB]"
                                    }), r.jsx("h4", {
                                        className: "font-semibold",
                                        "data-testid": `text-transporter-name-${u.id}`,
                                        children: ((h = u.transporter) == null ? void 0 : h.name) || "Transporteur"
                                    })]
                                }), ((x = u.transporter) == null ? void 0 : x.city) && r.jsxs("p", {
                                    className: "text-sm text-muted-foreground flex items-center gap-1",
                                    children: [r.jsx(Rr, {
                                        className: "h-3 w-3"
                                    }), u.transporter.city]
                                }), ((j = u.transporter) == null ? void 0 : j.rating) && r.jsxs("div", {
                                    className: "flex items-center gap-1 mt-1",
                                    children: [r.jsx(Xs, {
                                        className: "h-3 w-3 fill-yellow-400 text-yellow-400"
                                    }), r.jsx("span", {
                                        className: "text-sm font-medium",
                                        children: parseFloat(u.transporter.rating).toFixed(1)
                                    })]
                                })]
                            }), r.jsx(de, {
                                variant: u.status === "pending" ? "default" : "secondary",
                                children: u.status === "pending" ? "En attente" : u.status
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 rounded-lg p-3 space-y-2",
                            children: [r.jsx("p", {
                                className: "text-xs font-semibold text-muted-foreground uppercase",
                                children: "Contact Transporteur"
                            }), r.jsxs("div", {
                                className: "space-y-1",
                                children: [r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx(an, {
                                        className: "h-3 w-3 text-[#5BC0EB]"
                                    }), r.jsx("a", {
                                        href: `tel:${(v = u.transporter) == null ? void 0 : v.phoneNumber}`,
                                        className: "text-sm text-[#5BC0EB] hover:underline font-medium",
                                        "data-testid": `link-call-transporter-${u.id}`,
                                        children: (w = u.transporter) == null ? void 0 : w.phoneNumber
                                    })]
                                }), r.jsx(E, {
                                    size: "sm",
                                    variant: "outline",
                                    className: "w-full text-xs",
                                    onClick: () => {
                                        var g;
                                        const y = encodeURIComponent(`Bonjour ,
Je suis coordinateur CamionBack.
Je souhaite discuter de votre offre pour cette commande.`)
                                          , p = (g = u.transporter) == null ? void 0 : g.phoneNumber.replace(/[\s\-\+]/g, "");
                                        window.open(`https://wa.me/${p}?text=${y}`, "_blank")
                                    }
                                    ,
                                    "data-testid": `button-whatsapp-transporter-${u.id}`,
                                    children: " WhatsApp"
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2 pt-2 border-t",
                            children: [r.jsxs("div", {
                                className: "flex justify-between",
                                children: [r.jsx("span", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Montant transporteur:"
                                }), r.jsxs("span", {
                                    className: "font-medium",
                                    children: [u.amount, " DH"]
                                })]
                            }), r.jsxs("div", {
                                className: "flex justify-between",
                                children: [r.jsx("span", {
                                    className: "text-sm text-muted-foreground",
                                    children: "Commission:"
                                }), r.jsxs("span", {
                                    className: "font-medium text-orange-600",
                                    children: ["+", u.commissionAmount, " DH"]
                                })]
                            }), r.jsxs("div", {
                                className: "flex justify-between items-center pt-2 border-t",
                                children: [r.jsx("span", {
                                    className: "text-sm font-semibold",
                                    children: "Total client:"
                                }), r.jsxs("span", {
                                    className: "text-lg font-bold text-[#5BC0EB]",
                                    children: [u.clientAmount, " DH"]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2 text-sm",
                            children: [r.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Rr, {
                                    className: "h-3 w-3 text-muted-foreground"
                                }), r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Type:"
                                }), r.jsx("span", {
                                    className: "font-medium",
                                    children: u.loadType === "return" ? "Retour  vide" : "Groupage"
                                })]
                            }), r.jsxs("div", {
                                className: "flex items-center gap-2",
                                children: [r.jsx(zt, {
                                    className: "h-3 w-3 text-muted-foreground"
                                }), r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Prise en charge:"
                                }), r.jsx("span", {
                                    className: "font-medium",
                                    children: Dt(new Date(u.pickupDate), "dd MMM yyyy", {
                                        locale: Xt
                                    })
                                })]
                            })]
                        }), u.status === "pending" && r.jsxs(E, {
                            className: "w-full bg-[#5BC0EB] hover:bg-[#4AA8D8]",
                            onClick: () => t(u.id),
                            disabled: n,
                            "data-testid": `button-accept-offer-${u.id}`,
                            children: [r.jsx(mn, {
                                className: "h-4 w-4 mr-2"
                            }), n ? "Acceptation..." : "Accepter cette offre"]
                        })]
                    })
                }, u.id)
            }
            )
        }), r.jsx(mt, {
            open: l,
            onOpenChange: c,
            children: r.jsxs(dt, {
                className: "max-w-3xl",
                children: [r.jsx(ft, {
                    children: r.jsx(ht, {
                        children: "Photo du camion"
                    })
                }), r.jsx("div", {
                    className: "space-y-4",
                    children: i ? r.jsx("img", {
                        src: i,
                        alt: "Photo du camion",
                        className: "w-full h-auto rounded-lg",
                        "data-testid": "img-truck-photo"
                    }) : r.jsxs("div", {
                        className: "text-center py-12 text-muted-foreground",
                        children: [r.jsx(At, {
                            className: "h-12 w-12 mx-auto mb-3 opacity-50"
                        }), r.jsx("p", {
                            children: "Aucune photo disponible pour ce camion"
                        })]
                    })
                })]
            })
        })]
    })
}
function Bq() {
    rr();
    const [e,t] = m.useState("Toutes les villes")
      , [n,s] = m.useState("Tous les statuts")
      , [a,i] = m.useState("")
      , [o,l] = m.useState(!1)
      , [c,d] = m.useState(null)
      , [u,f] = m.useState("")
      , [h,x] = m.useState(!1)
      , [j,v] = m.useState([])
      , [w,y] = m.useState("")
      , [p,g] = m.useState(!1)
      , [b,k] = m.useState(null)
      , [S,C] = m.useState(!1)
      , [T,D] = m.useState(null)
      , {toast: L} = Ht()
      , [G,M] = m.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    m.useEffect( () => {
        const F = async () => {
            try {
                const nt = await fetch(`/api/auth/me/${G.id}`);
                if (nt.ok) {
                    const {user: et} = await nt.json();
                    localStorage.setItem("camionback_user", JSON.stringify(et)),
                    M(et)
                } else
                    nt.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (nt) {
                console.error("Failed to refresh user data:", nt)
            }
        }
        ;
        G.id && F()
    }
    , [G.id]);
    const H = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: U=[], isLoading: re} = Oe({
        queryKey: ["/api/coordinator/available-requests"],
        queryFn: async () => (await fetch("/api/coordinator/available-requests")).json()
    })
      , {data: ae=[], isLoading: X} = Oe({
        queryKey: ["/api/coordinator/active-requests"],
        queryFn: async () => (await fetch("/api/coordinator/active-requests")).json()
    })
      , {data: I=[], isLoading: V} = Oe({
        queryKey: ["/api/coordinator/payment-requests"],
        queryFn: async () => (await fetch("/api/coordinator/payment-requests")).json()
    })
      , {data: oe=[]} = Oe({
        queryKey: ["/api/cities"],
        queryFn: async () => (await fetch("/api/cities")).json()
    })
      , he = Fe({
        mutationFn: async ({requestId: F, isHidden: nt}) => Ae("PATCH", `/api/coordinator/requests/${F}/toggle-visibility`, {
            isHidden: nt
        }),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/coordinator/available-requests"]
            }),
            L({
                title: "Succs",
                description: "Visibilit de la commande modifie"
            })
        }
        ,
        onError: () => {
            L({
                variant: "destructive",
                title: "Erreur",
                description: "chec de modification de la visibilit"
            })
        }
    })
      , ce = Fe({
        mutationFn: async ({requestId: F, paymentStatus: nt}) => Ae("PATCH", `/api/coordinator/requests/${F}/payment-status`, {
            paymentStatus: nt
        }),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/coordinator/payment-requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/coordinator/active-requests"]
            }),
            L({
                title: "Succs",
                description: "Statut de paiement mis  jour"
            })
        }
        ,
        onError: () => {
            L({
                variant: "destructive",
                title: "Erreur",
                description: "chec de mise  jour du statut"
            })
        }
    })
      , xt = Fe({
        mutationFn: async F => Ae("POST", `/api/coordinator/offers/${F}/accept`, {}),
        onSuccess: () => {
            le.invalidateQueries({
                queryKey: ["/api/coordinator/available-requests"]
            }),
            le.invalidateQueries({
                queryKey: ["/api/coordinator/active-requests"]
            }),
            L({
                title: "Offre accepte",
                description: "L'offre a t accepte avec succs au nom du client"
            }),
            C(!1)
        }
        ,
        onError: F => {
            L({
                variant: "destructive",
                title: "Erreur",
                description: F.message || "Impossible d'accepter l'offre"
            })
        }
    })
      , gt = F => {
        k(F),
        g(!0)
    }
      , Nt = (F, nt, et) => {
        d({
            client: F,
            transporter: nt
        }),
        f(et),
        l(!0)
    }
      , ot = (F, nt) => {
        v(F),
        y(""),
        x(!0)
    }
      , z = F => {
        const et = {
            pending: {
                label: " facturer",
                variant: "outline"
            },
            awaiting_payment: {
                label: "En attente",
                variant: "secondary"
            },
            pending_admin_validation: {
                label: "Validation admin",
                variant: "default"
            },
            paid: {
                label: "Pay",
                variant: "default"
            }
        }[F] || {
            label: F,
            variant: "outline"
        };
        return r.jsx(de, {
            variant: et.variant,
            children: et.label
        })
    }
      , W = F => {
        const et = {
            open: {
                label: "Ouvert",
                variant: "default"
            },
            accepted: {
                label: "Accept",
                variant: "default"
            },
            completed: {
                label: "Termin",
                variant: "default"
            },
            cancelled: {
                label: "Annul",
                variant: "destructive"
            }
        }[F] || {
            label: F,
            variant: "outline"
        };
        return r.jsx(de, {
            variant: et.variant,
            children: et.label
        })
    }
      , ze = (F, nt) => {
        const et = encodeURIComponent(`Bonjour ,
Je suis coordinateur CamionBack.
Je souhaite coordonner avec vous au sujet de la commande rfrence ${nt}.`);
        window.open(`https://wa.me/${F.replace(/\+/g, "")}?text=${et}`, "_blank")
    }
      , Ze = (F, nt) => {
        const et = encodeURIComponent(`Bonjour ,
Je suis coordinateur CamionBack.
Je souhaite vous aider  trouver un transporteur pour votre commande rfrence ${nt}.
Comment puis-je vous assister ?`);
        window.open(`https://wa.me/${F.replace(/\+/g, "")}?text=${et}`, "_blank")
    }
      , Je = F => {
        D(F),
        C(!0)
    }
      , Ve = (F, nt=!0) => F.filter(et => {
        var He, In;
        const bt = e === "Toutes les villes" || et.fromCity === e || et.toCity === e
          , hn = !nt || n === "Tous les statuts" || et.status === n
          , jn = a === "" || et.referenceId.toLowerCase().includes(a.toLowerCase()) || ((He = et.client) == null ? void 0 : He.name) && et.client.name.toLowerCase().includes(a.toLowerCase()) || ((In = et.transporter) == null ? void 0 : In.name) && et.transporter.name.toLowerCase().includes(a.toLowerCase());
        return bt && hn && jn
    }
    )
      , Ft = (F, nt=!1, et=!1) => r.jsxs(J, {
        className: "hover-elevate",
        "data-testid": `card-request-${F.id}`,
        children: [r.jsx(ye, {
            className: "pb-3",
            children: r.jsx("div", {
                className: "flex items-start justify-between gap-2",
                children: r.jsxs("div", {
                    className: "flex-1",
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2 flex-wrap",
                        children: [r.jsx(we, {
                            className: "text-base",
                            children: F.referenceId
                        }), F.client && r.jsx(E, {
                            size: "icon",
                            variant: "ghost",
                            className: "h-6 w-6 shrink-0",
                            onClick: bt => {
                                bt.stopPropagation(),
                                Ze(F.client.phoneNumber, F.referenceId)
                            }
                            ,
                            "data-testid": `button-whatsapp-client-${F.id}`,
                            title: "Contacter le client via WhatsApp",
                            children: r.jsx(Vi, {
                                className: "h-4 w-4 text-green-500"
                            })
                        }), W(F.status), et && z(F.paymentStatus), F.isHidden && r.jsx(de, {
                            variant: "secondary",
                            children: "Masqu"
                        })]
                    }), r.jsxs(Mn, {
                        className: "text-sm mt-1",
                        children: [F.fromCity, "  ", F.toCity]
                    }), r.jsxs("p", {
                        className: "text-xs text-muted-foreground mt-1",
                        children: ["Cre le ", Dt(new Date(F.createdAt), "dd MMM yyyy '' HH:mm", {
                            locale: Xt
                        })]
                    })]
                })
            })
        }), r.jsxs(te, {
            className: "space-y-3",
            children: [r.jsxs("div", {
                className: "space-y-2 text-sm",
                children: [r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(zt, {
                        className: "h-4 w-4 text-muted-foreground"
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: "Marchandise:"
                    }), r.jsx("span", {
                        className: "font-medium",
                        children: F.goodsType
                    })]
                }), F.client && r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(an, {
                        className: "h-4 w-4 text-muted-foreground"
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: "Client:"
                    }), r.jsx("span", {
                        className: "font-medium",
                        children: F.client.name || "Non dfini"
                    }), r.jsx("a", {
                        href: `tel:${F.client.phoneNumber}`,
                        className: "text-[#5BC0EB] hover:underline",
                        "data-testid": `link-call-client-${F.id}`,
                        children: F.client.phoneNumber
                    })]
                }), F.transporter && r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(an, {
                        className: "h-4 w-4 text-muted-foreground"
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: "Transporteur:"
                    }), r.jsx("span", {
                        className: "font-medium",
                        children: F.transporter.name || "Non dfini"
                    }), r.jsx("a", {
                        href: `tel:${F.transporter.phoneNumber}`,
                        className: "text-[#5BC0EB] hover:underline",
                        "data-testid": `link-call-transporter-${F.id}`,
                        children: F.transporter.phoneNumber
                    })]
                }), F.offers && F.offers.length > 0 && r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(mn, {
                        className: "h-4 w-4 text-muted-foreground"
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: "Offres reues:"
                    }), r.jsx(de, {
                        variant: "outline",
                        children: F.offers.length
                    })]
                }), F.acceptedOffer && r.jsxs("div", {
                    className: "flex items-center gap-2",
                    children: [r.jsx(si, {
                        className: "h-4 w-4 text-muted-foreground"
                    }), r.jsx("span", {
                        className: "text-muted-foreground",
                        children: "Montant accept:"
                    }), r.jsxs("span", {
                        className: "font-bold text-[#5BC0EB]",
                        children: [F.acceptedOffer.amount, " DH"]
                    })]
                })]
            }), r.jsxs("div", {
                className: "flex flex-wrap gap-2 pt-2",
                children: [r.jsx(E, {
                    size: "sm",
                    variant: "outline",
                    onClick: () => gt(F),
                    "data-testid": `button-view-details-${F.id}`,
                    children: " Dtails"
                }), F.photos && F.photos.length > 0 && r.jsxs(E, {
                    size: "sm",
                    variant: "outline",
                    onClick: () => ot(F.photos),
                    "data-testid": `button-view-photos-${F.id}`,
                    children: [" Photos (", F.photos.length, ")"]
                }), F.client && F.transporter && r.jsxs(E, {
                    size: "sm",
                    variant: "outline",
                    onClick: () => Nt(F.client, F.transporter, F.id),
                    "data-testid": `button-open-chat-${F.id}`,
                    children: [r.jsx(Ln, {
                        className: "h-4 w-4 mr-1"
                    }), "Messagerie"]
                }), F.transporter && r.jsx(E, {
                    size: "sm",
                    variant: "outline",
                    onClick: () => ze(F.transporter.phoneNumber, F.referenceId),
                    "data-testid": `button-whatsapp-transporter-${F.id}`,
                    children: " WhatsApp Transporteur"
                }), nt && F.offers && F.offers.length > 0 && r.jsxs(E, {
                    size: "sm",
                    variant: "default",
                    className: "bg-[#5BC0EB] hover:bg-[#4AA8D8]",
                    onClick: () => Je(F),
                    "data-testid": `button-view-offers-${F.id}`,
                    children: [r.jsx(mn, {
                        className: "h-4 w-4 mr-1"
                    }), "Offres (", F.offers.length, ")"]
                }), nt && r.jsxs(E, {
                    size: "sm",
                    variant: F.isHidden ? "default" : "secondary",
                    onClick: () => he.mutate({
                        requestId: F.id,
                        isHidden: !F.isHidden
                    }),
                    disabled: he.isPending,
                    "data-testid": `button-toggle-visibility-${F.id}`,
                    children: [F.isHidden ? r.jsx(vs, {
                        className: "h-4 w-4 mr-1"
                    }) : r.jsx(lv, {
                        className: "h-4 w-4 mr-1"
                    }), F.isHidden ? "Rafficher" : "Masquer"]
                })]
            })]
        })]
    }, F.id);
    return r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: {
                id: G.id,
                name: G.name || "Coordinateur",
                role: "coordinateur"
            },
            onLogout: H
        }), r.jsxs("main", {
            className: "container mx-auto p-4 max-w-7xl",
            children: [r.jsxs("div", {
                className: "mb-6 flex items-center gap-3",
                children: [r.jsx("div", {
                    className: "bg-[#5BC0EB]/10 p-3 rounded-lg",
                    children: r.jsx(qo, {
                        className: "h-8 w-8 text-[#5BC0EB]"
                    })
                }), r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-2xl font-bold",
                        children: "Tableau de bord Coordinateur"
                    }), r.jsx("p", {
                        className: "text-muted-foreground",
                        children: "Gestion et supervision des commandes"
                    })]
                })]
            }), r.jsxs("div", {
                className: "mb-6 flex flex-col sm:flex-row gap-3",
                children: [r.jsxs("div", {
                    className: "relative flex-1",
                    children: [r.jsx(jr, {
                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                    }), r.jsx(_e, {
                        placeholder: "Rechercher par rfrence, client, transporteur...",
                        value: a,
                        onChange: F => i(F.target.value),
                        className: "pl-10",
                        "data-testid": "input-search"
                    })]
                }), r.jsxs(Vt, {
                    value: e,
                    onValueChange: t,
                    children: [r.jsxs(Mt, {
                        className: "w-full sm:w-[200px]",
                        "data-testid": "select-city",
                        children: [r.jsx(_x, {
                            className: "h-4 w-4 mr-2"
                        }), r.jsx(Bt, {
                            placeholder: "Filtrer par ville"
                        })]
                    }), r.jsxs(Ot, {
                        children: [r.jsx(Se, {
                            value: "Toutes les villes",
                            children: "Toutes les villes"
                        }), oe.map(F => r.jsx(Se, {
                            value: F.name,
                            children: F.name
                        }, F.id))]
                    })]
                }), r.jsxs(Vt, {
                    value: n,
                    onValueChange: s,
                    children: [r.jsxs(Mt, {
                        className: "w-full sm:w-[200px]",
                        "data-testid": "select-status",
                        children: [r.jsx(_x, {
                            className: "h-4 w-4 mr-2"
                        }), r.jsx(Bt, {
                            placeholder: "Filtrer par statut"
                        })]
                    }), r.jsxs(Ot, {
                        children: [r.jsx(Se, {
                            value: "Tous les statuts",
                            children: "Tous les statuts"
                        }), r.jsx(Se, {
                            value: "open",
                            children: "Ouvert"
                        }), r.jsx(Se, {
                            value: "accepted",
                            children: "Accept"
                        }), r.jsx(Se, {
                            value: "completed",
                            children: "Termin"
                        }), r.jsx(Se, {
                            value: "cancelled",
                            children: "Annul"
                        })]
                    })]
                })]
            }), r.jsxs(Xl, {
                defaultValue: "available",
                className: "w-full",
                children: [r.jsxs(vi, {
                    className: "grid w-full grid-cols-3 mb-6",
                    children: [r.jsxs(Pt, {
                        value: "available",
                        "data-testid": "tab-available",
                        className: "gap-1 px-2",
                        children: [r.jsx("span", {
                            className: "text-xs sm:text-sm",
                            children: "Dispo"
                        }), r.jsx(de, {
                            className: "bg-blue-500 hover:bg-blue-600 text-white text-xs px-1.5 py-0",
                            children: Ve(U).length
                        })]
                    }), r.jsxs(Pt, {
                        value: "active",
                        "data-testid": "tab-active",
                        className: "gap-1 px-2",
                        children: [r.jsx("span", {
                            className: "text-xs sm:text-sm",
                            children: " traiter"
                        }), r.jsx(de, {
                            className: "bg-orange-500 hover:bg-orange-600 text-white text-xs px-1.5 py-0",
                            children: Ve(ae, !1).length
                        })]
                    }), r.jsxs(Pt, {
                        value: "payment",
                        "data-testid": "tab-payment",
                        className: "gap-1 px-2",
                        children: [r.jsx("span", {
                            className: "text-xs sm:text-sm",
                            children: " payer"
                        }), r.jsx(de, {
                            className: "bg-green-500 hover:bg-green-600 text-white text-xs px-1.5 py-0",
                            children: Ve(I, !1).length
                        })]
                    })]
                }), r.jsx(Et, {
                    value: "available",
                    className: "space-y-4",
                    children: re ? r.jsx("div", {
                        className: "flex justify-center py-12",
                        children: r.jsx(gn, {})
                    }) : Ve(U).length === 0 ? r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-12 text-center text-muted-foreground",
                            children: [r.jsx(zt, {
                                className: "h-12 w-12 mx-auto mb-3 opacity-50"
                            }), r.jsx("p", {
                                children: "Aucune commande disponible"
                            })]
                        })
                    }) : Ve(U).map(F => Ft(F, !0, !1))
                }), r.jsx(Et, {
                    value: "active",
                    className: "space-y-4",
                    children: X ? r.jsx("div", {
                        className: "flex justify-center py-12",
                        children: r.jsx(gn, {})
                    }) : Ve(ae, !1).length === 0 ? r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-12 text-center text-muted-foreground",
                            children: [r.jsx(zt, {
                                className: "h-12 w-12 mx-auto mb-3 opacity-50"
                            }), r.jsx("p", {
                                children: "Aucune commande  traiter"
                            })]
                        })
                    }) : Ve(ae, !1).map(F => Ft(F, !1, !1))
                }), r.jsx(Et, {
                    value: "payment",
                    className: "space-y-4",
                    children: V ? r.jsx("div", {
                        className: "flex justify-center py-12",
                        children: r.jsx(gn, {})
                    }) : Ve(I, !1).length === 0 ? r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-12 text-center text-muted-foreground",
                            children: [r.jsx(si, {
                                className: "h-12 w-12 mx-auto mb-3 opacity-50"
                            }), r.jsx("p", {
                                children: "Aucune commande en attente de paiement"
                            })]
                        })
                    }) : Ve(I, !1).map(F => r.jsxs(J, {
                        className: "hover-elevate",
                        "data-testid": `card-payment-${F.id}`,
                        children: [r.jsx(ye, {
                            className: "pb-3",
                            children: r.jsx("div", {
                                className: "flex items-start justify-between gap-2",
                                children: r.jsxs("div", {
                                    className: "flex-1",
                                    children: [r.jsxs("div", {
                                        className: "flex items-center gap-2 flex-wrap",
                                        children: [r.jsx(we, {
                                            className: "text-base",
                                            children: F.referenceId
                                        }), z(F.paymentStatus)]
                                    }), r.jsxs(Mn, {
                                        className: "text-sm mt-1",
                                        children: [F.fromCity, "  ", F.toCity]
                                    })]
                                })
                            })
                        }), r.jsxs(te, {
                            className: "space-y-3",
                            children: [r.jsxs("div", {
                                className: "space-y-2 text-sm",
                                children: [F.acceptedOffer && r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx(si, {
                                        className: "h-4 w-4 text-muted-foreground"
                                    }), r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Montant:"
                                    }), r.jsxs("span", {
                                        className: "font-bold text-[#5BC0EB]",
                                        children: [F.acceptedOffer.amount, " DH"]
                                    })]
                                }), F.client && r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx(an, {
                                        className: "h-4 w-4 text-muted-foreground"
                                    }), r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Client:"
                                    }), r.jsx("span", {
                                        className: "font-medium",
                                        children: F.client.name
                                    }), r.jsx("a", {
                                        href: `tel:${F.client.phoneNumber}`,
                                        className: "text-[#5BC0EB] hover:underline",
                                        children: F.client.phoneNumber
                                    })]
                                }), F.transporter && r.jsxs("div", {
                                    className: "flex items-center gap-2",
                                    children: [r.jsx(an, {
                                        className: "h-4 w-4 text-muted-foreground"
                                    }), r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Transporteur:"
                                    }), r.jsx("span", {
                                        className: "font-medium",
                                        children: F.transporter.name
                                    }), r.jsx("a", {
                                        href: `tel:${F.transporter.phoneNumber}`,
                                        className: "text-[#5BC0EB] hover:underline",
                                        children: F.transporter.phoneNumber
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex flex-wrap gap-2 pt-2",
                                children: [r.jsxs(Vt, {
                                    value: F.paymentStatus,
                                    onValueChange: nt => ce.mutate({
                                        requestId: F.id,
                                        paymentStatus: nt
                                    }),
                                    children: [r.jsx(Mt, {
                                        className: "w-[180px]",
                                        "data-testid": `select-payment-status-${F.id}`,
                                        children: r.jsx(Bt, {
                                            placeholder: "Statut paiement"
                                        })
                                    }), r.jsxs(Ot, {
                                        children: [r.jsx(Se, {
                                            value: "pending",
                                            children: " facturer"
                                        }), r.jsx(Se, {
                                            value: "awaiting_payment",
                                            children: "En attente paiement"
                                        }), r.jsx(Se, {
                                            value: "pending_admin_validation",
                                            children: "Validation admin"
                                        }), r.jsx(Se, {
                                            value: "paid",
                                            children: "Pay"
                                        })]
                                    })]
                                }), r.jsx(E, {
                                    size: "sm",
                                    variant: "outline",
                                    onClick: () => gt(F),
                                    "data-testid": `button-view-details-payment-${F.id}`,
                                    children: " Dtails"
                                }), F.client && F.transporter && r.jsxs(E, {
                                    size: "sm",
                                    variant: "outline",
                                    onClick: () => Nt(F.client, F.transporter, F.id),
                                    "data-testid": `button-open-chat-payment-${F.id}`,
                                    children: [r.jsx(Ln, {
                                        className: "h-4 w-4 mr-1"
                                    }), "Messagerie"]
                                })]
                            })]
                        })]
                    }, F.id))
                })]
            })]
        }), o && c && r.jsx(ah, {
            open: o,
            currentUserId: G.id,
            currentUserRole: "coordinateur",
            otherUser: c.transporter,
            requestId: u,
            onClose: () => {
                l(!1),
                d(null)
            }
        }), r.jsx(uy, {
            photos: j,
            open: h,
            onClose: () => x(!1),
            referenceId: w
        }), T && r.jsx(mt, {
            open: S,
            onOpenChange: C,
            children: r.jsxs(dt, {
                className: "max-w-4xl max-h-[80vh] overflow-y-auto",
                "data-testid": "dialog-coordinator-offers",
                children: [r.jsxs(ft, {
                    children: [r.jsxs(ht, {
                        children: ["Offres reues - ", T.referenceId]
                    }), r.jsxs(_t, {
                        children: [T.fromCity, "  ", T.toCity]
                    })]
                }), r.jsx(Vq, {
                    requestId: T.id,
                    onAcceptOffer: F => xt.mutate(F),
                    isPending: xt.isPending
                })]
            })
        }), b && r.jsx(mt, {
            open: p,
            onOpenChange: g,
            children: r.jsxs(dt, {
                className: "max-w-2xl max-h-[80vh] overflow-y-auto",
                children: [r.jsxs(ft, {
                    children: [r.jsxs(ht, {
                        children: ["Dtails de la commande - ", b.referenceId]
                    }), r.jsx(_t, {
                        children: "Informations compltes sur la commande"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "grid grid-cols-2 gap-4",
                        children: [r.jsxs("div", {
                            children: [r.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children: "De"
                            }), r.jsx("p", {
                                className: "font-medium",
                                children: b.fromCity
                            })]
                        }), r.jsxs("div", {
                            children: [r.jsx("p", {
                                className: "text-sm text-muted-foreground",
                                children: ""
                            }), r.jsx("p", {
                                className: "font-medium",
                                children: b.toCity
                            })]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Type de marchandise"
                        }), r.jsx("p", {
                            className: "font-medium",
                            children: b.goodsType
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Description"
                        }), r.jsx("p", {
                            className: "font-medium",
                            children: b.description
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Date"
                        }), r.jsx("p", {
                            className: "font-medium",
                            children: Dt(new Date(b.dateTime), "dd MMMM yyyy '' HH:mm", {
                                locale: Xt
                            })
                        })]
                    }), b.budget && r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm text-muted-foreground",
                            children: "Budget estim"
                        }), r.jsxs("p", {
                            className: "font-medium",
                            children: [b.budget, " DH"]
                        })]
                    }), b.client && r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsx("p", {
                            className: "font-semibold mb-2",
                            children: "Client"
                        }), r.jsxs("div", {
                            className: "space-y-1",
                            children: [r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Nom:"
                                }), " ", b.client.name || "Non dfini"]
                            }), r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Tlphone:"
                                }), " ", b.client.phoneNumber]
                            }), b.client.clientId && r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "ID Client:"
                                }), " ", b.client.clientId]
                            })]
                        })]
                    }), b.transporter && r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsx("p", {
                            className: "font-semibold mb-2",
                            children: "Transporteur"
                        }), r.jsxs("div", {
                            className: "space-y-1",
                            children: [r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Nom:"
                                }), " ", b.transporter.name || "Non dfini"]
                            }), r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Tlphone:"
                                }), " ", b.transporter.phoneNumber]
                            }), b.transporter.city && r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Ville:"
                                }), " ", b.transporter.city]
                            })]
                        })]
                    }), b.acceptedOffer && r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsx("p", {
                            className: "font-semibold mb-2",
                            children: "Offre accepte"
                        }), r.jsxs("div", {
                            className: "space-y-1",
                            children: [r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Montant:"
                                }), " ", r.jsxs("span", {
                                    className: "font-bold text-[#5BC0EB]",
                                    children: [b.acceptedOffer.amount, " DH"]
                                })]
                            }), r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Type de chargement:"
                                }), " ", b.acceptedOffer.loadType === "return" ? "Retour" : "Groupage"]
                            }), r.jsxs("p", {
                                children: [r.jsx("span", {
                                    className: "text-muted-foreground",
                                    children: "Date de prise en charge:"
                                }), " ", Dt(new Date(b.acceptedOffer.pickupDate), "dd MMMM yyyy", {
                                    locale: Xt
                                })]
                            })]
                        })]
                    }), b.photos && b.photos.length > 0 && r.jsxs("div", {
                        className: "border-t pt-4",
                        children: [r.jsxs("p", {
                            className: "font-semibold mb-2",
                            children: ["Photos (", b.photos.length, ")"]
                        }), r.jsx(E, {
                            variant: "outline",
                            size: "sm",
                            onClick: () => ot(b.photos),
                            children: "Voir les photos"
                        })]
                    })]
                }), r.jsx(mr, {
                    children: r.jsx(E, {
                        variant: "outline",
                        onClick: () => g(!1),
                        children: "Fermer"
                    })
                })]
            })
        })]
    })
}
function Uq({onSuccess: e, cities: t}) {
    const {toast: n} = Ht()
      , [s,a] = m.useState({
        name: "",
        phoneNumber: "",
        city: "",
        photo: null
    })
      , i = Fe({
        mutationFn: async l => {
            const c = await fetch("/api/admin/clients", {
                method: "POST",
                body: l
            });
            if (!c.ok)
                throw new Error("chec de l'ajout");
            return c.json()
        }
        ,
        onSuccess: () => {
            n({
                title: "Client ajout",
                description: "Le client a t ajout avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/clients"]
            }),
            e()
        }
        ,
        onError: () => {
            n({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'ajout du client"
            })
        }
    })
      , o = l => {
        l.preventDefault();
        const c = new FormData;
        c.append("name", s.name),
        c.append("phoneNumber", s.phoneNumber),
        c.append("city", s.city),
        s.photo && c.append("photo", s.photo),
        i.mutate(c)
    }
    ;
    return r.jsxs("form", {
        onSubmit: o,
        className: "space-y-4",
        children: [r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "client-name",
                children: "Nom complet *"
            }), r.jsx(_e, {
                id: "client-name",
                value: s.name,
                onChange: l => a({
                    ...s,
                    name: l.target.value
                }),
                required: !0,
                "data-testid": "input-client-name"
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "client-phone",
                children: "Tlphone *"
            }), r.jsx(_e, {
                id: "client-phone",
                type: "tel",
                placeholder: "+212...",
                value: s.phoneNumber,
                onChange: l => a({
                    ...s,
                    phoneNumber: l.target.value
                }),
                required: !0,
                "data-testid": "input-client-phone"
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "client-city",
                children: "Ville *"
            }), r.jsxs(Vt, {
                value: s.city,
                onValueChange: l => a({
                    ...s,
                    city: l
                }),
                children: [r.jsx(Mt, {
                    id: "client-city",
                    "data-testid": "select-client-city",
                    children: r.jsx(Bt, {
                        placeholder: "Slectionner une ville"
                    })
                }), r.jsx(Ot, {
                    children: t.map(l => r.jsx(Se, {
                        value: l.name,
                        children: l.name
                    }, l.id))
                })]
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "client-photo",
                children: "Photo (optionnel)"
            }), r.jsx(_e, {
                id: "client-photo",
                type: "file",
                accept: "image/*",
                onChange: l => {
                    var c;
                    return a({
                        ...s,
                        photo: ((c = l.target.files) == null ? void 0 : c[0]) || null
                    })
                }
                ,
                "data-testid": "input-client-photo"
            })]
        }), r.jsx(mr, {
            children: r.jsx(E, {
                type: "submit",
                disabled: i.isPending,
                "data-testid": "button-submit-client",
                children: i.isPending ? "Ajout..." : "Ajouter le client"
            })
        })]
    })
}
function qq({onSuccess: e, cities: t}) {
    const {toast: n} = Ht()
      , [s,a] = m.useState({
        name: "",
        phoneNumber: "",
        city: "",
        truckPhoto: null
    })
      , i = Fe({
        mutationFn: async l => {
            const c = await fetch("/api/admin/transporters", {
                method: "POST",
                body: l
            });
            if (!c.ok)
                throw new Error("chec de l'ajout");
            return c.json()
        }
        ,
        onSuccess: () => {
            n({
                title: "Transporteur ajout",
                description: "Le transporteur a t ajout avec succs"
            }),
            le.invalidateQueries({
                queryKey: ["/api/admin/transporters"]
            }),
            e()
        }
        ,
        onError: () => {
            n({
                variant: "destructive",
                title: "Erreur",
                description: "chec de l'ajout du transporteur"
            })
        }
    })
      , o = l => {
        l.preventDefault();
        const c = new FormData;
        c.append("name", s.name),
        c.append("phoneNumber", s.phoneNumber),
        c.append("city", s.city),
        s.truckPhoto && c.append("truckPhoto", s.truckPhoto),
        i.mutate(c)
    }
    ;
    return r.jsxs("form", {
        onSubmit: o,
        className: "space-y-4",
        children: [r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "transporter-name",
                children: "Nom complet *"
            }), r.jsx(_e, {
                id: "transporter-name",
                value: s.name,
                onChange: l => a({
                    ...s,
                    name: l.target.value
                }),
                required: !0,
                "data-testid": "input-transporter-name"
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "transporter-phone",
                children: "Tlphone *"
            }), r.jsx(_e, {
                id: "transporter-phone",
                type: "tel",
                placeholder: "+212...",
                value: s.phoneNumber,
                onChange: l => a({
                    ...s,
                    phoneNumber: l.target.value
                }),
                required: !0,
                "data-testid": "input-transporter-phone"
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "transporter-city",
                children: "Ville *"
            }), r.jsxs(Vt, {
                value: s.city,
                onValueChange: l => a({
                    ...s,
                    city: l
                }),
                children: [r.jsx(Mt, {
                    id: "transporter-city",
                    "data-testid": "select-transporter-city",
                    children: r.jsx(Bt, {
                        placeholder: "Slectionner une ville"
                    })
                }), r.jsx(Ot, {
                    children: t.map(l => r.jsx(Se, {
                        value: l.name,
                        children: l.name
                    }, l.id))
                })]
            })]
        }), r.jsxs("div", {
            children: [r.jsx(Zt, {
                htmlFor: "transporter-photo",
                children: "Photo du camion (optionnel)"
            }), r.jsx(_e, {
                id: "transporter-photo",
                type: "file",
                accept: "image/*",
                onChange: l => {
                    var c;
                    return a({
                        ...s,
                        truckPhoto: ((c = l.target.files) == null ? void 0 : c[0]) || null
                    })
                }
                ,
                "data-testid": "input-transporter-photo"
            })]
        }), r.jsx(mr, {
            children: r.jsx(E, {
                type: "submit",
                disabled: i.isPending,
                "data-testid": "button-submit-transporter",
                children: i.isPending ? "Ajout..." : "Ajouter le transporteur"
            })
        })]
    })
}
function Wq() {
    const [e,t] = rr();
    Ht();
    const [n,s] = m.useState("")
      , [a,i] = m.useState(!1)
      , [o,l] = m.useState("client")
      , [c,d] = m.useState(!1)
      , [u,f] = m.useState(null)
      , [h,x] = m.useState(!1)
      , [j,v] = m.useState(null)
      , {data: w, isLoading: y} = Oe({
        queryKey: [`/api/admin/transporters/${j}/photo`],
        enabled: h && !!j
    })
      , p = localStorage.getItem("camionback_user")
      , g = p ? JSON.parse(p) : null
      , b = () => {
        localStorage.removeItem("camionback_user"),
        t("/login")
    }
      , {data: k=[], isLoading: S} = Oe({
        queryKey: ["/api/admin/clients"]
    })
      , {data: C=[], isLoading: T} = Oe({
        queryKey: ["/api/admin/transporters"]
    })
      , {data: D=[]} = Oe({
        queryKey: ["/api/cities"]
    })
      , L = X => {
        if (!n)
            return X;
        const I = n.toLowerCase();
        return X.filter(V => {
            var oe, he, ce;
            return ((oe = V.name) == null ? void 0 : oe.toLowerCase().includes(I)) || ((he = V.phoneNumber) == null ? void 0 : he.includes(I)) || ((ce = V.clientId) == null ? void 0 : ce.toLowerCase().includes(I))
        }
        )
    }
      , G = L(k)
      , M = L(C)
      , H = X => {
        l(X),
        i(!0)
    }
      , U = () => {
        i(!1)
    }
      , re = (X, I) => {
        f({
            ...X,
            type: I
        }),
        d(!0)
    }
      , ae = X => {
        v(X),
        x(!0)
    }
    ;
    return !g || g.role !== "coordinateur" ? (t("/login"),
    null) : r.jsxs("div", {
        className: "min-h-screen bg-background flex flex-col",
        children: [r.jsx(ks, {
            user: g,
            onLogout: b
        }), r.jsxs("main", {
            className: "flex-1 container py-6 px-4 md:px-6",
            children: [r.jsxs("div", {
                className: "mb-6",
                children: [r.jsx("h1", {
                    className: "text-2xl font-bold mb-2",
                    children: "Gestion des Utilisateurs"
                }), r.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Ajouter et grer les clients et transporteurs"
                })]
            }), r.jsx("div", {
                className: "mb-6",
                children: r.jsxs("div", {
                    className: "relative",
                    children: [r.jsx(jr, {
                        className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"
                    }), r.jsx(_e, {
                        placeholder: "Rechercher par nom, tlphone ou ID...",
                        value: n,
                        onChange: X => s(X.target.value),
                        className: "pl-10",
                        "data-testid": "input-search-users"
                    })]
                })
            }), r.jsxs("div", {
                className: "mb-6 flex flex-wrap gap-3",
                children: [r.jsxs(E, {
                    onClick: () => H("client"),
                    className: "gap-2",
                    "data-testid": "button-add-client",
                    children: [r.jsx(ow, {
                        className: "h-4 w-4"
                    }), "Ajouter un Client"]
                }), r.jsxs(E, {
                    onClick: () => H("transporter"),
                    variant: "secondary",
                    className: "gap-2",
                    "data-testid": "button-add-transporter",
                    children: [r.jsx(ow, {
                        className: "h-4 w-4"
                    }), "Ajouter un Transporteur"]
                })]
            }), r.jsxs(Xl, {
                defaultValue: "clients",
                children: [r.jsxs(vi, {
                    className: "grid w-full grid-cols-2 max-w-md",
                    children: [r.jsxs(Pt, {
                        value: "clients",
                        "data-testid": "tab-clients",
                        children: [r.jsx(fs, {
                            className: "h-4 w-4 mr-2"
                        }), "Clients (", G.length, ")"]
                    }), r.jsxs(Pt, {
                        value: "transporters",
                        "data-testid": "tab-transporters",
                        children: [r.jsx(At, {
                            className: "h-4 w-4 mr-2"
                        }), "Transporteurs (", M.length, ")"]
                    })]
                }), r.jsx(Et, {
                    value: "clients",
                    className: "mt-6",
                    children: S ? r.jsx("div", {
                        className: "flex justify-center py-12",
                        children: r.jsx(gn, {})
                    }) : G.length === 0 ? r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-12 text-center text-muted-foreground",
                            children: [r.jsx(fs, {
                                className: "h-12 w-12 mx-auto mb-3 opacity-50"
                            }), r.jsx("p", {
                                children: "Aucun client trouv"
                            })]
                        })
                    }) : r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: G.map(X => r.jsxs(J, {
                            className: "hover-elevate",
                            "data-testid": `card-client-${X.id}`,
                            children: [r.jsx(ye, {
                                children: r.jsxs("div", {
                                    className: "flex items-start justify-between",
                                    children: [r.jsxs("div", {
                                        className: "flex-1",
                                        children: [r.jsx(we, {
                                            className: "text-base",
                                            children: X.name
                                        }), X.clientId && r.jsx(de, {
                                            variant: "outline",
                                            className: "mt-1",
                                            children: X.clientId
                                        })]
                                    }), r.jsx(E, {
                                        size: "icon",
                                        variant: "ghost",
                                        onClick: () => re(X, "client"),
                                        "data-testid": `button-edit-client-${X.id}`,
                                        children: r.jsx(od, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })
                            }), r.jsxs(te, {
                                className: "space-y-2",
                                children: [r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Tlphone:"
                                    }), " ", r.jsx("a", {
                                        href: `tel:${X.phoneNumber}`,
                                        className: "text-primary hover:underline",
                                        children: X.phoneNumber
                                    })]
                                }), r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Ville:"
                                    }), " ", X.city]
                                }), X.totalRequests !== void 0 && r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Commandes:"
                                    }), " ", X.totalRequests]
                                })]
                            })]
                        }, X.id))
                    })
                }), r.jsx(Et, {
                    value: "transporters",
                    className: "mt-6",
                    children: T ? r.jsx("div", {
                        className: "flex justify-center py-12",
                        children: r.jsx(gn, {})
                    }) : M.length === 0 ? r.jsx(J, {
                        children: r.jsxs(te, {
                            className: "py-12 text-center text-muted-foreground",
                            children: [r.jsx(At, {
                                className: "h-12 w-12 mx-auto mb-3 opacity-50"
                            }), r.jsx("p", {
                                children: "Aucun transporteur trouv"
                            })]
                        })
                    }) : r.jsx("div", {
                        className: "grid gap-4 md:grid-cols-2 lg:grid-cols-3",
                        children: M.map(X => r.jsxs(J, {
                            className: "hover-elevate",
                            "data-testid": `card-transporter-${X.id}`,
                            children: [r.jsx(ye, {
                                children: r.jsxs("div", {
                                    className: "flex items-start justify-between",
                                    children: [r.jsxs("div", {
                                        className: "flex-1",
                                        children: [r.jsx(we, {
                                            className: "text-base",
                                            children: X.name
                                        }), X.hasTruckPhoto && r.jsxs(E, {
                                            variant: "outline",
                                            size: "sm",
                                            className: "mt-1 h-6 px-2 text-xs",
                                            onClick: () => ae(X.id),
                                            "data-testid": `button-view-photo-${X.id}`,
                                            children: [r.jsx(pk, {
                                                className: "h-3 w-3 mr-1"
                                            }), "Photo"]
                                        })]
                                    }), r.jsx(E, {
                                        size: "icon",
                                        variant: "ghost",
                                        onClick: () => re(X, "transporter"),
                                        "data-testid": `button-edit-transporter-${X.id}`,
                                        children: r.jsx(od, {
                                            className: "h-4 w-4"
                                        })
                                    })]
                                })
                            }), r.jsxs(te, {
                                className: "space-y-2",
                                children: [r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Tlphone:"
                                    }), " ", r.jsx("a", {
                                        href: `tel:${X.phoneNumber}`,
                                        className: "text-primary hover:underline",
                                        children: X.phoneNumber
                                    })]
                                }), r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Ville:"
                                    }), " ", X.city]
                                }), X.rating !== void 0 && r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Note:"
                                    }), " ", X.rating.toFixed(1), " "]
                                }), X.totalTrips !== void 0 && r.jsxs("p", {
                                    className: "text-sm",
                                    children: [r.jsx("span", {
                                        className: "text-muted-foreground",
                                        children: "Trajets:"
                                    }), " ", X.totalTrips]
                                })]
                            })]
                        }, X.id))
                    })
                })]
            })]
        }), r.jsx(mt, {
            open: a,
            onOpenChange: i,
            children: r.jsxs(dt, {
                className: "max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: o === "client" ? "Ajouter un Client" : "Ajouter un Transporteur"
                    }), r.jsxs(_t, {
                        children: ["Remplissez les informations pour ajouter un nouveau ", o === "client" ? "client" : "transporteur"]
                    })]
                }), o === "client" ? r.jsx(Uq, {
                    onSuccess: U,
                    cities: D
                }) : r.jsx(qq, {
                    onSuccess: U,
                    cities: D
                })]
            })
        }), r.jsx(mt, {
            open: c,
            onOpenChange: d,
            children: r.jsxs(dt, {
                className: "max-w-md",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Modifier l'utilisateur"
                    }), r.jsx(_t, {
                        children: "Fonctionnalit de modification en cours de dveloppement"
                    })]
                }), r.jsx("p", {
                    className: "text-sm text-muted-foreground",
                    children: "Cette fonctionnalit sera disponible prochainement pour permettre la modification des informations utilisateur."
                })]
            })
        }), r.jsx(mt, {
            open: h,
            onOpenChange: x,
            children: r.jsxs(dt, {
                className: "max-w-3xl",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Photos du camion"
                    }), r.jsx(_t, {
                        children: "Photos du vhicule du transporteur"
                    })]
                }), r.jsx("div", {
                    className: "space-y-4",
                    children: y ? r.jsxs("div", {
                        className: "text-center py-12 text-muted-foreground",
                        children: [r.jsx(At, {
                            className: "h-12 w-12 mx-auto mb-3 opacity-50 animate-pulse"
                        }), r.jsx("p", {
                            children: "Chargement de la photo..."
                        })]
                    }) : w != null && w.truckPhoto ? r.jsx("img", {
                        src: w.truckPhoto,
                        alt: "Photo du camion",
                        className: "w-full h-auto rounded-lg",
                        "data-testid": "img-truck-photo"
                    }) : r.jsxs("div", {
                        className: "text-center py-12 text-muted-foreground",
                        children: [r.jsx(At, {
                            className: "h-12 w-12 mx-auto mb-3 opacity-50"
                        }), r.jsx("p", {
                            children: "Aucune photo disponible pour ce camion"
                        })]
                    })
                })]
            })
        })]
    })
}
function Hq() {
    const [,e] = rr()
      , [t,n] = m.useState( () => JSON.parse(localStorage.getItem("camionback_user") || "{}"));
    m.useEffect( () => {
        t.role && t.role !== "transporter" && e("/")
    }
    , [t.role, e]),
    m.useEffect( () => {
        const l = async () => {
            try {
                const c = await fetch(`/api/auth/me/${t.id}`);
                if (c.ok) {
                    const {user: d} = await c.json();
                    localStorage.setItem("camionback_user", JSON.stringify(d)),
                    n(d)
                } else
                    c.status === 404 && (localStorage.removeItem("camionback_user"),
                    window.location.href = "/")
            } catch (c) {
                console.error("Failed to refresh user data:", c)
            }
        }
        ;
        t.id && l()
    }
    , [t.id]);
    const s = () => {
        localStorage.removeItem("camionback_user"),
        window.location.href = "/"
    }
      , {data: a=[], isLoading: i} = Oe({
        queryKey: ["/api/requests/payments", t.id],
        queryFn: async () => (await fetch(`/api/requests?payments=true&transporterId=${t.id}`)).json(),
        refetchInterval: 5e3,
        enabled: !!t.id && t.role === "transporter"
    })
      , {data: o=[]} = Oe({
        queryKey: ["/api/offers"],
        queryFn: async () => (await fetch("/api/offers")).json()
    });
    return i ? r.jsx("div", {
        className: "min-h-screen flex items-center justify-center",
        children: r.jsx(gn, {
            message: "Chargement de vos paiements...",
            size: "lg"
        })
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: t,
            onLogout: s
        }), r.jsxs("div", {
            className: "container mx-auto p-4 md:p-6 max-w-7xl space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold",
                    children: "Paiements reus"
                }), r.jsx("p", {
                    className: "text-muted-foreground mt-1",
                    children: "Historique de vos paiements CamionBack"
                })]
            }), r.jsxs(J, {
                children: [r.jsx(ye, {
                    children: r.jsx(we, {
                        children: "Liste des paiements"
                    })
                }), r.jsx(te, {
                    children: a.length > 0 ? r.jsx("div", {
                        className: "overflow-x-auto",
                        children: r.jsxs(Vn, {
                            children: [r.jsx(Bn, {
                                children: r.jsxs(kt, {
                                    children: [r.jsx(K, {
                                        children: "Numro de commande"
                                    }), r.jsx(K, {
                                        children: "Date de commande"
                                    }), r.jsx(K, {
                                        children: "Dernire mise  jour"
                                    }), r.jsx(K, {
                                        children: "Montant"
                                    }), r.jsx(K, {
                                        children: "Statut"
                                    })]
                                })
                            }), r.jsx(Un, {
                                children: a.map(l => {
                                    const c = o.find(f => f.id === l.acceptedOfferId)
                                      , d = l.paymentStatus === "pending_admin_validation"
                                      , u = l.paymentStatus === "paid";
                                    return r.jsxs(kt, {
                                        "data-testid": `row-payment-${l.id}`,
                                        children: [r.jsx(Q, {
                                            className: "font-medium",
                                            "data-testid": `text-reference-${l.id}`,
                                            children: l.referenceId
                                        }), r.jsx(Q, {
                                            "data-testid": `text-created-${l.id}`,
                                            children: l.createdAt ? Dt(new Date(l.createdAt), "dd/MM/yyyy", {
                                                locale: Xt
                                            }) : "N/A"
                                        }), r.jsx(Q, {
                                            "data-testid": `text-updated-${l.id}`,
                                            children: l.updatedAt ? Dt(new Date(l.updatedAt), "dd/MM/yyyy '' HH:mm", {
                                                locale: Xt
                                            }) : l.createdAt ? Dt(new Date(l.createdAt), "dd/MM/yyyy '' HH:mm", {
                                                locale: Xt
                                            }) : "N/A"
                                        }), r.jsx(Q, {
                                            className: "font-semibold",
                                            "data-testid": `text-amount-${l.id}`,
                                            children: c ? `${c.amount} MAD` : "N/A"
                                        }), r.jsxs(Q, {
                                            "data-testid": `status-payment-${l.id}`,
                                            children: [d && r.jsxs(de, {
                                                variant: "default",
                                                className: "bg-orange-600 gap-1",
                                                children: [r.jsx(Ex, {
                                                    className: "h-3 w-3"
                                                }), "En attente de paiement par CamionBack"]
                                            }), u && r.jsxs(de, {
                                                variant: "default",
                                                className: "bg-green-600 gap-1",
                                                children: [r.jsx(mn, {
                                                    className: "h-3 w-3"
                                                }), "Pay par CamionBack"]
                                            })]
                                        })]
                                    }, l.id)
                                }
                                )
                            })]
                        })
                    }) : r.jsxs("div", {
                        className: "text-center py-12",
                        children: [r.jsx(Ex, {
                            className: "mx-auto h-12 w-12 text-muted-foreground mb-4"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Aucun paiement pour le moment"
                        })]
                    })
                })]
            })]
        })]
    })
}
function Kq() {
    const e = JSON.parse(localStorage.getItem("camionback_user") || "{}")
      , {data: t, isLoading: n} = Oe({
        queryKey: ["/api/transporters", e == null ? void 0 : e.id, "ratings"],
        enabled: !!(e != null && e.id)
    })
      , s = o => r.jsx("div", {
        className: "flex gap-1",
        "data-testid": `stars-${o}`,
        children: [1, 2, 3, 4, 5].map(l => r.jsx(Xs, {
            className: `w-5 h-5 ${l <= o ? "fill-yellow-400 text-yellow-400" : "fill-gray-600 text-gray-600"}`,
            "data-testid": `star-${l <= o ? "filled" : "empty"}`
        }, l))
    });
    if (n)
        return r.jsx("div", {
            className: "min-h-screen bg-[#0a2540] flex items-center justify-center",
            children: r.jsx(gn, {
                message: "Chargement de vos avis...",
                size: "lg"
            })
        });
    const a = (t == null ? void 0 : t.summary) || {
        averageRating: "0.0",
        totalRatings: 0
    }
      , i = (t == null ? void 0 : t.ratings) || [];
    return r.jsx("div", {
        className: "min-h-screen bg-[#0a2540] p-4",
        children: r.jsxs("div", {
            className: "max-w-4xl mx-auto",
            children: [r.jsx("h1", {
                className: "text-3xl font-bold text-white mb-6",
                "data-testid": "heading-ratings",
                children: "Mes avis clients"
            }), r.jsx(J, {
                className: "mb-6 bg-white/10 border-white/20",
                "data-testid": "card-summary",
                children: r.jsx(te, {
                    className: "p-6",
                    children: r.jsxs("div", {
                        className: "flex items-center gap-4",
                        children: [r.jsxs("div", {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Xs, {
                                className: "w-8 h-8 fill-yellow-400 text-yellow-400"
                            }), r.jsxs("div", {
                                children: [r.jsx("div", {
                                    className: "text-4xl font-bold text-white",
                                    "data-testid": "text-average-rating",
                                    children: a.averageRating
                                }), r.jsx("div", {
                                    className: "text-sm text-gray-300",
                                    children: "/ 5"
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "ml-auto text-right",
                            children: [r.jsx("div", {
                                className: "text-2xl font-semibold text-white",
                                "data-testid": "text-total-ratings",
                                children: a.totalRatings
                            }), r.jsx("div", {
                                className: "text-sm text-gray-300",
                                children: a.totalRatings === 0 || a.totalRatings === 1 ? "valuation" : "valuations"
                            })]
                        })]
                    })
                })
            }), i.length === 0 && r.jsx(J, {
                className: "bg-white/10 border-white/20",
                "data-testid": "card-no-ratings",
                children: r.jsxs(te, {
                    className: "p-8 text-center",
                    children: [r.jsx(zt, {
                        className: "w-16 h-16 text-gray-400 mx-auto mb-4"
                    }), r.jsx("p", {
                        className: "text-lg text-gray-300",
                        children: "Vous n'avez pas encore reu d'avis."
                    }), r.jsx("p", {
                        className: "text-sm text-gray-400 mt-2",
                        children: "Continuez  effectuer vos livraisons pour btir votre rputation sur CamionBack."
                    })]
                })
            }), i.length > 0 && r.jsx("div", {
                className: "space-y-4",
                children: i.map(o => r.jsxs(J, {
                    className: "bg-white/10 border-white/20",
                    "data-testid": `card-rating-${o.id}`,
                    children: [r.jsx(ye, {
                        className: "pb-3",
                        children: r.jsxs(we, {
                            className: "text-lg font-semibold text-white flex items-center justify-between",
                            children: [r.jsx("span", {
                                "data-testid": `text-reference-${o.id}`,
                                children: o.requestReference
                            }), r.jsx("span", {
                                className: "text-sm font-normal text-gray-300",
                                "data-testid": `text-date-${o.id}`,
                                children: o.createdAt ? Dt(new Date(o.createdAt), "d MMMM yyyy", {
                                    locale: Xt
                                }) : "N/A"
                            })]
                        })
                    }), r.jsxs(te, {
                        children: [s(o.score), o.comment && r.jsx("p", {
                            className: "text-gray-300 mt-3 text-sm",
                            "data-testid": `text-comment-${o.id}`,
                            children: o.comment
                        })]
                    })]
                }, o.id))
            })]
        })
    })
}
function Qq() {
    const [,e] = rr()
      , {toast: t} = Ht()
      , [n,s] = m.useState(!1)
      , [a,i] = m.useState(!1)
      , [o,l] = m.useState(null)
      , [c,d] = m.useState("")
      , [u,f] = m.useState("")
      , [h,x] = m.useState("")
      , [j,v] = m.useState("")
      , [w,y] = m.useState("")
      , p = localStorage.getItem("camionback_user")
      , g = p ? JSON.parse(p) : null
      , {data: b, isLoading: k} = Oe({
        queryKey: [`/api/users/${g == null ? void 0 : g.id}`],
        enabled: !!(g != null && g.id)
    });
    m.useEffect( () => {
        b && (f(b.phoneNumber),
        x(b.name))
    }
    , [b]);
    const S = Fe({
        mutationFn: async M => {
            const H = await fetch(`/api/users/${g == null ? void 0 : g.id}/profile`, {
                method: "PATCH",
                body: M
            });
            if (!H.ok) {
                const U = await H.json();
                throw new Error(U.error || "Erreur lors de la mise  jour")
            }
            return H.json()
        }
        ,
        onSuccess: M => {
            t({
                title: " Profil mis  jour avec succs",
                description: "Vos informations ont t enregistres"
            }),
            localStorage.setItem("camionback_user", JSON.stringify(M)),
            le.invalidateQueries({
                queryKey: [`/api/users/${g == null ? void 0 : g.id}`]
            }),
            s(!1),
            l(null),
            d("")
        }
        ,
        onError: M => {
            t({
                title: "Erreur",
                description: M.message || "Impossible de mettre  jour le profil",
                variant: "destructive"
            })
        }
    })
      , C = Fe({
        mutationFn: async M => (await Ae("PATCH", `/api/users/${g == null ? void 0 : g.id}/pin`, {
            pin: M
        })).json(),
        onSuccess: () => {
            t({
                title: " Code PIN modifi",
                description: "Votre nouveau code PIN a t enregistr"
            }),
            i(!1),
            v(""),
            y("")
        }
        ,
        onError: M => {
            t({
                title: "Erreur",
                description: M.message || "Impossible de modifier le PIN",
                variant: "destructive"
            })
        }
    })
      , T = () => {
        localStorage.removeItem("camionback_user"),
        e("/")
    }
      , D = M => {
        var U;
        const H = (U = M.target.files) == null ? void 0 : U[0];
        if (H) {
            if (H.size > 5 * 1024 * 1024) {
                t({
                    title: "Fichier trop volumineux",
                    description: "La photo ne doit pas dpasser 5 MB",
                    variant: "destructive"
                });
                return
            }
            l(H),
            d(URL.createObjectURL(H))
        }
    }
      , L = async () => {
        if (!u || !h) {
            t({
                title: "Champs requis",
                description: "Le nom et le tlphone sont obligatoires",
                variant: "destructive"
            });
            return
        }
        if (!/^\+212[5-7]\d{8}$/.test(u)) {
            t({
                title: "Numro invalide",
                description: "Le numro doit tre au format marocain: +212XXXXXXXXX",
                variant: "destructive"
            });
            return
        }
        const H = new FormData;
        H.append("phoneNumber", u),
        H.append("name", h),
        o && H.append("truckPhoto", o),
        S.mutate(H)
    }
      , G = () => {
        if (j.length !== 6 || !/^\d{6}$/.test(j)) {
            t({
                title: "PIN invalide",
                description: "Le code PIN doit contenir exactement 6 chiffres",
                variant: "destructive"
            });
            return
        }
        if (j !== w) {
            t({
                title: "PIN non identique",
                description: "Les deux codes PIN doivent tre identiques",
                variant: "destructive"
            });
            return
        }
        C.mutate(j)
    }
    ;
    return k ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: g,
            onLogout: T
        }), r.jsx("div", {
            className: "container py-8 flex items-center justify-center min-h-[60vh]",
            children: r.jsx(gn, {
                message: "Chargement du profil...",
                size: "lg"
            })
        })]
    }) : b ? r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: g,
            onLogout: T
        }), r.jsx("div", {
            className: "container max-w-3xl py-8 px-4",
            children: r.jsxs(J, {
                children: [r.jsx(ye, {
                    children: r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsxs("div", {
                            children: [r.jsxs(we, {
                                className: "flex items-center gap-2",
                                children: [r.jsx(Mm, {
                                    className: "w-5 h-5"
                                }), "Mon Profil"]
                            }), r.jsx(Mn, {
                                children: "Grez vos informations personnelles"
                            })]
                        }), !n && r.jsx(E, {
                            onClick: () => {
                                s(!0),
                                f(b.phoneNumber),
                                x(b.name)
                            }
                            ,
                            "data-testid": "button-edit-profile",
                            children: "Modifier"
                        })]
                    })
                }), r.jsxs(te, {
                    className: "space-y-6",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(Zt, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(At, {
                                className: "w-4 h-4"
                            }), "Photo du camion"]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-4",
                            children: [(c || b.truckPhotos && b.truckPhotos.length > 0) && r.jsx("img", {
                                src: c || b.truckPhotos[0],
                                alt: "Camion",
                                className: "w-32 h-32 object-cover rounded-lg border",
                                "data-testid": "img-truck-preview"
                            }), n && r.jsxs("div", {
                                className: "flex-1",
                                children: [r.jsx(_e, {
                                    type: "file",
                                    accept: "image/*",
                                    onChange: D,
                                    "data-testid": "input-truck-photo"
                                }), r.jsx("p", {
                                    className: "text-xs text-muted-foreground mt-1",
                                    children: "Maximum 5 MB - Formats: JPG, PNG"
                                })]
                            })]
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(Zt, {
                            htmlFor: "name",
                            className: "flex items-center gap-2",
                            children: [r.jsx(Mm, {
                                className: "w-4 h-4"
                            }), "Nom complet ou nom de socit"]
                        }), n ? r.jsx(_e, {
                            id: "name",
                            value: h,
                            onChange: M => x(M.target.value),
                            placeholder: "Votre nom",
                            "data-testid": "input-name"
                        }) : r.jsx("p", {
                            className: "text-base py-2",
                            "data-testid": "text-name",
                            children: b.name
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(Zt, {
                            htmlFor: "phone",
                            className: "flex items-center gap-2",
                            children: [r.jsx(an, {
                                className: "w-4 h-4"
                            }), "Numro de tlphone"]
                        }), n ? r.jsx(_e, {
                            id: "phone",
                            value: u,
                            onChange: M => f(M.target.value),
                            placeholder: "+212XXXXXXXXX",
                            "data-testid": "input-phone"
                        }) : r.jsx("p", {
                            className: "text-base py-2",
                            "data-testid": "text-phone",
                            children: b.phoneNumber
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(Zt, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(Rr, {
                                className: "w-4 h-4"
                            }), "Ville de rsidence"]
                        }), r.jsx("p", {
                            className: "text-base py-2 text-muted-foreground",
                            "data-testid": "text-city",
                            children: b.city
                        }), r.jsx("p", {
                            className: "text-xs text-muted-foreground",
                            children: "Non modifiable - Contactez l'administrateur pour changer"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsxs(Zt, {
                            className: "flex items-center gap-2",
                            children: [r.jsx(OL, {
                                className: "w-4 h-4"
                            }), "Code PIN"]
                        }), r.jsxs("div", {
                            className: "flex items-center gap-4",
                            children: [r.jsx("p", {
                                className: "text-base py-2",
                                "data-testid": "text-pin",
                                children: ""
                            }), r.jsx(E, {
                                variant: "outline",
                                size: "sm",
                                onClick: () => i(!0),
                                "data-testid": "button-change-pin",
                                children: "Rinitialiser le PIN"
                            })]
                        })]
                    }), n && r.jsxs("div", {
                        className: "flex gap-3 pt-4",
                        children: [r.jsx(E, {
                            onClick: L,
                            disabled: S.isPending,
                            className: "flex-1",
                            style: {
                                backgroundColor: "#17cfcf"
                            },
                            "data-testid": "button-save-profile",
                            children: S.isPending ? "Enregistrement..." : "Enregistrer les modifications"
                        }), r.jsx(E, {
                            variant: "outline",
                            onClick: () => {
                                s(!1),
                                l(null),
                                d("")
                            }
                            ,
                            "data-testid": "button-cancel-edit",
                            children: "Annuler"
                        })]
                    })]
                })]
            })
        }), r.jsx(mt, {
            open: a,
            onOpenChange: i,
            children: r.jsxs(dt, {
                "data-testid": "dialog-change-pin",
                children: [r.jsxs(ft, {
                    children: [r.jsx(ht, {
                        children: "Rinitialiser le code PIN"
                    }), r.jsx(_t, {
                        children: "Entrez un nouveau code PIN  6 chiffres"
                    })]
                }), r.jsxs("div", {
                    className: "space-y-4 py-4",
                    children: [r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx(Zt, {
                            htmlFor: "new-pin",
                            children: "Nouveau code PIN"
                        }), r.jsx(_e, {
                            id: "new-pin",
                            type: "password",
                            maxLength: 6,
                            value: j,
                            onChange: M => v(M.target.value.replace(/\D/g, "")),
                            placeholder: "6 chiffres",
                            "data-testid": "input-new-pin"
                        })]
                    }), r.jsxs("div", {
                        className: "space-y-2",
                        children: [r.jsx(Zt, {
                            htmlFor: "confirm-pin",
                            children: "Confirmer le code PIN"
                        }), r.jsx(_e, {
                            id: "confirm-pin",
                            type: "password",
                            maxLength: 6,
                            value: w,
                            onChange: M => y(M.target.value.replace(/\D/g, "")),
                            placeholder: "6 chiffres",
                            "data-testid": "input-confirm-pin"
                        })]
                    })]
                }), r.jsxs(mr, {
                    children: [r.jsx(E, {
                        variant: "outline",
                        onClick: () => {
                            i(!1),
                            v(""),
                            y("")
                        }
                        ,
                        "data-testid": "button-cancel-pin",
                        children: "Annuler"
                    }), r.jsx(E, {
                        onClick: G,
                        disabled: C.isPending,
                        "data-testid": "button-confirm-pin",
                        children: C.isPending ? "Enregistrement..." : "Valider"
                    })]
                })]
            })
        })]
    }) : r.jsxs("div", {
        className: "min-h-screen bg-background",
        children: [r.jsx(ks, {
            user: g,
            onLogout: T
        }), r.jsx("div", {
            className: "container py-8",
            children: r.jsx("p", {
                className: "text-center text-muted-foreground",
                children: "Profil introuvable"
            })
        })]
    })
}
function Gq() {
    const {toast: e} = Ht()
      , [t,n] = m.useState("")
      , [s,a] = m.useState("")
      , i = localStorage.getItem("camionback_user")
      , o = i ? JSON.parse(i) : null
      , {isLoading: l} = Oe({
        queryKey: ["/api/user/rib", o == null ? void 0 : o.id],
        queryFn: async () => {
            if (!(o != null && o.id))
                throw new Error("Utilisateur non trouv");
            const u = await fetch(`/api/user/rib?userId=${o.id}`);
            if (!u.ok)
                throw new Error("chec de rcupration du RIB");
            const f = await u.json();
            return n(f.ribName || ""),
            a(f.ribNumber || ""),
            f
        }
        ,
        enabled: !!(o != null && o.id)
    })
      , c = Fe({
        mutationFn: async u => {
            if (!(o != null && o.id))
                throw new Error("Utilisateur non trouv");
            return await Ae("PATCH", "/api/user/rib", {
                ...u,
                userId: o.id
            })
        }
        ,
        onSuccess: () => {
            e({
                title: "Succs",
                description: " Votre RIB a t enregistr avec succs."
            }),
            le.invalidateQueries({
                queryKey: ["/api/user/rib"]
            })
        }
        ,
        onError: u => {
            e({
                variant: "destructive",
                title: "Erreur",
                description: u.message || " Le RIB doit contenir exactement 24 chiffres."
            })
        }
    })
      , d = u => {
        if (u.preventDefault(),
        s && !/^\d{24}$/.test(s)) {
            e({
                variant: "destructive",
                title: "Erreur de validation",
                description: " Le RIB doit contenir exactement 24 chiffres."
            });
            return
        }
        c.mutate({
            ribName: t,
            ribNumber: s
        })
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-2xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(El, {
                    href: "/transporter-dashboard",
                    children: r.jsx(E, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(zd, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsx("h1", {
                    className: "text-2xl font-bold",
                    children: "Mon RIB"
                })]
            }), r.jsxs(J, {
                children: [r.jsxs(ye, {
                    children: [r.jsxs("div", {
                        className: "flex items-center gap-2",
                        children: [r.jsx(pa, {
                            className: "h-6 w-6 text-primary"
                        }), r.jsx(we, {
                            children: "Informations bancaires"
                        })]
                    }), r.jsx(Mn, {
                        children: "Ajoutez ou modifiez vos informations bancaires pour recevoir vos paiements."
                    })]
                }), r.jsx(te, {
                    children: l ? r.jsx("div", {
                        className: "text-center py-8 text-muted-foreground",
                        children: "Chargement..."
                    }) : r.jsxs("form", {
                        onSubmit: d,
                        className: "space-y-6",
                        children: [r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(Zt, {
                                htmlFor: "ribName",
                                children: ["Nom (personnel ou socit) ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx(_e, {
                                id: "ribName",
                                type: "text",
                                value: t,
                                onChange: u => n(u.target.value),
                                placeholder: "Ex: Mohammed Alami ou Socit Transport ABC",
                                required: !0,
                                "data-testid": "input-rib-name"
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-2",
                            children: [r.jsxs(Zt, {
                                htmlFor: "ribNumber",
                                children: ["Numro RIB ", r.jsx("span", {
                                    className: "text-destructive",
                                    children: "*"
                                })]
                            }), r.jsx(_e, {
                                id: "ribNumber",
                                type: "text",
                                value: s,
                                onChange: u => {
                                    const f = u.target.value.replace(/\D/g, "");
                                    a(f)
                                }
                                ,
                                placeholder: "24 chiffres exactement",
                                maxLength: 24,
                                required: !0,
                                "data-testid": "input-rib-number",
                                className: "font-mono"
                            }), r.jsxs("p", {
                                className: "text-xs text-muted-foreground",
                                children: [s.length, "/24 chiffres"]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Important"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Le RIB doit contenir exactement 24 chiffres"
                                }), r.jsx("li", {
                                    children: "Vrifiez bien les informations avant d'enregistrer"
                                }), r.jsx("li", {
                                    children: "Ces informations seront utilises pour vos paiements"
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "flex gap-3",
                            children: [r.jsx(El, {
                                href: "/transporter-dashboard",
                                className: "flex-1",
                                children: r.jsx(E, {
                                    type: "button",
                                    variant: "outline",
                                    className: "w-full",
                                    "data-testid": "button-cancel",
                                    children: "Annuler"
                                })
                            }), r.jsxs(E, {
                                type: "submit",
                                className: "flex-1 gap-2",
                                disabled: c.isPending || !t || !s,
                                "data-testid": "button-save-rib",
                                children: [r.jsx(jk, {
                                    className: "h-4 w-4"
                                }), c.isPending ? "Enregistrement..." : "Enregistrer"]
                            })]
                        })]
                    })
                })]
            })]
        })
    })
}
function Xq() {
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-3xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(El, {
                    href: "/client-dashboard",
                    children: r.jsx(E, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(zd, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-2xl font-bold",
                        children: "Comment a marche"
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground",
                        children: "Guide pour les clients"
                    })]
                })]
            }), r.jsxs("div", {
                className: "space-y-6",
                children: [r.jsxs(J, {
                    children: [r.jsxs(ye, {
                        className: "text-center pb-2",
                        children: [r.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: r.jsx("div", {
                                className: "w-20 h-20 bg-primary rounded-full flex items-center justify-center",
                                children: r.jsx(zt, {
                                    className: "h-10 w-10 text-primary-foreground"
                                })
                            })
                        }), r.jsx(we, {
                            className: "text-2xl",
                            children: "CamionBack"
                        }), r.jsx(Mn, {
                            className: "text-base",
                            children: "Votre plateforme de transport au Maroc"
                        })]
                    }), r.jsxs(te, {
                        className: "space-y-6 pt-6",
                        children: [r.jsxs("div", {
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold mb-3",
                                children: "Qu'est-ce que CamionBack ?"
                            }), r.jsx("p", {
                                className: "text-muted-foreground leading-relaxed",
                                children: "CamionBack est une plateforme marocaine qui met en relation les particuliers et entreprises avec des transporteurs disponibles pour des trajets inter-villes. Trouvez facilement un transporteur fiable pour vos marchandises en quelques clics."
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-4",
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold",
                                children: "Comment a fonctionne ?"
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx("span", {
                                            className: "font-bold text-primary",
                                            children: "1"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Publiez votre commande"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Dcrivez votre besoin : ville de dpart, destination, type de marchandise, date souhaite et budget approximatif."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(jr, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Recevez plusieurs offres"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Les transporteurs disponibles vous envoient leurs propositions avec leurs prix et dates de prise en charge."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(wk, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Comparez et choisissez"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Consultez les profils, notes et avis des transporteurs. Slectionnez celui qui correspond le mieux  vos besoins."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(pa, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Paiement scuris"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Le paiement n'est libr qu'aprs la confirmation de la livraison. Votre satisfaction et scurit sont garanties."
                                    })]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Avantages"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Comparaison de prix en temps rel"
                                }), r.jsx("li", {
                                    children: "Transporteurs vrifis et nots"
                                }), r.jsx("li", {
                                    children: "Communication directe via chat intgr"
                                }), r.jsx("li", {
                                    children: "Paiement scuris"
                                }), r.jsx("li", {
                                    children: "Support client disponible"
                                })]
                            })]
                        })]
                    })]
                }), r.jsx(El, {
                    href: "/client-dashboard",
                    children: r.jsx(E, {
                        className: "w-full",
                        size: "lg",
                        "data-testid": "button-back-dashboard",
                        children: "Retour au tableau de bord"
                    })
                })]
            })]
        })
    })
}
function Yq() {
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-3xl mx-auto",
            children: [r.jsxs("div", {
                className: "flex items-center gap-4 mb-6",
                children: [r.jsx(El, {
                    href: "/transporter-dashboard",
                    children: r.jsx(E, {
                        variant: "ghost",
                        size: "icon",
                        "data-testid": "button-back",
                        children: r.jsx(zd, {
                            className: "h-5 w-5"
                        })
                    })
                }), r.jsxs("div", {
                    children: [r.jsx("h1", {
                        className: "text-2xl font-bold",
                        children: "Comment a marche"
                    }), r.jsx("p", {
                        className: "text-sm text-muted-foreground",
                        children: "Guide pour les transporteurs"
                    })]
                })]
            }), r.jsxs("div", {
                className: "space-y-6",
                children: [r.jsxs(J, {
                    children: [r.jsxs(ye, {
                        className: "text-center pb-2",
                        children: [r.jsx("div", {
                            className: "flex justify-center mb-4",
                            children: r.jsx("div", {
                                className: "w-20 h-20 bg-primary rounded-full flex items-center justify-center",
                                children: r.jsx(At, {
                                    className: "h-10 w-10 text-primary-foreground"
                                })
                            })
                        }), r.jsx(we, {
                            className: "text-2xl",
                            children: "CamionBack"
                        }), r.jsx(Mn, {
                            className: "text-base",
                            children: "Rentabilisez vos trajets au Maroc"
                        })]
                    }), r.jsxs(te, {
                        className: "space-y-6 pt-6",
                        children: [r.jsxs("div", {
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold mb-3",
                                children: "Qu'est-ce que CamionBack ?"
                            }), r.jsx("p", {
                                className: "text-muted-foreground leading-relaxed",
                                children: "CamionBack aide les transporteurs  rentabiliser leurs trajets en trouvant des chargements au retour. Plus besoin de rouler  vide ! Augmentez votre chiffre d'affaires en optimisant chaque trajet."
                            })]
                        }), r.jsxs("div", {
                            className: "space-y-4",
                            children: [r.jsx("h2", {
                                className: "text-lg font-semibold",
                                children: "Comment a fonctionne ?"
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(Ji, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Recevez des demandes"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Consultez les demandes de transport dans les villes qui vous intressent. Filtrez par trajet et date selon vos disponibilits."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(si, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Envoyez vos propositions"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Proposez votre prix, date de prise en charge et type de chargement (retour ou groupage). Soyez comptitif pour augmenter vos chances."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx(Ln, {
                                            className: "h-5 w-5 text-primary"
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Communiquez facilement"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "Discutez directement avec les clients via le chat intgr. Prcisez les dtails et confirmez les arrangements."
                                    })]
                                })]
                            }), r.jsxs("div", {
                                className: "flex gap-4",
                                children: [r.jsx("div", {
                                    className: "flex-shrink-0",
                                    children: r.jsx("div", {
                                        className: "w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",
                                        children: r.jsx("span", {
                                            className: "font-bold text-primary",
                                            children: ""
                                        })
                                    })
                                }), r.jsxs("div", {
                                    children: [r.jsx("h3", {
                                        className: "font-medium mb-1",
                                        children: "Augmentez vos revenus"
                                    }), r.jsx("p", {
                                        className: "text-sm text-muted-foreground",
                                        children: "vitez les trajets  vide, optimisez votre planning et augmentez votre chiffre d'affaires mensuel."
                                    })]
                                })]
                            })]
                        }), r.jsxs("div", {
                            className: "bg-muted/50 p-4 rounded-lg",
                            children: [r.jsx("h3", {
                                className: "font-medium text-sm mb-2",
                                children: " Avantages"
                            }), r.jsxs("ul", {
                                className: "text-sm text-muted-foreground space-y-1 list-disc list-inside",
                                children: [r.jsx("li", {
                                    children: "Accs  de nombreuses demandes de transport"
                                }), r.jsx("li", {
                                    children: "Vous fixez vos propres prix"
                                }), r.jsx("li", {
                                    children: "Communication directe avec les clients"
                                }), r.jsx("li", {
                                    children: "Planification facilite de vos trajets"
                                }), r.jsx("li", {
                                    children: "Facturation simplifie"
                                }), r.jsx("li", {
                                    children: "Systme de notation pour construire votre rputation"
                                })]
                            })]
                        })]
                    })]
                }), r.jsx(El, {
                    href: "/transporter-dashboard",
                    children: r.jsx(E, {
                        className: "w-full",
                        size: "lg",
                        "data-testid": "button-back-dashboard",
                        children: "Retour au tableau de bord"
                    })
                })]
            })]
        })
    })
}
function Zq() {
    const {toast: e} = Ht()
      , [t,n] = m.useState(null)
      , [s,a] = m.useState("Checking...")
      , [i,o] = m.useState("default")
      , [l,c] = m.useState(null)
      , [d,u] = m.useState(null)
      , [f,h] = m.useState(!1);
    m.useEffect( () => {
        const C = localStorage.getItem("user");
        C && n(JSON.parse(C)),
        x(),
        j(),
        v(),
        w()
    }
    , []);
    const x = async () => {
        if ("serviceWorker"in navigator) {
            const C = await navigator.serviceWorker.getRegistration();
            C ? C.active ? a(" Actif") : C.installing ? a(" Installation en cours...") : a(" Non actif") : a(" Non enregistr")
        } else
            a(" Non support")
    }
      , j = () => {
        "Notification"in window && o(Notification.permission)
    }
      , v = async () => {
        if ("serviceWorker"in navigator)
            try {
                const T = await (await navigator.serviceWorker.ready).pushManager.getSubscription();
                c(T),
                T && console.log(" Push Subscription Details:", {
                    endpoint: T.endpoint,
                    expirationTime: T.expirationTime,
                    keys: {
                        p256dh: T.getKey("p256dh"),
                        auth: T.getKey("auth")
                    }
                })
            } catch (C) {
                console.error("Erreur lors de la vrification de la subscription:", C)
            }
    }
      , w = async () => {
        try {
            const T = await (await fetch("/api/pwa/vapid-public-key")).json();
            u(T.publicKey)
        } catch (C) {
            console.error("Erreur lors de la rcupration de la cl VAPID:", C)
        }
    }
      , y = async () => {
        if ("Notification"in window) {
            const C = await Notification.requestPermission();
            o(C),
            C === "granted" && (e({
                title: " Permission accorde",
                description: "Rechargez la page pour activer les notifications push"
            }),
            setTimeout( () => {
                v()
            }
            , 1e3))
        }
    }
      , p = async () => {
        if (!(t != null && t.id)) {
            e({
                title: " Erreur",
                description: "Vous devez tre connect pour tester",
                variant: "destructive"
            });
            return
        }
        if (!l) {
            e({
                title: " Pas de subscription",
                description: "Autorisez d'abord les notifications",
                variant: "destructive"
            });
            return
        }
        h(!0);
        try {
            console.log(" Envoi d'une notification de test...");
            const C = await Ae("POST", "/api/pwa/test-push", {
                userId: t.id
            });
            C.success ? e({
                title: " Notification envoye !",
                description: "Vrifiez votre appareil. Si rien n'apparat, consultez les logs du service worker."
            }) : e({
                title: " chec",
                description: C.message || "Erreur lors de l'envoi",
                variant: "destructive"
            })
        } catch (C) {
            console.error("Erreur lors du test:", C),
            e({
                title: " Erreur",
                description: C.message || "Erreur lors du test",
                variant: "destructive"
            })
        } finally {
            h(!1)
        }
    }
      , g = async () => {
        var C;
        if (console.log(" [Test Navigateur] Dbut du test de notification navigateur"),
        console.log(" [Test Navigateur] Permission actuelle:", Notification.permission),
        Notification.permission === "granted")
            try {
                console.log(" [Test Navigateur] Permission accorde, cration de la notification..."),
                console.log(" [Test Navigateur] Attente du Service Worker...");
                const T = await navigator.serviceWorker.ready;
                console.log(" [Test Navigateur] Service Worker prt:", (C = T.active) == null ? void 0 : C.state),
                console.log(" [Test Navigateur] Appel de registration.showNotification()...");
                const D = {
                    body: "Ceci est une notification de test via Service Worker (compatible Android)",
                    icon: "/icons/icon-192.png",
                    badge: "/icons/icon-192.png",
                    vibrate: [200, 100, 200],
                    tag: "test-notification",
                    requireInteraction: !1
                };
                await T.showNotification(" Test Navigateur", D),
                console.log("   [Test Navigateur] NOTIFICATION AFFICHE AVEC SUCCS !   "),
                console.log(" [Test Navigateur] Si vous ne voyez pas la notification, le problme vient des paramtres Android"),
                e({
                    title: " Notification navigateur envoye",
                    description: "Si vous ne la voyez pas, vrifiez les paramtres Android (Ne pas dranger, etc.)"
                })
            } catch (T) {
                console.error(" [Test Navigateur] Erreur lors de l'affichage de la notification:", T),
                e({
                    title: " Erreur",
                    description: "Impossible d'afficher la notification. Voir console.",
                    variant: "destructive"
                })
            }
        else
            console.log(" [Test Navigateur] Permission refuse:", Notification.permission),
            e({
                title: " Permission refuse",
                description: "Autorisez d'abord les notifications",
                variant: "destructive"
            })
    }
      , b = () => {
        if (l) {
            const C = JSON.stringify(l, null, 2);
            navigator.clipboard.writeText(C),
            e({
                title: " Copi",
                description: "Subscription copie dans le presse-papier"
            })
        }
    }
      , k = async () => {
        try {
            console.log(" Cration force d'une nouvelle subscription...");
            const {requestPushPermission: C} = await lT(async () => {
                const {requestPushPermission: D} = await Promise.resolve().then( () => hT);
                return {
                    requestPushPermission: D
                }
            }
            , void 0);
            await C() ? (e({
                title: " Subscription cre !",
                description: "Rechargez la page pour voir les dtails"
            }),
            setTimeout( () => {
                window.location.reload()
            }
            , 1500)) : e({
                title: " chec",
                description: "Impossible de crer la subscription. Vrifiez la console.",
                variant: "destructive"
            })
        } catch (C) {
            console.error(" Erreur cration subscription:", C),
            e({
                title: " Erreur",
                description: C.message,
                variant: "destructive"
            })
        }
    }
      , S = () => {
        if (!l || !(t != null && t.id))
            return;
        const C = `curl -X POST https://[votre-url].replit.dev/api/pwa/test-push \\
  -H "Content-Type: application/json" \\
  -d '{"userId": "${t.id}"}'`;
        navigator.clipboard.writeText(C),
        e({
            title: " Copi",
            description: "Commande curl copie. Remplacez [votre-url] par votre URL Replit."
        })
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4",
        children: r.jsxs("div", {
            className: "max-w-4xl mx-auto space-y-6",
            children: [r.jsxs("div", {
                children: [r.jsx("h1", {
                    className: "text-3xl font-bold mb-2",
                    "data-testid": "text-title",
                    children: " Diagnostic Push Notifications"
                }), r.jsx("p", {
                    className: "text-muted-foreground",
                    children: "Cette page vous aide  diagnostiquer les problmes de notifications push"
                })]
            }), t && r.jsxs(af, {
                children: [r.jsx(mn, {
                    className: "h-4 w-4"
                }), r.jsxs(of, {
                    children: ["Connect en tant que : ", r.jsx("strong", {
                        children: t.name || t.phoneNumber
                    }), " (", t.role, ")"]
                })]
            }), r.jsxs(J, {
                children: [r.jsxs(ye, {
                    children: [r.jsx(we, {
                        children: "tat du Systme"
                    }), r.jsx(Mn, {
                        children: "Vrification des composants requis"
                    })]
                }), r.jsxs(te, {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Service Worker"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: s
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Permission Notifications"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: i === "granted" ? " Accorde" : i === "denied" ? " Refuse" : " Non demande"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Push Subscription"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: l ? " Active" : " Aucune"
                        })]
                    }), r.jsxs("div", {
                        className: "flex items-center justify-between",
                        children: [r.jsx("span", {
                            children: "Cl VAPID publique"
                        }), r.jsx("span", {
                            className: "font-mono text-sm",
                            children: d ? " Rcupre" : " Manquante"
                        })]
                    })]
                })]
            }), l && r.jsxs(J, {
                children: [r.jsxs(ye, {
                    children: [r.jsx(we, {
                        children: "Dtails de la Subscription"
                    }), r.jsx(Mn, {
                        children: "Informations techniques de votre souscription push"
                    })]
                }), r.jsxs(te, {
                    className: "space-y-4",
                    children: [r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium mb-1",
                            children: "Endpoint:"
                        }), r.jsx("p", {
                            className: "text-xs font-mono bg-muted p-2 rounded break-all",
                            children: l.endpoint
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("p", {
                            className: "text-sm font-medium mb-1",
                            children: "Expiration:"
                        }), r.jsx("p", {
                            className: "text-xs font-mono bg-muted p-2 rounded",
                            children: l.expirationTime || "Jamais"
                        })]
                    }), r.jsx("div", {
                        className: "flex gap-2",
                        children: r.jsx(E, {
                            onClick: b,
                            variant: "outline",
                            size: "sm",
                            "data-testid": "button-copy-subscription",
                            children: "Copier la Subscription"
                        })
                    })]
                })]
            }), r.jsxs(J, {
                children: [r.jsxs(ye, {
                    children: [r.jsx(we, {
                        children: "Tests de Notifications"
                    }), r.jsx(Mn, {
                        children: "Testez diffrents types de notifications"
                    })]
                }), r.jsxs(te, {
                    className: "space-y-4",
                    children: [i !== "granted" && r.jsxs(af, {
                        children: [r.jsx(Df, {
                            className: "h-4 w-4"
                        }), r.jsx(of, {
                            children: "Vous devez d'abord autoriser les notifications pour tester"
                        })]
                    }), r.jsxs("div", {
                        className: "flex flex-col gap-2",
                        children: [i !== "granted" && r.jsx(E, {
                            onClick: y,
                            variant: "default",
                            "data-testid": "button-request-permission",
                            children: "Demander la Permission"
                        }), i === "granted" && !l && r.jsx(E, {
                            onClick: k,
                            variant: "default",
                            "data-testid": "button-force-subscription",
                            children: " Forcer Cration de la Subscription"
                        }), r.jsx(E, {
                            onClick: g,
                            variant: "outline",
                            disabled: i !== "granted",
                            "data-testid": "button-test-browser",
                            children: "Test Notification Navigateur Direct"
                        }), r.jsx(E, {
                            onClick: p,
                            disabled: !l || f || !t,
                            "data-testid": "button-test-push",
                            children: f ? "Envoi en cours..." : "Test Notification Push (Web Push API)"
                        }), t && r.jsx(E, {
                            onClick: S,
                            variant: "secondary",
                            size: "sm",
                            "data-testid": "button-copy-curl",
                            children: "Copier la commande curl"
                        })]
                    })]
                })]
            }), r.jsxs(J, {
                children: [r.jsx(ye, {
                    children: r.jsx(we, {
                        children: "Instructions de Diagnostic"
                    })
                }), r.jsxs(te, {
                    className: "space-y-4 text-sm",
                    children: [r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "1. Vrifier les logs du Service Worker"
                        }), r.jsxs("p", {
                            className: "text-muted-foreground",
                            children: ["Sur PC : Ouvrez Chrome DevTools (F12)  Console", r.jsx("br", {}), "Sur Android : Connectez votre tlphone et utilisez chrome://inspect"]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "2. Test Notification Navigateur"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: `Cliquez sur "Test Notification Navigateur Direct" pour vrifier que les notifications fonctionnent en gnral sur votre appareil. Si cette notification ne s'affiche pas, le problme vient des paramtres Android/iOS.`
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "3. Test Notification Push"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: 'Cliquez sur "Test Notification Push" pour envoyer une vraie notification via Web Push API. Vrifiez les logs serveur dans Replit et les logs du service worker dans DevTools.'
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "4. Logs  Surveiller"
                        }), r.jsxs("p", {
                            className: "text-muted-foreground font-mono text-xs bg-muted p-2 rounded",
                            children: [" [Service Worker] PUSH EVENT RECEIVED!  Le push est arriv", r.jsx("br", {}), " [Service Worker] NOTIFICATION DISPLAYED SUCCESSFULLY!  Notification affiche"]
                        })]
                    }), r.jsxs("div", {
                        children: [r.jsx("h4", {
                            className: "font-semibold mb-2",
                            children: "5. Test avec curl"
                        }), r.jsx("p", {
                            className: "text-muted-foreground",
                            children: "Copiez la commande curl et excutez-la depuis votre ordinateur pendant que vous surveillez votre tlphone."
                        })]
                    })]
                })]
            })]
        })
    })
}
function Jq() {
    const [e,t] = m.useState("")
      , [n,s] = m.useState(!1)
      , a = async () => {
        s(!0),
        t("Dsinscription de l'ancien Service Worker...");
        try {
            const i = await navigator.serviceWorker.getRegistrations();
            for (const l of i)
                await l.unregister(),
                t(" Service Worker dsinscrit");
            await new Promise(l => setTimeout(l, 1e3)),
            t("Suppression des caches...");
            const o = await caches.keys();
            await Promise.all(o.map(l => caches.delete(l))),
            t(` ${o.length} caches supprims`),
            await new Promise(l => setTimeout(l, 1e3)),
            t(" Termin ! Rechargement de la page dans 2 secondes..."),
            setTimeout( () => {
                window.location.href = "/"
            }
            , 2e3)
        } catch (i) {
            t(` Erreur: ${i.message}`),
            s(!1)
        }
    }
    ;
    return r.jsx("div", {
        className: "min-h-screen bg-background p-4 flex items-center justify-center",
        children: r.jsxs(J, {
            className: "w-full max-w-md",
            children: [r.jsx(ye, {
                children: r.jsxs(we, {
                    className: "flex items-center gap-2",
                    children: [r.jsx(Fc, {
                        className: "w-6 h-6"
                    }), "Forcer Mise  Jour Service Worker"]
                })
            }), r.jsxs(te, {
                className: "space-y-4",
                children: [r.jsx("div", {
                    className: "bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-md p-4",
                    children: r.jsxs("div", {
                        className: "flex gap-2",
                        children: [r.jsx(Df, {
                            className: "w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"
                        }), r.jsxs("div", {
                            className: "text-sm text-amber-800 dark:text-amber-200",
                            children: [r.jsx("p", {
                                className: "font-medium mb-1",
                                children: "Action Destructive"
                            }), r.jsx("p", {
                                children: "Cette action va supprimer tous les caches et forcer le rechargement du Service Worker. L'application va redmarrer."
                            })]
                        })]
                    })
                }), e && r.jsx("div", {
                    className: "bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-md p-4",
                    children: r.jsxs("div", {
                        className: "flex gap-2",
                        children: [r.jsx(mn, {
                            className: "w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"
                        }), r.jsx("div", {
                            className: "text-sm text-blue-800 dark:text-blue-200",
                            children: e
                        })]
                    })
                }), r.jsx(E, {
                    onClick: a,
                    disabled: n,
                    className: "w-full",
                    size: "lg",
                    "data-testid": "button-force-update",
                    children: n ? r.jsxs(r.Fragment, {
                        children: [r.jsx(Fc, {
                            className: "w-4 h-4 mr-2 animate-spin"
                        }), "Mise  jour en cours..."]
                    }) : r.jsxs(r.Fragment, {
                        children: [r.jsx(Fc, {
                            className: "w-4 h-4 mr-2"
                        }), "Forcer la Mise  Jour"]
                    })
                }), r.jsx("div", {
                    className: "text-xs text-muted-foreground text-center",
                    children: "Cette opration prend environ 5 secondes"
                })]
            })]
        })
    })
}
function eW() {
    return r.jsx("div", {
        className: "min-h-screen w-full flex items-center justify-center bg-gray-50",
        children: r.jsx(J, {
            className: "w-full max-w-md mx-4",
            children: r.jsxs(te, {
                className: "pt-6",
                children: [r.jsxs("div", {
                    className: "flex mb-4 gap-2",
                    children: [r.jsx(Df, {
                        className: "h-8 w-8 text-red-500"
                    }), r.jsx("h1", {
                        className: "text-2xl font-bold text-gray-900",
                        children: "404 Page Not Found"
                    })]
                }), r.jsx("p", {
                    className: "mt-4 text-sm text-gray-600",
                    children: "Did you forget to add the page to the router?"
                })]
            })
        })
    })
}
function tW() {
    return r.jsxs(aO, {
        children: [r.jsx(bn, {
            path: "/",
            component: iN
        }), r.jsx(bn, {
            path: "/login",
            component: iN
        }), r.jsx(bn, {
            path: "/select-role",
            component: Lq
        }), r.jsx(bn, {
            path: "/complete-profile",
            component: zq
        }), r.jsx(bn, {
            path: "/admin-dashboard",
            component: AI
        }), r.jsx(bn, {
            path: "/client-dashboard",
            component: kA
        }), r.jsx(bn, {
            path: "/transporter-dashboard",
            component: VA
        }), r.jsx(bn, {
            path: "/coordinator-dashboard",
            component: Bq
        }), r.jsx(bn, {
            path: "/coordinator/users",
            component: Wq
        }), r.jsx(bn, {
            path: "/notifications",
            component: Mq
        }), r.jsx(bn, {
            path: "/messages",
            component: Oq
        }), r.jsx(bn, {
            path: "/transporter/payments",
            component: Hq
        }), r.jsx(bn, {
            path: "/transporter/ratings",
            component: Kq
        }), r.jsx(bn, {
            path: "/transporter/profile",
            component: Qq
        }), r.jsx(bn, {
            path: "/transporter/rib",
            component: Gq
        }), r.jsx(bn, {
            path: "/how-it-works-client",
            component: Xq
        }), r.jsx(bn, {
            path: "/how-it-works-transporter",
            component: Yq
        }), r.jsx(bn, {
            path: "/push-diagnostic",
            component: Zq
        }), r.jsx(bn, {
            path: "/force-sw-update",
            component: Jq
        }), r.jsx(bn, {
            component: eW
        })]
    })
}
function nW() {
    return r.jsx(CO, {
        client: le,
        children: r.jsx(iT, {
            children: r.jsxs(c$, {
                children: [r.jsx(PF, {}), r.jsx(tW, {}), r.jsx(m$, {})]
            })
        })
    })
}
fT().catch(console.error);
f2(document.getElementById("root")).render(r.jsx(nW, {}));
